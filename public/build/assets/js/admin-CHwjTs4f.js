import{g as gi,a as Io}from"./ajax-DD5av5sJ.js";function Qd(){document.querySelectorAll("[data-form-control]").forEach(e=>{if(e?.formControlInited)return;const i=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";Ia(e),e.addEventListener(i,()=>{Ia(e)}),e.formControlInited=!0})}function Ia(t){const e=t.type,i=e==="file"?!!t.files[0]:!!t.value?.trim();!i&&e!=="file"&&(t.value=""),t.classList.toggle("filled",i)}function Jd(){document.querySelectorAll("[data-ssp-field]").forEach(e=>{if(e?.switchShowPasswordInited)return;const i=e.closest("[data-switch-show-password]"),n=i?.querySelector("[data-ssp-switcher]");!i||!n||(n.addEventListener("click",()=>{const s=e.getAttribute("type")==="password"?"text":"password";e.setAttribute("type",s),n.classList.toggle("active")}),e.switchShowPasswordInited=!0)})}function eh(){document.querySelectorAll("[data-pif-field]").forEach(e=>{if(e?.previewImageFileInit)return;const i=e.closest("[data-preview-image-file]"),n=i?.querySelector("[data-pif-picture]"),s=i?.querySelector("[data-pif-dropzone]"),o=i?.querySelector("[data-pif-image]");if(!(!i||!o||o?.tagName!=="IMG")){if(e.isFieldClearable){const r=n.offsetWidth,d=n.offsetHeight;o.src="/img/default"+(r<d?"-vertical":"")+".svg",e.isFieldClearable=!1}if(e.previewImageFileCurrentData={url:o.src,class:o.getAttribute("class"),hasImage:e.hasAttribute("data-pif-has-image")},s){let r=function(d){const l=["bg-white","border-opacity-25"],f=["bg-primary","bg-opacity-10","border-opacity-50"];if(d==="replace"){s.classList.remove(...l),s.classList.add(...f);return}s.classList.add(...l),s.classList.remove(...f)};s.addEventListener("dragover",d=>{d.preventDefault(),r("replace")}),s.addEventListener("dragleave",()=>{r()}),s.addEventListener("drop",d=>{d.preventDefault(),r();const l=d.dataTransfer.files;l.length>0&&(e.files=l,e.dispatchEvent(new Event("change",{bubbles:!0})))})}e.addEventListener("change",()=>{const r=e?.files[0],d=th(r),l=o.dataset.pifViewClasses,f=e.previewImageFileCurrentData;if(o.src=d||f.url,o.setAttribute("class",d&&l?l:f.class),f.hasImage)return;const u=["border-dashed","p-4"],g=["border-solid","p-3"];d?(n.classList.remove(...u),n.classList.add(...g)):(n.classList.add(...u),n.classList.remove(...g))}),e.previewImageFileInit=!0}})}function th(t){if(!t?.type?.includes("image/"))return!1;let e=URL.createObjectURL(t);const i=document.createElement("img");return i.src=e,i.onload=function(){URL.revokeObjectURL(this.src)},e}function ih(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-preset-value]"),n=e?.closest("[data-preset-wrapper]")?.querySelector("[data-form-control]"),s=e?.dataset.presetValue;!n||!s||(n.value=s,n.dispatchEvent(new Event("input",{bubbles:!0})))})}class nh{constructor(e){e||(e={}),this.main=e.main||"ss-main",this.placeholder=e.placeholder||"ss-placeholder",this.values=e.values||"ss-values",this.single=e.single||"ss-single",this.max=e.max||"ss-max",this.value=e.value||"ss-value",this.valueText=e.valueText||"ss-value-text",this.valueDelete=e.valueDelete||"ss-value-delete",this.valueOut=e.valueOut||"ss-value-out",this.deselect=e.deselect||"ss-deselect",this.deselectPath=e.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=e.arrow||"ss-arrow",this.arrowClose=e.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=e.arrowOpen||"M10,70 L50,30 L90,70",this.content=e.content||"ss-content",this.openAbove=e.openAbove||"ss-open-above",this.openBelow=e.openBelow||"ss-open-below",this.search=e.search||"ss-search",this.searchHighlighter=e.searchHighlighter||"ss-search-highlight",this.searching=e.searching||"ss-searching",this.addable=e.addable||"ss-addable",this.addablePath=e.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=e.list||"ss-list",this.optgroup=e.optgroup||"ss-optgroup",this.optgroupLabel=e.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=e.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=e.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=e.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=e.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=e.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=e.optgroupClosable||"ss-closable",this.option=e.option||"ss-option",this.optionDelete=e.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=e.highlighted||"ss-highlighted",this.open=e.open||"ss-open",this.close=e.close||"ss-close",this.selected=e.selected||"ss-selected",this.error=e.error||"ss-error",this.disabled=e.disabled||"ss-disabled",this.hide=e.hide||"ss-hide"}}function Ro(){return Math.random().toString(36).substring(2,10)}function sh(t,e){function i(s,o){return o&&s&&s.classList&&s.classList.contains(o)||o&&s&&s.dataset&&s.dataset.id&&s.dataset.id===e?s:null}function n(s,o){return!s||s===document?null:i(s,o)?s:n(s.parentNode,o)}return i(t,e)||n(t,e)}function us(t,e=50,i=!1){let n;return function(...s){const o=self,r=()=>{n=null,i||t.apply(o,s)},d=i&&!n;clearTimeout(n),n=setTimeout(r,e),d&&t.apply(o,s)}}function yl(t,e){return JSON.stringify(t)===JSON.stringify(e)}function lh(t){const e=t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,i=>"-"+i.toLowerCase());return t[0]===t[0].toUpperCase()?e.substring(1):e}class rt{constructor(e){if(this.id=!e.id||e.id===""?Ro():e.id,this.label=e.label||"",this.selectAll=e.selectAll===void 0?!1:e.selectAll,this.selectAllText=e.selectAllText||"Select All",this.closable=e.closable||"off",this.options=[],e.options)for(const i of e.options)this.options.push(new De(i))}}class De{constructor(e){this.id=!e.id||e.id===""?Ro():e.id,this.value=e.value===void 0?e.text:e.value,this.text=e.text||"",this.html=e.html||"",this.defaultSelected=e.defaultSelected!==void 0?e.defaultSelected:!1,this.selected=e.selected!==void 0?e.selected:!1,this.display=e.display!==void 0?e.display:!0,this.disabled=e.disabled!==void 0?e.disabled:!1,this.mandatory=e.mandatory!==void 0?e.mandatory:!1,this.placeholder=e.placeholder!==void 0?e.placeholder:!1,this.class=e.class||"",this.style=e.style||"",this.data=e.data||{}}}class oh{constructor(e,i){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=e,this.setData(i)}validateDataArray(e){if(!Array.isArray(e))return new Error("Data must be an array");for(let i of e)if(i instanceof rt||"label"in i){if(!("label"in i))return new Error("Optgroup must have a label");if("options"in i&&i.options)for(let n of i.options){const s=this.validateOption(n);if(s)return s}}else if(i instanceof De||"text"in i){const n=this.validateOption(i);if(n)return n}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(e){return"text"in e?null:new Error("Option must have a text")}partialToFullData(e){let i=[];return e.forEach(n=>{if(n instanceof rt||"label"in n){let s=[];"options"in n&&n.options&&n.options.forEach(o=>{s.push(new De(o))}),s.length>0&&i.push(new rt(n))}(n instanceof De||"text"in n)&&i.push(new De(n))}),i}setData(e){this.data=this.partialToFullData(e),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(e,i=!1){if(i){let n=[new De(e)];this.setData(n.concat(this.getData()))}else this.setData(this.getData().concat(new De(e)))}setSelectedBy(e,i){let n=null,s=!1;const o=[];for(let d of this.data){if(d instanceof rt)for(let l of d.options)n||(n=l),l.selected=s?!1:i.includes(l[e]),l.selected&&(o.push(l),this.selectType==="single"&&(s=!0));d instanceof De&&(n||(n=d),d.selected=s?!1:i.includes(d[e]),d.selected&&(o.push(d),this.selectType==="single"&&(s=!0)))}this.selectType==="single"&&n&&!s&&(n.selected=!0,o.push(n));const r=i.map(d=>{var l;return((l=o.find(f=>f[e]===d))===null||l===void 0?void 0:l.id)||""});this.selectedOrder=r}getSelected(){return this.getSelectedOptions().map(e=>e.id)}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}getSelectedOptions(){return this.filter(e=>e.selected,!1)}getOptgroupByID(e){for(let i of this.data)if(i instanceof rt&&i.id===e)return i;return null}getOptionByID(e){let i=this.filter(n=>n.id===e,!1);return i.length?i[0]:null}getSelectType(){return this.selectType}getFirstOption(){let e=null;for(let i of this.data)if(i instanceof rt?e=i.options[0]:i instanceof De&&(e=i),e)break;return e}search(e,i){return e=e.trim(),e===""?this.getData():this.filter(n=>i(n,e),!0)}filter(e,i){const n=[];return this.data.forEach(s=>{if(s instanceof rt){let o=[];if(s.options.forEach(r=>{(!e||e(r))&&(i?o.push(new De(r)):n.push(new De(r)))}),o.length>0){let r=new rt(s);r.options=o,n.push(r)}}s instanceof De&&(!e||e(s))&&n.push(new De(s))}),n}selectedOrderOptions(e){const i=[];return this.selectedOrder.forEach(n=>{const s=e.find(o=>o.id===n);s&&i.push(s)}),e.forEach(n=>{let s=!1;i.forEach(o=>{if(n.id===o.id){s=!0;return}}),s||i.push(n)}),i}}class ah{constructor(e,i,n,s){this.store=n,this.settings=e,this.classes=i,this.callbacks=s,this.lastSelectedOption=null,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const e=this.store.getSelectedOptions();if(e.length){const i=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+i+'"]');n&&this.ensureElementInView(this.content.list,n)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const e of this.settings.class)e.trim()!==""&&(this.main.main.classList.add(e.trim()),this.content.main.classList.add(e.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){var e;this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",(e=this.content.main.dataset.id)!==null&&e!==void 0?e:""),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var e;const i=document.createElement("div");i.dataset.id=this.settings.id,i.setAttribute("aria-label",this.settings.ariaLabel),i.tabIndex=0,i.onkeydown=u=>{switch(u.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),u.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const g=this.content.list.querySelector("."+this.classes.highlighted);return g&&g.click(),!1;case"Escape":return this.callbacks.close(),!1}return u.key.length===1&&this.callbacks.open(),!0},i.onclick=u=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const n=document.createElement("div");n.classList.add(this.classes.values),i.appendChild(n);const s=document.createElement("div");s.classList.add(this.classes.deselect);const o=(e=this.store)===null||e===void 0?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&o&&o.length<=0?s.classList.add(this.classes.hide):s.classList.remove(this.classes.hide),s.onclick=u=>{if(u.stopPropagation(),this.settings.disabled)return;let g=!0;const w=this.store.getSelectedOptions(),x=[];if(this.callbacks.beforeChange&&(g=this.callbacks.beforeChange(x,w)===!0),g){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const C=this.store.getFirstOption(),T=C?C.id:"";this.callbacks.setSelected(T,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.setAttribute("viewBox","0 0 100 100");const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",this.classes.deselectPath),r.appendChild(d),s.appendChild(r),i.appendChild(s);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");const f=document.createElementNS("http://www.w3.org/2000/svg","path");return f.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(f),i.appendChild(l),{main:i,values:n,deselect:{main:s,svg:r,path:d},arrow:{main:l,path:f}}}mainFocus(e){e!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const e=this.store.filter(s=>s.placeholder,!1);let i=this.settings.placeholderText;e.length&&(e[0].html!==""?i=e[0].html:e[0].text!==""&&(i=e[0].text));const n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=i,n}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const e=this.store.filter(n=>n.selected&&!n.placeholder,!1),i=e.length>0?e[0]:null;if(!i)this.main.values.innerHTML=this.placeholder().outerHTML;else{const n=document.createElement("div");n.classList.add(this.classes.single),i.html?n.innerHTML=i.html:n.innerText=i.text,this.main.values.innerHTML=n.outerHTML}!this.settings.allowDeselect||!e.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let e=this.main.values.childNodes,i=this.store.filter(s=>s.selected&&s.display,!1);if(i.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.placeholder);s&&s.remove()}if(i.length>this.settings.maxValuesShown){const s=document.createElement("div");s.classList.add(this.classes.max),s.textContent=this.settings.maxValuesMessage.replace("{number}",i.length.toString()),this.main.values.innerHTML=s.outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.max);s&&s.remove()}this.settings.keepOrder&&(i=this.store.selectedOrderOptions(i));let n=[];for(let s=0;s<e.length;s++){const o=e[s],r=o.getAttribute("data-id");r&&(i.filter(l=>l.id===r,!1).length||n.push(o))}for(const s of n)s.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(s)&&this.main.values.removeChild(s)},100);e=this.main.values.childNodes;for(let s=0;s<i.length;s++){let o=!0;for(let r=0;r<e.length;r++)i[s].id===String(e[r].dataset.id)&&(o=!1);o&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(i[s])):e.length===0?this.main.values.appendChild(this.multipleValue(i[s])):s===0?this.main.values.insertBefore(this.multipleValue(i[s]),e[s]):e[s-1].insertAdjacentElement("afterend",this.multipleValue(i[s])))}}multipleValue(e){const i=document.createElement("div");i.classList.add(this.classes.value),i.dataset.id=e.id;const n=document.createElement("div");if(n.classList.add(this.classes.valueText),n.textContent=e.text,i.appendChild(n),!e.mandatory){const s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.setAttribute("tabindex","0"),s.onclick=d=>{if(d.preventDefault(),d.stopPropagation(),this.settings.disabled)return;let l=!0;const f=this.store.getSelectedOptions(),u=f.filter(g=>g.selected&&g.id!==e.id,!0);if(!(this.settings.minSelected&&u.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(l=this.callbacks.beforeChange(u,f)===!0),l)){let g=[];for(const w of u){if(w instanceof rt)for(const x of w.options)g.push(x.id);w instanceof De&&g.push(w.id)}this.callbacks.setSelected(g,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(u),this.updateDeselectAll()}};const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.optionDelete),o.appendChild(r),s.appendChild(o),i.appendChild(s),s.onkeydown=d=>{d.key==="Enter"&&s.click()}}return i}contentDiv(){const e=document.createElement("div");e.dataset.id=this.settings.id;const i=this.searchDiv();e.appendChild(i.main);const n=this.listDiv();return e.appendChild(n),{main:e,search:i,list:n}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const e=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");e.classList.add(this.classes.search);const s={main:e,input:i};if(this.settings.showSearch||(e.classList.add(this.classes.hide),i.readOnly=!0),i.type="search",i.placeholder=this.settings.searchPlaceholder,i.tabIndex=-1,i.setAttribute("aria-label",this.settings.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.oninput=us(o=>{this.callbacks.search(o.target.value)},100),i.onkeydown=o=>{switch(o.key){case"ArrowUp":case"ArrowDown":return o.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const r=this.content.list.querySelector("."+this.classes.highlighted);return r?(r.click(),!1):!0;case"Enter":if(this.callbacks.addable)return n.click(),!1;{const d=this.content.list.querySelector("."+this.classes.highlighted);if(d)return d.click(),!1}return!0}return!0},e.appendChild(i),this.callbacks.addable){n.classList.add(this.classes.addable);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",this.classes.addablePath),o.appendChild(r),n.appendChild(o),n.onclick=d=>{if(d.preventDefault(),d.stopPropagation(),!this.callbacks.addable)return;const l=this.content.search.input.value.trim();if(l===""){this.content.search.input.focus();return}const f=g=>{let w=new De(g);if(this.callbacks.addOption(w),this.settings.isMultiple){let x=this.store.getSelected();x.push(w.id),this.callbacks.setSelected(x,!0)}else this.callbacks.setSelected([w.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},u=this.callbacks.addable(l);u===!1||u===void 0||u===null||(u instanceof Promise?u.then(g=>{typeof g=="string"?f({text:g,value:g}):u instanceof Error?this.renderError(u.message):f(g)}):typeof u=="string"?f({text:u,value:u}):u instanceof Error?this.renderError(u.message):f(u))},e.appendChild(n),s.addable={main:n,svg:o,path:r}}return s}searchFocus(){this.content.search.input.focus()}getOptions(e=!1,i=!1,n=!1){let s="."+this.classes.option;return e&&(s+=":not(."+this.classes.placeholder+")"),i&&(s+=":not(."+this.classes.disabled+")"),n&&(s+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(s))}highlight(e){const i=this.getOptions(!0,!0,!0);if(i.length===0)return;if(i.length===1&&!i[0].classList.contains(this.classes.highlighted)){i[0].classList.add(this.classes.highlighted);return}let n=!1;for(const s of i)s.classList.contains(this.classes.highlighted)&&(n=!0);if(!n){for(const s of i)if(s.classList.contains(this.classes.selected)){s.classList.add(this.classes.highlighted);break}}for(let s=0;s<i.length;s++)if(i[s].classList.contains(this.classes.highlighted)){const o=i[s];o.classList.remove(this.classes.highlighted);const r=o.parentElement;if(r&&r.classList.contains(this.classes.open)){const f=r.querySelector("."+this.classes.optgroupLabel);f&&f.click()}let d=i[e==="down"?s+1<i.length?s+1:0:s-1>=0?s-1:i.length-1];d.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,d);const l=d.parentElement;if(l&&l.classList.contains(this.classes.close)){const f=l.querySelector("."+this.classes.optgroupLabel);f&&f.click()}return}i[e==="down"?0:i.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,i[e==="down"?0:i.length-1])}listDiv(){const e=document.createElement("div");return e.classList.add(this.classes.list),e}renderError(e){this.content.list.innerHTML="";const i=document.createElement("div");i.classList.add(this.classes.error),i.textContent=e,this.content.list.appendChild(i)}renderSearching(){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}renderOptions(e){if(this.content.list.innerHTML="",e.length===0){const n=document.createElement("div");n.classList.add(this.classes.search),this.callbacks.addable?n.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):n.innerHTML=this.settings.searchText,this.content.list.appendChild(n);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(s=>s.placeholder,!1).length||this.store.addOption(new De({text:"",value:"",selected:!1,placeholder:!0}),!0));const i=document.createDocumentFragment();for(const n of e){if(n instanceof rt){const s=document.createElement("div");s.classList.add(this.classes.optgroup);const o=document.createElement("div");o.classList.add(this.classes.optgroupLabel),s.appendChild(o);const r=document.createElement("div");r.classList.add(this.classes.optgroupLabelText),r.textContent=n.label,o.appendChild(r);const d=document.createElement("div");if(d.classList.add(this.classes.optgroupActions),o.appendChild(d),this.settings.isMultiple&&n.selectAll){const l=document.createElement("div");l.classList.add(this.classes.optgroupSelectAll);let f=!0;for(const C of n.options)if(!C.selected){f=!1;break}f&&l.classList.add(this.classes.selected);const u=document.createElement("span");u.textContent=n.selectAllText,l.appendChild(u);const g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("viewBox","0 0 100 100"),l.appendChild(g);const w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",this.classes.optgroupSelectAllBox),g.appendChild(w);const x=document.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",this.classes.optgroupSelectAllCheck),g.appendChild(x),l.addEventListener("click",C=>{C.preventDefault(),C.stopPropagation();const T=this.store.getSelected();if(f){const a=T.filter(c=>{for(const h of n.options)if(c===h.id)return!1;return!0});this.callbacks.setSelected(a,!0);return}else{const a=T.concat(n.options.map(c=>c.id));for(const c of n.options)this.store.getOptionByID(c.id)||this.callbacks.addOption(c);this.callbacks.setSelected(a,!0);return}}),d.appendChild(l)}if(n.closable!=="off"){const l=document.createElement("div");l.classList.add(this.classes.optgroupClosable);const f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 100 100"),f.classList.add(this.classes.arrow),l.appendChild(f);const u=document.createElementNS("http://www.w3.org/2000/svg","path");f.appendChild(u),n.options.some(g=>g.selected)||this.content.search.input.value.trim()!==""?(l.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):n.closable==="open"?(s.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):n.closable==="close"&&(s.classList.add(this.classes.close),u.setAttribute("d",this.classes.arrowClose)),o.addEventListener("click",g=>{g.preventDefault(),g.stopPropagation(),s.classList.contains(this.classes.close)?(s.classList.remove(this.classes.close),s.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):(s.classList.remove(this.classes.open),s.classList.add(this.classes.close),u.setAttribute("d",this.classes.arrowClose))}),d.appendChild(l)}s.appendChild(o);for(const l of n.options)s.appendChild(this.option(l)),i.appendChild(s)}n instanceof De&&i.appendChild(this.option(n))}this.content.list.appendChild(i)}option(e){if(e.placeholder){const n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}const i=document.createElement("div");return i.dataset.id=e.id,i.classList.add(this.classes.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.style&&(i.style.cssText=e.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?i.innerHTML=this.highlightText(e.html!==""?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):e.html!==""?i.innerHTML=e.html:i.textContent=e.text,this.settings.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent),e.display||i.classList.add(this.classes.hide),e.disabled&&i.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&i.classList.add(this.classes.hide),e.selected?(i.classList.add(this.classes.selected),i.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",i.id)):(i.classList.remove(this.classes.selected),i.setAttribute("aria-selected","false")),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=this.store.getSelected(),o=n.currentTarget,r=String(o.dataset.id);if(e.disabled||e.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=s.length&&!e.selected||this.settings.isMultiple&&this.settings.minSelected>=s.length&&e.selected)return;let d=!1;const l=this.store.getSelectedOptions();let f=[];if(this.settings.isMultiple){if(e.selected)f=l.filter(u=>u.id!==r);else if(f=l.concat(e),!this.settings.closeOnSelect)if(n.shiftKey&&this.lastSelectedOption){const u=this.store.getDataOptions();let g=u.findIndex(x=>x.id===this.lastSelectedOption.id),w=u.findIndex(x=>x.id===e.id);if(g>=0&&w>=0){const x=Math.min(g,w),C=Math.max(g,w),T=u.slice(x,C+1);T.length>0&&T.length<this.settings.maxSelected&&(f=l.concat(T.filter(a=>!l.find(c=>c.id===a.id))))}}else e.selected||(this.lastSelectedOption=e)}this.settings.isMultiple||(e.selected?f=[]:f=[e]),this.callbacks.beforeChange||(d=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(f,l)===!1?d=!1:d=!0),d&&(this.store.getOptionByID(r)||this.callbacks.addOption(e),this.callbacks.setSelected(f.map(u=>u.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(f))}),i}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(e,i,n){let s=e;const o=new RegExp("(?![^<]*>)("+i.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(o))return e;const r=e.match(o).index,d=r+e.match(o)[0].toString().length,l=e.substring(r,d);return s=s.replace(o,`<mark class="${n}">${l}</mark>`),s}moveContentAbove(){const e=this.main.main.offsetHeight,i=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+i-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=n.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=n.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=e.top+e.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=e.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=e.width+"px")}ensureElementInView(e,i){const n=e.scrollTop+e.offsetTop,s=n+e.clientHeight,o=i.offsetTop,r=o+i.clientHeight;o<n?e.scrollTop-=n-o:r>s&&(e.scrollTop+=r-s)}putContent(){const e=this.main.main.offsetHeight,i=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(i.top+e)<=n&&i.top>n?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const e=this.store.getSelectedOptions(),i=e&&e.length>0,n=this.settings.isMultiple,s=this.settings.allowDeselect,o=this.main.deselect.main,r=this.classes.hide;s&&!(n&&!i)?o.classList.remove(r):o.classList.add(r)}}class rh{constructor(e){this.listen=!1,this.observer=null,this.select=e,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}valueChange(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(e){if(!this.listen)return;let i=!1,n=!1,s=!1;for(const o of e){if(o.target===this.select&&(o.attributeName==="disabled"&&(n=!0),o.attributeName==="class"&&(i=!0),o.type==="childList")){for(const r of o.addedNodes)if(r.nodeName==="OPTION"&&r.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}s=!0}(o.target.nodeName==="OPTGROUP"||o.target.nodeName==="OPTION")&&(s=!0)}i&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),n&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),s&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let e=[];const i=this.select.childNodes;for(const n of i)n.nodeName==="OPTGROUP"&&e.push(this.getDataFromOptgroup(n)),n.nodeName==="OPTION"&&e.push(this.getDataFromOption(n));return e}getDataFromOptgroup(e){let i={id:e.id,label:e.label,selectAll:e.dataset?e.dataset.selectall==="true":!1,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]};const n=e.childNodes;for(const s of n)s.nodeName==="OPTION"&&i.options.push(this.getDataFromOption(s));return i}getDataFromOption(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",defaultSelected:e.defaultSelected,selected:e.selected,display:e.style.display!=="none",disabled:e.disabled,mandatory:e.dataset?e.dataset.mandatory==="true":!1,placeholder:e.dataset.placeholder==="true",class:e.className,style:e.style.cssText,data:e.dataset}}getSelectedOptions(){let e=[];const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const s=n.childNodes;for(const o of s)if(o.nodeName==="OPTION"){const r=o;r.selected&&e.push(this.getDataFromOption(r))}}if(n.nodeName==="OPTION"){const s=n;s.selected&&e.push(this.getDataFromOption(s))}}return e}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}setSelected(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const o=n.childNodes;for(const r of o)if(r.nodeName==="OPTION"){const d=r;d.selected=e.includes(d.id)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.id)}}this.changeListen(!0)}setSelectedByValue(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const o=n.childNodes;for(const r of o)if(r.nodeName==="OPTION"){const d=r;d.selected=e.includes(d.value)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.value)}}this.changeListen(!0)}updateSelect(e,i,n){this.changeListen(!1),e&&(this.select.dataset.id=e),i&&(this.select.style.cssText=i),n&&(this.select.className="",n.forEach(s=>{s.trim()!==""&&this.select.classList.add(s.trim())})),this.changeListen(!0)}updateOptions(e){this.changeListen(!1),this.select.innerHTML="";for(const i of e)i instanceof rt&&this.select.appendChild(this.createOptgroup(i)),i instanceof De&&this.select.appendChild(this.createOption(i));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(e){const i=document.createElement("optgroup");if(i.id=e.id,i.label=e.label,e.selectAll&&(i.dataset.selectAll="true"),e.closable!=="off"&&(i.dataset.closable=e.closable),e.options)for(const n of e.options)i.appendChild(this.createOption(n));return i}createOption(e){const i=document.createElement("option");return i.id=e.id,i.value=e.value,i.textContent=e.text,e.html!==""&&i.setAttribute("data-html",e.html),i.defaultSelected=e.defaultSelected,i.selected=e.selected,e.disabled&&(i.disabled=!0),e.display||(i.style.display="none"),e.placeholder&&i.setAttribute("data-placeholder","true"),e.mandatory&&i.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.data&&typeof e.data=="object"&&Object.keys(e.data).forEach(n=>{i.setAttribute("data-"+lh(n),e.data[n])}),i}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class ch{constructor(e){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,e||(e={}),this.id="ss-"+Ro(),this.style=e.style||"",this.class=e.class||[],this.disabled=e.disabled!==void 0?e.disabled:!1,this.alwaysOpen=e.alwaysOpen!==void 0?e.alwaysOpen:!1,this.showSearch=e.showSearch!==void 0?e.showSearch:!0,this.focusSearch=e.focusSearch!==void 0?e.focusSearch:!0,this.ariaLabel=e.ariaLabel||"Combobox",this.searchPlaceholder=e.searchPlaceholder||"Search",this.searchText=e.searchText||"No Results",this.searchingText=e.searchingText||"Searching...",this.searchHighlight=e.searchHighlight!==void 0?e.searchHighlight:!1,this.closeOnSelect=e.closeOnSelect!==void 0?e.closeOnSelect:!0,this.contentLocation=e.contentLocation||document.body,this.contentPosition=e.contentPosition||"absolute",this.openPosition=e.openPosition||"auto",this.placeholderText=e.placeholderText!==void 0?e.placeholderText:"Select Value",this.allowDeselect=e.allowDeselect!==void 0?e.allowDeselect:!1,this.hideSelected=e.hideSelected!==void 0?e.hideSelected:!1,this.keepOrder=e.keepOrder!==void 0?e.keepOrder:!1,this.showOptionTooltips=e.showOptionTooltips!==void 0?e.showOptionTooltips:!1,this.minSelected=e.minSelected||0,this.maxSelected=e.maxSelected||1e3,this.timeoutDelay=e.timeoutDelay||200,this.maxValuesShown=e.maxValuesShown||20,this.maxValuesMessage=e.maxValuesMessage||"{number} selected",this.addableText=e.addableText||'Press "Enter" to add {value}'}}class uh{constructor(e){var i;if(this.events={search:void 0,searchFilter:(d,l)=>d.text.toLowerCase().indexOf(l.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=us(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=us(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=d=>{this.settings.isOpen&&d.target&&!sh(d.target,this.settings.id)&&this.close(d.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof e.select=="string"?document.querySelector(e.select):e.select,!this.selectEl){e.events&&e.events.error&&e.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){e.events&&e.events.error&&e.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new ch(e.settings),this.cssClasses=new nh(e.cssClasses);const n=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const d in e.events)e.events.hasOwnProperty(d)&&(n.indexOf(d)!==-1?this.events[d]=us(e.events[d],100):this.events[d]=e.events[d]);this.settings.disabled=!((i=e.settings)===null||i===void 0)&&i.disabled?e.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new rh(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=d=>{this.setSelected(d.map(l=>l.id))},this.select.onClassChange=d=>{this.settings.class=d,this.render.updateClassStyles()},this.select.onDisabledChange=d=>{d?this.disable():this.enable()},this.select.onOptionsChange=d=>{this.setData(d)},this.store=new oh(this.settings.isMultiple?"multiple":"single",e.data?e.data:this.select.getData()),e.data&&this.select.updateOptions(this.store.getData());const s={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new ah(this.settings,this.cssClasses,this.store,s),this.render.renderValues(),this.render.renderOptions(this.store.getData());const o=this.selectEl.getAttribute("aria-label"),r=this.selectEl.getAttribute("aria-labelledby");o?this.render.main.main.setAttribute("aria-label",o):r&&this.render.main.main.setAttribute("aria-labelledby",r),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(e){const i=this.store.getSelected(),n=this.store.validateDataArray(e);if(n){this.events.error&&this.events.error(n);return}this.store.setData(e);const s=this.store.getData();this.select.updateOptions(s),this.render.renderValues(),this.render.renderOptions(s),this.events.afterChange&&!yl(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let e=this.store.getSelectedOptions();return this.settings.keepOrder&&(e=this.store.selectedOrderOptions(e)),e.map(i=>i.value)}setSelected(e,i=!0){const n=this.store.getSelected(),s=this.store.getDataOptions();e=Array.isArray(e)?e:[e];const o=[];for(const d of e){if(s.find(l=>l.id==d)){o.push(d);continue}for(const l of s.filter(f=>f.value==d))o.push(l.id)}this.store.setSelectedBy("id",o);const r=this.store.getData();this.select.updateOptions(r),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(r),i&&this.events.afterChange&&!yl(n,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(e){const i=this.store.getSelected();this.store.getDataOptions().some(s=>{var o;return s.value===((o=e.value)!==null&&o!==void 0?o:e.text)})||this.store.addOption(e);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!yl(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(e=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),!this.events.search){this.render.renderOptions(e===""?this.store.getData():this.store.search(e,this.events.searchFilter));return}this.render.renderSearching();const i=this.events.search(e,this.store.getSelectedOptions());if(i instanceof Promise){i.then(n=>{this.render.renderOptions(this.store.partialToFullData(n))}).catch(n=>{this.render.renderError(typeof n=="string"?n:n.message)});return}else Array.isArray(i)?this.render.renderOptions(this.store.partialToFullData(i)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}function dh(){return window.matchMedia("(hover: none)").matches||window.matchMedia("(pointer: coarse)").matches}let Yn=!1,Ra,za;function zo(){document.querySelectorAll("[data-form-select]").forEach(e=>{if(e?.customSelectInit)return;if(e.isFieldClearable&&e.hasAttribute("data-id")){const s=e.parentElement,o=e.dataset.id,r=s.querySelector(`div[data-id="${o}"]`);e.removeAttribute("style"),r?.remove()}const i=new uh({select:e,settings:{placeholderText:"",showSearch:e.hasAttribute("data-show-search"),closeOnSelect:!e.hasAttribute("multiple")}});if(!i.render.settings.isMultiple||dh())return;const n=i.render.main.values;n.addEventListener("mousedown",s=>{Yn=!0,Ra=s.pageX-n.offsetLeft,za=n.scrollLeft}),n.addEventListener("mouseleave",()=>{Yn=!1}),n.addEventListener("mouseup",()=>{Yn=!1}),n.addEventListener("mousemove",s=>{if(!Yn)return;s.preventDefault();const r=(s.pageX-n.offsetLeft-Ra)*1;n.scrollLeft=za-r}),e.customSelectInit=!0})}const Ha={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var ds={exports:{}},hh=ds.exports,Fa;function fh(){return Fa||(Fa=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:hh,function(e,i){const n={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(ds)),ds.exports}var gh=fh();const ph=gi(gh),ie={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(t){const e={"&":"&amp;","":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return t.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},zeroWidthSpace:"",zeroWidthRegExp:new RegExp("","g"),onlyZeroWidthRegExp:new RegExp("^+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(t){return t==null?!1:(typeof t!="string"&&(t=t.textContent),t===""||this.onlyZeroWidthRegExp.test(t))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(t){return t?this._w.Object.keys(t).map(function(e){return t[e]}):[]},camelToKebabCase:function(t){return typeof t=="string"?t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):t.map(function(e){return ie.camelToKebabCase(e)})},kebabToCamelCase:function(t){return typeof t=="string"?t.replace(/-[a-zA-Z]/g,function(e){return e.replace("-","").toUpperCase()}):t.map(function(e){return ie.camelToKebabCase(e)})},createElement:function(t){return this._d.createElement(t)},createTextNode:function(t){return this._d.createTextNode(t||"")},HTMLEncoder:function(t){const e={"<":"$lt;",">":"$gt;"};return t.replace(/<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},HTMLDecoder:function(t){const e={"$lt;":"<","$gt;":">"};return t.replace(/\$lt;|\$gt;/g,function(i){return typeof e[i]=="string"?e[i]:i})},hasOwn:function(t,e){return this._hasOwn.call(t,e)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(t,e){let i="";const n=[],s=e==="js"?"script":"link",o=e==="js"?"src":"href";let r="(?:";for(let f=0,u=t.length;f<u;f++)r+=t[f]+(f<u-1?"|":")");const d=new this._w.RegExp("(^|.*[\\/])"+r+"(\\.[^\\/]+)?."+e+"(?:\\?.*|;.*)?$","i"),l=new this._w.RegExp(".+\\."+e+"(?:\\?.*|;.*)?$","i");for(let f=this._d.getElementsByTagName(s),u=0;u<f.length;u++)l.test(f[u][o])&&n.push(f[u]);for(let f=0;f<n.length;f++){let u=n[f][o].match(d);if(u){i=u[0];break}}if(i===""&&(i=n.length>0?n[0][o]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+e+")";return i},getPageStyle:function(t){let e="";const i=(t||this._d).styleSheets;for(let n=0,s=i.length,o;n<s;n++){try{o=i[n].cssRules}catch{continue}if(o)for(let r=0,d=o.length;r<d;r++)e+=o[r].cssText}return e},getIframeDocument:function(t){let e=t.contentWindow||t.contentDocument;return e.document&&(e=e.document),e},getAttributesToString:function(t,e){if(!t.attributes)return"";const i=t.attributes;let n="";for(let s=0,o=i.length;s<o;s++)e&&e.indexOf(i[s].name)>-1||(n+=i[s].name+'="'+i[s].value+'" ');return n},getByteLength:function(t){if(!t||!t.toString)return 0;t=t.toString();const e=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(e(t)).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(t).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(t){return t&&t.nodeType===1&&(this.hasClass(t,"se-wrapper-wysiwyg")||/^BODY$/i.test(t.nodeName))},isNonEditable:function(t){return t&&t.nodeType===1&&t.getAttribute("contenteditable")==="false"},isTextStyleElement:function(t){return t&&t.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(t.nodeName)},isInputElement:function(t){return t&&t.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(t.nodeName)},isFormatElement:function(t){return t&&t.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(TH|TD)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(t){return t&&t.nodeType===1&&(/^PRE$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isClosureFreeFormatElement:function(t){return t&&t.nodeType===1&&this.hasClass(t,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(t){return t&&(/se-component/.test(t.className)||/^(TABLE|HR)$/.test(t.nodeName))},isUneditableComponent:function(t){return t&&this.hasClass(t,"__se__uneditable")},isMediaComponent:function(t){return t&&/se-component/.test(t.className)},isNotCheckingNode:function(t){return t&&/katex|__se__tag/.test(t.className)},getFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&t.firstElementChild,this.isFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getRangeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&!/^(THEAD|TBODY|TR)$/i.test(t.nodeName)&&e(t))return t;t=t.parentNode}return null},getFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getClosureFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isClosureFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},copyTagAttributes:function(t,e,i){if(e.style.cssText){const s=e.style;for(let o=0,r=s.length;o<r;o++)t.style[s[o]]=s[s[o]]}const n=e.attributes;for(let s=0,o=n.length,r;s<o;s++)r=n[s].name.toLowerCase(),i&&i.indexOf(r)>-1||!n[s].value?t.removeAttribute(r):r!=="style"&&t.setAttribute(n[s].name,n[s].value)},copyFormatAttributes:function(t,e){e=e.cloneNode(!1),e.className=e.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(t,e)},getArrayItem:function(t,e,i){if(!t||t.length===0)return null;e=e||function(){return!0};const n=[];for(let s=0,o=t.length,r;s<o;s++)if(r=t[s],e(r))if(i)n.push(r);else return r;return i?n:null},arrayIncludes:function(t,e){for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},getArrayIndex:function(t,e){let i=-1;for(let n=0,s=t.length;n<s;n++)if(t[n]===e){i=n;break}return i},nextIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i+1},prevIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i-1},getPositionIndex:function(t){let e=0;for(;t=t.previousSibling;)e+=1;return e},getNodePath:function(t,e,i){const n=[];let s=!0;return this.getParentElement(t,(function(o){if(o===e&&(s=!1),s&&!this.isWysiwygDiv(o)){if(i&&o.nodeType===3){let r=null,d=null;i.s=i.e=0;let l=o.previousSibling;for(;l&&l.nodeType===3;)d=l.textContent.replace(this.zeroWidthRegExp,""),i.s+=d.length,o.textContent=d+o.textContent,r=l,l=l.previousSibling,this.removeItem(r);let f=o.nextSibling;for(;f&&f.nodeType===3;)d=f.textContent.replace(this.zeroWidthRegExp,""),i.e+=d.length,o.textContent+=d,r=f,f=f.nextSibling,this.removeItem(r)}n.push(o)}return!1}).bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(t,e){let i=e,n;for(let s=0,o=t.length;s<o&&(n=i.childNodes,n.length!==0);s++)n.length<=t[s]?i=n[n.length-1]:i=n[t[s]];return i},isSameAttributes:function(t,e){if(t.nodeType===3&&e.nodeType===3)return!0;if(t.nodeType===3||e.nodeType===3)return!1;const i=t.style,n=e.style;let s=0;for(let f=0,u=i.length;f<u;f++)i[i[f]]===n[i[f]]&&s++;const o=t.classList,r=e.classList,d=this._w.RegExp;let l=0;for(let f=0,u=o.length;f<u;f++)d("(s|^)"+o[f]+"(s|$)").test(r.value)&&l++;return s===n.length&&s===i.length&&l===r.length&&l===o.length},isEmptyLine:function(t){return!t||!t.parentNode||!t.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&t.children.length===0&&this.onlyZeroWidthSpace(t.textContent)},isSpanWithoutAttr:function(t){return!!t&&t.nodeType===1&&/^SPAN$/i.test(t.nodeName)&&!t.className&&!t.style.cssText},isList:function(t){return t&&/^(OL|UL)$/i.test(typeof t=="string"?t:t.nodeName)},isListCell:function(t){return t&&/^LI$/i.test(typeof t=="string"?t:t.nodeName)},isTable:function(t){return t&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof t=="string"?t:t.nodeName)},isCell:function(t){return t&&/^(TD|TH)$/i.test(typeof t=="string"?t:t.nodeName)},isBreak:function(t){return t&&/^BR$/i.test(typeof t=="string"?t:t.nodeName)},isAnchor:function(t){return t&&/^A$/i.test(typeof t=="string"?t:t.nodeName)},isMedia:function(t){return t&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof t=="string"?t:t.nodeName)},isFigures:function(t){return t&&(this.isMedia(t)||/^(FIGURE)$/i.test(typeof t=="string"?t:t.nodeName))},isNumber:function(t){return!!t&&/^-?\d+(\.\d+)?$/.test(t+"")},getNumber:function(t,e){if(!t)return 0;let i=(t+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],e<0?i*1:e===0?this._w.Math.round(i*1):(i*1).toFixed(e)*1)},getListChildren:function(t,e){const i=[];return!t||!t.children||t.children.length===0||(e=e||function(){return!0},(function n(s){if(t!==s&&e(s)&&i.push(s),s.children)for(let o=0,r=s.children.length;o<r;o++)n(s.children[o])})(t)),i},getListChildNodes:function(t,e){const i=[];return!t||t.childNodes.length===0||(e=e||function(){return!0},(function n(s){t!==s&&e(s)&&i.push(s);for(let o=0,r=s.childNodes.length;o<r;o++)n(s.childNodes[o])})(t)),i},getElementDepth:function(t){if(!t||this.isWysiwygDiv(t))return-1;let e=0;for(t=t.parentNode;t&&!this.isWysiwygDiv(t);)e+=1,t=t.parentNode;return e},compareElements:function(t,e){let i=t,n=e;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:t,b:e,result:0};const s=i.parentNode.childNodes,o=this.getArrayIndex(s,i),r=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:o>r?1:o<r?-1:0}},getParentElement:function(t,e){let i;if(typeof e=="function")i=e;else{let n;/^\./.test(e)?(n="className",e=e.split(".")[1]):/^#/.test(e)?(n="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(n="name",e="^"+e.split(":")[1]+"$"):(n="nodeName",e="^"+e+"$");const s=new this._w.RegExp(e,"i");i=function(o){return s.test(o[n])}}for(;t&&!i(t);){if(this.isWysiwygDiv(t))return null;t=t.parentNode}return t},getPreviousDeepestNode:function(t,e){let i=t.previousSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(t,e){let i=t.nextSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(t,e,i){let n;if(typeof e=="function")n=e;else{let o;/^\./.test(e)?(o="className",e=e.split(".")[1]):/^#/.test(e)?(o="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(o="name",e="^"+e.split(":")[1]+"$"):(o="nodeName",e="^"+(e==="text"?"#"+e:e)+"$");const r=new this._w.RegExp(e,"i");n=function(d){return r.test(d[o])}}const s=this.getListChildNodes(t,function(o){return n(o)});return s[i?s.length-1:0]},getEdgeChildNodes:function(t,e){if(t){for(e||(e=t);t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.firstChild;for(;e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.lastChild;return{sc:t,ec:e||t}}},getOffset:function(t,e){let i=0,n=0,s=t.nodeType===3?t.parentElement:t;const o=this.getParentElement(t,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==o;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;const r=e&&/iframe/i.test(e.nodeName);return{left:i+(r?e.parentElement.offsetLeft:0),top:n-(o?o.scrollTop:0)+(r?e.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(t,e,i,n){if(t<=n?e<i:e>i)return 0;const s=(t>i?t:i)-(e<n?e:n);return(s<0?s*-1:s)+1},changeTxt:function(t,e){!t||!e||(t.textContent=e)},changeElement:function(t,e){if(typeof e=="string")if(t.outerHTML)t.outerHTML=e;else{const i=this.createElement("DIV");i.innerHTML=e,e=i.firstChild,t.parentNode.replaceChild(e,t)}else e.nodeType===1&&t.parentNode.replaceChild(e,t)},setStyle:function(t,e,i){t.style[e]=i,!i&&!t.style.cssText&&t.removeAttribute("style")},hasClass:function(t,e){if(t)return new this._w.RegExp(e).test(t.className)},addClass:function(t,e){!t||new this._w.RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)||(t.className+=(t.className.length>0?" ":"")+e)},removeClass:function(t,e){if(!t)return;const i=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim(),t.className.trim()||t.removeAttribute("class")},toggleClass:function(t,e){if(!t)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");return n.test(t.className)?t.className=t.className.replace(n," ").trim():(t.className+=" "+e,i=!0),t.className.trim()||t.removeAttribute("class"),i},isImportantDisabled:function(t){return t.hasAttribute("data-important-disabled")},setDisabledButtons:function(t,e,i){for(let n=0,s=e.length;n<s;n++){let o=e[n];(i||!this.isImportantDisabled(o))&&(o.disabled=t),i&&(t?o.setAttribute("data-important-disabled",""):o.removeAttribute("data-important-disabled"))}},removeItem:function(t){t&&(typeof t.remove=="function"?t.remove():t.parentNode&&t.parentNode.removeChild(t))},removeItemAllParents:function(t,e,i){if(!t)return null;let n=null;return e||(e=(function(s){if(s===i||this.isComponent(s))return!1;const o=s.textContent.trim();return o.length===0||/^(\n|\u200B)+$/.test(o)}).bind(this)),(function s(o){if(!ie.isWysiwygDiv(o)){const r=o.parentNode;r&&e(o)&&(n={sc:o.previousElementSibling,ec:o.nextElementSibling},ie.removeItem(o),s(r))}})(t),n},detachNestedList:function(t,e){const i=this._deleteNestedList(t);let n,s;if(i){n=i.cloneNode(!1),s=i.childNodes;const r=this.getPositionIndex(t);for(;s[r];)n.appendChild(s[r])}else n=t;let o;if(e)o=this.getListChildren(n,(function(r){return this.isListCell(r)&&!r.previousElementSibling}).bind(this));else{const r=this.getElementDepth(t)+2;o=this.getListChildren(t,(function(d){return this.isListCell(d)&&!d.previousElementSibling&&this.getElementDepth(d)===r}).bind(this))}for(let r=0,d=o.length;r<d;r++)this._deleteNestedList(o[r]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&s.length===0&&this.removeItem(i)),n===t?n.parentNode:n},_deleteNestedList:function(t){const e=t.parentNode;let i=e,n=i.parentNode,s,o,r,d,l;for(;this.isListCell(n);){for(d=this.getPositionIndex(t),s=n.nextElementSibling,o=n.parentNode,r=i;r;){if(i=i.nextSibling,this.isList(r)){for(l=r.childNodes;l[d];)o.insertBefore(l[d],s);l.length===0&&this.removeItem(r)}else o.appendChild(r);r=i}i=o,n=o.parentNode}return e.children.length===0&&this.removeItem(e),o},splitElement:function(t,e,i){if(this.isWysiwygDiv(t))return t;if(e&&!this.isNumber(e)){const w=t.childNodes;let x=this.getPositionIndex(e);const C=t.cloneNode(!1),T=t.cloneNode(!1);for(let a=0,c=w.length;a<c;a++){if(a<x)C.appendChild(w[a]);else if(a>x)T.appendChild(w[a]);else continue;a--,c--,x--}return C.childNodes.length>0&&t.parentNode.insertBefore(C,t),T.childNodes.length>0&&t.parentNode.insertBefore(T,t.nextElementSibling),t}const n=t.parentNode;let s=0,o=1,r=!0,d,l,f;if((!i||i<0)&&(i=0),t.nodeType===3){if(s=this.getPositionIndex(t),e>=0&&t.length!==e){t.splitText(e);const w=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(w)&&(w.data=this.zeroWidthSpace)}}else if(t.nodeType===1){if(e===0){for(;t.firstChild;)t=t.firstChild;if(t.nodeType===3){const w=this.createTextNode(this.zeroWidthSpace);t.parentNode.insertBefore(w,t),t=w}}t.previousSibling?t=t.previousSibling:this.getElementDepth(t)===i&&(r=!1)}t.nodeType===1&&(o=0);let u=t;for(;this.getElementDepth(u)>i;)for(s=this.getPositionIndex(u)+o,u=u.parentNode,f=d,d=u.cloneNode(!1),l=u.childNodes,f&&(this.isListCell(d)&&this.isList(f)&&f.firstElementChild?(d.innerHTML=f.firstElementChild.innerHTML,ie.removeItem(f.firstElementChild),f.children.length>0&&d.appendChild(f)):d.appendChild(f));l[s];)d.appendChild(l[s]);u.childNodes.length<=1&&(!u.firstChild||u.firstChild.textContent.length===0)&&(u.innerHTML="<br>");const g=u.parentNode;return r&&(u=u.nextSibling),d?(this.mergeSameTags(d,null,!1),this.mergeNestedTags(d,(function(w){return this.isList(w)}).bind(this)),d.childNodes.length>0?g.insertBefore(d,u):d=u,this.isListCell(d)&&d.children&&this.isList(d.children[0])&&d.insertBefore(this.createElement("BR"),d.children[0]),n.childNodes.length===0&&this.removeItem(n),d):u},mergeSameTags:function(t,e,i){const n=this,s=e?e.length:0;let o=null;return s&&(o=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),(function r(d,l,f){const u=d.childNodes;for(let g=0,w=u.length,x,C;g<w&&(x=u[g],C=u[g+1],!!x);g++)if(!(n.isBreak(x)||n.isMedia(x)||n.isInputElement(x))){if(i&&n._isIgnoreNodeChange(x)||!i&&(n.isTable(x)||n.isListCell(x)||n.isFormatElement(x)&&!n.isFreeFormatElement(x))){(n.isTable(x)||n.isListCell(x))&&r(x,l+1,g);continue}if(w===1&&d.nodeName===x.nodeName&&d.parentNode){if(s){let T,a,c,h,b;for(let m=0;m<s;m++)if(T=e[m],T&&T[l]===g){for(a=x,c=d,h=l,b=!0;h>=0;){if(n.getArrayIndex(c.childNodes,a)!==T[h]){b=!1;break}a=x.parentNode,c=a.parentNode,h--}b&&(T.splice(l,1),T[l]=g)}}n.copyTagAttributes(x,d),d.parentNode.insertBefore(x,d),n.removeItem(d)}if(!C){x.nodeType===1&&r(x,l+1,g);break}if(x.nodeName===C.nodeName&&n.isSameAttributes(x,C)&&x.href===C.href){const T=x.childNodes;let a=0;for(let m=0,v=T.length;m<v;m++)T[m].textContent.length>0&&a++;const c=x.lastChild,h=C.firstChild;let b=0;if(c&&h){const m=c.nodeType===3&&h.nodeType===3;b=c.textContent.length;let v=c.previousSibling;for(;v&&v.nodeType===3;)b+=v.textContent.length,v=v.previousSibling;if(a>0&&c.nodeType===3&&h.nodeType===3&&(c.textContent.length>0||h.textContent.length>0)&&a--,s){let p=null;for(let _=0;_<s;_++)if(p=e[_],p&&p[l]>g){if(l>0&&p[l-1]!==f)continue;p[l]-=1,p[l+1]>=0&&p[l]===g&&(p[l+1]+=a,m&&c&&c.nodeType===3&&h&&h.nodeType===3&&(o[_]+=b))}}}if(x.nodeType===3){if(b=x.textContent.length,x.textContent+=C.textContent,s){let m=null;for(let v=0;v<s;v++)if(m=e[v],m&&m[l]>g){if(l>0&&m[l-1]!==f)continue;m[l]-=1,m[l+1]>=0&&m[l]===g&&(m[l+1]+=a,o[v]+=b)}}}else x.innerHTML+=C.innerHTML;n.removeItem(C),g--}else x.nodeType===1&&r(x,l+1,g)}})(t,0,0),o},mergeNestedTags:function(t,e){typeof e=="string"?e=(function(i){return this.test(i.tagName)}).bind(new this._w.RegExp("^("+(e||".+")+")$","i")):typeof e!="function"&&(e=function(){return!0}),(function i(n){let s=n.children;if(s.length===1&&s[0].nodeName===n.nodeName&&e(n)){const o=s[0];for(s=o.children;s[0];)n.appendChild(s[0]);n.removeChild(o)}for(let o=0,r=n.children.length;o<r;o++)i(n.children[o])})(t)},removeEmptyNode:function(t,e,i){const n=this;e&&(e=n.getParentElement(e,function(s){return t===s.parentElement})),(function s(o){if(n._notTextNode(o)||o===e||n.isNonEditable(o))return 0;if(o!==t&&n.onlyZeroWidthSpace(o.textContent)&&(!o.firstChild||!n.isBreak(o.firstChild))&&!o.querySelector(n._allowedEmptyNodeList)){if(o.parentNode)return o.parentNode.removeChild(o),-1}else{const r=o.children;for(let d=0,l=r.length,f=0;d<l;d++)!r[d+f]||n.isComponent(r[d+f])||(f+=s(r[d+f]))}return 0})(t),t.childNodes.length===0&&(i?this.removeItem(t):t.innerHTML="<br>")},htmlRemoveWhiteSpace:function(t){return t?t.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(e){return e.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(t){return t.replace(/\n/g,"").replace(/>\s+</g,"> <")},sortByDepth:function(t,e){const i=e?1:-1,n=i*-1;t.sort((function(s,o){return!this.isListCell(s)||!this.isListCell(o)?0:(s=this.getElementDepth(s),o=this.getElementDepth(o),s>o?i:s<o?n:0)}).bind(this))},escapeStringRegexp:function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(t){return!/FIGCAPTION/i.test(t.nodeName)&&(this.isComponent(t)||/FIGURE/i.test(t.nodeName))},_isIgnoreNodeChange:function(t){return t&&t.nodeType!==3&&(this.isNonEditable(t)||!this.isTextStyleElement(t))},_isMaintainedNode:function(t){return t&&t.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof t=="string"?t:t.nodeName)},_isSizeNode:function(t){return t&&t.nodeType!==3&&this.isTextStyleElement(t)&&!!t.style.fontSize},_notTextNode:function(t){return t&&t.nodeType!==3&&(this.isComponent(t)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof t=="string"?t:t.nodeName))},_disallowedTags:function(t){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(t.nodeName)},createTagsWhitelist:function(t){return new RegExp("<\\/?\\b(?!\\b"+(t||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(t){return new RegExp("<\\/?\\b(?:\\b"+(t||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(t,e,i,n,s){const o=[],r=[],d=[],l=[],f=this.getListChildNodes(t,(function(g){if(g.nodeType!==1)return this.isList(g.parentElement)&&o.push(g),!1;if(i.test(g.nodeName)||!e.test(g.nodeName)&&g.childNodes.length===0&&this.isNotCheckingNode(g))return o.push(g),!1;const w=!this.getParentElement(g,this.isNotCheckingNode);if(!this.isTable(g)&&!this.isListCell(g)&&!this.isAnchor(g)&&(this.isFormatElement(g)||this.isRangeFormatElement(g)||this.isTextStyleElement(g))&&g.childNodes.length===0&&w)return r.push(g),!1;if(this.isList(g.parentNode)&&!this.isList(g)&&!this.isListCell(g))return d.push(g),!1;if(this.isCell(g)){const C=g.firstElementChild;if(!this.isFormatElement(C)&&!this.isRangeFormatElement(C)&&!this.isComponent(C))return l.push(g),!1}if(w&&g.className){const C=new this._w.Array(g.classList).map(n).join(" ").trim();C?g.className=C:g.removeAttribute("class")}return s&&g.parentNode!==t&&w&&(this.isListCell(g)&&!this.isList(g.parentNode)||(this.isFormatElement(g)||this.isComponent(g))&&!this.isRangeFormatElement(g.parentNode)&&!this.getParentElement(g,this.isComponent))}).bind(this));for(let g=0,w=o.length;g<w;g++)this.removeItem(o[g]);const u=[];for(let g=0,w=f.length,x,C;g<w;g++)if(x=f[g],C=x.parentNode,!(!C||!C.parentNode))if(this.getParentElement(x,this.isListCell)){const T=x.childNodes;for(let a=T.length-1;w>=0;a--)C.insertBefore(x,T[a]);u.push(x)}else C.parentNode.insertBefore(x,C),u.push(C);for(let g=0,w=u.length,x;g<w;g++)x=u[g],this.onlyZeroWidthSpace(x.textContent.trim())&&this.removeItem(x);for(let g=0,w=r.length;g<w;g++)this.removeItem(r[g]);for(let g=0,w=d.length,x,C,T,a;g<w;g++)if(x=d[g],a=x.parentNode,!!a)if(C=this.createElement("LI"),this.isFormatElement(x)){for(T=x.childNodes;T[0];)C.appendChild(T[0]);a.insertBefore(C,x),this.removeItem(x)}else x=x.nextSibling,C.appendChild(d[g]),a.insertBefore(C,x);for(let g=0,w=l.length,x,C;g<w;g++)x=l[g],C=this.createElement("DIV"),C.innerHTML=x.textContent.trim().length===0&&x.children.length===0?"<br>":x.innerHTML,x.innerHTML=C.outerHTML},_setDefaultOptionStyle:function(t,e){let i="";t.height&&(i+="height:"+t.height+";"),t.minHeight&&(i+="min-height:"+t.minHeight+";"),t.maxHeight&&(i+="max-height:"+t.maxHeight+";"),t.position&&(i+="position:"+t.position+";"),t.width&&(i+="width:"+t.width+";"),t.minWidth&&(i+="min-width:"+t.minWidth+";"),t.maxWidth&&(i+="max-width:"+t.maxWidth+";");let n="",s="",o="";e=i+e;const r=e.split(";");for(let d=0,l=r.length,f;d<l;d++)if(f=r[d].trim(),!!f){if(/^(min-|max-)?width\s*:/.test(f)||/^(z-index|position)\s*:/.test(f)){n+=f+";";continue}if(/^(min-|max-)?height\s*:/.test(f)){/^height/.test(f)&&f.split(":")[1].trim()==="auto"&&(t.height="auto"),s+=f+";";continue}o+=f+";"}return{top:n,frame:s,editor:o}},_setIframeDocument:function(t,e){t.setAttribute("scrolling","auto"),t.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(e),t.contentDocument.body.className=e._editableClass,t.contentDocument.body.setAttribute("contenteditable",!0),t.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(t){const e=t.iframeCSSFileName,i=this._w.RegExp;let n="";for(let s=0,o=e.length,r;s<o;s++){if(r=[],/(^https?:\/\/)|(^data:text\/css,)/.test(e[s]))r.push(e[s]);else{const d=new i("(^|.*[\\/])"+e[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let l=document.getElementsByTagName("link"),f=0,u=l.length,g;f<u;f++)g=l[f].href.match(d),g&&r.push(g[0])}if(!r||r.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let d=0,l=r.length;d<l;d++)n+='<link href="'+r[d]+'" rel="stylesheet">'}return n+(t.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},lo={init:function(t,e){typeof e!="object"&&(e={});const i=document;this._initOptions(t,e);const n=i.createElement("DIV");n.className="sun-editor"+(e.rtl?" se-rtl":""),t.id&&(n.id="suneditor_"+t.id);const s=i.createElement("DIV");s.className="se-container";const o=this._createToolBar(i,e.buttonList,e.plugins,e),r=o.element.cloneNode(!1);r.className+=" se-toolbar-shadow",o.element.style.visibility="hidden",o.pluginCallButtons.math&&this._checkKatexMath(e.katex);const d=i.createElement("DIV");d.className="se-arrow";const l=i.createElement("DIV");l.className="se-toolbar-sticky-dummy";const f=i.createElement("DIV");f.className="se-wrapper";const u=this._initElements(e,n,o.element,d),g=u.bottomBar,w=u.wysiwygFrame,x=u.placeholder;let C=u.codeView;const T=g.resizingBar,a=g.navigation,c=g.charWrapper,h=g.charCounter,b=i.createElement("DIV");b.className="se-loading-box sun-editor-common",b.innerHTML='<div class="se-loading-effect"></div>';const m=i.createElement("DIV");m.className="se-line-breaker",m.innerHTML='<button class="se-btn">'+e.icons.line_break+"</button>";const v=i.createElement("DIV");v.className+="se-line-breaker-component";const p=v.cloneNode(!0);v.innerHTML=p.innerHTML=e.icons.line_break;const _=i.createElement("DIV");_.className="se-resizing-back";const E=i.createElement("INPUT");E.tabIndex=-1,E.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const y=e.toolbarContainer;y&&(y.appendChild(o.element),y.appendChild(r));const S=e.resizingBarContainer;return T&&S&&S.appendChild(T),f.appendChild(C),x&&f.appendChild(x),y||(s.appendChild(o.element),s.appendChild(r)),s.appendChild(l),s.appendChild(f),s.appendChild(_),s.appendChild(b),s.appendChild(m),s.appendChild(v),s.appendChild(p),s.appendChild(E),T&&!S&&s.appendChild(T),n.appendChild(s),C=this._checkCodeMirror(e,C),{constructed:{_top:n,_relative:s,_toolBar:o.element,_toolbarShadow:r,_menuTray:o._menuTray,_editorArea:f,_wysiwygArea:w,_codeArea:C,_placeholder:x,_resizingBar:T,_navigation:a,_charWrapper:c,_charCounter:h,_loading:b,_lineBreaker:m,_lineBreaker_t:v,_lineBreaker_b:p,_resizeBack:_,_stickyDummy:l,_arrow:d,_focusTemp:E},options:e,plugins:o.plugins,pluginCallButtons:o.pluginCallButtons,_responsiveButtons:o.responsiveButtons}},_checkCodeMirror:function(t,e){if(t.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},t.codeMirror.options||{}].reduce(function(s,o){for(let r in o)ie.hasOwn(o,r)&&(s[r]=o[r]);return s},{});t.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");const n=t.codeMirror.src.fromTextArea(e,i);n.display.wrapper.style.cssText=e.style.cssText,t.codeMirrorEditor=n,e=n.display.wrapper,e.className+=" se-wrapper-code-mirror"}return e},_checkKatexMath:function(t){if(!t)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const e=[{throwOnError:!1},t.options||{}].reduce(function(i,n){for(let s in n)ie.hasOwn(n,s)&&(i[s]=n[s]);return i},{});t.options=e},_setOptions:function(t,e,i){this._initOptions(e.element.originElement,t);const n=e.element,s=n.relative,o=n.editorArea,r=t.toolbarContainer&&t.toolbarContainer!==i.toolbarContainer,d=t.lang!==i.lang||t.buttonList!==i.buttonList||t.mode!==i.mode||r,l=this._createToolBar(document,d?t.buttonList:i.buttonList,t.plugins,t);l.pluginCallButtons.math&&this._checkKatexMath(t.katex);const f=document.createElement("DIV");f.className="se-arrow",d&&(l.element.style.visibility="hidden",r?(t.toolbarContainer.appendChild(l.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(l.element,n.toolbar),n.toolbar=l.element,n._menuTray=l._menuTray,n._arrow=f);const u=this._initElements(t,n.topArea,d?l.element:n.toolbar,f),g=u.bottomBar,w=u.wysiwygFrame,x=u.placeholder;let C=u.codeView;return n.resizingBar&&ie.removeItem(n.resizingBar),g.resizingBar&&(t.resizingBarContainer&&t.resizingBarContainer!==i.resizingBarContainer?t.resizingBarContainer.appendChild(g.resizingBar):s.appendChild(g.resizingBar)),o.innerHTML="",o.appendChild(C),x&&o.appendChild(x),C=this._checkCodeMirror(t,C),n.resizingBar=g.resizingBar,n.navigation=g.navigation,n.charWrapper=g.charWrapper,n.charCounter=g.charCounter,n.wysiwygFrame=w,n.code=C,n.placeholder=x,t.rtl?ie.addClass(n.topArea,"se-rtl"):ie.removeClass(n.topArea,"se-rtl"),{callButtons:l.pluginCallButtons,plugins:l.plugins,toolbar:l}},_initElements:function(t,e,i,n){e.style.cssText=t._editorStyles.top,/inline/i.test(t.mode)?(i.className+=" se-toolbar-inline",i.style.width=t.toolbarWidth):/balloon/i.test(t.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=t.toolbarWidth,i.appendChild(n));const s=document.createElement(t.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",t.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=t._editorStyles.frame,s.className+=t.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let g in t.iframeAttributes)s.setAttribute(g,t.iframeAttributes[g]);s.className+=" "+t._editableClass,s.style.cssText=t._editorStyles.frame+t._editorStyles.editor,s.className+=t.className}const o=document.createElement("TEXTAREA");o.className="se-wrapper-inner se-wrapper-code"+t.className,o.style.cssText=t._editorStyles.frame,o.style.display="none",t.height==="auto"&&(o.style.overflow="hidden");let r=null,d=null,l=null,f=null;if(t.resizingBar&&(r=document.createElement("DIV"),r.className="se-resizing-bar sun-editor-common",d=document.createElement("DIV"),d.className="se-navigation sun-editor-common",r.appendChild(d),t.charCounter)){if(l=document.createElement("DIV"),l.className="se-char-counter-wrapper",t.charCounterLabel){const g=document.createElement("SPAN");g.className="se-char-label",g.textContent=t.charCounterLabel,l.appendChild(g)}if(f=document.createElement("SPAN"),f.className="se-char-counter",f.textContent="0",l.appendChild(f),t.maxCharCount>0){const g=document.createElement("SPAN");g.textContent=" / "+t.maxCharCount,l.appendChild(g)}r.appendChild(l)}let u=null;return t.placeholder&&(u=document.createElement("SPAN"),u.className="se-placeholder",u.innerText=t.placeholder),{bottomBar:{resizingBar:r,navigation:d,charWrapper:l,charCounter:f},wysiwygFrame:s,codeView:o,placeholder:u}},_initOptions:function(t,e){const i={};if(e.plugins){const o=e.plugins,r=o.length?o:Object.keys(o).map(function(d){return o[d]});for(let d=0,l=r.length,f;d<l;d++)f=r[d].default||r[d],i[f.name]=f}e.plugins=i,e.strictMode=e.strictMode!==!1,e.strictHTMLValidation=e.strictHTMLValidation!==!1,e.lang=e.lang||ph,e.value=typeof e.value=="string"?e.value:null,e.allowedClassNames=new ie._w.RegExp((e.allowedClassNames&&typeof e.allowedClassNames=="string"?e.allowedClassNames+"|":"")+"^__se__|se-|katex"),e.historyStackDelayTime=typeof e.historyStackDelayTime=="number"?e.historyStackDelayTime:400,e.frameAttrbutes=e.frameAttrbutes||{},e.defaultTag=typeof e.defaultTag=="string"&&e.defaultTag.length>0?e.defaultTag:"p";const n=e.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},e.textTags||{}].reduce(function(o,r){for(let d in r)o[d]=r[d];return o},{});e._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},e._defaultCommand={bold:e.textTags.bold,underline:e.textTags.underline,italic:e.textTags.italic,strike:e.textTags.strike,subscript:e.textTags.sub,superscript:e.textTags.sup},e.__allowedScriptTag=e.__allowedScriptTag===!0;const s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";e.tagsBlacklist=e.tagsBlacklist||"",e._defaultTagsWhitelist=(typeof e._defaultTagsWhitelist=="string"?e._defaultTagsWhitelist:s)+(e.__allowedScriptTag?"|script":""),e._editorTagsWhitelist=e.addTagsWhitelist==="*"?"*":this._setWhitelist(e._defaultTagsWhitelist+(typeof e.addTagsWhitelist=="string"&&e.addTagsWhitelist.length>0?"|"+e.addTagsWhitelist:""),e.tagsBlacklist),e.pasteTagsBlacklist=e.tagsBlacklist+(e.tagsBlacklist&&e.pasteTagsBlacklist?"|"+e.pasteTagsBlacklist:e.pasteTagsBlacklist||""),e.pasteTagsWhitelist=e.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof e.pasteTagsWhitelist=="string"?e.pasteTagsWhitelist:e._editorTagsWhitelist,e.pasteTagsBlacklist),e.attributesWhitelist=!e.attributesWhitelist||typeof e.attributesWhitelist!="object"?null:e.attributesWhitelist,e.attributesBlacklist=!e.attributesBlacklist||typeof e.attributesBlacklist!="object"?null:e.attributesBlacklist,e.mode=e.mode||"classic",e.rtl=!!e.rtl,e.lineAttrReset=["id"].concat(e.lineAttrReset&&typeof e.lineAttrReset=="string"?e.lineAttrReset.toLowerCase().split("|"):[]),e._editableClass="sun-editor-editable"+(e.rtl?" se-rtl":""),e._printClass=typeof e._printClass=="string"?e._printClass:null,e.toolbarWidth=e.toolbarWidth?ie.isNumber(e.toolbarWidth)?e.toolbarWidth+"px":e.toolbarWidth:"auto",e.toolbarContainer=typeof e.toolbarContainer=="string"?document.querySelector(e.toolbarContainer):e.toolbarContainer,e.stickyToolbar=/balloon/i.test(e.mode)||e.toolbarContainer?-1:e.stickyToolbar===void 0?0:/^\d+/.test(e.stickyToolbar)?ie.getNumber(e.stickyToolbar,0):-1,e.hideToolbar=!!e.hideToolbar,e.fullScreenOffset=e.fullScreenOffset===void 0?0:/^\d+/.test(e.fullScreenOffset)?ie.getNumber(e.fullScreenOffset,0):0,e.fullPage=!!e.fullPage,e.iframe=e.fullPage||!!e.iframe,e.iframeAttributes=e.iframeAttributes||{},e.iframeCSSFileName=e.iframe?typeof e.iframeCSSFileName=="string"?[e.iframeCSSFileName]:e.iframeCSSFileName||["suneditor"]:null,e.previewTemplate=typeof e.previewTemplate=="string"?e.previewTemplate:null,e.printTemplate=typeof e.printTemplate=="string"?e.printTemplate:null,e.codeMirror=e.codeMirror?e.codeMirror.src?e.codeMirror:{src:e.codeMirror}:null,e.katex=e.katex?e.katex.src?e.katex:{src:e.katex}:null,e.mathFontSize=e.mathFontSize?e.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],e.position=typeof e.position=="string"?e.position:null,e.display=e.display||(t.style.display==="none"||!t.style.display?"block":t.style.display),e.popupDisplay=e.popupDisplay||"full",e.resizingBar=e.resizingBar===void 0?!/inline|balloon/i.test(e.mode):e.resizingBar,e.showPathLabel=e.resizingBar?typeof e.showPathLabel=="boolean"?e.showPathLabel:!0:!1,e.resizeEnable=e.resizeEnable===void 0?!0:!!e.resizeEnable,e.resizingBarContainer=typeof e.resizingBarContainer=="string"?document.querySelector(e.resizingBarContainer):e.resizingBarContainer,e.charCounter=e.maxCharCount>0?!0:typeof e.charCounter=="boolean"?e.charCounter:!1,e.charCounterType=typeof e.charCounterType=="string"?e.charCounterType:"char",e.charCounterLabel=typeof e.charCounterLabel=="string"?e.charCounterLabel.trim():null,e.maxCharCount=ie.isNumber(e.maxCharCount)&&e.maxCharCount>-1?e.maxCharCount*1:null,e.width=e.width?ie.isNumber(e.width)?e.width+"px":e.width:t.clientWidth?t.clientWidth+"px":"100%",e.minWidth=(ie.isNumber(e.minWidth)?e.minWidth+"px":e.minWidth)||"",e.maxWidth=(ie.isNumber(e.maxWidth)?e.maxWidth+"px":e.maxWidth)||"",e.height=e.height?ie.isNumber(e.height)?e.height+"px":e.height:t.clientHeight?t.clientHeight+"px":"auto",e.minHeight=(ie.isNumber(e.minHeight)?e.minHeight+"px":e.minHeight)||"",e.maxHeight=(ie.isNumber(e.maxHeight)?e.maxHeight+"px":e.maxHeight)||"",e.className=typeof e.className=="string"&&e.className.length>0?" "+e.className:"",e.defaultStyle=typeof e.defaultStyle=="string"?e.defaultStyle:"",e.font=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],e.fontSize=e.fontSize?e.fontSize:null,e.formats=e.formats?e.formats:null,e.colorList=e.colorList?e.colorList:null,e.lineHeights=e.lineHeights?e.lineHeights:null,e.paragraphStyles=e.paragraphStyles?e.paragraphStyles:null,e.textStyles=e.textStyles?e.textStyles:null,e.fontSizeUnit=typeof e.fontSizeUnit=="string"&&e.fontSizeUnit.trim().toLowerCase()||"px",e.alignItems=typeof e.alignItems=="object"?e.alignItems:e.rtl?["right","center","left","justify"]:["left","center","right","justify"],e.imageResizing=e.imageResizing===void 0?!0:e.imageResizing,e.imageHeightShow=e.imageHeightShow===void 0?!0:!!e.imageHeightShow,e.imageAlignShow=e.imageAlignShow===void 0?!0:!!e.imageAlignShow,e.imageWidth=e.imageWidth?ie.isNumber(e.imageWidth)?e.imageWidth+"px":e.imageWidth:"auto",e.imageHeight=e.imageHeight?ie.isNumber(e.imageHeight)?e.imageHeight+"px":e.imageHeight:"auto",e.imageSizeOnlyPercentage=!!e.imageSizeOnlyPercentage,e._imageSizeUnit=e.imageSizeOnlyPercentage?"%":"px",e.imageRotation=e.imageRotation!==void 0?e.imageRotation:!(e.imageSizeOnlyPercentage||!e.imageHeightShow),e.imageFileInput=e.imageFileInput===void 0?!0:e.imageFileInput,e.imageUrlInput=e.imageUrlInput===void 0||!e.imageFileInput?!0:e.imageUrlInput,e.imageUploadHeader=e.imageUploadHeader||null,e.imageUploadUrl=typeof e.imageUploadUrl=="string"?e.imageUploadUrl:null,e.imageUploadSizeLimit=/\d+/.test(e.imageUploadSizeLimit)?ie.getNumber(e.imageUploadSizeLimit,0):null,e.imageMultipleFile=!!e.imageMultipleFile,e.imageAccept=typeof e.imageAccept!="string"||e.imageAccept.trim()==="*"?"image/*":e.imageAccept.trim()||"image/*",e.imageGalleryData=e.imageGalleryData||null,e.imageGalleryUrl=typeof e.imageGalleryUrl=="string"?e.imageGalleryUrl:null,e.imageGalleryHeader=e.imageGalleryHeader||null,e.videoResizing=e.videoResizing===void 0?!0:e.videoResizing,e.videoHeightShow=e.videoHeightShow===void 0?!0:!!e.videoHeightShow,e.videoAlignShow=e.videoAlignShow===void 0?!0:!!e.videoAlignShow,e.videoRatioShow=e.videoRatioShow===void 0?!0:!!e.videoRatioShow,e.videoWidth=!e.videoWidth||!ie.getNumber(e.videoWidth,0)?"":ie.isNumber(e.videoWidth)?e.videoWidth+"px":e.videoWidth,e.videoHeight=!e.videoHeight||!ie.getNumber(e.videoHeight,0)?"":ie.isNumber(e.videoHeight)?e.videoHeight+"px":e.videoHeight,e.videoSizeOnlyPercentage=!!e.videoSizeOnlyPercentage,e._videoSizeUnit=e.videoSizeOnlyPercentage?"%":"px",e.videoRotation=e.videoRotation!==void 0?e.videoRotation:!(e.videoSizeOnlyPercentage||!e.videoHeightShow),e.videoRatio=ie.getNumber(e.videoRatio,4)||.5625,e.videoRatioList=e.videoRatioList?e.videoRatioList:null,e.youtubeQuery=(e.youtubeQuery||"").replace("?",""),e.vimeoQuery=(e.vimeoQuery||"").replace("?",""),e.videoFileInput=!!e.videoFileInput,e.videoUrlInput=e.videoUrlInput===void 0||!e.videoFileInput?!0:e.videoUrlInput,e.videoUploadHeader=e.videoUploadHeader||null,e.videoUploadUrl=typeof e.videoUploadUrl=="string"?e.videoUploadUrl:null,e.videoUploadSizeLimit=/\d+/.test(e.videoUploadSizeLimit)?ie.getNumber(e.videoUploadSizeLimit,0):null,e.videoMultipleFile=!!e.videoMultipleFile,e.videoTagAttrs=e.videoTagAttrs||null,e.videoIframeAttrs=e.videoIframeAttrs||null,e.videoAccept=typeof e.videoAccept!="string"||e.videoAccept.trim()==="*"?"video/*":e.videoAccept.trim()||"video/*",e.audioWidth=e.audioWidth?ie.isNumber(e.audioWidth)?e.audioWidth+"px":e.audioWidth:"",e.audioHeight=e.audioHeight?ie.isNumber(e.audioHeight)?e.audioHeight+"px":e.audioHeight:"",e.audioFileInput=!!e.audioFileInput,e.audioUrlInput=e.audioUrlInput===void 0||!e.audioFileInput?!0:e.audioUrlInput,e.audioUploadHeader=e.audioUploadHeader||null,e.audioUploadUrl=typeof e.audioUploadUrl=="string"?e.audioUploadUrl:null,e.audioUploadSizeLimit=/\d+/.test(e.audioUploadSizeLimit)?ie.getNumber(e.audioUploadSizeLimit,0):null,e.audioMultipleFile=!!e.audioMultipleFile,e.audioTagAttrs=e.audioTagAttrs||null,e.audioAccept=typeof e.audioAccept!="string"||e.audioAccept.trim()==="*"?"audio/*":e.audioAccept.trim()||"audio/*",e.tableCellControllerPosition=typeof e.tableCellControllerPosition=="string"?e.tableCellControllerPosition.toLowerCase():"cell",e.linkTargetNewWindow=!!e.linkTargetNewWindow,e.linkProtocol=typeof e.linkProtocol=="string"?e.linkProtocol:null,e.linkRel=Array.isArray(e.linkRel)?e.linkRel:[],e.linkRelDefault=e.linkRelDefault||{},e.tabDisable=!!e.tabDisable,e.shortcutsDisable=Array.isArray(e.shortcutsDisable)?e.shortcutsDisable:[],e.shortcutsHint=e.shortcutsHint===void 0?!0:!!e.shortcutsHint,e.callBackSave=e.callBackSave?e.callBackSave:null,e.templates=e.templates?e.templates:null,e.placeholder=typeof e.placeholder=="string"?e.placeholder:null,e.mediaAutoSelect=e.mediaAutoSelect===void 0?!0:!!e.mediaAutoSelect,e.buttonList=e.buttonList?e.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],e.rtl&&(e.buttonList=e.buttonList.reverse()),e.icons=!e.icons||typeof e.icons!="object"?Ha:[Ha,e.icons].reduce(function(o,r){for(let d in r)ie.hasOwn(r,d)&&(o[d]=r[d]);return o},{}),e.icons=e.rtl?[e.icons,e.icons.rtl].reduce(function(o,r){for(let d in r)ie.hasOwn(r,d)&&(o[d]=r[d]);return o},{}):e.icons,e.__listCommonStyle=e.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],e._editorStyles=ie._setDefaultOptionStyle(e,e.defaultStyle)},_setWhitelist:function(t,e){if(typeof e!="string")return t;e=e.split("|"),t=t.split("|");for(let i=0,n=e.length,s;i<n;i++)s=t.indexOf(e[i]),s>-1&&t.splice(s,1);return t.join("|")},_defaultButtons:function(t){const e=t.icons,i=t.lang,n=ie.isOSX_IOS?"":"CTRL",s=ie.isOSX_IOS?"":"+SHIFT",o=t.shortcutsHint?t.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],r=t.rtl?["[","]"]:["]","["],d=t.rtl?[e.outdent,e.indent]:[e.indent,e.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(o.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",e.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(o.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",e.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(o.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",e.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(o.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",e.strike],subscript:["",i.toolbar.subscript,"SUB","",e.subscript],superscript:["",i.toolbar.superscript,"SUP","",e.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",e.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+r[0]+"</span>")+"</span>","indent","",d[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+r[1]+"</span>")+"</span>","outdent","",d[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",e.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",e.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",e.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",e.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",e.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",e.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",e.print],dir:["",i.toolbar[t.rtl?"dir_ltr":"dir_rtl"],"dir","",e[t.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",e.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",e.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(o.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",e.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",e.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+e.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+e.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+e.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",e.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",e.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",t.rtl?e.align_right:e.align_left],list:["",i.toolbar.list,"list","submenu",e.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",e.horizontal_rule],table:["",i.toolbar.table,"table","submenu",e.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",e.line_height],template:["",i.toolbar.template,"template","submenu",e.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",e.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",e.text_style],link:["",i.toolbar.link,"link","dialog",e.link],image:["",i.toolbar.image,"image","dialog",e.image],video:["",i.toolbar.video,"video","dialog",e.video],audio:["",i.toolbar.audio,"audio","dialog",e.audio],math:["",i.toolbar.math,"math","dialog",e.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",e.image_gallery]}},_createModuleGroup:function(){const t=ie.createElement("DIV");t.className="se-btn-module se-btn-module-border";const e=ie.createElement("UL");return e.className="se-menu-list",t.appendChild(e),{div:t,ul:e}},_createButton:function(t,e,i,n,s,o,r){const d=ie.createElement("LI"),l=ie.createElement("BUTTON"),f=e||i;return l.setAttribute("type","button"),l.setAttribute("class","se-btn"+(t?" "+t:"")+" se-tooltip"),l.setAttribute("data-command",i),l.setAttribute("data-display",n),l.setAttribute("aria-label",f.replace(/<span .+<\/span>/,"")),l.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=r[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),l.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+f+"</span></span>",o&&l.setAttribute("disabled",!0),l.innerHTML=s,d.appendChild(l),{li:d,button:l}},_createToolBar:function(t,e,i,n){const s=t.createElement("DIV");s.className="se-toolbar-separator-vertical";const o=t.createElement("DIV");o.className="se-toolbar sun-editor-common";const r=t.createElement("DIV");r.className="se-btn-tray",o.appendChild(r),e=JSON.parse(JSON.stringify(e));const d=n.icons,l=this._defaultButtons(n),f={},u=[];let g=null,w=null,x=null,C=null,T="",a=!1;const c=ie.createElement("DIV");c.className="se-toolbar-more-layer";e:for(let m=0,v,p,_,E,y;m<e.length;m++)if(v=!1,y="",E=e[m],x=this._createModuleGroup(),typeof E=="object"){for(let S=0,N;S<E.length;S++){if(w=E[S],N=!1,/^\%\d+/.test(w)&&S===0){E[0]=w.replace(/[^\d]/g,""),u.push(E),e.splice(m--,1);continue e}if(typeof w=="object")typeof w.add=="function"?(T=w.name,g=l[T],i[T]=w):(T=w.name,g=[w.buttonClass,w.title,w.name,w.dataDisplay,w.innerHTML,w._disabled]);else{if(/^\-/.test(w)){y=w.substr(1),x.div.className+=" module-float-"+y;continue}if(/^\#/.test(w)){w.substr(1)==="fix"&&(x.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(w)){N=!0;const L=w.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);_="__se__"+L[1].trim();const k=L[2].trim(),M=L[3].trim();g=["se-btn-more",k,_,"MORE",M]}else g=l[w];if(T=w,!g){const L=i[T];if(!L)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+T+"]");g=[L.buttonClass,L.title,L.name,L.display,L.innerHTML,L._disabled]}}C=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],d),(v?p:x.ul).appendChild(C.li),i[T]&&(f[T]=C.button),N&&(v=!0,p=ie.createElement("DIV"),p.className="se-more-layer "+_,p.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(y?' style="float: '+y+';"':"")+"></ul></div>",c.appendChild(p),p=p.firstElementChild.firstElementChild)}if(a){const S=s.cloneNode(!1);r.appendChild(S)}r.appendChild(x.div),a=!0}else if(/^\/$/.test(E)){const S=t.createElement("DIV");S.className="se-btn-module-enter",r.appendChild(S),a=!1}switch(r.children.length){case 0:r.style.display="none";break;case 1:ie.removeClass(r.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const m=s.cloneNode(!1);m.style.float=r.lastElementChild.style.float,r.appendChild(m)}}u.length>0&&u.unshift(e),c.children.length>0&&r.appendChild(c);const h=t.createElement("DIV");h.className="se-menu-tray",o.appendChild(h);const b=t.createElement("DIV");return b.className="se-toolbar-cover",o.appendChild(b),n.hideToolbar&&(o.style.display="none"),{element:o,plugins:i,pluginCallButtons:f,responsiveButtons:u,_menuTray:h,_buttonTray:r}}},oo=function(t,e,i){return{element:{originElement:t,topArea:e._top,relative:e._relative,toolbar:e._toolBar,_toolbarShadow:e._toolbarShadow,_buttonTray:e._toolBar.querySelector(".se-btn-tray"),_menuTray:e._menuTray,resizingBar:e._resizingBar,navigation:e._navigation,charWrapper:e._charWrapper,charCounter:e._charCounter,editorArea:e._editorArea,wysiwygFrame:e._wysiwygArea,wysiwyg:e._wysiwygArea,code:e._codeArea,placeholder:e._placeholder,loading:e._loading,lineBreaker:e._lineBreaker,lineBreaker_t:e._lineBreaker_t,lineBreaker_b:e._lineBreaker_b,resizeBackground:e._resizeBack,_stickyDummy:e._stickyDummy,_arrow:e._arrow,_focusTemp:e._focusTemp},tool:{cover:e._toolBar.querySelector(".se-toolbar-cover"),bold:e._toolBar.querySelector('[data-command="bold"]'),underline:e._toolBar.querySelector('[data-command="underline"]'),italic:e._toolBar.querySelector('[data-command="italic"]'),strike:e._toolBar.querySelector('[data-command="strike"]'),sub:e._toolBar.querySelector('[data-command="SUB"]'),sup:e._toolBar.querySelector('[data-command="SUP"]'),undo:e._toolBar.querySelector('[data-command="undo"]'),redo:e._toolBar.querySelector('[data-command="redo"]'),save:e._toolBar.querySelector('[data-command="save"]'),outdent:e._toolBar.querySelector('[data-command="outdent"]'),indent:e._toolBar.querySelector('[data-command="indent"]'),fullScreen:e._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:e._toolBar.querySelector('[data-command="showBlocks"]'),codeView:e._toolBar.querySelector('[data-command="codeView"]'),dir:e._toolBar.querySelector('[data-command="dir"]'),dir_ltr:e._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:e._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}};function mh(t,e){const i=t._w,n=t.util,s=t.options.historyStackDelayTime;let o=t.context.element,r=t.context.tool.undo,d=t.context.tool.redo,l=null,f=0,u=[];function g(){const x=u[f];o.wysiwyg.innerHTML=x.contents,t.setRange(n.getNodeFromPath(x.s.path,o.wysiwyg),x.s.offset,n.getNodeFromPath(x.e.path,o.wysiwyg),x.e.offset),t.focus(),u.length<=1?(r&&r.setAttribute("disabled",!0),d&&d.setAttribute("disabled",!0)):f===0?(r&&r.setAttribute("disabled",!0),d&&d.removeAttribute("disabled")):f===u.length-1?(r&&r.removeAttribute("disabled"),d&&d.setAttribute("disabled",!0)):(r&&r.removeAttribute("disabled"),d&&d.removeAttribute("disabled")),t.controllersOff(),t._checkComponents(),t._setCharCount(),t._resourcesStateChange(),e()}function w(){t._checkComponents();const x=o.wysiwyg.innerHTML;if(!x||u[f]&&x===u[f].contents)return;f++;const C=t._variable._range;u.length>f&&(u=u.slice(0,f),d&&d.setAttribute("disabled",!0)),C?u[f]={contents:x,s:{path:n.getNodePath(C.startContainer,null,null),offset:C.startOffset},e:{path:n.getNodePath(C.endContainer,null,null),offset:C.endOffset}}:u[f]={contents:x,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},f===1&&r&&r.removeAttribute("disabled"),t._setCharCount(),e()}return{stack:u,push:function(x){i.setTimeout(t._resourcesStateChange.bind(t));const C=typeof x=="number"?x>0?x:0:x?s:0;if((!C||l)&&(i.clearTimeout(l),!C)){w();return}l=i.setTimeout(function(){i.clearTimeout(l),l=null,w()},C)},undo:function(){f>0&&(f--,g())},redo:function(){u.length-1>f&&(f++,g())},go:function(x){f=x<0?u.length-1:x,g()},getCurrentIndex:function(){return f},reset:function(x){r&&r.setAttribute("disabled",!0),d&&d.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0),u.splice(0),f=0,u[f]={contents:t.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},x||e()},_resetCachingButton:function(){o=t.context.element,r=t.context.tool.undo,d=t.context.tool.redo,f===0?(r&&r.setAttribute("disabled",!0),d&&f===u.length-1&&d.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0)):f===u.length-1&&d&&d.setAttribute("disabled",!0)},_destroy:function(){l&&i.clearTimeout(l),u=null}}}const Pa={name:"notice",add:function(t){const e=t.context;e.notice={};let i=t.util.createElement("DIV"),n=t.util.createElement("SPAN"),s=t.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",t.lang.dialogBox.close),s.innerHTML=t.icons.cancel,i.appendChild(n),i.appendChild(s),e.notice.modal=i,e.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(t)),e.element.editorArea.appendChild(i),i=null},onClick_cancel:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.notice.close.call(this)},open:function(t){this.context.notice.message.textContent=t,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function bh(t,e,i,n,s,o){const r=t.element.originElement.ownerDocument||document,d=r.defaultView||window,l=ie,f=s.icons,u={_d:r,_w:d,_parser:new d.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:l.camelToKebabCase(s.__listCommonStyle),__focusTemp:t.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:l,functions:null,options:null,wwComputedStyle:null,notice:Pa,icons:f,history:null,context:t,pluginCallButtons:e,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new d.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new d.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new d.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new d.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:l.getNumber(t.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:t.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const a=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let c=0,h,b;c<a.length;c++)h=a[c],b=h.getAttribute("data-command"),this.allCommandButtons[b]=h},_recoverButtonStates:function(){if(this.allCommandButtons){const a=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let c=0,h,b,m;c<a.length;c++)h=a[c],b=h.getAttribute("data-command"),m=this.allCommandButtons[b],m&&(h.parentElement.replaceChild(m,h),this.context.tool[b]&&(this.context.tool[b]=m))}},callPlugin:function(a,c,h){if(h=h||e[a],this.plugins[a])this.initPlugins[a]?typeof this._targetPlugins[a]=="object"&&h&&this.initMenuTarget(a,h,this._targetPlugins[a]):(this.plugins[a].add(this,h),this.initPlugins[a]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+a+'")');this.plugins[a].active&&!this.commandMap[a]&&h&&(this.commandMap[a]=h,this.activePlugins.push(a)),typeof c=="function"&&c()},addModule:function(a){for(let c=0,h=a.length,b;c<h;c++)b=a[c].name,this.plugins[b]||(this.plugins[b]=a[c]),this.initPlugins[b]||(this.initPlugins[b]=!0,typeof this.plugins[b].add=="function"&&this.plugins[b].add(this))},getGlobalScrollOffset:function(){let a=0,c=0,h=t.element.topArea;for(;h;)a+=h.scrollTop,c+=h.scrollLeft,h=h.parentElement;for(h=this._shadowRoot?this._shadowRoot.host:null;h;)a+=h.scrollTop,c+=h.scrollLeft,h=h.parentElement;return{top:a,left:c}},initMenuTarget:function(a,c,h){c?(t.element._menuTray.appendChild(h),this._targetPlugins[a]=!0,this._menuTray[c.getAttribute("data-command")]=h):this._targetPlugins[a]=h},submenuOn:function(a){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const c=this._submenuName=a.getAttribute("data-command"),h=this.submenu=this._menuTray[c];this.submenuActiveButton=a,this._setMenuPosition(a,h),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[c].on&&this.plugins[c].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,l.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const a=t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));a.style.display="none",l.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(a){this._bindedContainerOff&&this._bindedContainerOff();const c=this._containerName=a.getAttribute("data-command"),h=this.container=this._menuTray[c];this.containerActiveButton=a,this._setMenuPosition(a,h),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[c].on&&this.plugins[c].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,l.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(a,c){c.style.visibility="hidden",c.style.display="block",c.style.height="",l.addClass(a,"on");const h=this.context.element.toolbar,b=h.offsetWidth,m=g._getEditorOffsets(t.element.toolbar),v=c.offsetWidth,p=a.parentElement.offsetLeft+3;if(s.rtl){const M=a.offsetWidth,$=v>M?v-M:0,F=$>0?0:M-v;c.style.left=p-$+F+"px",m.left>g._getEditorOffsets(c).left&&(c.style.left="0px")}else{const M=b<=v?0:b-(p+v);M<0?c.style.left=p+M+"px":c.style.left=p+"px"}let _=0,E=a;for(;E&&E!==h;)_+=E.offsetTop,E=E.offsetParent;const y=_;this._isBalloon?_+=h.offsetTop+a.offsetHeight:_-=a.offsetHeight;const S=m.top,N=c.offsetHeight,L=this.getGlobalScrollOffset().top,k=d.innerHeight-(S-L+y+a.parentElement.offsetHeight);if(k<N){let M=-1*(N-y+3);const $=S-L+M,F=N+($<0?$:0);F>k?(c.style.height=F+"px",M=-1*(F-y+3)):(c.style.height=k+"px",M=y+a.parentElement.offsetHeight),c.style.top=M+"px"}else c.style.top=y+a.parentElement.offsetHeight+"px";c.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let a=0,c;a<arguments.length;a++)if(c=arguments[a],!!c){if(typeof c=="string"){this.currentControllerName=c;continue}if(typeof c=="function"){this.controllerArray.push(c);continue}if(!l.hasClass(c,"se-controller")){this.currentControllerTarget=c,this.currentFileComponentInfo=this.getFileComponent(c);continue}c.style&&(c.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(c)===-1&&(c.addEventListener("mousedown",function(h){h.preventDefault(),h.stopPropagation()}),this._shadowRootControllerEventTarget.push(c))),this.controllerArray.push(c)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof w.showController=="function"&&w.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(a){this._lineBreaker.style.display="none";const c=this.controllerArray.length;if(a&&a.target&&c>0){for(let h=0;h<c;h++)if(typeof this.controllerArray[h].contains=="function"&&this.controllerArray[h].contains(a.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&a&&a.type==="keydown"&&a.keyCode!==27)&&(t.element.lineBreaker_t.style.display=t.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,c>0){for(let h=0;h<c;h++)typeof this.controllerArray[h]=="function"?this.controllerArray[h]():this.controllerArray[h].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(a,c,h,b){s.rtl&&(b.left*=-1);const m=l.getOffset(c,t.element.wysiwygFrame);a.style.visibility="hidden",a.style.display="block";const v=h==="top"?-(a.offsetHeight+2):c.offsetHeight+12;a.style.top=m.top+v+b.top+"px";const p=m.left-t.element.wysiwygFrame.scrollLeft+b.left,_=a.offsetWidth,E=c.offsetWidth,y=l.hasClass(a.firstElementChild,"se-arrow")?a.firstElementChild:null;if(s.rtl){const S=_>E?_-E:0,N=S>0?0:E-_;a.style.left=p-S+N+"px",S>0&&y&&(y.style.left=(_-14<10+S?_-14:10+S)+"px");const L=t.element.wysiwygFrame.offsetLeft-a.offsetLeft;L>0&&(a.style.left="0px",y&&(y.style.left=L+"px"))}else{a.style.left=p+"px";const S=t.element.wysiwygFrame.offsetWidth-(a.offsetLeft+_);S<0?(a.style.left=a.offsetLeft+S+"px",y&&(y.style.left=20-S+"px")):y&&(y.style.left="20px")}a.style.visibility=""},execCommand:function(a,c,h){this._wd.execCommand(a,c,a==="formatBlock"?"<"+h+">":h),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const a=l.getParentElement(this.getSelectionNode(),"figcaption");a?a.focus():t.element.wysiwyg.focus()},focus:function(){if(t.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{const a=this.getRange();if(a.startContainer===a.endContainer&&l.isWysiwygDiv(a.startContainer)){const c=a.commonAncestorContainer.children[a.startOffset];if(!l.isFormatElement(c)&&!l.isComponent(c)){const h=l.createElement(s.defaultTag),b=l.createElement("BR");h.appendChild(b),t.element.wysiwyg.insertBefore(h,c),this.setRange(b,0,b,0);return}}this.setRange(a.startContainer,a.startOffset,a.endContainer,a.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(a){a||(a=t.element.wysiwyg.lastElementChild);const c=this.getFileComponent(a);c?this.selectComponent(c.target,c.pluginName):a?(a=l.getChildElement(a,function(h){return h.childNodes.length===0||h.nodeType===3},!0),a?this.setRange(a,a.textContent.length,a,a.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?t.element.wysiwygFrame.blur():t.element.wysiwyg.blur()},setRange:function(a,c,h,b){if(!a||!h)return;(l.isBreak(a)||a.nodeType===3)&&c>a.textContent.length&&(c=a.textContent.length),(l.isBreak(h)||h.nodeType===3)&&b>h.textContent.length&&(b=h.textContent.length),l.isFormatElement(a)&&(a=a.childNodes[c>0?a.childNodes.length-1:0]||a,c=c>0?a.nodeType===1&&!l.isBreak(a)?1:a.textContent?a.textContent.length:0:0),l.isFormatElement(h)&&(h=h.childNodes[b>0?h.childNodes.length-1:0]||h,b=b>0?h.nodeType===1&&!l.isBreak(h)?1:h.textContent?h.textContent.length:0:0);const m=this._wd.createRange();try{c>a.textContent.length&&(c=a.textContent.length),b>h.textContent.length&&(b=h.textContent.length),m.setStart(a,c),m.setEnd(h,b)}catch(p){console.warn("[SUNEDITOR.core.focus.error] "+p),this.nativeFocus();return}const v=this.getSelection();return v.removeAllRanges&&v.removeAllRanges(),v.addRange(m),this._rangeInfo(m,this.getSelection()),s.iframe&&this.__focus(),m},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const a=this._variable._range||this._createDefaultRange(),c=this.getSelection();if(a.collapsed===c.isCollapsed||!t.element.wysiwyg.contains(c.focusNode))return a;if(c.rangeCount>0)return this._variable._range=c.getRangeAt(0),this._variable._range;{const h=c.anchorNode,b=c.focusNode,m=c.anchorOffset,v=c.focusOffset,p=l.compareElements(h,b),_=p.ancestor&&(p.result===0?m<=v:p.result>1);return this.setRange(_?h:b,_?m:v,_?b:h,_?v:m)}},getRange_addLine:function(a,c){if(this._selectionVoid(a)){const h=t.element.wysiwyg,b=l.createElement(s.defaultTag);b.innerHTML="<br>",h.insertBefore(b,c&&c!==h?c.nextElementSibling:h.firstElementChild),this.setRange(b.firstElementChild,0,b.firstElementChild,1),a=this._variable._range}return a},getSelection:function(){const a=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!t.element.wysiwyg.contains(a.focusNode)&&(a.removeAllRanges(),a.addRange(this._createDefaultRange())),a},getSelectionNode:function(){if(t.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const a=l.getChildElement(t.element.wysiwyg.firstChild,function(c){return c.childNodes.length===0||c.nodeType===3},!1);if(!a)this._editorRange();else return this._variable._selectionNode=a,a}return this._variable._selectionNode},_editorRange:function(){const a=this._wd.activeElement;if(l.isInputElement(a))return this._variable._selectionNode=a,a;const c=this.getSelection();if(!c)return null;let h=null;c.rangeCount>0?h=c.getRangeAt(0):h=this._createDefaultRange(),this._rangeInfo(h,c)},_rangeInfo:function(a,c){let h=null;this._variable._range=a,a.collapsed?l.isWysiwygDiv(a.commonAncestorContainer)?h=a.commonAncestorContainer.children[a.startOffset]||a.commonAncestorContainer:h=a.commonAncestorContainer:h=c.extentNode||c.anchorNode,this._variable._selectionNode=h},_createDefaultRange:function(){const a=t.element.wysiwyg,c=this._wd.createRange();let h=a.firstElementChild,b=null;return h?(b=h.firstChild,b||(b=l.createElement("BR"),h.appendChild(b))):(h=l.createElement(s.defaultTag),b=l.createElement("BR"),h.appendChild(b),a.appendChild(h)),c.setStart(b,0),c.setEnd(b,0),c},_selectionVoid:function(a){const c=a.commonAncestorContainer;return l.isWysiwygDiv(a.startContainer)&&l.isWysiwygDiv(a.endContainer)||/FIGURE/i.test(c.nodeName)||this._fileManager.regExp.test(c.nodeName)||l.isMediaComponent(c)},_resetRangeToTextNode:function(){const a=this.getRange();if(this._selectionVoid(a))return!1;const c=a.collapsed;let h=a.startContainer,b=a.startOffset,m=a.endContainer,v=a.endOffset,p,_,E;if(l.isFormatElement(h))for(h.childNodes[b]?(h=h.childNodes[b]||h,b=0):(h=h.lastChild||h,b=h.textContent.length);h&&h.nodeType===1&&h.firstChild;)h=h.firstChild||h,b=0;if(l.isFormatElement(m)){for(m=m.childNodes[v]||m.lastChild||m;m&&m.nodeType===1&&m.lastChild;)m=m.lastChild;v=c?0:m.textContent.length}if(p=l.isWysiwygDiv(h)?t.element.wysiwyg.firstChild:h,_=b,l.isBreak(p)||p.nodeType===1&&p.childNodes.length>0){const y=l.isBreak(p);if(!y){for(;p&&!l.isBreak(p)&&p.nodeType===1;)p=p.childNodes[_]||p.nextElementSibling||p.nextSibling,_=0;let S=l.getFormatElement(p,null);S===l.getRangeFormatElement(S,null)&&(S=l.createElement(l.getParentElement(p,l.isCell)?"DIV":s.defaultTag),p.parentNode.insertBefore(S,p),S.appendChild(p))}if(l.isBreak(p)){const S=l.createTextNode(l.zeroWidthSpace);p.parentNode.insertBefore(S,p),p=S,y&&h===m&&(m=p,v=1)}}if(h=p,b=_,p=l.isWysiwygDiv(m)?t.element.wysiwyg.lastChild:m,_=v,l.isBreak(p)||p.nodeType===1&&p.childNodes.length>0){const y=l.isBreak(p);if(!y){for(;p&&!l.isBreak(p)&&p.nodeType===1&&(E=p.childNodes,E.length!==0);)p=E[_>0?_-1:_]||!/FIGURE/i.test(E[0].nodeName)?E[0]:p.previousElementSibling||p.previousSibling||h,_=_>0?p.textContent.length:_;let S=l.getFormatElement(p,null);S===l.getRangeFormatElement(S,null)&&(S=l.createElement(l.isCell(S)?"DIV":s.defaultTag),p.parentNode.insertBefore(S,p),S.appendChild(p))}if(l.isBreak(p)){const S=l.createTextNode(l.zeroWidthSpace);p.parentNode.insertBefore(S,p),p=S,_=1,y&&!p.previousSibling&&l.removeItem(m)}}return m=p,v=_,this.setRange(h,b,m,v),!0},getSelectedElements:function(a){if(!this._resetRangeToTextNode())return[];let c=this.getRange();if(l.isWysiwygDiv(c.startContainer)){const M=t.element.wysiwyg.children;if(M.length===0)return[];this.setRange(M[0],0,M[M.length-1],M[M.length-1].textContent.trim().length),c=this.getRange()}const h=c.startContainer,b=c.endContainer,m=c.commonAncestorContainer,v=l.getListChildren(m,function(M){return a?a(M):l.isFormatElement(M)});if(!l.isWysiwygDiv(m)&&!l.isRangeFormatElement(m)&&v.unshift(l.getFormatElement(m,null)),h===b||v.length===1)return v;let p=l.getFormatElement(h,null),_=l.getFormatElement(b,null),E=null,y=null;const S=function(M){return l.isTable(M)?/^TABLE$/i.test(M.nodeName):!0};let N=l.getRangeFormatElement(p,S),L=l.getRangeFormatElement(_,S);l.isTable(N)&&l.isListCell(N.parentNode)&&(N=N.parentNode),l.isTable(L)&&l.isListCell(L.parentNode)&&(L=L.parentNode);const k=N===L;for(let M=0,$=v.length,F;M<$;M++){if(F=v[M],p===F||!k&&F===N){E=M;continue}if(_===F||!k&&F===L){y=M;break}}return E===null&&(E=0),y===null&&(y=v.length-1),v.slice(E,y+1)},getSelectedElementsAndComponents:function(a){const c=this.getRange().commonAncestorContainer,h=l.getParentElement(c,l.isComponent),b=l.isTable(c)?this.getSelectedElements(null):this.getSelectedElements((function(m){const v=this.getParentElement(m,this.isComponent);return this.isFormatElement(m)&&(!v||v===h)||this.isComponent(m)&&!this.getFormatElement(m)}).bind(l));if(a){for(let m=0,v=b.length;m<v;m++)for(let p=m-1;p>=0;p--)if(b[p].contains(b[m])){b.splice(m,1),m--,v--;break}}return b},isEdgePoint:function(a,c,h){return a.nodeType===1&&!a.textContent.length?!0:h!=="end"&&c===0||(!h||h!=="start")&&!a.nodeValue&&c===1||(!h||h==="end")&&!!a.nodeValue&&c===a.nodeValue.length},_isEdgeFormat:function(a,c,h){if(!this.isEdgePoint(a,c,h))return!1;const b=[];for(h=h==="start"?"previousSibling":"nextSibling";a&&!l.isFormatElement(a)&&!l.isWysiwygDiv(a);)if(!a[h]||l.isBreak(a[h])&&!a[h][h])a.nodeType===1&&b.push(a.cloneNode(!1)),a=a.parentNode;else return null;return b},showLoading:function(){t.element.loading.style.display="block"},closeLoading:function(){t.element.loading.style.display="none"},appendFormatTag:function(a,c){if(!a||!a.parentNode)return null;const h=l.getFormatElement(this.getSelectionNode(),null);let b=null;if(!l.isFormatElement(a)&&l.isFreeFormatElement(h||a.parentNode))b=l.createElement("BR");else{const m=c?typeof c=="string"?c:c.nodeName:l.isFormatElement(h)&&!l.isRangeFormatElement(h)&&!l.isFreeFormatElement(h)?h.nodeName:s.defaultTag;b=l.createElement(m),b.innerHTML="<br>",(c&&typeof c!="string"||!c&&l.isFormatElement(h))&&l.copyTagAttributes(b,c||h,["id"])}return l.isCell(a)?a.insertBefore(b,a.nextElementSibling):a.parentNode.insertBefore(b,a.nextElementSibling),b},insertComponent:function(a,c,h,b){if(this.isReadOnly||h&&!this.checkCharCount(a,null))return null;const m=this.removeNode();this.getRange_addLine(this.getRange(),m.container);let v=null,p=this.getSelectionNode(),_=l.getFormatElement(p,null);if(l.isListCell(_))this.insertNode(a,p===_?null:(p||m.container).nextSibling,!1),a.nextSibling||a.parentNode.appendChild(l.createElement("BR"));else{if(this.getRange().collapsed&&(m.container.nodeType===3||l.isBreak(m.container))){const E=l.getParentElement(m.container,(function(y){return this.isRangeFormatElement(y)}).bind(l));v=l.splitElement(m.container,m.offset,E?l.getElementDepth(E)+1:0),v&&(_=v.previousSibling)}this.insertNode(a,l.isRangeFormatElement(_)?null:_,!1),_&&l.onlyZeroWidthSpace(_)&&l.removeItem(_)}if(!b){this.setRange(a,0,a,0);const E=this.getFileComponent(a);E?this.selectComponent(E.target,E.pluginName):v&&(v=l.getEdgeChildNodes(v,null).sc||v,this.setRange(v,0,v,0))}return c||this.history.push(1),v||a},getFileComponent:function(a){if(!this._fileManager.queryString||!a)return null;let c,h;return(/^FIGURE$/i.test(a.nodeName)||/se-component/.test(a.className))&&(c=a.querySelector(this._fileManager.queryString)),!c&&a.nodeName&&this._fileManager.regExp.test(a.nodeName)&&(c=a),c&&(h=this._fileManager.pluginMap[c.nodeName.toLowerCase()],h)?{target:c,component:l.getParentElement(c,l.isComponent),pluginName:h}:null},selectComponent:function(a,c){if(l.isUneditableComponent(l.getParentElement(a,l.isComponent))||l.isUneditableComponent(a))return!1;this.hasFocus||this.focus();const h=this.plugins[c];h&&d.setTimeout((function(){typeof h.select=="function"&&this.callPlugin(c,h.select.bind(this,a),null),this._setComponentLineBreaker(a)}).bind(this))},_setComponentLineBreaker:function(a){this._lineBreaker.style.display="none";const c=l.getParentElement(a,l.isComponent);if(!c)return;const h=t.element.lineBreaker_t.style,b=t.element.lineBreaker_b.style,m=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:a,v=l.isListCell(c.parentNode);let p,_,E;(v?!c.previousSibling||l.isComponent(c.previousElementSibling):!l.isFormatElement(c.previousElementSibling))?(this._variable._lineBreakComp=c,_=t.element.wysiwyg.scrollTop,p=l.getOffset(a,t.element.wysiwygFrame).top+_,E=m.offsetWidth/2/2,h.top=p-_-12+"px",h.left=l.getOffset(m).left+E+"px",h.display="block"):h.display="none",(v?!c.nextSibling||l.isComponent(c.nextElementSibling):!l.isFormatElement(c.nextElementSibling))?(p||(this._variable._lineBreakComp=c,_=t.element.wysiwyg.scrollTop,p=l.getOffset(a,t.element.wysiwygFrame).top+_,E=m.offsetWidth/2/2),b.top=p+m.offsetHeight-_-12+"px",b.left=l.getOffset(m).left+m.offsetWidth-E-24+"px",b.display="block"):b.display="none"},_checkDuplicateNode:function(a,c){(function h(b){u._dupleCheck(b,c);const m=b.childNodes;for(let v=0,p=m.length;v<p;v++)h(m[v])})(a)},_dupleCheck:function(a,c){if(!l.isTextStyleElement(a))return;const h=(a.style.cssText.match(/[^;]+;/g)||[]).map(function(v){return v.trim()}),b=a.nodeName;if(/^span$/i.test(b)&&h.length===0)return a;let m=!1;return(function v(p){if(!(l.isWysiwygDiv(p)||!l.isTextStyleElement(p))){if(p.nodeName===b){m=!0;const _=p.style.cssText.match(/[^;]+;/g)||[];for(let E=0,y=_.length,S;E<y;E++)(S=h.indexOf(_[E].trim()))>-1&&h.splice(S,1);for(let E=0,y=p.classList.length;E<y;E++)a.classList.remove(p.classList[E])}v(p.parentElement)}})(c),m&&((a.style.cssText=h.join(" "))||(a.setAttribute("style",""),a.removeAttribute("style")),a.attributes.length||a.setAttribute("data-se-duple","true")),a},insertNode:function(a,c,h){if(this.isReadOnly||h&&!this.checkCharCount(a,null))return null;let b=null,m=this.getRange(),v=l.isListCell(m.commonAncestorContainer)?m.commonAncestorContainer:l.getFormatElement(this.getSelectionNode(),null),p=l.isListCell(v)&&(l.isListCell(a)||l.isList(a)),_,E,y,S=null;const N=l.isFreeFormatElement(v),L=!N&&(l.isFormatElement(a)||l.isRangeFormatElement(a))||l.isComponent(a);if(p&&(y=c||l.isList(a)?v.lastChild:v.nextElementSibling,S=l.isList(a)?v:(y||v).parentNode),!c&&(L||l.isComponent(a)||l.isMedia(a))){const P=this.isEdgePoint(m.endContainer,m.endOffset,"end"),I=this.removeNode(),R=I.container,D=R===I.prevContainer&&m.collapsed?null:I.prevContainer;if(p&&D)if(S=D.nodeType===3?D.parentNode:D,S.contains(R)){let B=!0;for(y=R;y.parentNode&&y.parentNode!==S;)y=y.parentNode,B=!1;B&&R===D&&(y=y.nextSibling)}else y=null;else if(p&&l.isListCell(R)&&!v.parentElement)v=l.createElement("LI"),S.appendChild(v),R.appendChild(S),y=null;else if(R.nodeType===3||l.isBreak(R)||p){const B=l.getParentElement(R,(function(A){return this.isRangeFormatElement(A)||this.isListCell(A)}).bind(l));if(c=l.splitElement(R,I.offset,B?l.getElementDepth(B)+1:0),!c)l.isListCell(v)||(y=c=v);else if(p){if(v.contains(R)){const A=l.isList(v.lastElementChild);let O=null;P||(O=v.cloneNode(!1),O.appendChild(c.textContent.trim()?c:l.createTextNode(l.zeroWidthSpace))),A&&(O||(O=v.cloneNode(!1),O.appendChild(l.createTextNode(l.zeroWidthSpace))),O.appendChild(v.lastElementChild)),O&&(v.parentNode.insertBefore(O,v.nextElementSibling),y=c=O)}}else c=c.previousSibling}}m=!c&&!L?this.getRange_addLine(this.getRange(),null):this.getRange();const k=m.commonAncestorContainer,M=m.startOffset,$=m.endOffset,F=m.startContainer===k&&l.isFormatElement(k),H=F&&(k.childNodes[M]||k.childNodes[0])||m.startContainer,z=F&&(k.childNodes[$]||k.childNodes[k.childNodes.length-1])||m.endContainer;if(!p)if(c)_=c.parentNode,c=c.nextSibling,E=!0;else if(_=H,H.nodeType===3&&(_=H.parentNode),m.collapsed)if(k.nodeType===3)k.textContent.length>$?c=k.splitText($):c=k.nextSibling;else if(l.isBreak(_))c=_,_=_.parentNode;else{let P=_.childNodes[M];const I=P&&P.nodeType===3&&l.onlyZeroWidthSpace(P)&&l.isBreak(P.nextSibling)?P.nextSibling:P;I?!I.nextSibling&&l.isBreak(I)?(_.removeChild(I),c=null):c=l.isBreak(I)&&!l.isBreak(a)?I:I.nextSibling:c=null}else if(H===z){this.isEdgePoint(z,$)?c=z.nextSibling:c=z.splitText($);let I=H;this.isEdgePoint(H,M)||(I=H.splitText(M)),_.removeChild(I),_.childNodes.length===0&&L&&(_.innerHTML="<br>")}else{const I=this.removeNode(),R=I.container,D=I.prevContainer;if(R&&R.childNodes.length===0&&L&&(l.isFormatElement(R)?R.innerHTML="<br>":l.isRangeFormatElement(R)&&(R.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),l.isListCell(R)&&a.nodeType===3)_=R,c=null;else if(!L&&D)if(_=D.nodeType===3?D.parentNode:D,_.contains(R)){let B=!0;for(c=R;c.parentNode&&c.parentNode!==_;)c=c.parentNode,B=!1;B&&R===D&&(c=c.nextSibling)}else c=null;else l.isWysiwygDiv(R)&&!l.isFormatElement(a)?(_=R.appendChild(l.createElement(s.defaultTag)),c=null):(c=L?z:R===D?R.nextSibling:R,_=!c||!c.parentNode?k:c.parentNode);for(;c&&!l.isFormatElement(c)&&c.parentNode!==k;)c=c.parentNode}try{if(!p){if((l.isWysiwygDiv(c)||_===t.element.wysiwyg.parentNode)&&(_=t.element.wysiwyg,c=null),l.isFormatElement(a)||l.isRangeFormatElement(a)||!l.isListCell(_)&&l.isComponent(a)){const P=_;if(l.isList(c))_=c,c=null;else if(l.isListCell(c))_=c.previousElementSibling||c;else if(!E&&!c){const I=this.removeNode(),R=I.container.nodeType===3?l.isListCell(l.getFormatElement(I.container,null))?I.container:l.getFormatElement(I.container,null)||I.container.parentNode:I.container,D=l.isWysiwygDiv(R)||l.isRangeFormatElement(R);_=D?R:R.parentNode,c=D?null:R.nextSibling}P.childNodes.length===0&&_!==P&&l.removeItem(P)}if(L&&!N&&!l.isRangeFormatElement(_)&&!l.isListCell(_)&&!l.isWysiwygDiv(_)&&(c=_.nextElementSibling,_=_.parentNode),l.isWysiwygDiv(_)&&(a.nodeType===3||l.isBreak(a))){const P=l.createElement(s.defaultTag);P.appendChild(a),b=a,a=P}}if(p?S.parentNode?(_=S,c=y):(_=t.element.wysiwyg,c=null):c=_===c?_.lastChild:c,l.isListCell(a)&&!l.isList(_)){if(l.isListCell(_))c=_.nextElementSibling,_=_.parentNode;else{const P=l.createElement("ol");_.insertBefore(P,c),_=P,c=null}p=!0}if(this._checkDuplicateNode(a,_),_.insertBefore(a,c),p)if(l.onlyZeroWidthSpace(v.textContent.trim()))l.removeItem(v),a=a.lastChild;else{const P=l.getArrayItem(v.children,l.isList);P&&(a!==P?(a.appendChild(P),a=P.previousSibling):(_.appendChild(a),a=_),l.onlyZeroWidthSpace(v.textContent.trim())&&l.removeItem(v))}}catch(P){_.appendChild(a),console.warn("[SUNEDITOR.insertNode.warn] "+P)}finally{b&&(a=b);const P=_.querySelectorAll("[data-se-duple]");if(P.length>0)for(let I=0,R=P.length,D,B,A,O;I<R;I++){for(D=P[I],A=D.childNodes,O=D.parentNode;A[0];)B=A[0],O.insertBefore(B,D);D===a&&(a=B),l.removeItem(D)}if((l.isFormatElement(a)||l.isComponent(a))&&H===z){const I=l.getFormatElement(k,null);I&&I.nodeType===1&&l.isEmptyLine(I)&&l.removeItem(I)}if(N&&(l.isFormatElement(a)||l.isRangeFormatElement(a))&&(a=this._setIntoFreeFormat(a)),!l.isComponent(a)){let I=1;if(a.nodeType===3)I=a.textContent.length,this.setRange(a,I,a,I);else if(!l.isBreak(a)&&!l.isListCell(a)&&l.isFormatElement(_)){let R=null;(!a.previousSibling||l.isBreak(a.previousSibling))&&(R=l.createTextNode(l.zeroWidthSpace),a.parentNode.insertBefore(R,a)),(!a.nextSibling||l.isBreak(a.nextSibling))&&(R=l.createTextNode(l.zeroWidthSpace),a.parentNode.insertBefore(R,a.nextSibling)),l._isIgnoreNodeChange(a)&&(a=a.nextSibling,I=0)}this.setRange(a,I,a,I)}return a}},_setIntoFreeFormat:function(a){const c=a.parentNode;let h,b;for(;l.isFormatElement(a)||l.isRangeFormatElement(a);){for(h=a.childNodes,b=null;h[0];){if(b=h[0],l.isFormatElement(b)||l.isRangeFormatElement(b)){if(this._setIntoFreeFormat(b),!a.parentNode)break;h=a.childNodes;continue}c.insertBefore(b,a)}a.childNodes.length===0&&l.removeItem(a),a=l.createElement("BR"),c.insertBefore(a,b.nextSibling)}return a},removeNode:function(){this._resetRangeToTextNode();const a=this.getRange();if(a.startContainer===a.endContainer){const I=l.getParentElement(a.startContainer,l.isMediaComponent);if(I){const R=l.createElement("BR"),D=l.createElement(s.defaultTag);return D.appendChild(R),l.changeElement(I,D),u.setRange(D,0,D,0),this.history.push(!0),{container:D,offset:0,prevContainer:null}}}const c=a.startOffset===0,h=u.isEdgePoint(a.endContainer,a.endOffset,"end");let b=null,m=null,v=null;c&&(m=l.getFormatElement(a.startContainer),m&&(b=m.previousElementSibling,m=b)),h&&(v=l.getFormatElement(a.endContainer),v=v&&v.nextElementSibling);let p,_=0,E=a.startContainer,y=a.endContainer,S=a.startOffset,N=a.endOffset;const L=a.commonAncestorContainer.nodeType===3&&a.commonAncestorContainer.parentNode===E.parentNode?E.parentNode:a.commonAncestorContainer;if(L===E&&L===y&&(E=L.children[S],y=L.children[N],S=N=0),!E||!y)return{container:L,offset:0};if(E===y&&a.collapsed&&E.textContent&&l.onlyZeroWidthSpace(E.textContent.substr(S)))return{container:E,offset:S,prevContainer:E&&E.parentNode?E:null};let k=null,M=null;const $=l.getListChildNodes(L,null);let F=l.getArrayIndex($,E),H=l.getArrayIndex($,y);if($.length>0&&F>-1&&H>-1){for(let I=F+1,R=E;I>=0;I--)$[I]===R.parentNode&&$[I].firstChild===R&&S===0&&(F=I,R=R.parentNode);for(let I=H-1,R=y;I>F;I--)$[I]===R.parentNode&&$[I].nodeType===1&&($.splice(I,1),R=R.parentNode,--H)}else{if($.length===0){if(l.isFormatElement(L)||l.isRangeFormatElement(L)||l.isWysiwygDiv(L)||l.isBreak(L)||l.isMedia(L))return{container:L,offset:0};if(L.nodeType===3)return{container:L,offset:N};$.push(L),E=y=L}else if(E=y=$[0],l.isBreak(E)||l.onlyZeroWidthSpace(E))return{container:l.isMedia(L)?L:E,offset:0};F=H=0}for(let I=F;I<=H;I++){const R=$[I];if(R.length===0||R.nodeType===3&&R.data===void 0){this._nodeRemoveListItem(R);continue}if(R===E){if(E.nodeType===1){if(l.isComponent(E))continue;k=l.createTextNode(E.textContent)}else R===y?(k=l.createTextNode(E.substringData(0,S)+y.substringData(N,y.length-N)),_=S):k=l.createTextNode(E.substringData(0,S));if(k.length>0?E.data=k.data:this._nodeRemoveListItem(E),R===y)break;continue}if(R===y){if(y.nodeType===1){if(l.isComponent(y))continue;M=l.createTextNode(y.textContent)}else M=l.createTextNode(y.substringData(N,y.length-N));M.length>0?y.data=M.data:this._nodeRemoveListItem(y);continue}this._nodeRemoveListItem(R)}const z=l.getParentElement(y,"ul"),P=l.getParentElement(E,"li");if(z&&P&&P.contains(z)?(p=z.previousSibling,_=p.textContent.length):(p=y&&y.parentNode?y:E&&E.parentNode?E:a.endContainer||a.startContainer,_=!c&&!h?_:h?p.textContent.length:0),!l.isWysiwygDiv(p)&&p.childNodes.length===0){const I=l.removeItemAllParents(p,null,null);I&&(p=I.sc||I.ec||t.element.wysiwyg)}return!l.getFormatElement(p)&&!(E&&E.parentNode)&&(v?(p=v,_=0):m&&(p=m,_=1)),this.setRange(p,_,p,_),this.history.push(!0),{container:p,offset:_,prevContainer:b}},_nodeRemoveListItem:function(a){const c=l.getFormatElement(a,null);l.removeItem(a),l.isListCell(c)&&(l.removeItemAllParents(c,null,null),c&&l.isList(c.firstChild)&&c.insertBefore(l.createTextNode(l.zeroWidthSpace),c.firstChild))},applyRangeFormatElement:function(a){this.getRange_addLine(this.getRange(),null);const c=this.getSelectedElementsAndComponents(!1);if(!c||c.length===0)return;e:for(let N=0,L=c.length,k,M,$,F,H,z;N<L;N++)if(k=c[N],!!l.isListCell(k)&&(M=k.lastElementChild,M&&l.isListCell(k.nextElementSibling)&&c.indexOf(k.nextElementSibling)>-1&&(F=M.lastElementChild,c.indexOf(F)>-1))){let P=null;for(;P=F.lastElementChild;)if(l.isList(P))if(c.indexOf(P.lastElementChild)>-1)F=P.lastElementChild;else continue e;$=M.firstElementChild,H=c.indexOf($),z=c.indexOf(F),c.splice(H,z-H+1),L=c.length;continue}let h=c[c.length-1],b,m,v;l.isRangeFormatElement(h)||l.isFormatElement(h)?b=h:b=l.getRangeFormatElement(h,null)||l.getFormatElement(h,null),l.isCell(b)?(m=null,v=b):(m=b.nextSibling,v=b.parentNode);let p=l.getElementDepth(b),_=null;const E=[],y=function(N,L,k){let M=null;if(N!==L&&!l.isTable(L)){if(L&&l.getElementDepth(N)===l.getElementDepth(L))return k;M=l.removeItemAllParents(L,null,N)}return M?M.ec:k};for(let N=0,L=c.length,k,M,$,F,H,z,P;N<L;N++)if(k=c[N],M=k.parentNode,!(!M||a.contains(M)))if($=l.getElementDepth(k),l.isList(M)){if(_===null&&(z?(_=z,P=!0,z=null):_=M.cloneNode(!1)),E.push(k),H=c[N+1],N===L-1||H&&H.parentNode!==M){H&&k.contains(H.parentNode)&&(z=H.parentNode.cloneNode(!1));let I=M.parentNode,R;for(;l.isList(I);)R=l.createElement(I.nodeName),R.appendChild(_),_=R,I=I.parentNode;const D=this.detachRangeFormatElement(M,E,null,!0,!0);p>=$?(p=$,v=D.cc,m=y(v,M,D.ec),m&&(v=m.parentNode)):v===D.cc&&(m=D.ec),v!==D.cc&&(F=y(v,D.cc,F),F!==void 0?m=F:m=D.cc);for(let B=0,A=D.removeArray.length;B<A;B++)_.appendChild(D.removeArray[B]);P||a.appendChild(_),z&&D.removeArray[D.removeArray.length-1].appendChild(z),_=null,P=!1}}else p>=$&&(p=$,v=M,m=k.nextSibling),a.appendChild(k),v!==M&&(F=y(v,M),F!==void 0&&(m=F));if(this.effectNode=null,l.mergeSameTags(a,null,!1),l.mergeNestedTags(a,(function(N){return this.isList(N)}).bind(l)),m&&l.getElementDepth(m)>0&&(l.isList(m.parentNode)||l.isList(m.parentNode.parentNode))){const N=l.getParentElement(m,(function(k){return this.isRangeFormatElement(k)&&!this.isList(k)}).bind(l)),L=l.splitElement(m,null,N?l.getElementDepth(N)+1:0);L.parentNode.insertBefore(a,L)}else v.insertBefore(a,m),y(a,m);const S=l.getEdgeChildNodes(a.firstElementChild,a.lastElementChild);c.length>1?this.setRange(S.sc,0,S.ec,S.ec.textContent.length):this.setRange(S.ec,S.ec.textContent.length,S.ec,S.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(a,c,h,b,m){const v=this.getRange();let p=v.startOffset,_=v.endOffset,E=l.getListChildNodes(a,function(D){return D.parentNode===a}),y=a.parentNode,S=null,N=null,L=a.cloneNode(!1);const k=[],M=l.isList(h);let $=!1,F=!1,H=!1;function z(D,B,A,O){if(l.onlyZeroWidthSpace(B)&&(B.innerHTML=l.zeroWidthSpace,p=_=1),B.nodeType===3)return D.insertBefore(B,A),B;const V=(H?B:O).childNodes;let W=B.cloneNode(!1),Z=null,U=null;for(;V[0];)U=V[0],l._notTextNode(U)&&!l.isBreak(U)&&!l.isListCell(W)?(W.childNodes.length>0&&(Z||(Z=W),D.insertBefore(W,A),W=B.cloneNode(!1)),D.insertBefore(U,A),Z||(Z=U)):W.appendChild(U);if(W.childNodes.length>0){if(l.isListCell(D)&&l.isListCell(W)&&l.isList(A))if(M){for(Z=A;A;)W.appendChild(A),A=A.nextSibling;D.parentNode.insertBefore(W,D.nextElementSibling)}else{const q=O.nextElementSibling,j=l.detachNestedList(O,!1);if(a!==j||q!==O.nextElementSibling){const G=W.childNodes;for(;G[0];)O.appendChild(G[0]);a=j,F=!0}}else D.insertBefore(W,A);Z||(Z=W)}return Z}for(let D=0,B=E.length,A,O,V;D<B;D++)if(A=E[D],!(A.nodeType===3&&l.isList(L)))if(H=!1,b&&D===0&&(!c||c.length===B||c[0]===A?S=a.previousSibling:S=L),c&&(O=c.indexOf(A)),c&&O===-1)L||(L=a.cloneNode(!1)),L.appendChild(A);else{if(c&&(V=c[O+1]),L&&L.children.length>0&&(y.insertBefore(L,a),L=null),!M&&l.isListCell(A))if(V&&l.getElementDepth(A)!==l.getElementDepth(V)&&(l.isListCell(y)||l.getArrayItem(A.children,l.isList,!1))){const W=A.nextElementSibling,Z=l.detachNestedList(A,!1);(a!==Z||W!==A.nextElementSibling)&&(a=Z,F=!0)}else{const W=A;A=l.createElement(b?W.nodeName:l.isList(a.parentNode)||l.isListCell(a.parentNode)?"LI":l.isCell(a.parentNode)?"DIV":s.defaultTag);const Z=l.isListCell(A),U=W.childNodes;for(;U[0]&&!(l.isList(U[0])&&!Z);)A.appendChild(U[0]);l.copyFormatAttributes(A,W),H=!0}else A=A.cloneNode(!1);if(!F&&(b?(k.push(A),l.removeItem(E[D])):(h?($||(y.insertBefore(h,a),$=!0),A=z(h,A,null,E[D])):A=z(y,A,a,E[D]),F||(c?(N=A,S||(S=A)):S||(S=N=A))),F)){F=H=!1,E=l.getListChildNodes(a,function(W){return W.parentNode===a}),L=a.cloneNode(!1),y=a.parentNode,D=-1,B=E.length;continue}}const P=a.parentNode;let I=a.nextSibling;L&&L.children.length>0&&P.insertBefore(L,I),h?S=h.previousSibling:S||(S=a.previousSibling),I=a.nextSibling!==L?a.nextSibling:L?L.nextSibling:null,a.children.length===0||a.textContent.length===0?l.removeItem(a):l.removeEmptyNode(a,null,!1);let R=null;if(b)R={cc:P,sc:S,so:p,ec:I,eo:_,removeArray:k};else{S||(S=N),N||(N=S);const D=l.getEdgeChildNodes(S,N.parentNode?S:N);R={cc:(D.sc||D.ec).parentNode,sc:D.sc,so:p,ec:D.ec,eo:_,removeArray:null}}if(this.effectNode=null,m)return R;!b&&R&&(c?this.setRange(R.sc,p,R.ec,_):this.setRange(R.sc,0,R.sc,0)),this.history.push(!1)},detachList:function(a,c){let h={},b=!1,m=!1,v=null,p=null;const _=(function(E){return!this.isComponent(E)}).bind(l);for(let E=0,y=a.length,S,N,L,k;E<y;E++){if(L=E===y-1,N=l.getRangeFormatElement(a[E],_),k=l.isList(N),!S&&k)S=N,h={r:S,f:[l.getParentElement(a[E],"LI")]},E===0&&(b=!0);else if(S&&k)if(S!==N){const M=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,c,!0);N=a[E].parentNode,b&&(v=M.sc,b=!1),L&&(p=M.ec),k?(S=N,h={r:S,f:[l.getParentElement(a[E],"LI")]},L&&(m=!0)):S=null}else h.f.push(l.getParentElement(a[E],"LI")),L&&(m=!0);if(L&&l.isList(S)){const M=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,c,!0);(m||y===1)&&(p=M.ec),b&&(v=M.sc||p)}}return{sc:v,ec:p}},nodeChange:function(a,c,h,b){this._resetRangeToTextNode();let m=this.getRange_addLine(this.getRange(),null);c=c&&c.length>0?c:!1,h=h&&h.length>0?h:!1;const v=!a,p=v&&!h&&!c;let _=m.startContainer,E=m.startOffset,y=m.endContainer,S=m.endOffset;if(p&&m.collapsed&&l.isFormatElement(_.parentNode)||_===y&&_.nodeType===1&&l.isNonEditable(_)){const U=_.parentNode;if(!l.isListCell(U)||!l.getValues(U.style).some((function(q){return this._listKebab.indexOf(q)>-1}).bind(this)))return}if(m.collapsed&&!p&&_.nodeType===1&&!l.isBreak(_)&&!l.isComponent(_)){let U=null;const q=_.childNodes[E];q&&(q.nextSibling?U=l.isBreak(q)?q:q.nextSibling:U=null);const j=l.createTextNode(l.zeroWidthSpace);_.insertBefore(j,U),this.setRange(j,1,j,1),m=this.getRange(),_=m.startContainer,E=m.startOffset,y=m.endContainer,S=m.endOffset}l.isFormatElement(_)&&(_=_.childNodes[E]||_.firstChild,E=0),l.isFormatElement(y)&&(y=y.childNodes[S]||y.lastChild,S=y.textContent.length),v&&(a=l.createElement("DIV"));const N=d.RegExp,L=a.nodeName;if(!p&&_===y&&!h&&a){let U=_,q=0;const j=[],G=a.style;for(let X=0,te=G.length;X<te;X++)j.push(G[X]);const Q=a.classList;for(let X=0,te=Q.length;X<te;X++)j.push("."+Q[X]);if(j.length>0){for(;!l.isFormatElement(U)&&!l.isWysiwygDiv(U);){for(let X=0;X<j.length;X++)if(U.nodeType===1){const te=j[X],ue=/^\./.test(te)?new N("\\s*"+te.replace(/^\./,"")+"(\\s+|$)","ig"):!1,he=v?!!U.style[te]:!!U.style[te]&&!!a.style[te]&&U.style[te]===a.style[te],oe=ue===!1?!1:v?!!U.className.match(ue):!!U.className.match(ue)&&!!a.className.match(ue);(he||oe)&&q++}U=U.parentNode}if(q>=j.length)return}}let k={},M={},$,F="",H="",z="";if(c){for(let U=0,q=c.length,j;U<q;U++)j=c[U],/^\./.test(j)?H+=(H?"|":"\\s*(?:")+j.replace(/^\./,""):F+=(F?"|":"(?:;|^|\\s)(?:")+j;F&&(F+=")\\s*:[^;]*\\s*(?:;|$)",F=new N(F,"ig")),H&&(H+=")(?=\\s+|$)",H=new N(H,"ig"))}if(h){z="^(?:"+h[0];for(let U=1;U<h.length;U++)z+="|"+h[U];z+=")$",z=new N(z,"i")}const P=d.Boolean,I={v:!1},R=function(U){const q=U.cloneNode(!1);if(q.nodeType===3||l.isBreak(q))return q;if(p)return null;const j=!z&&v||z&&z.test(q.nodeName);if(j&&!b)return I.v=!0,null;const G=q.style.cssText;let Q="";F&&G.length>0&&(Q=G.replace(F,"").trim(),Q!==G&&(I.v=!0));const X=q.className;let te="";return H&&X.length>0&&(te=X.replace(H,"").trim(),te!==X&&(I.v=!0)),v&&(H||!X)&&(F||!G)&&!Q&&!te&&j?(I.v=!0,null):Q||te||q.nodeName!==L||P(F)!==P(G)||P(H)!==P(X)?(F&&G.length>0&&(q.style.cssText=Q),q.style.cssText||q.removeAttribute("style"),H&&X.length>0&&(q.className=te.trim()),q.className.trim()||q.removeAttribute("class"),!q.style.cssText&&!q.className&&(q.nodeName===L||j)?(I.v=!0,null):q):(I.v=!0,null)},D=this.getSelectedElements(null);m=this.getRange(),_=m.startContainer,E=m.startOffset,y=m.endContainer,S=m.endOffset,l.getFormatElement(_,null)||(_=l.getChildElement(D[0],function(U){return U.nodeType===3},!1),E=0),l.getFormatElement(y,null)||(y=l.getChildElement(D[D.length-1],function(U){return U.nodeType===3},!1),S=y.textContent.length);const B=l.getFormatElement(_,null)===l.getFormatElement(y,null),A=D.length-(B?0:1);$=a.cloneNode(!1);const O=p||v&&(function(U){for(let q=0,j=U.length;q<j;q++)if(l._isMaintainedNode(U[q])||l._isSizeNode(U[q]))return!0;return!1})(h),V=v||l._isSizeNode($),W=this._util_getMaintainedNode.bind(l,O,V),Z=this._util_isMaintainedNode.bind(l,O,V);if(B){this._resetCommonListCell(D[0],c)&&(m=this.setRange(_,E,y,S));const U=this._nodeChange_oneLine(D[0],$,R,_,E,y,S,p,v,m.collapsed,I,W,Z);k.container=U.startContainer,k.offset=U.startOffset,M.container=U.endContainer,M.offset=U.endOffset,k.container===M.container&&l.onlyZeroWidthSpace(k.container)&&(k.offset=M.offset=1),this._setCommonListStyle(U.ancestor,null)}else{let U=!1;A>0&&this._resetCommonListCell(D[A],c)&&(U=!0),this._resetCommonListCell(D[0],c)&&(U=!0),U&&this.setRange(_,E,y,S),A>0&&($=a.cloneNode(!1),M=this._nodeChange_endLine(D[A],$,R,y,S,p,v,I,W,Z));for(let q=A-1,j;q>0;q--)this._resetCommonListCell(D[q],c),$=a.cloneNode(!1),j=this._nodeChange_middleLine(D[q],$,R,p,v,I,M.container),j.endContainer&&j.ancestor.contains(j.endContainer)&&(M.ancestor=null,M.container=j.endContainer),this._setCommonListStyle(j.ancestor,null);$=a.cloneNode(!1),k=this._nodeChange_startLine(D[0],$,R,_,E,p,v,I,W,Z,M.container),k.endContainer&&(M.ancestor=null,M.container=k.endContainer),A<=0?M=k:M.container||(M.ancestor=null,M.container=k.container,M.offset=k.container.textContent.length),this._setCommonListStyle(k.ancestor,null),this._setCommonListStyle(M.ancestor||l.getFormatElement(M.container),null)}this.controllersOff(),this.setRange(k.container,k.offset,M.container,M.offset),this.history.push(!1)},_resetCommonListCell:function(a,c){if(!l.isListCell(a))return;c||(c=this._listKebab);const h=l.getArrayItem(a.childNodes,function(N){return!l.isBreak(N)},!0),b=a.style,m=[],v=[],p=l.getValues(b);for(let N=0,L=this._listKebab.length;N<L;N++)p.indexOf(this._listKebab[N])>-1&&c.indexOf(this._listKebab[N])>-1&&(m.push(this._listCamel[N]),v.push(this._listKebab[N]));if(!m.length)return;const _=l.createElement("SPAN");for(let N=0,L=m.length;N<L;N++)_.style[m[N]]=b[v[N]],b.removeProperty(v[N]);let E=_.cloneNode(!1),y=null,S=!1;for(let N=0,L=h.length,k,M;N<L;N++)k=h[N],!s._textTagsMap[k.nodeName.toLowerCase()]&&(M=l.getValues(k.style),M.length===0||m.some(function($){return M.indexOf($)===-1})&&M.some(function($){})?(y=k.nextSibling,E.appendChild(k)):E.childNodes.length>0&&(a.insertBefore(E,y),E=_.cloneNode(!1),y=null,S=!0));return E.childNodes.length>0&&(a.insertBefore(E,y),S=!0),b.length||a.removeAttribute("style"),S},_setCommonListStyle:function(a,c){if(!l.isListCell(a))return;const h=l.getArrayItem((c||a).childNodes,function(E){return!l.isBreak(E)},!0);if(c=h[0],!c||h.length>1||c.nodeType!==1)return;const b=c.style,m=a.style,v=c.nodeName.toLowerCase();let p=!1;s._textTagsMap[v]===s._defaultCommand.bold.toLowerCase()&&(m.fontWeight="bold"),s._textTagsMap[v]===s._defaultCommand.italic.toLowerCase()&&(m.fontStyle="italic");const _=l.getValues(b);if(_.length>0)for(let E=0,y=this._listCamel.length;E<y;E++)_.indexOf(this._listKebab[E])>-1&&(m[this._listCamel[E]]=b[this._listCamel[E]],b.removeProperty(this._listKebab[E]),p=!0);if(this._setCommonListStyle(a,c),!!p&&!b.length){const E=c.childNodes,y=c.parentNode,S=c.nextSibling;for(;E.length>0;)y.insertBefore(E[0],S);l.removeItem(c)}},_stripRemoveNode:function(a){const c=a.parentNode;if(!a||a.nodeType===3||!c)return;const h=a.childNodes;for(;h[0];)c.insertBefore(h[0],a);c.removeChild(a)},_util_getMaintainedNode:function(a,c,h){return!h||a?null:this.getParentElement(h,this._isMaintainedNode.bind(this))||(c?null:this.getParentElement(h,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(a,c,h){if(!h||a||h.nodeType!==1)return!1;const b=this._isMaintainedNode(h);return this.getParentElement(h,this._isMaintainedNode.bind(this))?b:b||(c?!1:this._isSizeNode(h))},_nodeChange_oneLine:function(a,c,h,b,m,v,p,_,E,y,S,N,L){let k=b.parentNode;for(;!k.nextSibling&&!k.previousSibling&&!l.isFormatElement(k.parentNode)&&!l.isWysiwygDiv(k.parentNode)&&k.nodeName!==c.nodeName;)k=k.parentNode;if(!E&&k===v.parentNode&&k.nodeName===c.nodeName&&l.onlyZeroWidthSpace(b.textContent.slice(0,m))&&l.onlyZeroWidthSpace(v.textContent.slice(p))){const oe=k.childNodes;let re=!0;for(let J=0,ge=oe.length,ce,ve,me,de;J<ge;J++){if(ce=oe[J],de=!l.onlyZeroWidthSpace(ce),ce===b){ve=!0;continue}if(ce===v){me=!0;continue}if(!ve&&de||ve&&me&&de){re=!1;break}}if(re)return l.copyTagAttributes(k,c),{ancestor:a,startContainer:b,startOffset:m,endContainer:v,endOffset:p}}S.v=!1;const M=a,$=[c],F=a.cloneNode(!1),H=b===v;let z=b,P=m,I=v,R=p,D=!1,B=!1,A,O,V,W,Z;const U=d.RegExp;function q(oe){const re=new U("(?:;|^|\\s)(?:"+W+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let J="";return re&&oe.style.cssText.length>0&&(J=re.test(oe.style.cssText)),!J}if((function oe(re,J){const ge=re.childNodes;for(let ce=0,ve=ge.length,me;ce<ve;ce++){let de=ge[ce];if(!de)continue;let lt=J,Ie;if(!D&&de===z){let Le=F;Z=N(de);const we=l.createTextNode(z.nodeType===1?"":z.substringData(0,P)),Ne=l.createTextNode(z.nodeType===1?"":z.substringData(P,H&&R>=P?R-P:z.data.length-P));if(Z){const St=N(J);if(St&&St.parentNode!==Le){let Je=St,ei=null;for(;Je.parentNode!==Le;){for(J=ei=Je.parentNode.cloneNode(!1);Je.childNodes[0];)ei.appendChild(Je.childNodes[0]);Je.appendChild(ei),Je=Je.parentNode}Je.parentNode.appendChild(St)}Z=Z.cloneNode(!1)}l.onlyZeroWidthSpace(we)||J.appendChild(we);const Ee=N(J);for(Ee&&(Z=Ee),Z&&(Le=Z),O=de,A=[],W="";O!==Le&&O!==M&&O!==null;)me=L(O)?null:h(O),me&&O.nodeType===1&&q(O)&&(A.push(me),W+=O.style.cssText.substr(0,O.style.cssText.indexOf(":"))+"|"),O=O.parentNode;const pt=A.pop()||Ne;for(V=O=pt;A.length>0;)O=A.pop(),V.appendChild(O),V=O;if(c.appendChild(pt),Le.appendChild(c),Z&&!N(I)&&(c=c.cloneNode(!1),F.appendChild(c),$.push(c)),z=Ne,P=0,D=!0,O!==Ne&&O.appendChild(z),!H)continue}if(!B&&de===I){Z=N(de);const Le=l.createTextNode(I.nodeType===1?"":I.substringData(R,I.length-R)),we=l.createTextNode(H||I.nodeType===1?"":I.substringData(0,R));if(Z?Z=Z.cloneNode(!1):L(c.parentNode)&&!Z&&(c=c.cloneNode(!1),F.appendChild(c),$.push(c)),!l.onlyZeroWidthSpace(Le)){O=de,W="",A=[];const Ee=[];for(;O!==F&&O!==M&&O!==null;)O.nodeType===1&&q(O)&&(L(O)?Ee.push(O.cloneNode(!1)):A.push(O.cloneNode(!1)),W+=O.style.cssText.substr(0,O.style.cssText.indexOf(":"))+"|"),O=O.parentNode;for(A=A.concat(Ee),Ie=V=O=A.pop()||Le;A.length>0;)O=A.pop(),V.appendChild(O),V=O;F.appendChild(Ie),O.textContent=Le.data}if(Z&&Ie){const Ee=N(Ie);Ee&&(Z=Ee)}for(O=de,A=[],W="";O!==F&&O!==M&&O!==null;)me=L(O)?null:h(O),me&&O.nodeType===1&&q(O)&&(A.push(me),W+=O.style.cssText.substr(0,O.style.cssText.indexOf(":"))+"|"),O=O.parentNode;const Ne=A.pop()||we;for(V=O=Ne;A.length>0;)O=A.pop(),V.appendChild(O),V=O;Z?(c=c.cloneNode(!1),c.appendChild(Ne),Z.insertBefore(c,Z.firstChild),F.appendChild(Z),$.push(c),Z=null):c.appendChild(Ne),I=we,R=we.data.length,B=!0,!_&&y&&(c=we,we.textContent=l.zeroWidthSpace),O!==we&&O.appendChild(I);continue}if(D){if(de.nodeType===1&&!l.isBreak(de)){l._isIgnoreNodeChange(de)?(F.appendChild(de.cloneNode(!0)),y||(c=c.cloneNode(!1),F.appendChild(c),$.push(c))):oe(de,de);continue}O=de,A=[],W="";const Le=[];for(;O.parentNode!==null&&O!==M&&O!==c;)me=B?O.cloneNode(!1):h(O),O.nodeType===1&&!l.isBreak(de)&&me&&q(O)&&(L(O)?Z||Le.push(me):A.push(me),W+=O.style.cssText.substr(0,O.style.cssText.indexOf(":"))+"|"),O=O.parentNode;A=A.concat(Le);const we=A.pop()||de;for(V=O=we;A.length>0;)O=A.pop(),V.appendChild(O),V=O;if(L(c.parentNode)&&!L(we)&&!l.onlyZeroWidthSpace(c)&&(c=c.cloneNode(!1),F.appendChild(c),$.push(c)),!B&&!Z&&L(we)){c=c.cloneNode(!1);const Ne=we.childNodes;for(let Ee=0,pt=Ne.length;Ee<pt;Ee++)c.appendChild(Ne[Ee]);we.appendChild(c),F.appendChild(we),$.push(c),c.children.length>0?J=O:J=c}else we===de?B?J=F:J=c:B?(F.appendChild(we),J=O):(c.appendChild(we),J=O);if(Z&&de.nodeType===3)if(N(de)){const Ne=l.getParentElement(J,(function(Ee){return this._isMaintainedNode(Ee.parentNode)||Ee.parentNode===F}).bind(l));Z.appendChild(Ne),c=Ne.cloneNode(!1),$.push(c),F.appendChild(c)}else Z=null}Ie=de.cloneNode(!1),J.appendChild(Ie),de.nodeType===1&&!l.isBreak(de)&&(lt=Ie),oe(de,lt)}})(a,F),E&&!_&&!S.v)return{ancestor:a,startContainer:b,startOffset:m,endContainer:v,endOffset:p};if(_=_&&E,_)for(let oe=0;oe<$.length;oe++){let re=$[oe],J,ge,ce;if(y)J=l.createTextNode(l.zeroWidthSpace),F.replaceChild(J,re);else{const ve=re.childNodes;for(ge=ve[0];ve[0];)ce=ve[0],F.insertBefore(ce,re);l.removeItem(re)}oe===0&&(y?z=I=J:(z=ge,I=ce))}else{if(E)for(let oe=0;oe<$.length;oe++)this._stripRemoveNode($[oe]);y&&(z=I=c)}l.removeEmptyNode(F,c,!1),y&&(P=z.textContent.length,R=I.textContent.length);const j=_||I.textContent.length===0;!l.isBreak(I)&&I.textContent.length===0&&(l.removeItem(I),I=z),R=j?I.textContent.length:R;const G={s:0,e:0},Q=l.getNodePath(z,F,G),X=!I.parentNode;X&&(I=z);const te={s:0,e:0},ue=l.getNodePath(I,F,!X&&!j?te:null);P+=G.s,R=y?P:X?z.textContent.length:j?R+G.s:R+te.s;const he=l.mergeSameTags(F,[Q,ue],!0);return a.parentNode.replaceChild(F,a),z=l.getNodeFromPath(Q,F),I=l.getNodeFromPath(ue,F),{ancestor:F,startContainer:z,startOffset:P+he[0],endContainer:I,endOffset:R+he[1]}},_nodeChange_startLine:function(a,c,h,b,m,v,p,_,E,y,S){let N=b.parentNode;for(;!N.nextSibling&&!N.previousSibling&&!l.isFormatElement(N.parentNode)&&!l.isWysiwygDiv(N.parentNode)&&N.nodeName!==c.nodeName;)N=N.parentNode;if(!p&&N.nodeName===c.nodeName&&!l.isFormatElement(N)&&!N.nextSibling&&l.onlyZeroWidthSpace(b.textContent.slice(0,m))){let D=!0,B=b.previousSibling;for(;B;){if(!l.onlyZeroWidthSpace(B)){D=!1;break}B=B.previousSibling}if(D)return l.copyTagAttributes(N,c),{ancestor:a,container:b,offset:m}}_.v=!1;const L=a,k=[c],M=a.cloneNode(!1);let $=b,F=m,H=!1,z,P,I,R;if((function D(B,A){const O=B.childNodes;for(let V=0,W=O.length,Z,U;V<W;V++){const q=O[V];if(!q)continue;let j=A;if(H&&!l.isBreak(q)){if(q.nodeType===1){if(l._isIgnoreNodeChange(q)){if(c=c.cloneNode(!1),U=q.cloneNode(!0),M.appendChild(U),M.appendChild(c),k.push(c),S&&q.contains(S)){const te=l.getNodePath(S,q);S=l.getNodeFromPath(te,U)}}else D(q,q);continue}P=q,z=[];const G=[];for(;P.parentNode!==null&&P!==L&&P!==c;)Z=h(P),P.nodeType===1&&Z&&(y(P)?R||G.push(Z):z.push(Z)),P=P.parentNode;z=z.concat(G);const Q=z.length>0,X=z.pop()||q;for(I=P=X;z.length>0;)P=z.pop(),I.appendChild(P),I=P;if(y(c.parentNode)&&!y(X)&&(c=c.cloneNode(!1),M.appendChild(c),k.push(c)),!R&&y(X)){c=c.cloneNode(!1);const te=X.childNodes;for(let ue=0,he=te.length;ue<he;ue++)c.appendChild(te[ue]);X.appendChild(c),M.appendChild(X),A=y(P)?c:P,k.push(c)}else Q?(c.appendChild(X),A=P):A=c;if(R&&q.nodeType===3)if(E(q)){const te=l.getParentElement(A,(function(ue){return this._isMaintainedNode(ue.parentNode)||ue.parentNode===M}).bind(l));R.appendChild(te),c=te.cloneNode(!1),k.push(c),M.appendChild(c)}else R=null}if(!H&&q===$){let G=M;R=E(q);const Q=l.createTextNode($.nodeType===1?"":$.substringData(0,F)),X=l.createTextNode($.nodeType===1?"":$.substringData(F,$.length-F));if(R){const he=E(A);if(he&&he.parentNode!==G){let oe=he,re=null;for(;oe.parentNode!==G;){for(A=re=oe.parentNode.cloneNode(!1);oe.childNodes[0];)re.appendChild(oe.childNodes[0]);oe.appendChild(re),oe=oe.parentNode}oe.parentNode.appendChild(he)}R=R.cloneNode(!1)}l.onlyZeroWidthSpace(Q)||A.appendChild(Q);const te=E(A);for(te&&(R=te),R&&(G=R),P=A,z=[];P!==G&&P!==null;)Z=h(P),P.nodeType===1&&Z&&z.push(Z),P=P.parentNode;const ue=z.pop()||A;for(I=P=ue;z.length>0;)P=z.pop(),I.appendChild(P),I=P;ue!==A?(c.appendChild(ue),A=P):A=c,l.isBreak(q)&&c.appendChild(q.cloneNode(!1)),G.appendChild(c),$=X,F=0,H=!0,A.appendChild($);continue}Z=H?h(q):q.cloneNode(!1),Z&&(A.appendChild(Z),q.nodeType===1&&!l.isBreak(q)&&(j=Z)),D(q,j)}})(a,M),p&&!v&&!_.v)return{ancestor:a,container:b,offset:m,endContainer:S};if(v=v&&p,v)for(let D=0;D<k.length;D++){let B=k[D];const A=B.childNodes,O=A[0];for(;A[0];)M.insertBefore(A[0],B);l.removeItem(B),D===0&&($=O)}else if(p){c=c.firstChild;for(let D=0;D<k.length;D++)this._stripRemoveNode(k[D])}if(!v&&M.childNodes.length===0)a.childNodes?$=a.childNodes[0]:($=l.createTextNode(l.zeroWidthSpace),a.appendChild($));else{l.removeEmptyNode(M,c,!1),l.onlyZeroWidthSpace(M.textContent)&&($=M.firstChild,F=0);const D={s:0,e:0},B=l.getNodePath($,M,D);F+=D.s;const A=l.mergeSameTags(M,[B],!0);a.parentNode.replaceChild(M,a),$=l.getNodeFromPath(B,M),F+=A[0]}return{ancestor:M,container:$,offset:F,endContainer:S}},_nodeChange_middleLine:function(a,c,h,b,m,v,p){if(!m){let S=null;p&&a.contains(p)&&(S=l.getNodePath(p,a));const N=a.cloneNode(!0),L=c.nodeName,k=c.style.cssText,M=c.className;let $=N.childNodes,F=0,H=$.length;for(let z;F<H&&(z=$[F],z.nodeType!==3);F++)if(z.nodeName===L)z.style.cssText+=k,l.addClass(z,M);else{if(!l.isBreak(z)&&l._isIgnoreNodeChange(z))continue;if(H===1){$=z.childNodes,H=$.length,F=-1;continue}else break}if(H>0&&F===H)return a.innerHTML=N.innerHTML,{ancestor:a,endContainer:S?l.getNodeFromPath(S,a):null}}v.v=!1;const _=a.cloneNode(!1),E=[c];let y=!0;if((function S(N,L){const k=N.childNodes;for(let M=0,$=k.length,F,H;M<$;M++){let z=k[M];if(!z)continue;let P=L;if(!l.isBreak(z)&&l._isIgnoreNodeChange(z)){if(c.childNodes.length>0&&(_.appendChild(c),c=c.cloneNode(!1)),H=z.cloneNode(!0),_.appendChild(H),_.appendChild(c),E.push(c),L=c,p&&z.contains(p)){const I=l.getNodePath(p,z);p=l.getNodeFromPath(I,H)}continue}else F=h(z),F&&(y=!1,L.appendChild(F),z.nodeType===1&&(P=F));l.isBreak(z)||S(z,P)}})(a,c),y||m&&!b&&!v.v)return{ancestor:a,endContainer:p};if(_.appendChild(c),b&&m)for(let S=0;S<E.length;S++){let N=E[S];const L=N.childNodes;for(;L[0];)_.insertBefore(L[0],N);l.removeItem(N)}else if(m){c=c.firstChild;for(let S=0;S<E.length;S++)this._stripRemoveNode(E[S])}return l.removeEmptyNode(_,c,!1),l.mergeSameTags(_,null,!0),a.parentNode.replaceChild(_,a),{ancestor:_,endContainer:p}},_nodeChange_endLine:function(a,c,h,b,m,v,p,_,E,y){let S=b.parentNode;for(;!S.nextSibling&&!S.previousSibling&&!l.isFormatElement(S.parentNode)&&!l.isWysiwygDiv(S.parentNode)&&S.nodeName!==c.nodeName;)S=S.parentNode;if(!p&&S.nodeName===c.nodeName&&!l.isFormatElement(S)&&!S.previousSibling&&l.onlyZeroWidthSpace(b.textContent.slice(m))){let R=!0,D=b.nextSibling;for(;D;){if(!l.onlyZeroWidthSpace(D)){R=!1;break}D=D.nextSibling}if(R)return l.copyTagAttributes(S,c),{ancestor:a,container:b,offset:m}}_.v=!1;const N=a,L=[c],k=a.cloneNode(!1);let M=b,$=m,F=!1,H,z,P,I;if((function R(D,B){const A=D.childNodes;for(let O=A.length-1,V;0<=O;O--){const W=A[O];if(!W)continue;let Z=B;if(F&&!l.isBreak(W)){if(W.nodeType===1){if(l._isIgnoreNodeChange(W)){c=c.cloneNode(!1);const G=W.cloneNode(!0);k.insertBefore(G,B),k.insertBefore(c,G),L.push(c)}else R(W,W);continue}z=W,H=[];const U=[];for(;z.parentNode!==null&&z!==N&&z!==c;)V=h(z),V&&z.nodeType===1&&(y(z)?I||U.push(V):H.push(V)),z=z.parentNode;H=H.concat(U);const q=H.length>0,j=H.pop()||W;for(P=z=j;H.length>0;)z=H.pop(),P.appendChild(z),P=z;if(y(c.parentNode)&&!y(j)&&(c=c.cloneNode(!1),k.insertBefore(c,k.firstChild),L.push(c)),!I&&y(j)){c=c.cloneNode(!1);const G=j.childNodes;for(let Q=0,X=G.length;Q<X;Q++)c.appendChild(G[Q]);j.appendChild(c),k.insertBefore(j,k.firstChild),L.push(c),c.children.length>0?B=z:B=c}else q?(c.insertBefore(j,c.firstChild),B=z):B=c;if(I&&W.nodeType===3)if(E(W)){const G=l.getParentElement(B,(function(Q){return this._isMaintainedNode(Q.parentNode)||Q.parentNode===k}).bind(l));I.appendChild(G),c=G.cloneNode(!1),L.push(c),k.insertBefore(c,k.firstChild)}else I=null}if(!F&&W===M){I=E(W);const U=l.createTextNode(M.nodeType===1?"":M.substringData($,M.length-$)),q=l.createTextNode(M.nodeType===1?"":M.substringData(0,$));if(I){I=I.cloneNode(!1);const G=E(B);if(G&&G.parentNode!==k){let Q=G,X=null;for(;Q.parentNode!==k;){for(B=X=Q.parentNode.cloneNode(!1);Q.childNodes[0];)X.appendChild(Q.childNodes[0]);Q.appendChild(X),Q=Q.parentNode}Q.parentNode.insertBefore(G,Q.parentNode.firstChild)}I=I.cloneNode(!1)}else y(c.parentNode)&&!I&&(c=c.cloneNode(!1),k.appendChild(c),L.push(c));for(l.onlyZeroWidthSpace(U)||B.insertBefore(U,B.firstChild),z=B,H=[];z!==k&&z!==null;)V=y(z)?null:h(z),V&&z.nodeType===1&&H.push(V),z=z.parentNode;const j=H.pop()||B;for(P=z=j;H.length>0;)z=H.pop(),P.appendChild(z),P=z;j!==B?(c.insertBefore(j,c.firstChild),B=z):B=c,l.isBreak(W)&&c.appendChild(W.cloneNode(!1)),I?(I.insertBefore(c,I.firstChild),k.insertBefore(I,k.firstChild),I=null):k.insertBefore(c,k.firstChild),M=q,$=q.data.length,F=!0,B.insertBefore(M,B.firstChild);continue}V=F?h(W):W.cloneNode(!1),V&&(B.insertBefore(V,B.firstChild),W.nodeType===1&&!l.isBreak(W)&&(Z=V)),R(W,Z)}})(a,k),p&&!v&&!_.v)return{ancestor:a,container:b,offset:m};if(v=v&&p,v)for(let R=0;R<L.length;R++){let D=L[R];const B=D.childNodes;let A=null;for(;B[0];)A=B[0],k.insertBefore(A,D);l.removeItem(D),R===L.length-1&&(M=A,$=A.textContent.length)}else if(p){c=c.firstChild;for(let R=0;R<L.length;R++)this._stripRemoveNode(L[R])}if(!v&&k.childNodes.length===0)a.childNodes?M=a.childNodes[0]:(M=l.createTextNode(l.zeroWidthSpace),a.appendChild(M));else{if(!p&&c.textContent.length===0)return l.removeEmptyNode(k,null,!1),{ancestor:null,container:null,offset:0};l.removeEmptyNode(k,c,!1),l.onlyZeroWidthSpace(k.textContent)?(M=k.firstChild,$=M.textContent.length):l.onlyZeroWidthSpace(M)&&(M=c,$=1);const R={s:0,e:0},D=l.getNodePath(M,k,R);$+=R.s;const B=l.mergeSameTags(k,[D],!0);a.parentNode.replaceChild(k,a),M=l.getNodeFromPath(D,k),$+=B[0]}return{ancestor:k,container:M,offset:M.nodeType===1&&$===1?M.childNodes.length:$}},actionCall:function(a,c,h){if(c){if(/more/i.test(c)){if(h!==this._moreLayerActiveButton){const b=t.element.toolbar.querySelector("."+a);b&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=h,b.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),l.addClass(h,"on")}else t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(c)&&(this._menuTray[a]===null||h!==this.containerActiveButton)){this.callPlugin(a,this.containerOn.bind(this,h),h);return}if(this.isReadOnly&&l.arrayIncludes(this.resizingDisabledButtons,h))return;if(/submenu/.test(c)&&(this._menuTray[a]===null||h!==this.submenuActiveButton)){this.callPlugin(a,this.submenuOn.bind(this,h),h);return}else if(/dialog/.test(c)){this.callPlugin(a,this.plugins[a].open.bind(this),h);return}else/command/.test(c)?this.callPlugin(a,this.plugins[a].action.bind(this),h):/fileBrowser/.test(c)&&this.callPlugin(a,this.plugins[a].open.bind(this,null),h)}else a&&this.commandHandler(h,a);/submenu/.test(c)?this.submenuOff():/command/.test(c)||(this.submenuOff(),this.containerOff())},commandHandler:function(a,c){if(!(u.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(c)))switch(c){case"copy":case"cut":this.execCommand(c);break;case"paste":break;case"selectAll":this.containerOff();const h=t.element.wysiwyg;let b=l.getChildElement(h.firstChild,function(E){return E.childNodes.length===0||E.nodeType===3},!1)||h.firstChild,m=l.getChildElement(h.lastChild,function(E){return E.childNodes.length===0||E.nodeType===3},!0)||h.lastChild;if(!b||!m)return;if(l.isMedia(b)){const E=this.getFileComponent(b),y=l.createElement("BR"),S=l.createElement(s.defaultTag);S.appendChild(y),b=E?E.component:b,b.parentNode.insertBefore(S,b),b=y}if(l.isMedia(m)){const E=l.createElement("BR"),y=l.createElement(s.defaultTag);y.appendChild(E),h.appendChild(y),m=E}g._showToolbarBalloon(this.setRange(b,0,m,m.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(a);break;case"indent":case"outdent":this.indent(c);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof w.save=="function")w.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,t.tool.save&&t.tool.save.setAttribute("disabled",!0);break;default:c=s._defaultCommand[c.toLowerCase()]||c,this.commandMap[c]||(this.commandMap[c]=a);const v=this._variable.currentNodesMap,p=v.indexOf(c)>-1?null:l.createElement(c);let _=c;/^SUB$/i.test(c)&&v.indexOf("SUP")>-1?_="SUP":/^SUP$/i.test(c)&&v.indexOf("SUB")>-1&&(_="SUB"),this.nodeChange(p,this._commandMapStyles[c]||null,[_],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(a){const c=this.getRange(),h=this.getSelectedElements(null),b=[],m=a!=="indent",v=s.rtl?"marginRight":"marginLeft";let p=c.startContainer,_=c.endContainer,E=c.startOffset,y=c.endOffset;for(let S=0,N=h.length,L,k;S<N;S++)L=h[S],!l.isListCell(L)||!this.plugins.list?(k=/\d+/.test(L.style[v])?l.getNumber(L.style[v],0):0,m?k-=25:k+=25,l.setStyle(L,v,k<=0?"":k+"px")):(m||L.previousElementSibling)&&b.push(L);b.length>0&&this.plugins.list.editInsideList.call(this,m,b),this.effectNode=null,this.setRange(p,E,_,y),this.history.push(!1)},toggleDisplayBlocks:function(){const a=t.element.wysiwyg;l.toggleClass(a,"se-show-block"),l.hasClass(a,"se-show-block")?l.addClass(this._styleCommandMap.showBlocks,"active"):l.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const a=this._variable.isCodeView;this.controllersOff(),l.setDisabledButtons(!a,this.codeViewDisabledButtons),a?(l.isNonEditable(t.element.wysiwygFrame)||this._setCodeDataToEditor(),t.element.wysiwygFrame.scrollTop=0,t.element.code.style.display="none",t.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(t.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),l.removeClass(this._styleCommandMap.codeView,"active"),l.isNonEditable(t.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?t.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height=t.element.code.scrollHeight>0?t.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(t.element._arrow.style.display="none",t.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,t.element.code.focus(),l.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&l.setDisabledButtons(!0,this.resizingDisabledButtons),typeof w.toggleCodeView=="function"&&w.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const a=this._getCodeView();if(s.fullPage){const c=this._parser.parseFromString(a,"text/html");if(!this.options.__allowedScriptTag){const m=c.head.children;for(let v=0,p=m.length;v<p;v++)/^script$/i.test(m[v].tagName)&&(c.head.removeChild(m[v]),v--,p--)}let h=c.head.innerHTML;(!c.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!c.head.querySelector("style"))&&(h+=l._setIframeCssTags(this.options)),this._wd.head.innerHTML=h,this._wd.body.innerHTML=this.convertContentsForEditor(c.body.innerHTML);const b=c.body.attributes;for(let m=0,v=b.length;m<v;m++)b[m].name!=="contenteditable"&&this._wd.body.setAttribute(b[m].name,b[m].value);if(!l.hasClass(this._wd.body,"sun-editor-editable")){const m=s._editableClass.split(" ");for(let v=0;v<m.length;v++)l.addClass(this._wd.body,s._editableClass[v])}}else t.element.wysiwyg.innerHTML=a.length>0?this.convertContentsForEditor(a):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){const a=this.convertHTMLForCodeView(t.element.wysiwyg,!1);let c="";if(s.fullPage){const h=l.getAttributesToString(this._wd.body,null);c=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+h+`>
`+a+`</body>
</html>`}else c=a;t.element.code.style.display="block",t.element.wysiwygFrame.style.display="none",this._setCodeView(c)},toggleFullScreen:function(a){const c=t.element.topArea,h=t.element.toolbar,b=t.element.editorArea,m=t.element.wysiwygFrame,v=t.element.code,p=this._variable;this.controllersOff();const _=h.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;p.isFullScreen?(p.isFullScreen=!1,m.style.cssText=p._wysiwygOriginCssText,v.style.cssText=p._codeOriginCssText,h.style.cssText="",b.style.cssText=p._editorAreaOriginCssText,c.style.cssText=p._originCssText,r.body.style.overflow=p._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&g._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(h),s.stickyToolbar>-1&&l.removeClass(h,"se-toolbar-sticky"),p._fullScreenAttrs.sticky&&!s.toolbarContainer&&(p._fullScreenAttrs.sticky=!1,t.element._stickyDummy.style.display="block",l.addClass(h,"se-toolbar-sticky")),this._isInline=p._fullScreenAttrs.inline,this._isBalloon=p._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),s.toolbarContainer&&l.removeClass(h,"se-toolbar-balloon"),g.onScroll_window(),a&&l.changeElement(a.firstElementChild,f.expansion),t.element.topArea.style.marginTop="",l.removeClass(this._styleCommandMap.fullScreen,"active")):(p.isFullScreen=!0,p._fullScreenAttrs.inline=this._isInline,p._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&t.element.relative.insertBefore(h,b),c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.maxWidth="100%",c.style.height="100%",c.style.zIndex="2147483647",t.element._stickyDummy.style.display!==""&&(p._fullScreenAttrs.sticky=!0,t.element._stickyDummy.style.display="none",l.removeClass(h,"se-toolbar-sticky")),p._bodyOverflow=r.body.style.overflow,r.body.style.overflow="hidden",p._editorAreaOriginCssText=b.style.cssText,p._wysiwygOriginCssText=m.style.cssText,p._codeOriginCssText=v.style.cssText,b.style.cssText=h.style.cssText="",m.style.cssText=(m.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,v.style.cssText=(v.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],h.style.width=m.style.height=v.style.height="100%",h.style.position="relative",h.style.display="block",p.innerHeight_fullScreen=d.innerHeight-h.offsetHeight,b.style.height=p.innerHeight_fullScreen-s.fullScreenOffset+"px",a&&l.changeElement(a.firstElementChild,f.reduction),s.iframe&&s.height==="auto"&&(b.style.overflow="auto",this._iframeAutoHeight()),t.element.topArea.style.marginTop=s.fullScreenOffset+"px",l.addClass(this._styleCommandMap.fullScreen,"active")),_&&w.toolbar.hide(),typeof w.toggleFullScreen=="function"&&w.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const a=l.createElement("IFRAME");a.style.display="none",r.body.appendChild(a);const c=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=l.getIframeDocument(a),b=this._wd;if(s.iframe){const m=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(b.body,["contenteditable"]):'class="'+s._editableClass+'"';h.write("<!DOCTYPE html><html><head>"+b.head.innerHTML+"</head><body "+m+">"+c+"</body></html>")}else{const m=r.head.getElementsByTagName("link"),v=r.head.getElementsByTagName("style");let p="";for(let _=0,E=m.length;_<E;_++)p+=m[_].outerHTML;for(let _=0,E=v.length;_<E;_++)p+=v[_].outerHTML;h.write("<!DOCTYPE html><html><head>"+p+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+c+"</body></html>")}this.showLoading(),d.setTimeout(function(){try{if(a.focus(),l.isIE_Edge||l.isChromium||r.documentMode||d.StyleMedia)try{a.contentWindow.document.execCommand("print",!1,null)}catch{a.contentWindow.print()}else a.contentWindow.print()}catch(m){throw Error("[SUNEDITOR.core.print.fail] error: "+m)}finally{u.closeLoading(),l.removeItem(a)}},1e3)},preview:function(){u.submenuOff(),u.containerOff(),u.controllersOff();const a=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),c=d.open("","_blank");c.mimeType="text/html";const h=this._wd;if(s.iframe){const b=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(h.body,["contenteditable"]):'class="'+s._editableClass+'"';c.document.write("<!DOCTYPE html><html><head>"+h.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+b+">"+a+"</body></html>")}else{const b=r.head.getElementsByTagName("link"),m=r.head.getElementsByTagName("style");let v="";for(let p=0,_=b.length;p<_;p++)v+=b[p].outerHTML;for(let p=0,_=m.length;p<_;p++)v+=m[p].outerHTML;c.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+v+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+a+"</body></html>")}},setDir:function(a){const c=a==="rtl",h=this._prevRtl!==c;this._prevRtl=s.rtl=c,h&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),t.tool.indent&&l.changeElement(t.tool.indent.firstElementChild,f.indent),t.tool.outdent&&l.changeElement(t.tool.outdent.firstElementChild,f.outdent));const b=t.element;c?(l.addClass(b.topArea,"se-rtl"),l.addClass(b.wysiwygFrame,"se-rtl")):(l.removeClass(b.topArea,"se-rtl"),l.removeClass(b.wysiwygFrame,"se-rtl"));const m=l.getListChildren(b.wysiwyg,function(p){return l.isFormatElement(p)&&(p.style.marginRight||p.style.marginLeft||p.style.textAlign)});for(let p=0,_=m.length,E,y,S;p<_;p++)E=m[p],S=E.style.marginRight,y=E.style.marginLeft,(S||y)&&(E.style.marginRight=y,E.style.marginLeft=S),S=E.style.textAlign,S==="left"?E.style.textAlign="right":S==="right"&&(E.style.textAlign="left");const v=t.tool;v.dir&&(l.changeTxt(v.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),l.changeElement(v.dir.firstElementChild,f[s.rtl?"dir_ltr":"dir_rtl"])),v.dir_ltr&&(c?l.removeClass(v.dir_ltr,"active"):l.addClass(v.dir_ltr,"active")),v.dir_rtl&&(c?l.addClass(v.dir_rtl,"active"):l.removeClass(v.dir_rtl,"active"))},setContents:function(a){this.removeRange();const c=a==null?"":this.convertContentsForEditor(a,null,null);if(!this._variable.isCodeView)t.element.wysiwyg.innerHTML=c,this._resetComponents(),this.history.push(!1);else{const h=this.convertHTMLForCodeView(c,!1);this._setCodeView(h)}},setIframeContents:function(a){if(!s.iframe)return!1;a.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?a.head:a.head.replace(this.__scriptTagRegExp,"")),a.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(a.body)),this._resetComponents()},getContents:function(a){const c=this.cleanHTML(t.element.wysiwyg.innerHTML,null,null),h=l.createElement("DIV");h.innerHTML=c;const b=l.getListChildren(h,function(m){return m.hasAttribute("contenteditable")});for(let m=0,v=b.length;m<v;m++)b[m].removeAttribute("contenteditable");if(s.fullPage&&!a){const m=l.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+m+">"+h.innerHTML+"</body></html>"}else return h.innerHTML},getFullContents:function(a){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(a)+"</div>"},_makeLine:function(a,c){const h=s.defaultTag;if(a.nodeType===1){if(this.__disallowedTagNameRegExp.test(a.nodeName))return"";if(/__se__tag/.test(a.className))return a.outerHTML;const b=l.getListChildNodes(a,function(m){return l.isSpanWithoutAttr(m)&&!l.getParentElement(m,l.isNotCheckingNode)})||[];for(let m=b.length-1;m>=0;m--)b[m].outerHTML=b[m].innerHTML;return!c||l.isFormatElement(a)||l.isRangeFormatElement(a)||l.isComponent(a)||l.isFigures(a)||l.isAnchor(a)&&l.isMedia(a.firstElementChild)?l.isSpanWithoutAttr(a)?a.innerHTML:a.outerHTML:"<"+h+">"+(l.isSpanWithoutAttr(a)?a.innerHTML:a.outerHTML)+"</"+h+">"}if(a.nodeType===3){if(!c)return l._HTMLConvertor(a.textContent);const b=a.textContent.split(/\n/g);let m="";for(let v=0,p=b.length,_;v<p;v++)_=b[v].trim(),_.length>0&&(m+="<"+h+">"+l._HTMLConvertor(_)+"</"+h+">");return m}return a.nodeType===8&&this._allowHTMLComments?"<!--"+a.textContent.trim()+"-->":""},_tagConvertor:function(a){if(!this._disallowedTextTagsRegExp)return a;const c=s._textTagsMap;return a.replace(this._disallowedTextTagsRegExp,function(h,b,m,v){return b+(typeof c[m]=="string"?c[m]:m)+(v?" "+v:"")})},_deleteDisallowedTags:function(a){return a=a.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(a=a.replace(/(<\/?)font(\s?)/gi,"$1span$2")),a.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(a,c){const h=this._w.Math,b=c.match(/(\d+(?:\.\d+)?)(.+)/),m=b?b[1]*1:l.fontValueMap[c],v=b?b[2]:"rem";let p=m;switch(/em/.test(v)?p=h.round(m/.0625):v==="pt"?p=h.round(m*1.333):v==="%"&&(p=m/100),a){case"em":case"rem":case"%":return(p*.0625).toFixed(2)+a;case"pt":return h.round(p/1.333)+a;default:return p+a}},_cleanStyle:function(a,c,h){let b=(a.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(h)&&!b&&(a.match(/<[^\s]+\s(.+)/)||[])[1]){const m=(a.match(/\ssize="([^"]+)"/i)||[])[1],v=(a.match(/\sface="([^"]+)"/i)||[])[1],p=(a.match(/\scolor="([^"]+)"/i)||[])[1];(m||v||p)&&(b='style="'+(m?"font-size:"+this.util.getNumber(m/3.333,1)+"rem;":"")+(v?"font-family:"+v+";":"")+(p?"color:"+p+";":"")+'"')}if(b){c||(c=[]);const m=b.replace(/&quot;/g,"").match(this._cleanStyleRegExp[h]);if(m){const v=[];for(let p=0,_=m.length,E;p<_;p++)if(E=m[p].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),E&&!/inherit|initial|revert|unset/i.test(E[3])){const y=l.kebabToCamelCase(E[1].trim()),S=this.wwComputedStyle[y]?this.wwComputedStyle[y].replace(/"/g,""):"",N=E[3].trim();switch(y){case"fontFamily":if(!s.plugins.font||s.font.indexOf(N)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(E[0])||(E[0]=E[0].replace((E[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(N))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(N))continue;break}S!==N&&v.push(E[0])}v.length>0&&c.push('style="'+v.join(";")+'"')}}return c},_cleanTags:function(a,c,h){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(c))return c;let b=null;const m=h.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),v=this._attributesTagsBlacklist[m];c=c.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),v?c=c.replace(v,""):c=c.replace(this._attributesBlacklistRegExp,"");const p=this._attributesTagsWhitelist[m];if(p?b=c.match(p):b=c.match(a?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),a||m==="span"||m==="li"||this._cleanStyleRegExp[m])if(m==="a"){const _=c.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);_&&(b||(b=[]),b.push(_[0]))}else(!b||!/style=/i.test(b.toString()))&&((m==="span"||m==="li")&&(b=this._cleanStyle(c,b,"span")),this._cleanStyleRegExp[m]?b=this._cleanStyle(c,b,m):/^(P|DIV|H[1-6]|PRE)$/i.test(m)&&(b=this._cleanStyle(c,b,"format")));else{const _=c.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);_&&!b?b=[_[0]]:_&&!b.some(function(E){return/^style/.test(E.trim())})&&b.push(_[0])}if(l.isFigures(m)){const _=c.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);b||(b=[]),_&&b.push(_[0])}if(b)for(let _=0,E=b.length,y;_<E;_++)y=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(b[_].trim())?"":b[_],h+=(/^\s/.test(y)?"":" ")+y;return h},_editFormat:function(a){let c="",h;const b=a.childNodes;for(let m=0,v=b.length,p;m<v;m++)p=b[m],p.nodeType===8?c+="<!-- "+p.textContent+" -->":!l.isFormatElement(p)&&!l.isRangeFormatElement(p)&&!l.isComponent(p)&&!/meta/i.test(p.nodeName)?(h||(h=l.createElement(s.defaultTag)),l.isTextStyleElement(p)&&p.removeAttribute("style"),h.appendChild(p),m--,v--):(h&&(c+=h.outerHTML,h=null),c+=p.outerHTML);return h&&(c+=h.outerHTML),r.createRange().createContextualFragment(c)},_convertListCell:function(a){let c="";for(let h=0,b=a.length,m;h<b;h++)m=a[h],m.nodeType===1?l.isList(m)?c+=m.innerHTML:l.isListCell(m)?c+=m.outerHTML:l.isFormatElement(m)?c+="<li>"+(m.innerHTML.trim()||"<br>")+"</li>":l.isRangeFormatElement(m)&&!l.isTable(m)?c+=this._convertListCell(m):c+="<li>"+m.outerHTML+"</li>":c+="<li>"+(m.textContent||"<br>")+"</li>";return c},_isFormatData:function(a){let c=!1;for(let h=0,b=a.length,m;h<b;h++)if(m=a[h],m.nodeType===1&&!l.isTextStyleElement(m)&&!l.isBreak(m)&&!this.__disallowedTagNameRegExp.test(m.nodeName)){c=!0;break}return c},cleanHTML:function(a,c,h){if(!s.strictMode)return l.htmlCompress(a);a=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(a),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const b=r.createRange().createContextualFragment(a);try{l._consistencyCheckOfHTML(b,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(_){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+_)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const _=b.querySelectorAll(this.managedTagsInfo.query);for(let E=0,y=_.length,S,N;E<y;E++){N=[].slice.call(_[E].classList);for(let L=0,k=N.length;L<k;L++)if(S=this.managedTagsInfo.map[N[L]],S){S(_[E]);break}}}let m=b.childNodes,v="";const p=this._isFormatData(m);p&&(m=this._editFormat(b).childNodes);for(let _=0,E=m.length,y;_<E;_++){if(y=m[_],this.__allowedScriptRegExp.test(y.nodeName)){v+=y.outerHTML;continue}v+=this._makeLine(y,p)}return v=l.htmlRemoveWhiteSpace(v),v?(c&&(v=v.replace(typeof c=="string"?l.createTagsWhitelist(c):c,"")),h&&(v=v.replace(typeof h=="string"?l.createTagsBlacklist(h):h,""))):v=a,this._tagConvertor(v)},convertContentsForEditor:function(a){if(!s.strictMode)return l.htmlCompress(a);a=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(a),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const c=r.createRange().createContextualFragment(a);try{l._consistencyCheckOfHTML(c,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(v){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+v)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const v=c.querySelectorAll(this.managedTagsInfo.query);for(let p=0,_=v.length,E,y;p<_;p++){y=[].slice.call(v[p].classList);for(let S=0,N=y.length;S<N;S++)if(E=this.managedTagsInfo.map[y[S]],E){E(v[p]);break}}}const h=c.childNodes;let b="",m=null;for(let v=0,p;v<h.length;v++){if(p=h[v],this.__allowedScriptRegExp.test(p.nodeName)){b+=p.outerHTML;continue}if(!l.isFormatElement(p)&&!l.isRangeFormatElement(p)&&!l.isComponent(p)&&!l.isFigures(p)&&p.nodeType!==8&&!/__se__tag/.test(p.className)){if(m||(m=l.createElement(s.defaultTag)),m.appendChild(p),v--,h[v+1]&&!l.isFormatElement(h[v+1]))continue;p=m,m=null}m&&(b+=this._makeLine(m,!0),m=null),b+=this._makeLine(p,!0)}return m&&(b+=this._makeLine(m,!0)),b.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(b=l.htmlRemoveWhiteSpace(b),this._tagConvertor(b))},convertHTMLForCodeView:function(a,c){let h="";const b=d.RegExp,m=new b("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),v=typeof a=="string"?r.createRange().createContextualFragment(a):a,p=(function(y){return this.isFormatElement(y)||this.isComponent(y)}).bind(l),_=c?"":`
`;let E=c?0:this._variable.codeIndent*1;return E=E>0?new d.Array(E+1).join(" "):"",(function y(S,N){const L=S.childNodes,k=m.test(S.nodeName),M=k?N:"";for(let $=0,F=L.length,H,z,P,I,R,D;$<F;$++){if(H=L[$],I=m.test(H.nodeName),z=I?_:"",P=p(H)&&!k&&!/^(TH|TD)$/i.test(S.nodeName)?_:"",H.nodeType===8){h+=`
<!-- `+H.textContent.trim()+" -->"+z;continue}if(H.nodeType===3){l.isList(H.parentElement)||(h+=l._HTMLConvertor(/^\n+$/.test(H.data)?"":H.data));continue}if(H.childNodes.length===0){h+=(/^HR$/i.test(H.nodeName)?_:"")+(/^PRE$/i.test(H.parentElement.nodeName)&&/^BR$/i.test(H.nodeName)?"":M)+H.outerHTML+z;continue}H.outerHTML?(R=H.nodeName.toLowerCase(),D=M||I?N:"",h+=(P||(k?"":z))+D+H.outerHTML.match(b("<"+R+"[^>]*>","i"))[0]+z,y(H,N+E),h+=(/\n$/.test(h)?D:"")+"</"+R+">"+(P||z||k||/^(TH|TD)$/i.test(H.nodeName)?_:"")):h+=new d.XMLSerializer().serializeToString(H)}})(v,""),h.trim()+_},addDocEvent:function(a,c,h){r.addEventListener(a,c,h),s.iframe&&this._wd.addEventListener(a,c)},removeDocEvent:function(a,c){r.removeEventListener(a,c),s.iframe&&this._wd.removeEventListener(a,c)},_charCount:function(a){const c=s.maxCharCount,h=s.charCounterType;let b=0;if(a&&(b=this.getCharLength(a,h)),this._setCharCount(),c>0){let m=!1;const v=w.getCharCount(h);if(v>c){if(m=!0,b>0){this._editorRange();const p=this.getRange(),_=p.endOffset-1,E=this.getSelectionNode().textContent,y=p.endOffset-(v-c);this.getSelectionNode().textContent=E.slice(0,y<0?0:y)+E.slice(p.endOffset,E.length),this.setRange(p.endContainer,_,p.endContainer,_)}}else v+b>c&&(m=!0);if(m&&(this._callCounterBlink(),b>0))return!1}return!0},checkCharCount:function(a,c){if(s.maxCharCount){const h=c||s.charCounterType,b=this.getCharLength(typeof a=="string"?a:this._charTypeHTML&&a.nodeType===1?a.outerHTML:a.textContent,h);if(b>0&&b+w.getCharCount(h)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(a,c){return/byte/.test(c)?l.getByteLength(a):a.length},resetResponsiveToolbar:function(){u.controllersOff();const a=g._responsiveButtonSize;if(a){let c=0;(u._isBalloon||u._isInline)&&s.toolbarWidth==="auto"?c=t.element.topArea.offsetWidth:c=t.element.toolbar.offsetWidth;let h="default";for(let b=1,m=a.length;b<m;b++)if(c<a[b]){h=a[b]+"";break}g._responsiveCurrentSize!==h&&(g._responsiveCurrentSize=h,w.setToolbarButtons(g._responsiveButtons[h]))}},_setCharCount:function(){t.element.charCounter&&d.setTimeout((function(a,c){this.textContent&&a&&(this.textContent=a.getCharCount(c.charCounterType))}).bind(t.element.charCounter,w,s),0)},_callCounterBlink:function(){const a=t.element.charWrapper;a&&!l.hasClass(a,"se-blink")&&(l.addClass(a,"se-blink"),d.setTimeout(function(){l.removeClass(a,"se-blink")},600))},_checkComponents:function(){for(let a=0,c=this._fileInfoPluginsCheck.length;a<c;a++)this._fileInfoPluginsCheck[a]()},_resetComponents:function(){for(let a=0,c=this._fileInfoPluginsReset.length;a<c;a++)this._fileInfoPluginsReset[a]()},_setCodeView:function(a){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(a):t.element.code.value=a},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():t.element.code.value},_setKeyEffect:function(a){const c=this.commandMap,h=this.activePlugins;for(let b in c)a.indexOf(b)>-1||!l.hasOwn(c,b)||(h.indexOf(b)>-1?i[b].active.call(this,null):c.OUTDENT&&/^OUTDENT$/i.test(b)?l.isImportantDisabled(c.OUTDENT)||c.OUTDENT.setAttribute("disabled",!0):c.INDENT&&/^INDENT$/i.test(b)?l.isImportantDisabled(c.INDENT)||c.INDENT.removeAttribute("disabled"):l.removeClass(c[b],"active"))},_init:function(a,c){const h=d.RegExp;this._ww=s.iframe?t.element.wysiwygFrame.contentWindow:d,this._wd=r,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=d.getComputedStyle(t.element.wysiwyg),this._editorHeight=t.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=l.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+l.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(I){return this.test(I)?I:""}).bind(s.allowedClassNames);const b=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new h("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new h("<("+b+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+b+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new h("^("+b+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new h("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof d.ShadowRoot=="function"){let I=t.element.wysiwygFrame;for(;I;){if(I.shadowRoot){this._shadowRoot=I.shadowRoot;break}else if(I instanceof d.ShadowRoot){this._shadowRoot=I;break}I=I.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const m=d.Object.keys(s._textTagsMap),v=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(I){return/b|i|ins|s|strike/i.test(I)}):[];for(let I=0;I<v.length;I++)m.splice(m.indexOf(v[I].toLowerCase()),1);this._disallowedTextTagsRegExp=m.length===0?null:new h("(<\\/?)("+m.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const p=function(I,R){return I?I==="*"?"[a-z-]+":R?I+"|"+R:I:"^"},y="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",S="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new h("^("+p(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new h("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=l.createTagsWhitelist(p(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=l.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=l.createTagsWhitelist(p(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=l.createTagsBlacklist(s.pasteTagsBlacklist);const N='\\s*=\\s*(")[^"]*\\1',L=s.attributesWhitelist;let k={},M="";if(L)for(let I in L)!l.hasOwn(L,I)||/^on[a-z]+$/i.test(L[I])||(I==="all"?M=p(L[I],y):k[I]=new h("\\s(?:"+p(L[I],y)+")"+N,"ig"));this._attributesWhitelistRegExp=new h("\\s(?:"+(M||y+"|"+S)+")"+N,"ig"),this._attributesWhitelistRegExp_all_data=new h("\\s(?:"+((M||y)+"|data-[a-z0-9\\-]+")+")"+N,"ig"),this._attributesTagsWhitelist=k;const $=s.attributesBlacklist;if(k={},M="",$)for(let I in $)l.hasOwn($,I)&&(I==="all"?M=p($[I],""):k[I]=new h("\\s(?:"+p($[I],"")+")"+N,"ig"));this._attributesBlacklistRegExp=new h("\\s(?:"+(M||"^")+")"+N,"ig"),this._attributesTagsBlacklist=k,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const F=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let H=[],z,P;for(let I in i)if(l.hasOwn(i,I)){if(z=i[I],P=e[I],(z.active||z.action)&&P&&this.callPlugin(I,null,P),typeof z.checkFileInfo=="function"&&typeof z.resetFileInfo=="function"&&(this.callPlugin(I,null,P),this._fileInfoPluginsCheck.push(z.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(z.resetFileInfo.bind(this))),d.Array.isArray(z.fileTags)){const R=z.fileTags;this.callPlugin(I,null,P),this._fileManager.tags=this._fileManager.tags.concat(R),H.push(I);for(let D=0,B=R.length;D<B;D++)this._fileManager.pluginMap[R[D].toLowerCase()]=I}if(z.managedTags){const R=z.managedTags();F.push("."+R.className),this.managedTagsInfo.map[R.className]=R.method.bind(this)}}this.managedTagsInfo.query=F.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new h("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new h("^("+(H.length===0?"^":H.join("|"))+")$","i"),this._variable._originCssText=t.element.topArea.style.cssText,this._placeholder=t.element.placeholder,this._lineBreaker=t.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=mh(this,this._onChange_historyStack.bind(this)),this.addModule([Pa]),s.iframe&&(this._wd=t.element.wysiwygFrame.contentDocument,t.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(t.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(a,c)},_cachingButtons:function(){this.codeViewDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const a=t.tool,c=this.commandMap;c.INDENT=a.indent,c.OUTDENT=a.outdent,c[s.textTags.bold.toUpperCase()]=a.bold,c[s.textTags.underline.toUpperCase()]=a.underline,c[s.textTags.italic.toUpperCase()]=a.italic,c[s.textTags.strike.toUpperCase()]=a.strike,c[s.textTags.sub.toUpperCase()]=a.subscript,c[s.textTags.sup.toUpperCase()]=a.superscript,this._styleCommandMap={fullScreen:a.fullScreen,showBlocks:a.showBlocks,codeView:a.codeView},this._saveButtonStates()},_initWysiwygArea:function(a,c){t.element.wysiwyg.innerHTML=a?c:this.convertContentsForEditor((typeof c=="string"?c:/^TEXTAREA$/i.test(t.element.originElement.nodeName)?t.element.originElement.value:t.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,t.tool.save&&t.tool.save.removeAttribute("disabled"),w.onChange&&w.onChange(this.getContents(!0),this),t.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?d.setTimeout(function(){const a=u._iframeAuto.offsetHeight;t.element.wysiwygFrame.style.height=a+"px",l.isResizeObserverSupported||u.__callResizeFunction(a,null)}):l.isResizeObserverSupported||u.__callResizeFunction(t.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(a,c){a=a===-1?c.borderBoxSize&&c.borderBoxSize[0]?c.borderBoxSize[0].blockSize:c.contentRect.height+this._editorHeightPadding:a,this._editorHeight!==a&&(typeof w.onResizeEditor=="function"&&w.onResizeEditor(a,this._editorHeight,u,c),this._editorHeight=a)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const a=t.element.wysiwyg;!l.onlyZeroWidthSpace(a.textContent)||a.querySelector(l._allowedEmptyNodeList)||(a.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(a){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const c=this.getRange(),h=c.commonAncestorContainer,b=c.startContainer,m=l.getRangeFormatElement(h,null);let v,p,_;const E=l.getParentElement(h,l.isComponent);if(!(E&&!l.isTable(E))){if(h.nodeType===1&&h.getAttribute("data-se-embed")==="true"){let y=h.nextElementSibling;l.isFormatElement(y)||(y=this.appendFormatTag(h,s.defaultTag)),this.setRange(y.firstChild,0,y.firstChild,0);return}if(!((l.isRangeFormatElement(b)||l.isWysiwygDiv(b))&&(l.isComponent(b.children[c.startOffset])||l.isComponent(b.children[c.startOffset-1])))){if(l.getParentElement(h,l.isNotCheckingNode))return null;if(m){_=l.createElement(a||s.defaultTag),_.innerHTML=m.innerHTML,_.childNodes.length===0&&(_.innerHTML=l.zeroWidthSpace),m.innerHTML=_.outerHTML,_=m.firstChild,v=l.getEdgeChildNodes(_,null).sc,v||(v=l.createTextNode(l.zeroWidthSpace),_.insertBefore(v,_.firstChild)),p=v.textContent.length,this.setRange(v,p,v,p);return}if(l.isRangeFormatElement(h)&&h.childNodes.length<=1){let y=null;h.childNodes.length===1&&l.isBreak(h.firstChild)?y=h.firstChild:(y=l.createTextNode(l.zeroWidthSpace),h.appendChild(y)),this.setRange(y,1,y,1);return}try{if(h.nodeType===3&&(_=l.createElement(a||s.defaultTag),h.parentNode.insertBefore(_,h),_.appendChild(h)),l.isWysiwygDiv(h)){_=l.createElement(a||s.defaultTag),_.innerHTML=h.innerHTML,h.innerHTML="",h.appendChild(_),this.effectNode=null,this.setRange(_,1,_,1);return}if(_&&(l.isBreak(_.nextSibling)&&l.removeItem(_.nextSibling),l.isBreak(_.previousSibling)&&l.removeItem(_.previousSibling)),l.isBreak(v)){const y=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(y,v),v=y}}catch{this.execCommand("formatBlock",!1,a||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(_&&(l.isBreak(_.nextSibling)&&l.removeItem(_.nextSibling),l.isBreak(_.previousSibling)&&l.removeItem(_.previousSibling),l.isBreak(v))){const y=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(y,v),v=y}this.effectNode=null,b?this.setRange(b,1,b,1):this.nativeFocus()}}},_setOptionsInit:function(a,c){this.context=t=oo(a.originElement,this._getConstructed(a),s),this._componentsInfoReset=!0,this._editorInit(!0,c)},_editorInit:function(a,c){this._init(a,c),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),t.element.toolbar.style.visibility="";const h=s.frameAttrbutes;for(let b in h)t.element.wysiwyg.setAttribute(b,h[b]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),d.setTimeout(function(){typeof u._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(t.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(t.element._toolbarShadow),u._resourcesStateChange(),typeof w.onload=="function"&&w.onload(u,a))})},_getConstructed:function(a){return{_top:a.topArea,_relative:a.relative,_toolBar:a.toolbar,_toolbarShadow:a._toolbarShadow,_menuTray:a._menuTray,_editorArea:a.editorArea,_wysiwygArea:a.wysiwygFrame,_codeArea:a.code,_placeholder:a.placeholder,_resizingBar:a.resizingBar,_navigation:a.navigation,_charCounter:a.charCounter,_charWrapper:a.charWrapper,_loading:a.loading,_lineBreaker:a.lineBreaker,_lineBreaker_t:a.lineBreaker_t,_lineBreaker_b:a.lineBreaker_b,_resizeBack:a.resizeBackground,_stickyDummy:a._stickyDummy,_arrow:a._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new d.RegExp("^(8|46)$"),_cursorMoveKeyCode:new d.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new d.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new d.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new d.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new d.RegExp("^("+d.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new d.RegExp(l.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(a,c){let h=null;const b=g._keyCodeShortcut[a];switch(b){case"A":h="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(h="bold");break;case"S":c&&s.shortcutsDisable.indexOf("strike")===-1?h="strike":!c&&s.shortcutsDisable.indexOf("save")===-1&&(h="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(h="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(h="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(c?h="redo":h="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(h="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"outdent":"indent");break}return h?(u.commandHandler(u.commandMap[h],h),!0):!!b},_applyTagEffects:function(){if(l.hasClass(t.element.wysiwyg,"se-read-only"))return!1;let a=u.getSelectionNode();if(a===u.effectNode)return;u.effectNode=a;const c=s.rtl?"marginRight":"marginLeft",h=u.commandMap,b=g._onButtonsCheck,m=[],v=[],p=u.activePlugins,_=p.length;let E="";for(;a.firstChild;)a=a.firstChild;for(let y=a;!l.isWysiwygDiv(y)&&y;y=y.parentNode)if(!(y.nodeType!==1||l.isBreak(y))){if(E=y.nodeName.toUpperCase(),v.push(E),!u.isReadOnly)for(let S=0,N;S<_;S++)N=p[S],m.indexOf(N)===-1&&i[N].active.call(u,y)&&m.push(N);if(l.isFormatElement(y)){m.indexOf("OUTDENT")===-1&&h.OUTDENT&&!l.isImportantDisabled(h.OUTDENT)&&(l.isListCell(y)||y.style[c]&&l.getNumber(y.style[c],0)>0)&&(m.push("OUTDENT"),h.OUTDENT.removeAttribute("disabled")),m.indexOf("INDENT")===-1&&h.INDENT&&!l.isImportantDisabled(h.INDENT)&&(m.push("INDENT"),l.isListCell(y)&&!y.previousElementSibling?h.INDENT.setAttribute("disabled",!0):h.INDENT.removeAttribute("disabled"));continue}b&&b.test(E)&&(m.push(E),l.addClass(h[E],"active"))}u._setKeyEffect(m),u._variable.currentNodes=v.reverse(),u._variable.currentNodesMap=m,s.showPathLabel&&(t.element.navigation.textContent=u._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(a){let c=a.target;if(u._bindControllersOff&&a.stopPropagation(),/^(input|textarea|select|option)$/i.test(c.nodeName)?u._antiBlur=!1:a.preventDefault(),l.getParentElement(c,".se-submenu"))a.stopPropagation(),u._notHideToolbar=!0;else{let h=c.getAttribute("data-command"),b=c.className;for(;!h&&!/se-menu-list/.test(b)&&!/sun-editor-common/.test(b);)c=c.parentNode,h=c.getAttribute("data-command"),b=c.className;(h===u._submenuName||h===u._containerName)&&a.stopPropagation()}},addGlobalEvent:function(a,c,h){return s.iframe&&u._ww.addEventListener(a,c,h),u._w.addEventListener(a,c,h),{type:a,listener:c,useCapture:h}},removeGlobalEvent:function(a,c,h){a&&(typeof a=="object"&&(c=a.listener,h=a.useCapture,a=a.type),s.iframe&&u._ww.removeEventListener(a,c,h),u._w.removeEventListener(a,c,h))},onClick_toolbar:function(a){let c=a.target,h=c.getAttribute("data-display"),b=c.getAttribute("data-command"),m=c.className;for(u.controllersOff();c.parentNode&&!b&&!/se-menu-list/.test(m)&&!/se-toolbar/.test(m);)c=c.parentNode,b=c.getAttribute("data-command"),h=c.getAttribute("data-display"),m=c.className;!b&&!h||c.disabled||u.actionCall(b,h,c)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(a){if(u.isReadOnly||l.isNonEditable(t.element.wysiwyg))return;if(l._isExcludeSelectionElement(a.target)){a.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){u&&u._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof w.onMouseDown=="function"&&w.onMouseDown(a,u)===!1)return;const c=l.getParentElement(a.target,l.isCell);if(c){const h=u.plugins.table;h&&c!==h._fixedCell&&!h._shift&&u.callPlugin("table",function(){h.onTableCellMultiSelect.call(u,c,!1)},null)}u._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(a){const c=a.target;if(u.isReadOnly)return a.preventDefault(),l.isAnchor(c)&&d.open(c.href,c.target),!1;if(l.isNonEditable(t.element.wysiwyg)||typeof w.onClick=="function"&&w.onClick(a,u)===!1)return;const h=u.getFileComponent(c);if(h){a.preventDefault(),u.selectComponent(h.target,h.pluginName);return}const b=l.getParentElement(c,"FIGCAPTION");if(b&&l.isNonEditable(b)&&(a.preventDefault(),b.focus(),u._isInline&&!u._inlineToolbarAttr.isShow)){g._showToolbarInline();const y=function(){g._hideToolbar(),b.removeEventListener("blur",y)};b.addEventListener("blur",y)}if(u._editorRange(),a.detail===3){let y=u.getRange();l.isFormatElement(y.endContainer)&&y.endOffset===0&&(y=u.setRange(y.startContainer,y.startOffset,y.startContainer,y.startContainer.length),u._rangeInfo(y,u.getSelection()))}const m=u.getSelectionNode(),v=l.getFormatElement(m,null),p=l.getRangeFormatElement(m,null);let _=m;for(;_&&_.firstChild;)_=_.firstChild;const E=u.getFileComponent(_);if(E){const y=u.getRange();!p&&y.startContainer===y.endContainer&&u.selectComponent(E.target,E.pluginName)}else u.currentFileComponentInfo&&u.controllersOff();if(!v&&!l.isNonEditable(c)&&!l.isList(p)){const y=u.getRange();if(l.getFormatElement(y.startContainer)===l.getFormatElement(y.endContainer))if(l.isList(p)){a.preventDefault();const S=l.createElement("LI"),N=m.nextElementSibling;S.appendChild(m),p.insertBefore(S,N),u.focus()}else!l.isWysiwygDiv(m)&&!l.isComponent(m)&&(!l.isTable(m)||l.isCell(m))&&u._setDefaultFormat(l.isRangeFormatElement(p)?"DIV":s.defaultTag)!==null?(a.preventDefault(),u.focus()):g._applyTagEffects()}else g._applyTagEffects();u._isBalloon&&d.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&d.clearTimeout(g._balloonDelay),g._balloonDelay=d.setTimeout((function(){d.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(g),350)},_toggleToolbarBalloon:function(){if(u){u._editorRange();const a=u.getRange();u._bindControllersOff||!u._isBalloonAlways&&a.collapsed?g._hideToolbar():g._showToolbarBalloon(a)}},_showToolbarBalloon:function(a){if(!u._isBalloon)return;const c=a||u.getRange(),h=t.element.toolbar,b=t.element.topArea,m=u.getSelection();let v;if(u._isBalloonAlways&&c.collapsed)v=!0;else if(m.focusNode===m.anchorNode)v=m.focusOffset<m.anchorOffset;else{const z=l.getListChildNodes(c.commonAncestorContainer,null);v=l.getArrayIndex(z,m.focusNode)<l.getArrayIndex(z,m.anchorNode)}let p=c.getClientRects();p=p[v?0:p.length-1];const _=u.getGlobalScrollOffset();let E=_.left,y=_.top;const S=b.offsetWidth,N=g._getEditorOffsets(null),L=N.top,k=N.left;if(h.style.top="-10000px",h.style.visibility="hidden",h.style.display="block",!p){const z=u.getSelectionNode();if(l.isFormatElement(z)){const P=l.createTextNode(l.zeroWidthSpace);u.insertNode(P,null,!1),u.setRange(P,1,P,1),u._editorRange(),p=u.getRange().getClientRects(),p=p[v?0:p.length-1]}if(!p){const P=l.getOffset(z,t.element.wysiwygFrame);p={left:P.left,top:P.top,right:P.left,bottom:P.top+z.offsetHeight,noText:!0},E=0,y=0}v=!0}const M=d.Math.round(t.element._arrow.offsetWidth/2),$=h.offsetWidth,F=h.offsetHeight,H=/iframe/i.test(t.element.wysiwygFrame.nodeName)?t.element.wysiwygFrame.getClientRects()[0]:null;if(H&&(p={left:p.left+H.left,top:p.top+H.top,right:p.right+H.right-H.width,bottom:p.bottom+H.bottom-H.height}),g._setToolbarOffset(v,p,h,k,S,E,y,L,M),($!==h.offsetWidth||F!==h.offsetHeight)&&g._setToolbarOffset(v,p,h,k,S,E,y,L,M),s.toolbarContainer){const z=b.parentElement;let P=s.toolbarContainer,I=P.offsetLeft,R=P.offsetTop;for(;!P.parentElement.contains(z)||!/^(BODY|HTML)$/i.test(P.parentElement.nodeName);)P=P.offsetParent,I+=P.offsetLeft,R+=P.offsetTop;h.style.left=h.offsetLeft-I+b.offsetLeft+"px",h.style.top=h.offsetTop-R+b.offsetTop+"px"}h.style.visibility=""},_setToolbarOffset:function(a,c,h,b,m,v,p,_,E){const S=h.offsetWidth,N=c.noText&&!a?0:h.offsetHeight,L=(a?c.left:c.right)-b-S/2+v,k=L+S-m;let M=(a?c.top-N-E:c.bottom+E)-(c.noText?0:_)+p,$=L<0?1:k<0?L:L-k-1-1,F=!1;const H=M+(a?g._getEditorOffsets(null).top:h.offsetHeight-t.element.wysiwyg.offsetHeight);!a&&H>0&&g._getPageBottomSpace()<H?(a=!0,F=!0):a&&r.documentElement.offsetTop>H&&(a=!1,F=!0),F&&(M=(a?c.top-N-E:c.bottom+E)-(c.noText?0:_)+p),h.style.left=d.Math.floor($)+"px",h.style.top=d.Math.floor(M)+"px",a?(l.removeClass(t.element._arrow,"se-arrow-up"),l.addClass(t.element._arrow,"se-arrow-down"),t.element._arrow.style.top=N+"px"):(l.removeClass(t.element._arrow,"se-arrow-down"),l.addClass(t.element._arrow,"se-arrow-up"),t.element._arrow.style.top=-E+"px");const z=d.Math.floor(S/2+(L-$));t.element._arrow.style.left=(z+E>h.offsetWidth?h.offsetWidth-E:z<E?E:z)+"px"},_showToolbarInline:function(){if(!u._isInline)return;const a=t.element.toolbar;s.toolbarContainer?a.style.position="relative":a.style.position="absolute",a.style.visibility="hidden",a.style.display="block",u._inlineToolbarAttr.width=a.style.width=s.toolbarWidth,u._inlineToolbarAttr.top=a.style.top=(s.toolbarContainer?0:-1-a.offsetHeight)+"px",typeof w.showInline=="function"&&w.showInline(a,t,u),g.onScroll_window(),u._inlineToolbarAttr.isShow=!0,a.style.visibility=""},_hideToolbar:function(){!u._notHideToolbar&&!u._variable.isFullScreen&&(t.element.toolbar.style.display="none",u._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(a){if(/AUDIO/.test(a.target.nodeName))return!1;if(u.isReadOnly||u.isDisabled)return a.preventDefault(),a.stopPropagation(),u.history.go(u.history.getCurrentIndex()),!1;const c=u.getRange(),h=u.getSelectionNode(),b=l.getFormatElement(h,null);if(!b&&c.collapsed&&!l.isComponent(h)&&!l.isList(h)){const v=l.getRangeFormatElement(b,null);u._setDefaultFormat(l.isRangeFormatElement(v)?"DIV":s.defaultTag)}u._editorRange();const m=(a.data===null?"":a.data===void 0?" ":a.data)||"";if(!u._charCount(m))return a.preventDefault(),a.stopPropagation(),!1;typeof w.onInput=="function"&&w.onInput(a,u)===!1||u.history.push(!0)},_isUneditableNode:function(a,c){const h=c?a.startContainer:a.endContainer,b=c?a.startOffset:a.endOffset,m=c?"previousSibling":"nextSibling",v=h.nodeType===1;let p;return v?(p=g._isUneditableNode_getSibling(h.childNodes[b],m,h),p&&p.nodeType===1&&p.getAttribute("contenteditable")==="false"):(p=g._isUneditableNode_getSibling(h,m,h),u.isEdgePoint(h,b,c?"start":"end")&&p&&p.nodeType===1&&p.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(a,c,h){if(!a)return null;let b=a[c];if(!b)if(b=l.getFormatElement(h),b=b?b[c]:null,b&&!l.isComponent(b))b=c==="previousSibling"?b.firstChild:b.lastChild;else return null;return b},_onShortcutKey:!1,onKeyDown_wysiwyg:function(a){let c=u.getSelectionNode();if(l.isInputElement(c))return;const h=a.keyCode,b=a.shiftKey,m=a.ctrlKey||a.metaKey||h===91||h===92||h===224,v=a.altKey;if(g._IEisComposing=h===229,!m&&u.isReadOnly&&!g._cursorMoveKeyCode.test(h))return a.preventDefault(),!1;if(u.submenuOff(),u._isBalloon&&g._hideToolbar(),typeof w.onKeyDown=="function"&&w.onKeyDown(a,u)===!1)return;if(m&&g._shortcutCommand(h,b))return g._onShortcutKey=!0,a.preventDefault(),a.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1),h===13&&l.isFormatElement(u.getRange().startContainer)&&(u._resetRangeToTextNode(),c=u.getSelectionNode());const p=u.getRange(),_=!p.collapsed||p.startContainer!==p.endContainer,E=u._fileManager.pluginRegExp.test(u.currentControllerName)?u.currentControllerName:"";let y=l.getFormatElement(c,null)||c,S=l.getRangeFormatElement(y,null);if(!(/37|38|39|40/.test(a.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(a)===!1)){switch(h){case 8:if(!_&&E){a.preventDefault(),a.stopPropagation(),u.plugins[E].destroy.call(u);break}if(_&&g._hardDelete()){a.preventDefault(),a.stopPropagation();break}if(!l.isFormatElement(y)&&!t.element.wysiwyg.firstElementChild&&!l.isComponent(c)&&u._setDefaultFormat(s.defaultTag)!==null)return a.preventDefault(),a.stopPropagation(),!1;if(!_&&!y.previousElementSibling&&p.startOffset===0&&!c.previousSibling&&!l.isListCell(y)&&l.isFormatElement(y)&&(!l.isFreeFormatElement(y)||l.isClosureFreeFormatElement(y))){if(l.isClosureRangeFormatElement(y.parentNode))return a.preventDefault(),a.stopPropagation(),!1;if(l.isWysiwygDiv(y.parentNode)&&y.childNodes.length<=1&&(!y.firstChild||l.onlyZeroWidthSpace(y.textContent))){if(a.preventDefault(),a.stopPropagation(),y.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){y.innerHTML="<br>";const D=y.attributes;for(;D[0];)y.removeAttribute(D[0].name)}else{const D=l.createElement(s.defaultTag);D.innerHTML="<br>",y.parentElement.replaceChild(D,y)}return u.nativeFocus(),!1}}const L=p.startContainer;if(y&&!y.previousElementSibling&&p.startOffset===0&&L.nodeType===3&&!l.isFormatElement(L.parentNode)){let D=L.parentNode.previousSibling;const B=L.parentNode.nextSibling;D||(B?D=B:(D=l.createElement("BR"),y.appendChild(D)));let A=L;for(;y.contains(A)&&!A.previousSibling;)A=A.parentNode;if(!y.contains(A)){L.textContent="",l.removeItemAllParents(L,null,y);break}}if(g._isUneditableNode(p,!0)){a.preventDefault(),a.stopPropagation();break}!_&&u._isEdgeFormat(p.startContainer,p.startOffset,"start")&&l.isFormatElement(y.previousElementSibling)&&(u._formatAttrsTemp=y.previousElementSibling.attributes);const k=p.commonAncestorContainer;if(y=l.getFormatElement(p.startContainer,null),S=l.getRangeFormatElement(y,null),S&&y&&!l.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){if(l.isListCell(y)&&l.isList(S)&&(l.isListCell(S.parentNode)||y.previousElementSibling)&&(c===y||c.nodeType===3&&(!c.previousSibling||l.isList(c.previousSibling)))&&(l.getFormatElement(p.startContainer,null)!==l.getFormatElement(p.endContainer,null)?S.contains(p.startContainer):p.startOffset===0&&p.collapsed)){if(p.startContainer!==p.endContainer)a.preventDefault(),u.removeNode(),p.startContainer.nodeType===3&&u.setRange(p.startContainer,p.startContainer.textContent.length,p.startContainer,p.startContainer.textContent.length),u.history.push(!0);else{let D=y.previousElementSibling||S.parentNode;if(l.isListCell(D)){a.preventDefault();let B=D;if(!D.contains(y)&&l.isListCell(B)&&l.isList(B.lastElementChild)){for(B=B.lastElementChild.lastElementChild;l.isListCell(B)&&l.isList(B.lastElementChild);)B=B.lastElementChild&&B.lastElementChild.lastElementChild;D=B}let A=D===S.parentNode?S.previousSibling:D.lastChild;A||(A=l.createTextNode(l.zeroWidthSpace),S.parentNode.insertBefore(A,S.parentNode.firstChild));const O=A.nodeType===3?A.textContent.length:1,V=y.childNodes;let W=A,Z=V[0];for(;Z=V[0];)D.insertBefore(Z,W.nextSibling),W=Z;l.removeItem(y),S.children.length===0&&l.removeItem(S),u.setRange(A,O,A,O),u.history.push(!0)}}break}if(!_&&p.startOffset===0){let D=!0,B=k;for(;B&&B!==S&&!l.isWysiwygDiv(B);){if(B.previousSibling&&(B.previousSibling.nodeType===1||!l.onlyZeroWidthSpace(B.previousSibling.textContent.trim()))){D=!1;break}B=B.parentNode}if(D&&S.parentNode){a.preventDefault(),u.detachRangeFormatElement(S,l.isListCell(y)?[y]:null,null,!1,!1),u.history.push(!0);break}}}if(!_&&y&&(p.startOffset===0||c===y&&y.childNodes[p.startOffset])){const D=l.isListCell(y),B=c===y?y.childNodes[p.startOffset]:c,A=D?B.previousSibling:y.previousSibling,O=D||(k.nodeType===3||l.isBreak(k))&&!k.previousSibling&&p.startOffset===0;if(B&&(D||!B.previousSibling)&&(k&&l.isComponent(k.previousSibling)||O&&l.isComponent(A))){const V=u.getFileComponent(A);V?(a.preventDefault(),a.stopPropagation(),D?l.removeItem(B):y.textContent.length===0&&l.removeItem(y),u.selectComponent(V.target,V.pluginName)===!1&&u.blur()):l.isComponent(A)&&(a.preventDefault(),a.stopPropagation(),l.removeItem(A));break}if(B&&l.isNonEditable(B.previousSibling)){a.preventDefault(),a.stopPropagation(),l.removeItem(B.previousSibling);break}}break;case 46:if(E){a.preventDefault(),a.stopPropagation(),u.plugins[E].destroy.call(u);break}if(_&&g._hardDelete()){a.preventDefault(),a.stopPropagation();break}if(!_&&u._isEdgeFormat(p.endContainer,p.endOffset,"end")&&!y.nextSibling){a.preventDefault(),a.stopPropagation();return}if(g._isUneditableNode(p,!1)){a.preventDefault(),a.stopPropagation();break}if((l.isFormatElement(c)||c.nextSibling===null||l.onlyZeroWidthSpace(c.nextSibling)&&c.nextSibling.nextSibling===null)&&p.startOffset===c.textContent.length){const D=y.nextElementSibling;if(!D)break;if(l.isComponent(D)){if(a.preventDefault(),l.onlyZeroWidthSpace(y)&&(l.removeItem(y),l.isTable(D))){let A=l.getChildElement(D,l.isCell,!1);A=A.firstElementChild||A,u.setRange(A,0,A,0);break}const B=u.getFileComponent(D);B?(a.stopPropagation(),u.selectComponent(B.target,B.pluginName)===!1&&u.blur()):l.isComponent(D)&&(a.stopPropagation(),l.removeItem(D));break}}if(!_&&(u.isEdgePoint(p.endContainer,p.endOffset)||c===y&&y.childNodes[p.startOffset])){const D=c===y&&y.childNodes[p.startOffset]||c;if(D&&l.isNonEditable(D.nextSibling)){a.preventDefault(),a.stopPropagation(),l.removeItem(D.nextSibling);break}else if(l.isComponent(D)){a.preventDefault(),a.stopPropagation(),l.removeItem(D);break}}if(!_&&u._isEdgeFormat(p.endContainer,p.endOffset,"end")&&l.isFormatElement(y.nextElementSibling)&&(u._formatAttrsTemp=y.attributes),y=l.getFormatElement(p.startContainer,null),S=l.getRangeFormatElement(y,null),l.isListCell(y)&&l.isList(S)&&(c===y||c.nodeType===3&&(!c.nextSibling||l.isList(c.nextSibling))&&(l.getFormatElement(p.startContainer,null)!==l.getFormatElement(p.endContainer,null)?S.contains(p.endContainer):p.endOffset===c.textContent.length&&p.collapsed))){p.startContainer!==p.endContainer&&u.removeNode();let D=l.getArrayItem(y.children,l.isList,!1);if(D=D||y.nextElementSibling||(S.parentNode?S.parentNode.nextElementSibling:null),D&&(l.isList(D)||l.getArrayItem(D.children,l.isList,!1))){a.preventDefault();let B,A;if(l.isList(D)){const O=D.firstElementChild;for(A=O.childNodes,B=A[0];A[0];)y.insertBefore(A[0],D);l.removeItem(O)}else{for(B=D.firstChild,A=D.childNodes;A[0];)y.appendChild(A[0]);l.removeItem(D)}u.setRange(B,0,B,0),u.history.push(!0)}break}break;case 9:if(E||s.tabDisable||(a.preventDefault(),m||v||l.isWysiwygDiv(c)))break;const M=!p.collapsed||u.isEdgePoint(p.startContainer,p.startOffset),$=u.getSelectedElements(null);c=u.getSelectionNode();const F=[];let H=[],z=l.isListCell($[0]),P=l.isListCell($[$.length-1]),I={sc:p.startContainer,so:p.startOffset,ec:p.endContainer,eo:p.endOffset};for(let D=0,B=$.length,A;D<B;D++)if(A=$[D],l.isListCell(A)){if(!A.previousElementSibling&&!b)continue;F.push(A)}else H.push(A);if(F.length>0&&M&&u.plugins.list)I=u.plugins.list.editInsideList.call(u,b,F);else{const D=l.getParentElement(c,l.isCell);if(D&&M){const B=l.getParentElement(D,"table"),A=l.getListChildren(B,l.isCell);let O=b?l.prevIdx(A,D):l.nextIdx(A,D);O===A.length&&!b&&(O=0),O===-1&&b&&(O=A.length-1);let V=A[O];if(!V)break;V=V.firstElementChild||V,u.setRange(V,0,V,0);break}H=H.concat(F),z=P=null}if(H.length>0)if(b){const D=H.length-1;for(let O=0,V;O<=D;O++){V=H[O].childNodes;for(let W=0,Z=V.length,U;W<Z&&(U=V[W],!!U);W++)if(!l.onlyZeroWidthSpace(U)){/^\s{1,4}$/.test(U.textContent)?l.removeItem(U):/^\s{1,4}/.test(U.textContent)&&(U.textContent=U.textContent.replace(/^\s{1,4}/,""));break}}const B=l.getChildElement(H[0],"text",!1),A=l.getChildElement(H[D],"text",!0);!z&&B&&(I.sc=B,I.so=0),!P&&A&&(I.ec=A,I.eo=A.textContent.length)}else{const D=l.createTextNode(new d.Array(u._variable.tabSize+1).join(""));if(H.length===1){if(!u.insertNode(D,null,!0))return!1;z||(I.sc=D,I.so=D.length),P||(I.ec=D,I.eo=D.length)}else{const B=H.length-1;for(let V=0,W;V<=B;V++)W=H[V].firstChild,W&&(l.isBreak(W)?H[V].insertBefore(D.cloneNode(!1),W):W.textContent=D.textContent+W.textContent);const A=l.getChildElement(H[0],"text",!1),O=l.getChildElement(H[B],"text",!0);!z&&A&&(I.sc=A,I.so=0),!P&&O&&(I.ec=O,I.eo=O.textContent.length)}}u.setRange(I.sc,I.so,I.ec,I.eo),u.history.push(!1);break;case 13:const R=l.getFreeFormatElement(c,null);if(u._charTypeHTML){let D="";if(!b&&R||b?D="<br>":D="<"+y.nodeName+"><br></"+y.nodeName+">",!u.checkCharCount(D,"byte-html"))return a.preventDefault(),!1}if(!b&&!E){const D=u._isEdgeFormat(p.endContainer,p.endOffset,"end"),B=u._isEdgeFormat(p.startContainer,p.startOffset,"start");if(D&&(/^H[1-6]$/i.test(y.nodeName)||/^HR$/i.test(y.nodeName))){g._enterPrevent(a);let A=null;const O=u.appendFormatTag(y,s.defaultTag);if(D&&D.length>0){A=D.pop();const V=A;for(;D.length>0;)A=A.appendChild(D.pop());O.appendChild(V)}if(A=A?A.appendChild(O.firstChild):O.firstChild,l.isBreak(A)){const V=l.createTextNode(l.zeroWidthSpace);A.parentNode.insertBefore(V,A),u.setRange(V,1,V,1)}else u.setRange(A,0,A,0);break}else if(S&&y&&!l.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){const A=u.getRange();if(u.isEdgePoint(A.endContainer,A.endOffset)&&l.isList(c.nextSibling)){g._enterPrevent(a);const O=l.createElement("LI"),V=l.createElement("BR");O.appendChild(V),y.parentNode.insertBefore(O,y.nextElementSibling),O.appendChild(c.nextSibling),u.setRange(V,1,V,1);break}if((A.commonAncestorContainer.nodeType!==3||!A.commonAncestorContainer.nextElementSibling)&&l.onlyZeroWidthSpace(y.innerText.trim())&&!l.isListCell(y.nextElementSibling)){g._enterPrevent(a);let O=null;if(l.isListCell(S.parentNode)){const V=y.parentNode.parentNode;S=V.parentNode;const W=l.createElement("LI");W.innerHTML="<br>",l.copyTagAttributes(W,y,s.lineAttrReset),O=W,S.insertBefore(O,V.nextElementSibling)}else{const V=l.isCell(S.parentNode)?"DIV":l.isList(S.parentNode)?"LI":l.isFormatElement(S.nextElementSibling)&&!l.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling.nodeName:l.isFormatElement(S.previousElementSibling)&&!l.isRangeFormatElement(S.previousElementSibling)?S.previousElementSibling.nodeName:s.defaultTag;O=l.createElement(V),l.copyTagAttributes(O,y,s.lineAttrReset);const W=u.detachRangeFormatElement(S,[y],null,!0,!0);W.cc.insertBefore(O,W.ec)}O.innerHTML="<br>",l.removeItemAllParents(y,null,null),u.setRange(O,1,O,1);break}}if(R){g._enterPrevent(a);const A=c===R,O=u.getSelection(),V=c.childNodes,W=O.focusOffset,Z=c.previousElementSibling,U=c.nextSibling;if(!l.isClosureFreeFormatElement(R)&&V&&(A&&p.collapsed&&V.length-1<=W+1&&l.isBreak(V[W])&&(!V[W+1]||(!V[W+2]||l.onlyZeroWidthSpace(V[W+2].textContent))&&V[W+1].nodeType===3&&l.onlyZeroWidthSpace(V[W+1].textContent))&&W>0&&l.isBreak(V[W-1])||!A&&l.onlyZeroWidthSpace(c.textContent)&&l.isBreak(Z)&&(l.isBreak(Z.previousSibling)||!l.onlyZeroWidthSpace(Z.previousSibling.textContent))&&(!U||!l.isBreak(U)&&l.onlyZeroWidthSpace(U.textContent)))){A?l.removeItem(V[W-1]):l.removeItem(c);const q=u.appendFormatTag(R,l.isFormatElement(R.nextElementSibling)&&!l.isRangeFormatElement(R.nextElementSibling)?R.nextElementSibling:null);l.copyFormatAttributes(q,R),u.setRange(q,1,q,1);break}if(A){w.insertHTML(p.collapsed&&l.isBreak(p.startContainer.childNodes[p.startOffset-1])?"<br>":"<br><br>",!0,!1);let q=O.focusNode;const j=O.focusOffset;R===q&&(q=q.childNodes[j-W>1?j-1:j]),u.setRange(q,1,q,1)}else{const q=O.focusNode.nextSibling,j=l.createElement("BR");u.insertNode(j,null,!1);const G=j.previousSibling,Q=j.nextSibling;!l.isBreak(q)&&!l.isBreak(G)&&(!Q||l.onlyZeroWidthSpace(Q))?(j.parentNode.insertBefore(j.cloneNode(!1),j),u.setRange(j,1,j,1)):u.setRange(Q,0,Q,0)}g._onShortcutKey=!0;break}if(p.collapsed&&(B||D)){g._enterPrevent(a);const A=l.createElement("BR"),O=l.createElement(y.nodeName);l.copyTagAttributes(O,y,s.lineAttrReset);let V=A;do{if(!l.isBreak(c)&&c.nodeType===1){const W=c.cloneNode(!1);W.appendChild(V),V=W}c=c.parentNode}while(y!==c&&y.contains(c));O.appendChild(V),y.parentNode.insertBefore(O,B&&!D?y:y.nextElementSibling),D&&u.setRange(A,1,A,1);break}if(y){a.stopPropagation();let A,O=0;if(p.collapsed)l.onlyZeroWidthSpace(y)?A=u.appendFormatTag(y,y.cloneNode(!1)):A=l.splitElement(p.endContainer,p.endOffset,l.getElementDepth(y));else{const V=l.getFormatElement(p.startContainer,null)!==l.getFormatElement(p.endContainer,null),W=y.cloneNode(!1);W.innerHTML="<br>";const Z=p.commonAncestorContainer,U=Z===p.startContainer&&Z===p.endContainer&&l.onlyZeroWidthSpace(Z)?p:u.removeNode();if(A=l.getFormatElement(U.container,null),!A){l.isWysiwygDiv(U.container)&&(g._enterPrevent(a),t.element.wysiwyg.appendChild(W),A=W,l.copyTagAttributes(A,y,s.lineAttrReset),u.setRange(A,O,A,O));break}const q=l.getRangeFormatElement(U.container);if(A=A.contains(q)?l.getChildElement(q,l.getFormatElement.bind(l)):A,V){if(D&&!B)A.parentNode.insertBefore(W,!U.prevContainer||U.container===U.prevContainer?A.nextElementSibling:A),A=W,O=0;else if(O=U.offset,B){const j=A.parentNode.insertBefore(W,A);D&&(A=j,O=0)}}else D&&B?(A.parentNode.insertBefore(W,U.prevContainer&&U.container===U.prevContainer?A.nextElementSibling:A),A=W,O=0):A=l.splitElement(U.container,U.offset,l.getElementDepth(y))}g._enterPrevent(a),l.copyTagAttributes(A,y,s.lineAttrReset),u.setRange(A,O,A,O);break}}if(_)break;if(S&&l.getParentElement(S,"FIGCAPTION")&&l.getParentElement(S,l.isList)&&(g._enterPrevent(a),y=u.appendFormatTag(y,null),u.setRange(y,0,y,0)),E){a.preventDefault(),a.stopPropagation(),u.containerOff(),u.controllersOff();const D=t[E],B=D._container,A=B.previousElementSibling||B.nextElementSibling;let O=null;l.isListCell(B.parentNode)?O=l.createElement("BR"):(O=l.createElement(l.isFormatElement(A)&&!l.isRangeFormatElement(A)?A.nodeName:s.defaultTag),O.innerHTML="<br>"),b?B.parentNode.insertBefore(O,B):B.parentNode.insertBefore(O,B.nextElementSibling),u.callPlugin(E,function(){u.selectComponent(D._element,E)===!1&&u.blur()},null)}break;case 27:if(E)return a.preventDefault(),a.stopPropagation(),u.controllersOff(),!1;break}if(u.currentFileComponentInfo&&u.controllersOff(),b&&h===16){a.preventDefault(),a.stopPropagation();const L=u.plugins.table;if(L&&!L._shift&&!L._ref){const k=l.getParentElement(y,l.isCell);if(k){L.onTableCellMultiSelect.call(u,k,!0);return}}}else if(b&&(l.isOSX_IOS?v:m)&&h===32){a.preventDefault(),a.stopPropagation();const L=u.insertNode(l.createTextNode(""));if(L){u.setRange(L,L.length,L,L.length);return}}if(l.isIE&&!m&&!v&&!_&&!g._nonTextKeyCode.test(h)&&l.isBreak(p.commonAncestorContainer)){const L=l.createTextNode(l.zeroWidthSpace);u.insertNode(L,null,!1),u.setRange(L,1,L,1)}g._directionKeyCode.test(h)&&(d.setTimeout(u._editorRange.bind(u),0),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(a){if(a.shiftKey)return;let c=u.getSelectionNode();const h=function(v,p){if(p||(p=0),a.preventDefault(),a.stopPropagation(),!v)return;let _=u.getFileComponent(v);_?u.selectComponent(_.target,_.pluginName):(u.setRange(v,p,v,p),u.controllersOff())},b=l.getParentElement(c,"table");if(b){const v=l.getParentElement(c,"tr"),p=l.getParentElement(c,"td");let _=p,E=p;if(p){for(;_&&_.firstChild;)_=_.firstChild;for(;E&&E.lastChild;)E=E.lastChild}let y=c;for(;y&&y.firstChild;)y=y.firstChild;const S=y===_,N=y===E;let L=null,k=0;if(a.keyCode===38&&S){const M=v&&v.previousElementSibling;for(M?L=M.children[p.cellIndex]:L=l.getPreviousDeepestNode(b,u.context.element.wysiwyg);L&&L.lastChild;)L=L.lastChild;L&&(k=L.textContent.length)}else if(a.keyCode===40&&N){const M=v&&v.nextElementSibling;for(M?L=M.children[p.cellIndex]:L=l.getNextDeepestNode(b,u.context.element.wysiwyg);L&&L.firstChild;)L=L.firstChild}if(L)return h(L,k),!1}const m=u.getFileComponent(c);if(m){const v=/37|38/.test(a.keyCode),p=/39|40/.test(a.keyCode);if(v){const _=l.getPreviousDeepestNode(m.target,u.context.element.wysiwyg);h(_,_&&_.textContent.length)}else if(p){const _=l.getNextDeepestNode(m.target,u.context.element.wysiwyg);h(_)}}},onKeyUp_wysiwyg:function(a){if(g._onShortcutKey)return;u._editorRange();const c=a.keyCode,h=a.ctrlKey||a.metaKey||c===91||c===92||c===224,b=a.altKey;if(u.isReadOnly){!h&&g._cursorMoveKeyCode.test(c)&&g._applyTagEffects();return}const m=u.getRange();let v=u.getSelectionNode();if(u._isBalloon&&(u._isBalloonAlways&&c!==27||!m.collapsed))if(u._isBalloonAlways)c!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let p=v;for(;p&&p.firstChild;)p=p.firstChild;const _=u.getFileComponent(p);if(!(a.keyCode===16||a.shiftKey)&&_&&u.selectComponent(_.target,_.pluginName),c===8&&l.isWysiwygDiv(v)&&v.textContent===""&&v.children.length===0){a.preventDefault(),a.stopPropagation(),v.innerHTML="";const L=l.createElement(l.isFormatElement(u._variable.currentNodes[0])?u._variable.currentNodes[0]:s.defaultTag);L.innerHTML="<br>",v.appendChild(L),u.setRange(L,0,L,0),g._applyTagEffects(),u.history.push(!1);return}const E=l.getFormatElement(v,null),y=l.getRangeFormatElement(v,null),S=u._formatAttrsTemp;if(S){for(let L=0,k=S.length;L<k;L++){if(c===13&&/^id$/i.test(S[L].name)){E.removeAttribute("id");continue}E.setAttribute(S[L].name,S[L].value)}u._formatAttrsTemp=null}if(!E&&m.collapsed&&!l.isComponent(v)&&!l.isList(v)&&u._setDefaultFormat(l.isRangeFormatElement(y)?"DIV":s.defaultTag)!==null&&(v=u.getSelectionNode()),!h&&!b&&!g._nonTextKeyCode.test(c)&&v.nodeType===3&&l.zeroWidthRegExp.test(v.textContent)&&!(a.isComposing!==void 0?a.isComposing:g._IEisComposing)){let L=m.startOffset,k=m.endOffset;const M=(v.textContent.substring(0,k).match(g._frontZeroWidthReg)||"").length;L=m.startOffset-M,k=m.endOffset-M,v.textContent=v.textContent.replace(l.zeroWidthRegExp,""),u.setRange(v,L<0?0:L,v,k<0?0:k)}g._deleteKeyCode.test(c)&&E&&l.onlyZeroWidthSpace(E.textContent)&&!E.previousElementSibling&&(E.innerHTML="<br>",u.setRange(E,0,E,0)),u._charCount(""),!(typeof w.onKeyUp=="function"&&w.onKeyUp(a,u)===!1)&&!h&&!b&&!g._historyIgnoreKeyCode.test(c)&&u.history.push(!0)},onScroll_wysiwyg:function(a){u.controllersOff(),u._isBalloon&&g._hideToolbar(),typeof w.onScroll=="function"&&w.onScroll(a,u)},onFocus_wysiwyg:function(a){u._antiBlur||(u.hasFocus=!0,d.setTimeout(g._applyTagEffects),u._isInline&&g._showToolbarInline(),typeof w.onFocus=="function"&&w.onFocus(a,u))},onBlur_wysiwyg:function(a){u._antiBlur||u._variable.isCodeView||(u.hasFocus=!1,u.effectNode=null,u.controllersOff(),(u._isInline||u._isBalloon)&&g._hideToolbar(),u._setKeyEffect([]),u._variable.currentNodes=[],u._variable.currentNodesMap=[],s.showPathLabel&&(t.element.navigation.textContent=""),typeof w.onBlur=="function"&&w.onBlur(a,u,this))},onMouseDown_resizingBar:function(a){a.stopPropagation(),u.submenuOff(),u.controllersOff(),u._variable.resizeClientY=a.clientY,t.element.resizeBackground.style.display="block";function c(){t.element.resizeBackground.style.display="none",r.removeEventListener("mousemove",g._resize_editor),r.removeEventListener("mouseup",c)}r.addEventListener("mousemove",g._resize_editor),r.addEventListener("mouseup",c)},_resize_editor:function(a){const c=t.element.editorArea.offsetHeight+(a.clientY-u._variable.resizeClientY),h=c<u._variable.minResizingSize?u._variable.minResizingSize:c;t.element.wysiwygFrame.style.height=t.element.code.style.height=h+"px",u._variable.resizeClientY=a.clientY,l.isResizeObserverSupported||u.__callResizeFunction(h,null)},onResize_window:function(){l.isResizeObserverSupported||u.resetResponsiveToolbar();const a=t.element.toolbar,c=a.style.display==="none"||u._isInline&&!u._inlineToolbarAttr.isShow;if(!(a.offsetWidth===0&&!c)){if(t.fileBrowser&&t.fileBrowser.area.style.display==="block"&&(t.fileBrowser.body.style.maxHeight=d.innerHeight-t.fileBrowser.header.offsetHeight-50+"px"),u.submenuActiveButton&&u.submenu&&u._setMenuPosition(u.submenuActiveButton,u.submenu),u._variable.isFullScreen){u._variable.innerHeight_fullScreen+=d.innerHeight-a.offsetHeight-u._variable.innerHeight_fullScreen,t.element.editorArea.style.height=u._variable.innerHeight_fullScreen+"px";return}if(u._variable.isCodeView&&u._isInline){g._showToolbarInline();return}u._iframeAutoHeight(),u._sticky&&(a.style.width=t.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(u._variable.isFullScreen||t.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;const a=t.element,c=a.editorArea.offsetHeight,h=(this.scrollY||r.documentElement.scrollTop)+s.stickyToolbar,b=g._getEditorOffsets(s.toolbarContainer).top-(u._isInline?a.toolbar.offsetHeight:0),m=u._isInline&&h-b>0?h-b-t.element.toolbar.offsetHeight:0;h<b?g._offStickyToolbar():h+u._variable.minResizingSize>=c+b?(u._sticky||g._onStickyToolbar(m),a.toolbar.style.top=m+c+b+s.stickyToolbar-h-u._variable.minResizingSize+"px"):h>=b&&g._onStickyToolbar(m)},_getEditorOffsets:function(a){let c=a||t.element.topArea,h=0,b=0,m=0;for(;c;)h+=c.offsetTop,b+=c.offsetLeft,m+=c.scrollTop,c=c.offsetParent;return{top:h,left:b,scroll:m}},_getPageBottomSpace:function(){return r.documentElement.scrollHeight-(g._getEditorOffsets(null).top+t.element.topArea.offsetHeight)},_onStickyToolbar:function(a){const c=t.element;!u._isInline&&!s.toolbarContainer&&(c._stickyDummy.style.height=c.toolbar.offsetHeight+"px",c._stickyDummy.style.display="block"),c.toolbar.style.top=s.stickyToolbar+a+"px",c.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:c.toolbar.offsetWidth+"px",l.addClass(c.toolbar,"se-toolbar-sticky"),u._sticky=!0},_offStickyToolbar:function(){const a=t.element;a._stickyDummy.style.display="none",a.toolbar.style.top=u._isInline?u._inlineToolbarAttr.top:"",a.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:"",a.editorArea.style.marginTop="",l.removeClass(a.toolbar,"se-toolbar-sticky"),u._sticky=!1},_codeViewAutoHeight:function(){u._variable.isFullScreen||(t.element.code.style.height=t.element.code.scrollHeight+"px")},_hardDelete:function(){const a=u.getRange(),c=a.startContainer,h=a.endContainer,b=l.getRangeFormatElement(c),m=l.getRangeFormatElement(h),v=l.isCell(b),p=l.isCell(m),_=a.commonAncestorContainer;if((v&&!b.previousElementSibling&&!b.parentElement.previousElementSibling||p&&!m.nextElementSibling&&!m.parentElement.nextElementSibling)&&b!==m)if(!v)l.removeItem(l.getParentElement(m,function(S){return _===S.parentNode}));else if(!p)l.removeItem(l.getParentElement(b,function(S){return _===S.parentNode}));else return l.removeItem(l.getParentElement(b,function(S){return _===S.parentNode})),u.nativeFocus(),!0;const E=c.nodeType===1?l.getParentElement(c,".se-component"):null,y=h.nodeType===1?l.getParentElement(h,".se-component"):null;return E&&l.removeItem(E),y&&l.removeItem(y),!1},onPaste_wysiwyg:function(a){const c=l.isIE?d.clipboardData:a.clipboardData;return c?g._dataTransferAction("paste",a,c):!0},_setClipboardComponent:function(a,c,h){a.preventDefault(),a.stopPropagation(),h.setData("text/html",c.component.outerHTML)},onCopy_wysiwyg:function(a){const c=l.isIE?d.clipboardData:a.clipboardData;if(typeof w.onCopy=="function"&&w.onCopy(a,c,u)===!1)return a.preventDefault(),a.stopPropagation(),!1;const h=u.currentFileComponentInfo;h&&!l.isIE&&(g._setClipboardComponent(a,h,c),l.addClass(h.component,"se-component-copy"),d.setTimeout(function(){l.removeClass(h.component,"se-component-copy")},150))},onSave_wysiwyg:function(a){if(typeof w.onSave=="function"){w.onSave(a,u);return}},onCut_wysiwyg:function(a){const c=l.isIE?d.clipboardData:a.clipboardData;if(typeof w.onCut=="function"&&w.onCut(a,c,u)===!1)return a.preventDefault(),a.stopPropagation(),!1;const h=u.currentFileComponentInfo;h&&!l.isIE&&(g._setClipboardComponent(a,h,c),l.removeItem(h.component),u.controllersOff()),d.setTimeout(function(){u.history.push(!1)})},onDrop_wysiwyg:function(a){if(u.isReadOnly||l.isIE)return a.preventDefault(),a.stopPropagation(),!1;const c=a.dataTransfer;return c?(g._setDropLocationSelection(a),u.removeNode(),document.body.contains(u.currentControllerTarget)||u.controllersOff(),g._dataTransferAction("drop",a,c)):!0},_setDropLocationSelection:function(a){const c={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let h=null;if(a.rangeParent?(c.startContainer=a.rangeParent,c.startOffset=a.rangeOffset,c.endContainer=a.rangeParent,c.endOffset=a.rangeOffset):u._wd.caretRangeFromPoint?h=u._wd.caretRangeFromPoint(a.clientX,a.clientY):h=u.getRange(),h&&(c.startContainer=h.startContainer,c.startOffset=h.startOffset,c.endContainer=h.endContainer,c.endOffset=h.endOffset),c.startContainer===c.endContainer){const b=l.getParentElement(c.startContainer,l.isComponent);b&&(c.startContainer=b,c.startOffset=0,c.endContainer=b,c.endOffset=0)}u.setRange(c.startContainer,c.startOffset,c.endContainer,c.endOffset)},_dataTransferAction:function(a,c,h){let b,m;if(l.isIE){b=h.getData("Text");const v=u.getRange(),p=l.createElement("DIV"),_={sc:v.startContainer,so:v.startOffset,ec:v.endContainer,eo:v.endOffset};return p.setAttribute("contenteditable",!0),p.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",t.element.relative.appendChild(p),p.focus(),d.setTimeout(function(){m=p.innerHTML,l.removeItem(p),u.setRange(_.sc,_.so,_.ec,_.eo),g._setClipboardData(a,c,b,m,h)}),!0}else if(b=h.getData("text/plain"),m=h.getData("text/html"),g._setClipboardData(a,c,b,m,h)===!1)return c.preventDefault(),c.stopPropagation(),!1},_setClipboardData:function(a,c,h,b,m){const v=/class=["']*Mso(Normal|List)/i.test(b)||/content=["']*Word.Document/i.test(b)||/content=["']*OneNote.File/i.test(b)||/content=["']*Excel.Sheet/i.test(b);!b?b=l._HTMLConvertor(h).replace(/\n/g,"<br>"):(b=b.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),v&&(b=b.replace(/\n/g," "),h=h.replace(/\n/g," ")),b=u.cleanHTML(b,u.pasteTagsWhitelistRegExp,u.pasteTagsBlacklistRegExp));const _=u._charCount(u._charTypeHTML?b:h);if(a==="paste"&&typeof w.onPaste=="function"){const y=w.onPaste(c,b,_,u);if(y===!1)return!1;if(typeof y=="string"){if(!y)return!1;b=y}}if(a==="drop"&&typeof w.onDrop=="function"){const y=w.onDrop(c,b,_,u);if(y===!1)return!1;if(typeof y=="string"){if(!y)return!1;b=y}}const E=m.files;if(E.length>0&&!v)return/^image/.test(E[0].type)&&u.plugins.image&&w.insertImage(E),!1;if(!_)return!1;if(b)return w.insertHTML(b,!0,!1),!1},onMouseMove_wysiwyg:function(a){if(u.isDisabled||u.isReadOnly)return!1;const c=l.getParentElement(a.target,l.isComponent),h=u._lineBreaker.style;if(c&&!u.currentControllerName){const b=t.element;let m=0,v=b.wysiwyg;do m+=v.scrollTop,v=v.parentElement;while(v&&!/^(BODY|HTML)$/i.test(v.nodeName));const p=b.wysiwyg.scrollTop,_=g._getEditorOffsets(null),E=l.getOffset(c,b.wysiwygFrame).top+p,y=a.pageY+m+(s.iframe&&!s.toolbarContainer?b.toolbar.offsetHeight:0),S=E+(s.iframe?m:_.top),N=l.isListCell(c.parentNode);let L="",k="";if((N?!c.previousSibling:!l.isFormatElement(c.previousElementSibling))&&y<S+20)k=E,L="t";else if((N?!c.nextSibling:!l.isFormatElement(c.nextElementSibling))&&y>S+c.offsetHeight-20)k=E+c.offsetHeight,L="b";else{h.display="none";return}u._variable._lineBreakComp=c,u._variable._lineBreakDir=L,h.top=k-p+"px",u._lineBreakerButton.style.left=l.getOffset(c).left+c.offsetWidth/2-15+"px",h.display="block"}else h.display!=="none"&&(h.display="none")},_enterPrevent:function(a){a.preventDefault(),l.isMobile&&u.__focusTemp.focus()},_onMouseDown_lineBreak:function(a){a.preventDefault()},_onLineBreak:function(a){a.preventDefault();const c=u._variable._lineBreakComp,h=this?this:u._variable._lineBreakDir,b=l.isListCell(c.parentNode),m=l.createElement(b?"BR":l.isCell(c.parentNode)?"DIV":s.defaultTag);if(b||(m.innerHTML="<br>"),u._charTypeHTML&&!u.checkCharCount(m.outerHTML,"byte-html"))return;c.parentNode.insertBefore(m,h==="t"?c:c.nextSibling),u._lineBreaker.style.display="none",u._variable._lineBreakComp=null;const v=b?m:m.firstChild;u.setRange(v,1,v,1),u.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const a=s.iframe?u._ww:t.element.wysiwyg;l.isResizeObserverSupported&&(this._resizeObserver=new d.ResizeObserver(function(c){u.__callResizeFunction(-1,c[0])})),t.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),t.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),t.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),a.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),a.addEventListener("click",g.onClick_wysiwyg,!1),a.addEventListener(l.isIE?"textinput":"input",g.onInput_wysiwyg,!1),a.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),a.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),a.addEventListener("paste",g.onPaste_wysiwyg,!1),a.addEventListener("copy",g.onCopy_wysiwyg,!1),a.addEventListener("cut",g.onCut_wysiwyg,!1),a.addEventListener("drop",g.onDrop_wysiwyg,!1),a.addEventListener("scroll",g.onScroll_wysiwyg,!1),a.addEventListener("focus",g.onFocus_wysiwyg,!1),a.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},a.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),u._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),u._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),t.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),t.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),a.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),a.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),t.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),t.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),t.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?t.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):l.addClass(t.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),l.isResizeObserverSupported&&(this._toolbarObserver=new d.ResizeObserver(u.resetResponsiveToolbar)),d.addEventListener("resize",g.onResize_window,!1),s.stickyToolbar>-1&&d.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){const a=s.iframe?u._ww:t.element.wysiwyg;t.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),t.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),t.element.toolbar.removeEventListener("click",g.onClick_toolbar),a.removeEventListener("mousedown",g.onMouseDown_wysiwyg),a.removeEventListener("click",g.onClick_wysiwyg),a.removeEventListener(l.isIE?"textinput":"input",g.onInput_wysiwyg),a.removeEventListener("keydown",g.onKeyDown_wysiwyg),a.removeEventListener("keyup",g.onKeyUp_wysiwyg),a.removeEventListener("paste",g.onPaste_wysiwyg),a.removeEventListener("copy",g.onCopy_wysiwyg),a.removeEventListener("cut",g.onCut_wysiwyg),a.removeEventListener("drop",g.onDrop_wysiwyg),a.removeEventListener("scroll",g.onScroll_wysiwyg),a.removeEventListener("mousemove",g.onMouseMove_wysiwyg),u._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),u._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),t.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),t.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,a.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),a.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),a.removeEventListener("focus",g.onFocus_wysiwyg),a.removeEventListener("blur",g.onBlur_wysiwyg),t.element.code.removeEventListener("keydown",g._codeViewAutoHeight),t.element.code.removeEventListener("keyup",g._codeViewAutoHeight),t.element.code.removeEventListener("paste",g._codeViewAutoHeight),t.element.resizingBar&&t.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(t.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(t.element._toolbarShadow),g._toolbarObserver=null),d.removeEventListener("resize",g.onResize_window),d.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(o.length===0){o=null;return}g._responsiveCurrentSize="default";const a=g._responsiveButtonSize=[],c=g._responsiveButtons={default:o[0]};for(let h=1,b=o.length,m,v;h<b;h++)v=o[h],m=v[0]*1,a.push(m),c[m]=v[1];a.sort(function(h,b){return h-b}).unshift("default")}},w={core:u,util:l,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(a){u.submenuOff(),u.containerOff(),u.moreLayerOff();const c=lo._createToolBar(r,a,u.plugins,s);o=c.responsiveButtons,g._setResponsiveToolbar(),t.element.toolbar.replaceChild(c._buttonTray,t.element._buttonTray);const h=oo(t.element.originElement,u._getConstructed(t.element),s);t.element=h.element,t.tool=h.tool,s.iframe&&(t.element.wysiwyg=u._wd.body),u._recoverButtonStates(),u._cachingButtons(),u.history._resetCachingButton(),u.effectNode=null,u.hasFocus&&g._applyTagEffects(),u.isReadOnly&&l.setDisabledButtons(!0,u.resizingDisabledButtons),typeof w.onSetToolbarButtons=="function"&&w.onSetToolbarButtons(c._buttonTray.querySelectorAll("button"),u)},setOptions:function(a){g._removeEvent(),u._resetComponents(),l.removeClass(u._styleCommandMap.showBlocks,"active"),l.removeClass(u._styleCommandMap.codeView,"active"),u._variable.isCodeView=!1,u._iframeAuto=null,u.plugins=a.plugins||u.plugins;const c=[s,a].reduce(function(v,p){for(let _ in p)if(l.hasOwn(p,_))if(_==="plugins"&&p[_]&&v[_]){let E=v[_],y=p[_];E=E.length?E:d.Object.keys(E).map(function(S){return E[S]}),y=y.length?y:d.Object.keys(y).map(function(S){return y[S]}),v[_]=y.filter(function(S){return E.indexOf(S)===-1}).concat(E)}else v[_]=p[_];return v},{}),h=t.element,b=h.wysiwyg.innerHTML,m=lo._setOptions(c,t,s);m.callButtons&&(e=m.callButtons,u.initPlugins={}),m.plugins&&(u.plugins=i=m.plugins),h._menuTray.children.length===0&&(this._menuTray={}),o=m.toolbar.responsiveButtons,u.options=s=c,u.lang=n=s.lang,s.iframe&&h.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),u._setOptionsInit(h,b)}),h.editorArea.appendChild(h.wysiwygFrame),s.iframe||u._setOptionsInit(h,b)},setDefaultStyle:function(a){const c=s._editorStyles=l._setDefaultOptionStyle(s,a),h=t.element;h.topArea.style.cssText=c.top,h.code.style.cssText=s._editorStyles.frame,h.code.style.display="none",s.height==="auto"?h.code.style.overflow="hidden":h.code.style.overflow="",s.iframe?(h.wysiwygFrame.style.cssText=c.frame,h.wysiwyg.style.cssText=c.editor):h.wysiwygFrame.style.cssText=c.frame+c.editor},noticeOpen:function(a){u.notice.open.call(u,a)},noticeClose:function(){u.notice.close.call(u)},save:function(){const a=u.getContents(!1);t.element.originElement.value=a,g.onSave_wysiwyg(a,u)},getContext:function(){return t},getContents:function(a){return u.getContents(a)},getText:function(){return t.element.wysiwyg.textContent},getCharCount:function(a){return a=typeof a=="string"?a:s.charCounterType,u.getCharLength(u._charTypeHTML?t.element.wysiwyg.innerHTML:t.element.wysiwyg.textContent,a)},getImagesInfo:function(){return t.image?t.image._infoList:[]},getFilesInfo:function(a){return t[a]?t[a]._infoList:[]},insertImage:function(a){!u.plugins.image||!a||(u.initPlugins.image?u.plugins.image.submitAction.call(u,a):u.callPlugin("image",u.plugins.image.submitAction.bind(u,a),null),u.focus())},insertHTML:function(a,c,h,b){if(t.element.wysiwygFrame.contains(u.getSelection().focusNode)||u.focus(),typeof a=="string"){c||(a=u.cleanHTML(a,null,null));try{if(l.isListCell(l.getFormatElement(u.getSelectionNode(),null))){const k=r.createRange().createContextualFragment(a).childNodes;u._isFormatData(k)&&(a=u._convertListCell(k))}const v=r.createRange().createContextualFragment(a).childNodes;if(h){const L=u._charTypeHTML?"outerHTML":"textContent";let k="";for(let M=0,$=v.length;M<$;M++)k+=v[M][L];if(!u.checkCharCount(k,null))return}let p,_,E,y,S;for(;p=v[0];){if(y&&y.nodeType===3&&_&&_.nodeType===1&&l.isBreak(p)){y=p,l.removeItem(p);continue}E=u.insertNode(p,_,!1),_=E.container||E,S||(S=E),y=p}y.nodeType===3&&_.nodeType===1&&(_=y);const N=_.nodeType===3?E.endOffset||_.textContent.length:_.childNodes.length;b?u.setRange(S.container||S,S.startOffset||0,_,N):u.setRange(_,N,_,N)}catch(m){if(u.isDisabled||u.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+m),u.execCommand("insertHTML",!1,a)}}else if(l.isComponent(a))u.insertComponent(a,!1,h,!1);else{let m=null;(l.isFormatElement(a)||l.isMedia(a))&&(m=l.getFormatElement(u.getSelectionNode(),null)),u.insertNode(a,m,h)}u.effectNode=null,u.focus(),u.history.push(!1)},setContents:function(a){u.setContents(a)},appendContents:function(a){const c=u.convertContentsForEditor(a);if(u._variable.isCodeView)u._setCodeView(u._getCodeView()+`
`+u.convertHTMLForCodeView(c,!1));else{const h=l.createElement("DIV");h.innerHTML=c;const b=t.element.wysiwyg,m=h.children;for(let v=0,p=m.length;v<p;v++)m[v]&&b.appendChild(m[v])}u.history.push(!1)},readOnly:function(a){u.isReadOnly=a,l.setDisabledButtons(!!a,u.resizingDisabledButtons),a?(u.controllersOff(),u.submenuActiveButton&&u.submenuActiveButton.disabled&&u.submenuOff(),u._moreLayerActiveButton&&u._moreLayerActiveButton.disabled&&u.moreLayerOff(),u.containerActiveButton&&u.containerActiveButton.disabled&&u.containerOff(),u.modalForm&&u.plugins.dialog.close.call(u),t.element.code.setAttribute("readOnly","true"),l.addClass(t.element.wysiwygFrame,"se-read-only")):(t.element.code.removeAttribute("readOnly"),l.removeClass(t.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!a)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const a=t.element.topArea.style;a.display==="none"&&(a.display=s.display)},hide:function(){t.element.topArea.style.display="none"},destroy:function(){u.submenuOff(),u.containerOff(),u.controllersOff(),u.notice&&u.notice.close.call(u),u.modalForm&&u.plugins.dialog.close.call(u),u.history._destroy(),g._removeEvent(),l.removeItem(t.element.toolbar),l.removeItem(t.element.topArea);for(let a in u.functions)l.hasOwn(u,a)&&delete u.functions[a];for(let a in u)l.hasOwn(u,a)&&delete u[a];for(let a in g)l.hasOwn(g,a)&&delete g[a];for(let a in t)l.hasOwn(t,a)&&delete t[a];for(let a in e)l.hasOwn(e,a)&&delete e[a];for(let a in this)l.hasOwn(this,a)&&delete this[a]},toolbar:{disable:function(){u.submenuOff(),u.moreLayerOff(),u.containerOff(),t.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){t.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){u._isInline?g._showToolbarInline():(t.element.toolbar.style.display="",t.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){u._isInline?g._hideToolbar():(t.element.toolbar.style.display="none",t.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){u.controllersOff(),u.modalForm&&u.plugins.dialog.close.call(u),t.element.wysiwyg.setAttribute("contenteditable",!1),u.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):t.element.code.setAttribute("disabled","disabled")},enable:function(){t.element.wysiwyg.setAttribute("contenteditable",!0),u.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):t.element.code.removeAttribute("disabled")}}};u.functions=w,u.options=s;let x=t.element,C=x.originElement,T=x.topArea;return C.style.display="none",T.style.display="block",s.iframe&&x.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),u._editorInit(!1,s.value),s.value=null}),typeof C.nextElementSibling=="object"?C.parentNode.insertBefore(T,C.nextElementSibling):C.parentNode.appendChild(T),x.editorArea.appendChild(x.wysiwygFrame),x=C=T=null,s.iframe||(u._editorInit(!1,s.value),s.value=null),w}const vh={init:function(t){return{create:(function(e,i){return this.create(e,i,t)}).bind(this)}},create:function(t,e,i){ie._propertiesInit(),typeof e!="object"&&(e={}),i&&(e=[i,e].reduce(function(o,r){for(let d in r)if(ie.hasOwn(r,d))if(d==="plugins"&&r[d]&&o[d]){let l=o[d],f=r[d];l=l.length?l:Object.keys(l).map(function(u){return l[u]}),f=f.length?f:Object.keys(f).map(function(u){return f[u]}),o[d]=f.filter(function(u){return l.indexOf(u)===-1}).concat(l)}else o[d]=r[d];return o},{}));const n=typeof t=="string"?document.getElementById(t):t;if(!n)throw Error(typeof t=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+t+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const s=lo.init(n,e);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return bh(oo(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,e,s._responsiveButtons)}},_h={name:"blockquote",display:"command",add:function(t,e){const i=t.context;i.blockquote={targetButton:e,tag:t.util.createElement("BLOCKQUOTE")}},active:function(t){if(!t)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(t.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const t=this.util.getParentElement(this.getSelectionNode(),"blockquote");t?this.detachRangeFormatElement(t,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},yh={name:"align",display:"submenu",add:function(t,e){const i=t.icons,n=t.context;n.align={targetButton:e,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:t.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(t),o=n.align._itemMenu=s.querySelector("ul");o.addEventListener("click",this.pickup.bind(t)),n.align._alignList=o.querySelectorAll("li button"),t.initMenuTarget(this.name,e,s),s=null,o=null},setSubmenu:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV"),s=t.options.alignItems;let o="";for(let r=0,d,l;r<s.length;r++)d=s[r],l=e.toolbar["align"+d.charAt(0).toUpperCase()+d.slice(1)],o+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+d+'" title="'+l+'" aria-label="'+l+'"><span class="se-list-icon">'+i["align_"+d]+"</span>"+l+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+o+"</ul></div>",n},active:function(t){const e=this.context.align,i=e.targetButton,n=i.firstElementChild;if(!t)this.util.changeElement(n,e.icons[e.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(t)){const s=t.style.textAlign;if(s)return this.util.changeElement(n,e.icons[s]||e.icons[e.defaultDir]),i.setAttribute("data-focus",s),!0}return!1},on:function(){const t=this.context.align,e=t._alignList,i=t.targetButton.getAttribute("data-focus")||t.defaultDir;if(i!==t.currentAlign){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentAlign=i}},exchangeDir:function(){const t=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===t)return;this.context.align.defaultDir=t;let e=this.context.align._itemMenu,i=e.querySelector('[data-value="left"]'),n=e.querySelector('[data-value="right"]');if(i&&n){const s=i.parentElement,o=n.parentElement;s.appendChild(n),o.appendChild(i)}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!i&&!/UL/i.test(e.tagName);)i=e.getAttribute("data-value"),e=e.parentNode;if(!i)return;const n=this.context.align.defaultDir,s=this.getSelectedElements();for(let o=0,r=s.length;o<r;o++)this.util.setStyle(s[o],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},wh={name:"font",display:"submenu",add:function(t,e){const i=t.context;i.font={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(t);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(t)),i.font._fontList=n.querySelectorAll("ul li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,s,o,r,d=t.options.font,l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+e.toolbar.default+'" aria-label="'+e.toolbar.default+'">('+e.toolbar.default+")</button></li>";for(o=0,r=d.length;o<r;o++)n=d[o],s=n.split(",")[0],l+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+n+';">'+s+"</button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(t){const e=this.context.font.targetText,i=this.context.font.targetTooltip;if(t){if(t.style&&t.style.fontFamily.length>0){const n=t.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(e,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(e,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){const t=this.context.font,e=t._fontList,i=t.targetText.textContent;if(i!==t.currentFont){for(let n=0,s=e.length;n<s;n++)i===(e[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentFont=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();let e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");/[\s\d\W]/.test(e)&&!/^['"].*['"]$/.test(e)&&(e='"'+e+'"'),i.style.fontFamily=e,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},Ch={name:"fontSize",display:"submenu",add:function(t,e){const i=t.context;i.fontSize={targetText:e.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.fontSize._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const s=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let r=0,d=e.fontSizeUnit,l=s.length,f;r<l;r++)f=s[r],o+='<li><button type="button" class="se-btn-list" data-value="'+f+d+'" title="'+f+d+'" aria-label="'+f+d+'" style="font-size:'+f+d+';">'+f+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},active:function(t){if(!t)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(t.style&&t.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,t.style.fontSize)),!0;return!1},on:function(){const t=this.context.fontSize,e=t._sizeList,i=t.targetText.textContent;if(i!==t.currentSize){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentSize=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");i.style.fontSize=e,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},Tc={name:"colorPicker",add:function(t){const e=t.context;e.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},e.colorPicker.colorListHTML=this.createColorList(t,this._makeColorList)},createColorList:function(t,e){const i=t.options,n=t.lang,s=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList;let o=[],r='<div class="se-list-inner">';for(let d=0,l=s.length,f;d<l;d++)f=s[d],f&&(typeof f=="string"&&(o.push(f),d<l-1)||(o.length>0&&(r+='<div class="se-selector-color">'+e(o)+"</div>",o=[]),typeof f=="object"&&(r+='<div class="se-selector-color">'+e(f)+"</div>")));return r+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+t.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+t.icons.erase+"</button></form></div>",r},_makeColorList:function(t){let e="";e+='<ul class="se-color-pallet">';for(let i=0,n=t.length,s;i<n;i++)s=t[i],typeof s=="string"&&(e+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return e+="</ul>",e},init:function(t,e){const i=this.plugins.colorPicker;let n=e||i.getColorInNode.call(this,t)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const s=this.context.colorPicker._colorList;if(s)for(let o=0,r=s.length;o<r;o++)n.toLowerCase()===s[o].getAttribute("data-value").toLowerCase()?this.util.addClass(s[o],"active"):this.util.removeClass(s[o],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(t){this.context.colorPicker._currentColor=t,this.context.colorPicker._colorInput.style.borderColor=t},setInputText:function(t){t=/^#/.test(t)?t:"#"+t,this.context.colorPicker._colorInput.value=t,this.plugins.colorPicker.setCurrentColor.call(this,t)},getColorInNode:function(t){let e="";const i=this.context.colorPicker._styleProperty;for(;t&&!this.util.isWysiwygDiv(t)&&e.length===0;)t.nodeType===1&&t.style[i]&&(e=t.style[i]),t=t.parentNode;return e},isHexColor:function(t){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(t)},rgb2hex:function(t){const e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},colorName2hex:function(t){if(/^#/.test(t))return t;var e=this.util.createElement("div");e.style.display="none",e.style.color=t;var i=this._w.getComputedStyle(this._d.body.appendChild(e)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(e),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}},Eh={name:"fontColor",display:"submenu",add:function(t,e){t.addModule([Tc]);const i=t.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.fontColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.fontColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.color;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",t._styleProperty="color",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.fontColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.color=t,this.nodeChange(e,["color"],null,null),this.submenuOff()}},xh={name:"hiliteColor",display:"submenu",add:function(t,e){t.addModule([Tc]);const i=t.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.hiliteColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.hiliteColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.backgroundColor;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",t._styleProperty="backgroundColor",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.backgroundColor=t,this.nodeChange(e,["background-color"],null,null),this.submenuOff()}},Sh={name:"horizontalRule",display:"submenu",add:function(t,e){t.context.horizontalRule={currentHR:null};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(t)),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.hrItems||[{name:e.toolbar.hr_solid,class:"__se__solid"},{name:e.toolbar.hr_dashed,class:"__se__dashed"},{name:e.toolbar.hr_dotted,class:"__se__dotted"}];let s="";for(let o=0,r=n.length;o<r;o++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[o].class+'" title="'+n[o].name+'" aria-label="'+n[o].name+'"><hr'+(n[o].class?' class="'+n[o].class+'"':"")+(n[o].style?' style="'+n[o].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(t){if(!t)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(t.nodeName))return this.context.horizontalRule.currentHR=t,this.util.hasClass(t,"on")||(this.util.addClass(t,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,t,"on"))),!0;return!1},appendHr:function(t){return this.focus(),this.insertComponent(t.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=e.getAttribute("data-command");for(;!i&&!/UL/i.test(e.tagName);)e=e.parentNode,i=e.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,e.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},Th={name:"list",display:"submenu",add:function(t,e){const i=t.context;i.list={targetButton:e,_list:null,currentList:"",icons:{bullets:t.icons.list_bullets,number:t.icons.list_number}};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.list._list=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'" aria-label="'+e.toolbar.orderList+'">'+t.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'" aria-label="'+e.toolbar.unorderList+'">'+t.icons.list_bullets+"</button></li></ul></div>",i},active:function(t){const e=this.context.list.targetButton,i=e.firstElementChild,n=this.util;if(n.isList(t)){const s=t.nodeName;return e.setAttribute("data-focus",s),n.addClass(e,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else e.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(e,"active");return!1},on:function(){const t=this.context.list,e=t._list,i=t.targetButton.getAttribute("data-focus")||"";if(i!==t.currentList){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-command")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentList=i}},editList:function(t,e,i){let n=this.getRange(),s=e||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(e||(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;const o=this.util;o.sortByDepth(s,!0);let r=s[0],d=s[s.length-1],l=(o.isListCell(r)||o.isComponent(r))&&!r.previousElementSibling?r.parentNode.previousElementSibling:r.previousElementSibling,f=(o.isListCell(d)||o.isComponent(d))&&!d.nextElementSibling?d.parentNode.nextElementSibling:d.nextElementSibling;const u=n.collapsed,g={sc:n.startContainer,so:n.startContainer===n.endContainer&&o.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let w=null,x=!0;for(let C=0,T=s.length;C<T;C++)if(!o.isList(o.getRangeFormatElement(s[C],(function(a){return this.getRangeFormatElement(a)&&a!==s[C]}).bind(o)))){x=!1;break}if(x&&(!l||r.tagName!==l.tagName||t!==l.tagName.toUpperCase())&&(!f||d.tagName!==f.tagName||t!==f.tagName.toUpperCase())){if(i){for(let b=0,m=s.length;b<m;b++)for(let v=b-1;v>=0;v--)if(s[v].contains(s[b])){s.splice(b,1),b--,m--;break}}const C=o.getRangeFormatElement(r),T=C&&C.tagName===t;let a,c;const h=(function(b){return!this.isComponent(b)}).bind(o);T||(c=o.createElement(t));for(let b=0,m=s.length,v,p;b<m;b++)p=o.getRangeFormatElement(s[b],h),!(!p||!o.isList(p))&&(v?v!==p?(i&&o.isListCell(p.parentNode)?this.plugins.list._detachNested.call(this,a.f):w=this.detachRangeFormatElement(a.f[0].parentNode,a.f,c,!1,!0),p=s[b].parentNode,T||(c=o.createElement(t)),v=p,a={r:v,f:[o.getParentElement(s[b],"LI")]}):a.f.push(o.getParentElement(s[b],"LI")):(v=p,a={r:v,f:[o.getParentElement(s[b],"LI")]}),b===m-1&&(i&&o.isListCell(p.parentNode)?this.plugins.list._detachNested.call(this,a.f):w=this.detachRangeFormatElement(a.f[0].parentNode,a.f,c,!1,!0)))}else{const C=l&&l.parentNode,T=f&&f.parentNode;l=C&&!o.isWysiwygDiv(C)&&C.nodeName===t?C:l,f=T&&!o.isWysiwygDiv(T)&&T.nodeName===t?T:f;const a=l&&l.tagName===t,c=f&&f.tagName===t;let h=a?l:o.createElement(t),b=null,m=null,v=null;const p=(function(_){return!this.isComponent(_)&&!this.isList(_)}).bind(o);for(let _=0,E=s.length,y,S,N,L,k,M,$,F,H;_<E;_++){if(S=s[_],S.childNodes.length===0&&!o._isIgnoreNodeChange(S)){o.removeItem(S);continue}if(L=s[_+1],k=S.parentNode,M=L?L.parentNode:null,N=o.isListCell(S),H=o.isRangeFormatElement(k)?k:null,$=N&&!o.isWysiwygDiv(k)?k.parentNode:k,F=N&&!o.isWysiwygDiv(k)?!L||o.isListCell($)?k:k.nextSibling:S.nextSibling,y=o.createElement("LI"),o.copyFormatAttributes(y,S),_===0&&g.sc===S&&(g.sc=y),_===E-1&&g.ec===S&&(g.ec=y),o.isComponent(S)){const z=/^HR$/i.test(S.nodeName);z||(y.innerHTML="<br>"),y.innerHTML+=S.outerHTML,z&&(y.innerHTML+="<br>")}else{const z=S.childNodes;for(;z[0];)y.appendChild(z[0])}h.appendChild(y),(!L||$!==M||o.isRangeFormatElement(F))&&(b||(b=h),(!a||!L||$!==M)&&!(L&&o.isList(M)&&M===k)&&h.parentNode!==$&&$.insertBefore(h,F)),o.removeItem(S),a&&m===null&&(m=h.children.length-1),L&&(o.getRangeFormatElement(M,p)!==o.getRangeFormatElement(k,p)||o.isList(M)&&o.isList(k)&&o.getElementDepth(M)!==o.getElementDepth(k))&&(h=o.createElement(t)),H&&H.children.length===0&&o.removeItem(H)}m&&(b=b.children[m]),c&&(v=h.children.length-1,h.innerHTML+=f.innerHTML,h.children[v],o.removeItem(f))}return this.effectNode=null,u&&w||g},_detachNested:function(t){const e=t[0],i=t[t.length-1],n=i.nextElementSibling,s=e.parentNode,o=s.parentNode.nextElementSibling,r=s.parentNode.parentNode;for(let l=0,f=t.length;l<f;l++)r.insertBefore(t[l],o);if(n&&s.children.length>0){const l=s.cloneNode(!1),f=s.childNodes,u=this.util.getPositionIndex(n);for(;f[u];)l.appendChild(f[u]);i.appendChild(l)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(r);const d=this.util.getEdgeChildNodes(e,i);return{cc:e.parentNode,sc:d.sc,ec:d.ec}},editInsideList:function(t,e){e=e||this.getSelectedElements().filter((function(r){return this.isListCell(r)}).bind(this.util));const i=e.length;if(i===0||!t&&!this.util.isListCell(e[0].previousElementSibling)&&!this.util.isListCell(e[i-1].nextElementSibling))return{sc:e[0],so:0,ec:e[i-1],eo:1};let n=e[0].parentNode,s=e[i-1],o=null;if(t){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)e.push(s),s=s.nextElementSibling;o=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),e,!0)}else{let r=this.util.createElement(n.nodeName),d=e[0].previousElementSibling,l=s.nextElementSibling;const f={s:null,e:null,sl:n,el:n};for(let w=0,x=i,C;w<x;w++)C=e[w],C.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,r,d,l,f),n=C.parentNode,r=this.util.createElement(n.nodeName)),d=C.previousElementSibling,l=C.nextElementSibling,r.appendChild(C);this.plugins.list._insiedList.call(this,n,r,d,l,f);const u=this.util.getNodeFromPath(f.s,f.sl),g=this.util.getNodeFromPath(f.e,f.el);o={sc:u,so:0,ec:g,eo:g.textContent.length}}return o},_insiedList:function(t,e,i,n,s){let o=!1;if(i&&e.tagName===i.tagName){const r=e.children;for(;r[0];)i.appendChild(r[0]);e=i,o=!0}if(n&&e.tagName===n.tagName){const r=n.children;for(;r[0];)e.appendChild(r[0]);const d=n.nextElementSibling;n.parentNode.removeChild(n),n=d}if(!o){this.util.isListCell(i)&&(t=i,n=null),t.insertBefore(e,n),s.s||(s.s=this.util.getNodePath(e.firstElementChild.firstChild,t,null),s.sl=t);const r=t.contains(s.sl)?this.util.getNodePath(s.sl,t):null;s.e=this.util.getNodePath(e.lastElementChild.firstChild,t,null),s.el=t,this.util.mergeSameTags(t,[s.s,s.e,r],!1),this.util.mergeNestedTags(t),r&&(s.sl=this.util.getNodeFromPath(r,t))}return e},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i="";for(;!i&&!/^UL$/i.test(e.tagName);)i=e.getAttribute("data-command"),e=e.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},Lh={name:"table",display:"submenu",add:function(t,e){const i=t.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:t.options.rtl,cellControllerTop:t.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:t.lang.controller.maxSize,minText:t.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:t.icons.expansion,reduction:t.icons.reduction}},s=this.setSubmenu(t),o=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),t.options.rtl&&(n.tableHighlight.style.left="167px");let r=this.setController_table(t);n.tableController=r,n.resizeButton=r.querySelector("._se_table_resize"),n.resizeText=r.querySelector("._se_table_resize > span > span"),n.columnFixedButton=r.querySelector("._se_table_fixed_column"),n.headerButton=r.querySelector("._se_table_header");let d=this.setController_tableEditor(t,n.cellControllerTop);n.resizeDiv=d,n.splitMenu=d.querySelector(".se-btn-group-sub"),n.mergeButton=d.querySelector("._se_table_merge_button"),n.splitButton=d.querySelector("._se_table_split_button"),n.insertRowAboveButton=d.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=d.querySelector("._se_table_insert_row_b"),o.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(t,n)),o.addEventListener("click",this.appendTable.bind(t)),d.addEventListener("click",this.onClick_tableController.bind(t)),r.addEventListener("click",this.onClick_tableController.bind(t)),t.initMenuTarget(this.name,e,s),i.element.relative.appendChild(d),i.element.relative.appendChild(r),s=null,o=null,d=null,r=null,n=null},setSubmenu:function(t){const e=t.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(t,e){const i=t.lang,n=t.icons,s=t.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){const t=this.util.createElement("TABLE"),e=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+e.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",t.innerHTML=s,this.insertComponent(t,!1,!0,!1)){const r=t.querySelector("td div");this.setRange(r,0,r,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(t,e,i){if(t=t.toLowerCase(),i){const n=this.util.createElement(t);return n.innerHTML="<div><br></div>",n}else{let n="";for(;e>0;)n+="<"+t+"><div><br></div></"+t+">",e--;return n}},onMouseMove_tablePicker:function(t,e){e.stopPropagation();let i=this._w.Math.ceil(e.offsetX/18),n=this._w.Math.ceil(e.offsetY/18);i=i<1?1:i,n=n<1?1:n,t._rtl&&(t.tableHighlight.style.left=i*18-13+"px",i=11-i),t.tableHighlight.style.width=i+"em",t.tableHighlight.style.height=n+"em",this.util.changeTxt(t.tableDisplay,i+" x "+n),t._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const t=this.context.table.tableHighlight.style,e=this.context.table.tableUnHighlight.style;t.width="1em",t.height="1em",e.width="10em",e.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const t=this.context.table,e=this.plugins.table;if(e._removeEvents.call(this),e._selectedTable){const i=e._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,s=i.length;n<s;n++)this.util.removeClass(i[n],"se-table-selected-cell")}e._toggleEditor.call(this,!0),t._element=null,t._tdElement=null,t._trElement=null,t._trElements=null,t._tableXY=[],t._maxWidth=!0,t._fixedColumn=!1,t._physical_cellCnt=0,t._logical_cellCnt=0,t._rowCnt=0,t._rowIndex=0,t._physical_cellIndex=0,t._logical_cellIndex=0,t._current_colSpan=0,t._current_rowSpan=0,e._shift=!1,e._selectedCells=null,e._selectedTable=null,e._ref=null,e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null},call_controller_tableEdit:function(t){const e=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!e._selectedCell){this.controllersOff(),this.util.removeClass(t,"se-table-selected-cell");return}const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",e.setTableStyle.call(this,i._maxWidth?"width|column":"width"),e.setPositionControllerTop.call(this,n),e.setPositionControllerDiv.call(this,t,e._shift),e._shift||this.controllersOn(i.resizeDiv,i.tableController,e.init.bind(this),t,"table")},setPositionControllerTop:function(t){this.setControllerPosition(this.context.table.tableController,t,"top",{left:0,top:0})},setPositionControllerDiv:function(t,e){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,t,e),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,t,"bottom",{left:0,top:0})},setCellInfo:function(t,e){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),e||i._physical_cellCnt===0){i._tdElement!==t&&(i._tdElement=t,i._trElement=t.parentNode);const s=i._trElements=n.rows,o=t.cellIndex;let r=0;for(let u=0,g=s[0].cells,w=s[0].cells.length;u<w;u++)r+=g[u].colSpan;const d=i._rowIndex=i._trElement.rowIndex;i._rowCnt=s.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=r,i._physical_cellIndex=o,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[o].rowSpan-1;let l=[],f=[];for(let u=0,g,w;u<=d;u++){g=s[u].cells,w=0;for(let x=0,C=g.length,T,a,c,h;x<C;x++){if(T=g[x],a=T.colSpan-1,c=T.rowSpan-1,h=x+w,f.length>0)for(let b=0,m;b<f.length;b++)m=f[b],!(m.row>u)&&(h>=m.index?(w+=m.cs,h+=m.cs,m.rs-=1,m.row=u+1,m.rs<1&&(f.splice(b,1),b--)):x===C-1&&(m.rs-=1,m.row=u+1,m.rs<1&&(f.splice(b,1),b--)));if(u===d&&x===o){i._logical_cellIndex=h;break}c>0&&l.push({index:h,cs:a+1,rs:c,row:-1}),w+=a}f=f.concat(l).sort(function(x,C){return x.index-C.index}),l=[]}l=null,f=null}},editTable:function(t,e){const i=this.plugins.table,n=this.context.table,s=n._element,o=t==="row";if(o){const r=n._trElement.parentNode;if(/^THEAD$/i.test(r.nodeName)){if(e==="up")return;if(!r.nextElementSibling||!/^TBODY$/i.test(r.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){const r=n._tdElement,d=i._selectedCells;if(o)if(e)i.setCellInfo.call(this,e==="up"?d[0]:d[d.length-1],!0),i.editRow.call(this,e,r);else{let l=d[0].parentNode;const f=[d[0]];for(let u=1,g=d.length,w;u<g;u++)w=d[u],l!==w.parentNode&&(f.push(w),l=w.parentNode);for(let u=0,g=f.length;u<g;u++)i.setCellInfo.call(this,f[u],!0),i.editRow.call(this,e)}else{const l=d[0].parentNode;if(e){let f=null;for(let u=0,g=d.length-1;u<g;u++)if(l!==d[u+1].parentNode){f=d[u];break}i.setCellInfo.call(this,e==="left"?d[0]:f||d[0],!0),i.editCell.call(this,e,r)}else{const f=[d[0]];for(let u=1,g=d.length,w;u<g&&(w=d[u],l===w.parentNode);u++)f.push(w);for(let u=0,g=f.length;u<g;u++)i.setCellInfo.call(this,f[u],!0),i.editCell.call(this,e)}}e||i.init.call(this)}else i[o?"editRow":"editCell"].call(this,e);if(!e){const r=s.children;for(let d=0;d<r.length;d++)r[d].children.length===0&&(this.util.removeItem(r[d]),d--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(t,e){const i=this.context.table,n=!t,s=t==="up",o=i._rowIndex,r=n||s?o:o+i._current_rowSpan+1,d=n?-1:1,l=i._trElements;let f=i._logical_cellCnt;for(let u=0,g=o+(n?-1:0),w;u<=g;u++){if(w=l[u].cells,w.length===0)return;for(let x=0,C=w.length,T,a;x<C;x++)T=w[x].rowSpan,a=w[x].colSpan,!(T<2&&a<2)&&T+u>r&&r>u&&(w[x].rowSpan=T+d,f-=a)}if(n){const u=l[o+1];if(u){const g=[];let w=l[o].cells,x=0;for(let C=0,T=w.length,a,c;C<T;C++)a=w[C],c=C+x,x+=a.colSpan-1,a.rowSpan>1&&(a.rowSpan-=1,g.push({cell:a.cloneNode(!1),index:c}));if(g.length>0){let C=g.shift();w=u.cells,x=0;for(let T=0,a=w.length,c,h;T<a&&(c=w[T],h=T+x,x+=c.colSpan-1,!(h>=C.index&&(T--,x--,x+=C.cell.colSpan-1,u.insertBefore(C.cell,c),C=g.shift(),!C)));T++);if(C){u.appendChild(C.cell);for(let T=0,a=g.length;T<a;T++)u.appendChild(g[T].cell)}}}i._element.deleteRow(r)}else{const u=i._element.insertRow(r);u.innerHTML=this.plugins.table.createCells.call(this,"td",f,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},editCell:function(t,e){const i=this.context.table,n=this.util,s=!t,o=t==="left",r=i._current_colSpan,d=s||o?i._logical_cellIndex:i._logical_cellIndex+r+1,l=i._trElements;let f=[],u=[],g=0;const w=[],x=[];for(let C=0,T=i._rowCnt,a,c,h,b,m,v;C<T;C++){a=l[C],c=d,m=!1,h=a.cells,v=0;for(let p=0,_,E=h.length,y,S,N;p<E&&(_=h[p],!!_);p++)if(y=_.rowSpan-1,S=_.colSpan-1,s){if(N=p+v,u.length>0){const L=!h[p+1];for(let k=0,M;k<u.length;k++)M=u[k],!(M.row>C)&&(N>=M.index?(v+=M.cs,N=p+v,M.rs-=1,M.row=C+1,M.rs<1&&(u.splice(k,1),k--)):L&&(M.rs-=1,M.row=C+1,M.rs<1&&(u.splice(k,1),k--)))}y>0&&f.push({rs:y,cs:S+1,index:N,row:-1}),N>=c&&N+S<=c+r?w.push(_):N<=c+r&&N+S>=c?_.colSpan-=n.getOverlapRangeAtIndex(d,d+r,N,N+S):y>0&&(N<c||N+S>c+r)&&x.push({cell:_,i:C,rs:C+y}),v+=S}else{if(p>=c)break;if(S>0){if(g<1&&S+p>=c){_.colSpan+=1,c=null,g=y+1;break}c-=S}if(!m){for(let L=0,k;L<u.length;L++)k=u[L],c-=k.cs,k.rs-=1,k.rs<1&&(u.splice(L,1),L--);m=!0}}if(u=u.concat(f).sort(function(p,_){return p.index-_.index}),f=[],!s){if(g>0){g-=1;continue}c!==null&&h.length>0&&(b=this.plugins.table.createCells.call(this,h[0].nodeName,0,!0),b=a.insertBefore(b,h[c]))}}if(s){let C,T;for(let a=0,c=w.length,h;a<c;a++)h=w[a].parentNode,n.removeItem(w[a]),h.cells.length===0&&(C||(C=n.getArrayIndex(l,h)),T=n.getArrayIndex(l,h),n.removeItem(h));for(let a=0,c=x.length,h;a<c;a++)h=x[a],h.cell.rowSpan=n.getOverlapRangeAtIndex(C,T,h.i,h.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(t){const e=this.util,i=t==="vertical",n=this.context.table,s=n._tdElement,o=n._trElements,r=n._trElement,d=n._logical_cellIndex,l=n._rowIndex,f=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){const u=s.colSpan;if(f.rowSpan=s.rowSpan,u>1)f.colSpan=this._w.Math.floor(u/2),s.colSpan=u-f.colSpan,r.insertBefore(f,s.nextElementSibling);else{let g=[],w=[];for(let x=0,C=n._rowCnt,T,a;x<C;x++){T=o[x].cells,a=0;for(let c=0,h=T.length,b,m,v,p;c<h;c++){if(b=T[c],m=b.colSpan-1,v=b.rowSpan-1,p=c+a,w.length>0)for(let _=0,E;_<w.length;_++)E=w[_],!(E.row>x)&&(p>=E.index?(a+=E.cs,p+=E.cs,E.rs-=1,E.row=x+1,E.rs<1&&(w.splice(_,1),_--)):c===h-1&&(E.rs-=1,E.row=x+1,E.rs<1&&(w.splice(_,1),_--)));if(p<=d&&v>0&&g.push({index:p,cs:m+1,rs:v,row:-1}),b!==s&&p<=d&&p+m>=d+u-1){b.colSpan+=1;break}if(p>d)break;a+=m}w=w.concat(g).sort(function(c,h){return c.index-h.index}),g=[]}r.insertBefore(f,s.nextElementSibling)}}else{const u=s.rowSpan;if(f.colSpan=s.colSpan,u>1){f.rowSpan=this._w.Math.floor(u/2);const g=u-f.rowSpan,w=[],x=e.getArrayIndex(o,r)+g;for(let c=0,h,b;c<x;c++){h=o[c].cells,b=0;for(let m=0,v=h.length,p,_,E;m<v&&(E=m+b,!(E>=d));m++)p=h[m],_=p.rowSpan-1,_>0&&_+c>=x&&E<d&&w.push({index:E,cs:p.colSpan}),b+=p.colSpan-1}const C=o[x],T=C.cells;let a=w.shift();for(let c=0,h=T.length,b=0,m,v,p,_;c<h;c++){if(p=c+b,m=T[c],v=m.colSpan-1,_=p+v+1,a&&_>=a.index&&(b+=a.cs,_+=a.cs,a=w.shift()),_>=d||c===h-1){C.insertBefore(f,m.nextElementSibling);break}b+=v}s.rowSpan=g}else{f.rowSpan=s.rowSpan;const g=e.createElement("TR");g.appendChild(f);for(let C=0,T;C<l;C++){if(T=o[C].cells,T.length===0)return;for(let a=0,c=T.length;a<c;a++)C+T[a].rowSpan-1>=l&&(T[a].rowSpan+=1)}const w=n._physical_cellIndex,x=r.cells;for(let C=0,T=x.length;C<T;C++)C!==w&&(x[C].rowSpan+=1);r.parentNode.insertBefore(g,r.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){const t=this.plugins.table,e=this.context.table,i=this.util,n=t._ref,s=t._selectedCells,o=s[0];let r=null,d=null,l=n.ce-n.cs+1,f=n.re-n.rs+1,u="",g=null;for(let w=1,x=s.length,C,T;w<x;w++){C=s[w],g!==C.parentNode&&(g=C.parentNode),T=C.children;for(let a=0,c=T.length;a<c;a++)i.isFormatElement(T[a])&&i.onlyZeroWidthSpace(T[a].textContent)&&i.removeItem(T[a]);u+=C.innerHTML,i.removeItem(C),g.cells.length===0&&(r?d=g:r=g,f-=1)}if(r){const w=e._trElements,x=i.getArrayIndex(w,r),C=i.getArrayIndex(w,d||r),T=[];for(let a=0,c;a<=C;a++){if(c=w[a].cells,c.length===0){T.push(w[a]);continue}for(let h=0,b=c.length,m,v;h<b;h++)m=c[h],v=m.rowSpan-1,v>0&&a+v>=x&&(m.rowSpan-=i.getOverlapRangeAtIndex(x,C,a,a+v))}for(let a=0,c=T.length;a<c;a++)i.removeItem(T[a])}o.innerHTML+=u,o.colSpan=l,o.rowSpan=f,this.controllersOff(),t.setActiveButton.call(this,!0,!1),t.call_controller_tableEdit.call(this,o),i.addClass(o,"se-table-selected-cell"),this.focusEdge(o)},toggleHeader:function(){const t=this.util,e=this.context.table.headerButton,i=t.hasClass(e,"active"),n=this.context.table._element;if(i)t.removeItem(n.querySelector("thead"));else{const s=t.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(s,n.firstElementChild)}t.toggleClass(e,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(t){const e=this.context.table,i=e._element;let n,s,o,r;t.indexOf("width")>-1&&(n=e.resizeButton.firstElementChild,s=e.resizeText,e._maxWidth?(o=e.icons.reduction,r=e.minText,e.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(o=e.icons.expansion,r=e.maxText,e.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,o),this.util.changeTxt(s,r)),t.indexOf("column")>-1&&(e._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(e.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(e.columnFixedButton,"active")))},setActiveButton:function(t,e){const i=this.context.table;/^TH$/i.test(t.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!e||t===e?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(t){this.context.element.wysiwyg.setAttribute("contenteditable",t),t?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(t){t.stopPropagation();const e=this.plugins.table;e._shift?e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null):(e._removeEvents.call(this),e._toggleEditor.call(this,!0)),!(!e._fixedCell||!e._selectedTable)&&(e.setActiveButton.call(this,e._fixedCell,e._selectedCell),e.call_controller_tableEdit.call(this,e._selectedCell||e._fixedCell),e._selectedCells=e._selectedTable.querySelectorAll(".se-table-selected-cell"),e._selectedCell&&e._fixedCell&&this.focusEdge(e._selectedCell),e._shift||(e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null))},_onCellMultiSelect:function(t){this._antiBlur=!0;const e=this.plugins.table,i=this.util.getParentElement(t.target,this.util.isCell);if(e._shift)i===e._fixedCell?e._toggleEditor.call(this,!0):e._toggleEditor.call(this,!1);else if(!e._ref){if(i===e._fixedCell)return;e._toggleEditor.call(this,!1)}!i||i===e._selectedCell||e._fixedCellName!==i.nodeName||e._selectedTable!==this.util.getParentElement(i,"TABLE")||(e._selectedCell=i,e._setMultiCells.call(this,e._fixedCell,i))},_setMultiCells:function(t,e){const i=this.plugins.table,n=i._selectedTable.rows,s=this.util,o=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let u=0,g=o.length;u<g;u++)s.removeClass(o[u],"se-table-selected-cell");if(t===e&&(s.addClass(t,"se-table-selected-cell"),!i._shift))return;let r=!0,d=[],l=[];const f=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let u=0,g=n.length,w,x;u<g;u++){w=n[u].cells,x=0;for(let C=0,T=w.length,a,c,h,b;C<T;C++){if(a=w[C],h=a.colSpan-1,b=a.rowSpan-1,c=C+x,d.length>0)for(let m=0,v;m<d.length;m++)v=d[m],!(v.row>u)&&(c>=v.index?(x+=v.cs,c+=v.cs,v.rs-=1,v.row=u+1,v.rs<1&&(d.splice(m,1),m--)):C===T-1&&(v.rs-=1,v.row=u+1,v.rs<1&&(d.splice(m,1),m--)));if(r){if((a===t||a===e)&&(f.cs=f.cs!==null&&f.cs<c?f.cs:c,f.ce=f.ce!==null&&f.ce>c+h?f.ce:c+h,f.rs=f.rs!==null&&f.rs<u?f.rs:u,f.re=f.re!==null&&f.re>u+b?f.re:u+b,f._i+=1),f._i===2){r=!1,d=[],l=[],u=-1;break}}else if(s.getOverlapRangeAtIndex(f.cs,f.ce,c,c+h)&&s.getOverlapRangeAtIndex(f.rs,f.re,u,u+b)){const m=f.cs<c?f.cs:c,v=f.ce>c+h?f.ce:c+h,p=f.rs<u?f.rs:u,_=f.re>u+b?f.re:u+b;if(f.cs!==m||f.ce!==v||f.rs!==p||f.re!==_){f.cs=m,f.ce=v,f.rs=p,f.re=_,u=-1,d=[],l=[];break}s.addClass(a,"se-table-selected-cell")}b>0&&l.push({index:c,cs:h+1,rs:b,row:-1}),x+=a.colSpan-1}d=d.concat(l).sort(function(C,T){return C.index-T.index}),l=[]}},_removeEvents:function(){const t=this.plugins.table;t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null),t._bindOnSelect&&(this._wd.removeEventListener("mousedown",t._bindOnSelect),this._wd.removeEventListener("mousemove",t._bindOnSelect),t._bindOnSelect=null),t._bindOffSelect&&(this._wd.removeEventListener("mouseup",t._bindOffSelect),t._bindOffSelect=null),t._bindOffShift&&(this._wd.removeEventListener("keyup",t._bindOffShift),t._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(t,e){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=e,i._fixedCell=t,i._fixedCellName=t.nodeName,i._selectedTable=this.util.getParentElement(t,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,o=n.length;s<o;s++)this.util.removeClass(n[s],"se-table-selected-cell");this.util.addClass(t,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),e?(i._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),t,"table"),i._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")?t.target:t.target.parentNode;if(e.getAttribute("disabled"))return;const i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),s=e.getAttribute("data-option"),o=this.plugins.table;if(typeof o._closeSplitMenu=="function"&&(o._closeSplitMenu(),i==="onsplit")||!i)return;t.preventDefault();const r=this.context.table;switch(i){case"insert":case"delete":o.editTable.call(this,n,s);break;case"header":o.toggleHeader.call(this);break;case"onsplit":o.openSplitMenu.call(this);break;case"split":o.splitCells.call(this,n);break;case"merge":o.mergeCells.call(this);break;case"resize":r._maxWidth=!r._maxWidth,o.setTableStyle.call(this,"width"),o.setPositionControllerTop.call(this,r._element),o.setPositionControllerDiv.call(this,r._tdElement,o._shift);break;case"layout":r._fixedColumn=!r._fixedColumn,o.setTableStyle.call(this,"column"),o.setPositionControllerTop.call(this,r._element),o.setPositionControllerDiv.call(this,r._tdElement,o._shift);break;case"remove":const d=r._element.parentNode;this.util.removeItem(r._element),this.controllersOff(),d!==this.context.element.wysiwyg&&this.util.removeItemAllParents(d,function(l){return l.childNodes.length===0},null),this.focus()}this.history.push(!1)}},kh={name:"formatBlock",display:"submenu",add:function(t,e){const i=t.context;i.formatBlock={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.formatBlock._formatList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.lang.toolbar,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],o=!e.formats||e.formats.length===0?s:e.formats;let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let d=0,l=o.length,f,u,g,w,x,C,T;d<l;d++)f=o[d],typeof f=="string"&&s.indexOf(f)>-1?(u=f.toLowerCase(),g=u==="blockquote"?"range":u==="pre"?"free":"replace",x=/^h/.test(u)?u.match(/\d+/)[0]:"",w=i["tag_"+(x?"h":u)]+x,T="",C=""):(u=f.tag.toLowerCase(),g=f.command,w=f.name||u,T=f.class,C=T?' class="'+T+'"':""),r+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+u+'" data-class="'+T+'" title="'+w+'" aria-label="'+w+'"><'+u+C+">"+w+"</"+u+"></button></li>";return r+="</ul></div>",n.innerHTML=r,n},active:function(t){let e=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(!t)this.util.changeTxt(i,e);else if(this.util.isFormatElement(t)){const s=this.context.formatBlock._formatList,o=t.nodeName.toLowerCase(),r=(t.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let d=0,l=s.length,f;d<l;d++)if(f=s[d],o===f.getAttribute("data-value")&&r===f.getAttribute("data-class")){e=f.title;break}return this.util.changeTxt(i,e),i.setAttribute("data-value",o),i.setAttribute("data-class",r),!0}return!1},on:function(){const t=this.context.formatBlock,e=t._formatList,i=t.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==t.currentFormat){for(let s=0,o=e.length,r;s<o;s++)r=e[s],n===r.getAttribute("data-value")+r.getAttribute("data-class")?this.util.addClass(r,"active"):this.util.removeClass(r,"active");t.currentFormat=n}},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null,s=null,o="";for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),o=e.getAttribute("data-class"),i){s=e.firstChild;break}e=e.parentNode}if(i){if(i==="range"){const r=s.cloneNode(!1);this.applyRangeFormatElement(r)}else{let r=this.getRange(),d=this.getSelectedElementsAndComponents(!1);if(d.length===0&&(r=this.getRange_addLine(r,null),d=this.getSelectedElementsAndComponents(!1),d.length===0))return;const l=r.startOffset,f=r.endOffset,u=this.util;let g=d[0],w=d[d.length-1];const x=u.getNodePath(r.startContainer,g,null,null),C=u.getNodePath(r.endContainer,w,null,null),T=this.detachList(d,!1);T.sc&&(g=T.sc),T.ec&&(w=T.ec),this.setRange(u.getNodeFromPath(x,g),l,u.getNodeFromPath(C,w),f);const a=this.getSelectedElementsAndComponents(!1);if(i==="free"){const c=a.length-1;let h=a[c].parentNode,b=s.cloneNode(!1);const m=b;for(let v=c,p,_,E,y,S,N,L=!0;v>=0;v--)if(p=a[v],p!==(a[v+1]?a[v+1].parentNode:null)){if(N=u.isComponent(p),_=N?"":p.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),E=u.getParentElement(p,function(k){return k.parentNode===h}),(h!==p.parentNode||N)&&(u.isFormatElement(h)?(h.parentNode.insertBefore(b,h.nextSibling),h=h.parentNode):(h.insertBefore(b,E?E.nextSibling:null),h=p.parentNode),y=b.nextSibling,y&&b.nodeName===y.nodeName&&u.isSameAttributes(b,y)&&(b.innerHTML+="<BR>"+y.innerHTML,u.removeItem(y)),b=s.cloneNode(!1),L=!0),S=b.innerHTML,b.innerHTML=(L||!_||!S||/<br>$/i.test(_)?_:_+"<BR>")+S,v===0){h.insertBefore(b,p),y=p.nextSibling,y&&b.nodeName===y.nodeName&&u.isSameAttributes(b,y)&&(b.innerHTML+="<BR>"+y.innerHTML,u.removeItem(y));const k=b.previousSibling;k&&b.nodeName===k.nodeName&&u.isSameAttributes(b,k)&&(k.innerHTML+="<BR>"+b.innerHTML,u.removeItem(b))}N||u.removeItem(p),_&&(L=!1)}this.setRange(m,0,m,0)}else{for(let c=0,h=a.length,b,m;c<h;c++)b=a[c],(b.nodeName.toLowerCase()!==n.toLowerCase()||(b.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==o)&&!u.isComponent(b)&&(m=s.cloneNode(!1),u.copyFormatAttributes(m,b),m.innerHTML=b.innerHTML,b.parentNode.replaceChild(m,b)),c===0&&(g=m||b),c===h-1&&(w=m||b),m=null;this.setRange(u.getNodeFromPath(x,g),l,u.getNodeFromPath(C,w),f)}this.history.push(!1)}this.submenuOff()}}},Ah={name:"lineHeight",display:"submenu",add:function(t,e){const i=t.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.lineHeight._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer";const s=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let r=0,d=s.length,l;r<d;r++)l=s[r],o+='<li><button type="button" class="se-btn-list" data-value="'+l.value+'" title="'+l.text+'" aria-label="'+l.text+'">'+l.text+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},on:function(){const t=this.context.lineHeight,e=t._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==t.currentSize){for(let s=0,o=e.length;s<o;s++)n===e[s].getAttribute("data-value")?this.util.addClass(e[s],"active"):this.util.removeClass(e[s],"active");t.currentSize=n}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,s=i.length;n<s;n++)i[n].style.lineHeight=e;this.submenuOff(),this.history.push(!1)}},Nh={name:"template",display:"submenu",add:function(t,e){const i=t.context;i.template={selectedIndex:-1};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickup.bind(t)),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options.templates;if(!e||e.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=t.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,o=e.length,r;s<o;s++)r=e[s],n+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+r.name+'" aria-label="'+r.name+'">'+r.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation(),this.context.template.selectedIndex=t.target.getAttribute("data-value")*1;const e=this.options.templates[this.context.template.selectedIndex];if(e.html)this.setContents(e.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Dh={name:"paragraphStyle",display:"submenu",add:function(t,e){const i=t.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.paragraphStyle._classList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=t.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},o=!e.paragraphStyles||e.paragraphStyles.length===0?["spaced","bordered","neon"]:e.paragraphStyles;let r='<div class="se-list-inner"><ul class="se-list-basic">';for(let d=0,l=o.length,f,u,g,w;d<l;d++){if(f=o[d],typeof f=="string"){const x=s[f.toLowerCase()];if(!x)continue;f=x}u=f.name,g=f.class?' class="'+f.class+'"':"",w=f._class,r+='<li><button type="button" class="se-btn-list'+(w?" "+w:"")+'" data-value="'+f.class+'" title="'+u+'" aria-label="'+u+'"><div'+g+">"+u+"</div></button></li>"}return r+="</ul></div>",i.innerHTML=r,i},on:function(){const e=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,s=e.length;n<s;n++)this.util.hasClass(i,e[n].getAttribute("data-value"))?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active")},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!/^UL$/i.test(e.tagName)&&(i=e.getAttribute("data-value"),!i);)e=e.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;const s=this.util.hasClass(e,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let o=0,r=n.length;o<r;o++)s(n[o],i);this.submenuOff(),this.history.push(!1)}},Oh={name:"textStyle",display:"submenu",add:function(t,e){const i=t.context;i.textStyle={_styleList:null};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.textStyle._styleList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:t.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:t.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:t.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=e.textStyles?e.textStyles:t._w.Object.keys(n);let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let r=0,d=s.length,l,f,u,g,w,x,C;r<d;r++){if(l=s[r],g="",x="",w=[],typeof l=="string"){const T=n[l.toLowerCase()];if(!T)continue;l=T}u=l.name,f=l.tag||"span",C=l._class,l.style&&(g+=' style="'+l.style+'"',x+=l.style.replace(/:[^;]+(;|$)\s*/g,","),w.push("style")),l.class&&(g+=' class="'+l.class+'"',x+="."+l.class.trim().replace(/\s+/g,",."),w.push("class")),x=x.replace(/,$/,""),o+='<li><button type="button" class="se-btn-list'+(C?" "+C:"")+'" data-command="'+f+'" data-value="'+x+'" title="'+u+'" aria-label="'+u+'"><'+f+g+">"+u+"</"+f+"></button></li>"}return o+="</ul></div>",i.innerHTML=o,i},on:function(){const t=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let s=0,o=i.length,r,d,l;s<o;s++){r=i[s],d=r.getAttribute("data-value").split(",");for(let f=0,u,g;f<d.length;f++){for(u=n,l=!1;u&&!t.isFormatElement(u)&&!t.isComponent(u);){if(u.nodeName.toLowerCase()===r.getAttribute("data-command").toLowerCase()&&(g=d[f],/^\./.test(g)?t.hasClass(u,g.replace(/^\./,"")):u.style[g])){l=!0;break}u=u.parentNode}if(!l)break}l?t.addClass(r,"active"):t.removeClass(r,"active")}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null;for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),i){n=e.firstChild;break}e=e.parentNode}if(!i)return;const s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();const o=n.classList;for(let l=0,f=o.length;l<f;l++)s.push("."+o[l]);const r=this.util.hasClass(e,"active")?null:n.cloneNode(!1),d=r?null:[n.nodeName];this.nodeChange(r,s,d,!0),this.submenuOff()}};var hs={exports:{}},Mh=hs.exports,Va;function Bh(){return Va||(Va=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Mh,function(e,i){const n={name:"dialog",add:function(s){const o=s.context;o.dialog={kind:"",updateModal:!1,_closeSignal:!1};let r=s.util.createElement("DIV");r.className="se-dialog sun-editor-common";let d=s.util.createElement("DIV");d.className="se-dialog-back",d.style.display="none";let l=s.util.createElement("DIV");l.className="se-dialog-inner",l.style.display="none",r.appendChild(d),r.appendChild(l),o.dialog.modalArea=r,o.dialog.back=d,o.dialog.modal=l,o.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(s)),o.dialog.modal.addEventListener("click",this._onClick_dialog.bind(s)),o.element.relative.appendChild(r),r=null,d=null,l=null},_onMouseDown_dialog:function(s){/se-dialog-inner/.test(s.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(s){(/close/.test(s.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(s,o){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(d){/27/.test(d.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=o,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=s,this.modalForm=this.context[s].modal;const r=this.context[s].focusElement;typeof this.plugins[s].on=="function"&&this.plugins[s].on.call(this,o),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",r&&r.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const s=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[s].init=="function"&&this.plugins[s].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(hs)),hs.exports}var Ih=Bh();const kn=gi(Ih),Rh={name:"selectMenu",add:function(t){t.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(t,e,i){t.form.innerHTML="<ul>"+i+"</ul>",t.items=e,t.menus=t.form.querySelectorAll("li")},initEvent:function(t,e){const i=e.querySelector(".se-select-list"),n=this.context.selectMenu.caller[t]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:t};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(t){t.preventDefault(),t.stopPropagation()},onMouseMove_list:function(t,e){this.util.addClass(t.form,"__se_select-menu-mouse-move");const i=e.target.getAttribute("data-index");i&&(t.index=i*1)},onClick_list:function(t,e){const i=e.target.getAttribute("data-index");i&&t.clickMethod.call(this,t.items[i])},moveItem:function(t,e){this.util.removeClass(t.form,"__se_select-menu-mouse-move"),e=t.index+e;const i=t.menus,n=i.length,s=t.index=e>=n?0:e<0?n-1:e;for(let o=0;o<n;o++)o===s?this.util.addClass(i[o],"active"):this.util.removeClass(i[o],"active");t.item=t.items[s]},getItem:function(t,e){return e=!e||e<0?t.index:e,t.items[e]},on:function(t,e){const i=this.context.selectMenu.caller[t];this.context.selectMenu.callerContext=i,i.clickMethod=e,i.callerName=t},open:function(t,e){const i=t.form;i.style.visibility="hidden",i.style.display="block",e(i),i.style.visibility=""},close:function(t){t.form.style.display="none",t.items=[],t.menus=[],t.index=-1,t.item=null},init:function(t){t&&(t.items=[],t.menus=[],t.index=-1,t.item=null,t.callerName="",this.context.selectMenu.callerContext=null)}},Lc={name:"anchor",add:function(t){t.addModule([Rh]),t.context.anchor={caller:{},forms:this.setDialogForm(t),host:(t._w.location.origin+t._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(t){const e=t.lang,i=t.options.linkRel,n=(t.options.linkRelDefault.default||"").split(" "),s=t.icons,o=t.util.createElement("DIV");let r='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(t.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+e.dialogBox.linkBox.bookmark+'" aria-label="'+e.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+t.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+e.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){r+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let d=0,l=i.length,f;d<l;d++)f=i[d],r+='<li><button type="button" class="se-btn-list'+(n.indexOf(f)>-1?" se-checked":"")+'" data-command="'+f+'" title="'+f+'" aria-label="'+f+'"><span class="se-svg">'+s.checked+"</span>"+f+"</button></li>";r+="</ul></div></div></div>"}return r+="</div></div>",o.innerHTML=r,o},initEvent:function(t,e){const i=this.plugins.anchor,n=this.context.anchor.caller[t]={modal:e,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:t};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=e.querySelector(".se-input-url"),n.anchorText=e.querySelector("._se_anchor_text"),n.newWindowCheck=e.querySelector("._se_anchor_check"),n.downloadCheck=e.querySelector("._se_anchor_download"),n.download=e.querySelector("._se_anchor_download_icon"),n.preview=e.querySelector(".se-link-preview"),n.bookmark=e.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=e.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,t,e);const s=this.context.selectMenu.caller[t];this.options.linkRel.length>0&&(n.relButton=e.querySelector(".se-anchor-rel-btn"),n.relList=e.querySelector(".se-list-layer"),n.relPreview=e.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(t,e){const i=this.plugins.anchor;if(!e)i.init.call(this,t),t.anchorText.value=this.getSelection().toString().trim(),t.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(t.linkAnchor){this.context.dialog.updateModal=!0;const n=t.linkAnchor.getAttribute("href");t.linkValue=t.preview.textContent=t.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,t.anchorText.value=t.linkAnchor.textContent,t.newWindowCheck.checked=!!/_blank/i.test(t.linkAnchor.target),t.downloadCheck.checked=t.linkAnchor.download}this.context.anchor.callerContext=t,i.setRel.call(this,t,e&&t.linkAnchor?t.linkAnchor.rel:t.defaultRel),i.setLinkPreview.call(this,t,t.linkValue),this.plugins.selectMenu.on.call(this,t.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(t){const e=this._w.location.href.replace(/\/$/,"");return t.indexOf("#")===0||t.indexOf(e)===0&&t.indexOf("#")===(e.indexOf("#")===-1?e.length:e.substr(0,e.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(t,e){if(!e)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const i=t.relButton,n=t.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=(function(s,o,r){r&&(s.relButton.contains(r.target)||s.relList.contains(r.target))||(this.util.removeClass(o,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,t,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(t,e){this.plugins.anchor.toggleRelList.call(this,t,!this.util.hasClass(e.target,"active"))},onClick_relList:function(t,e){const i=e.target,n=i.getAttribute("data-command");if(!n)return;const s=t.currentRel,o=this.util.toggleClass(i,"se-checked"),r=s.indexOf(n);o?r===-1&&s.push(n):r>-1&&s.splice(r,1),t.relPreview.title=t.relPreview.textContent=s.join(" ")},setRel:function(t,e){const i=t.relList,n=t.currentRel=e?e.split(" "):[];if(!i)return;const s=i.querySelectorAll("button");for(let o=0,r=s.length,d;o<r;o++)d=s[o].getAttribute("data-command"),n.indexOf(d)>-1?this.util.addClass(s[o],"se-checked"):this.util.removeClass(s[o],"se-checked");t.relPreview.title=t.relPreview.textContent=n.join(" ")},createHeaderList:function(t,e,i){const n=this.util.getListChildren(this.context.element.wysiwyg,function(d){return/h[1-6]/i.test(d.nodeName)});if(n.length===0)return;const s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),o=[];let r="";for(let d=0,l=n.length,f;d<l;d++)f=n[d],s.test(f.textContent)&&(o.push(f),r+='<li class="se-select-item" data-index="'+d+'">'+f.textContent+"</li>");o.length===0?this.plugins.selectMenu.close.call(this,e):(this.plugins.selectMenu.createList(e,o,r),this.plugins.selectMenu.open.call(this,e,this.plugins.anchor._setMenuListPosition.bind(this,t)))},_setMenuListPosition:function(t,e){e.style.top=t.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(t,e){switch(e.keyCode){case 38:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,-1);break;case 40:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,1);break;case 13:t.index>-1&&(e.preventDefault(),e.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(t,null)));break}},setHeaderBookmark:function(t){const e=this.context.anchor.callerContext,i=t.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");t.id=i,e.urlInput.value="#"+i,(!e.anchorText.value.trim()||!e._change)&&(e.anchorText.value=t.textContent),this.plugins.anchor.setLinkPreview.call(this,e,e.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(t,e){t._change=!!e.target.value.trim()},onChangeUrlInput:function(t,e){const i=e.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,t,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(t,e){const i=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,t,e,i)},onBlurUrlInput:function(t){this.plugins.selectMenu.close.call(this,t)},setLinkPreview:function(t,e){const i=t.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,o=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(e)||e.indexOf(n)===0,r=n?this._w.RegExp("^"+this.util.escapeStringRegexp(e.substr(0,n.length))).test(n):!1;e=t.linkValue=i.textContent=e?s?e:n&&!o&&!r?n+e:o?e:/^www\./.test(e)?"http://"+e:this.context.anchor.host+(/^\//.test(e)?"":"/")+e:"",this.plugins.anchor.selfPathBookmark.call(this,e)?(t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active")):(t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,e)&&t.downloadCheck.checked?t.download.style.display="block":t.download.style.display="none"},setCtx:function(t,e){t&&(e.linkAnchor=t,e.linkValue=t.href,e.currentRel=t.rel.split(" "))},updateAnchor:function(t,e,i,n,s){!this.plugins.anchor.selfPathBookmark.call(this,e)&&n.downloadCheck.checked?t.setAttribute("download",i||e):t.removeAttribute("download"),n.newWindowCheck.checked?t.target="_blank":t.removeAttribute("target");const o=n.currentRel.join(" ");o?t.rel=o:t.removeAttribute("rel"),t.href=e,s?t.children.length===0&&(t.textContent=""):t.textContent=i},createAnchor:function(t,e){if(t.linkValue.length===0)return null;const i=t.linkValue,n=t.anchorText,s=n.value.length===0?i:n.value,o=t.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,o,i,s,t,e),t.linkValue=t.preview.textContent=t.urlInput.value=t.anchorText.value="",o},onClick_bookmarkButton:function(t){let e=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,e)?(e=e.substr(1),t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(e="#"+e,t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active"),t.downloadCheck.checked=!1,t.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,e)),t.urlInput.value=e,this.plugins.anchor.setLinkPreview.call(this,t,e),t.urlInput.focus()},onChange_newWindowCheck:function(t,e){typeof t.linkDefaultRel.check_new_window=="string"&&(e.target.checked?this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(t,e){e.target.checked?(t.download.style.display="block",t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),t.linkValue=t.preview.textContent=t.urlInput.value=t.urlInput.value.replace(/^\#+/,""),typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_bookmark))):(t.download.style.display="none",typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_bookmark)))},_relMerge:function(t,e){const i=t.currentRel;if(!e)return i.join(" ");if(/^only\:/.test(e))return e=e.replace(/^only\:/,"").trim(),t.currentRel=e.split(" "),e;const n=e.split(" ");for(let s=0,o=n.length,r;s<o;s++)r=i.indexOf(n[s]),r===-1&&i.push(n[s]);return i.join(" ")},_relDelete:function(t,e){if(!e)return t.currentRel.join(" ");/^only\:/.test(e)&&(e=e.replace(/^only\:/,"").trim());const i=t.currentRel.join(" ").replace(this._w.RegExp(e+"\\s*"),"");return t.currentRel=i.split(" "),i},init:function(t){t.linkAnchor=null,t.linkValue=t.preview.textContent=t.urlInput.value="",t.anchorText.value="",t.newWindowCheck.checked=!1,t.downloadCheck.checked=!1,t._change=!1,this.plugins.anchor.setRel.call(this,t,t.defaultRel),t.relList&&this.plugins.anchor.toggleRelList.call(this,t,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},zh={name:"link",display:"dialog",add:function(t){t.addModule([kn,Lc]);const e=t.context,i=e.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(t);i.modal=n;let s=this.setController_LinkButton(t);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),s.addEventListener("click",this.onClick_linkController.bind(t)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),t.plugins.anchor.initEvent.call(t,"link",n),i.focusElement=e.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+"</span></div>"+t.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(e===null)return;if(this.context.dialog.updateModal){const i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.getSelectedElements();if(i.length>1){const n=this.util.createElement(i[0].nodeName);if(n.appendChild(e),!this.insertNode(n,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(t)&&t.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,t),!0;return!1},on:function(t){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,t)},call_controller:function(t){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=t;const e=this.context.link.linkController,i=e.querySelector("a");i.href=t.href,i.title=t.textContent,i.textContent=t.textContent,this.util.addClass(t,"on"),this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");if(e){if(t.preventDefault(),/update/.test(e))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(e)){const i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var fs={exports:{}},Hh=fs.exports,$a;function Fh(){return $a||($a=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Hh,function(e,i){const n={name:"component",set_container:function(s,o){const r=this.util.createElement("DIV");return r.className="se-component "+o,r.appendChild(s),r},set_cover:function(s){const o=this.util.createElement("FIGURE");return o.appendChild(s),o},create_caption:function(){const s=this.util.createElement("FIGCAPTION");return s.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",s}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(fs)),fs.exports}var Ph=Fh();const Ho=gi(Ph);var gs={exports:{}},Vh=gs.exports,Wa;function $h(){return Wa||(Wa=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Vh,function(e,i){const n={name:"resizing",add:function(s){const o=s.icons,r=s.context;r.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:o.align_justify,left:o.align_left,right:o.align_right,center:o.align_center}};let d=this.setController_resize(s);r.resizing.resizeContainer=d,r.resizing.resizeDiv=d.querySelector(".se-modal-resize"),r.resizing.resizeDot=d.querySelector(".se-resize-dot"),r.resizing.resizeDisplay=d.querySelector(".se-resize-display");let l=this.setController_button(s);r.resizing.resizeButton=l;let f=r.resizing.resizeHandles=r.resizing.resizeDot.querySelectorAll("span");r.resizing.resizeButtonGroup=l.querySelector("._se_resizing_btn_group"),r.resizing.rotationButtons=l.querySelectorAll("._se_resizing_btn_group ._se_rotation"),r.resizing.percentageButtons=l.querySelectorAll("._se_resizing_btn_group ._se_percentage"),r.resizing.alignMenu=l.querySelector(".se-resizing-align-list"),r.resizing.alignMenuList=r.resizing.alignMenu.querySelectorAll("button"),r.resizing.alignButton=l.querySelector("._se_resizing_align_button"),r.resizing.autoSizeButton=l.querySelector("._se_resizing_btn_group ._se_auto_size"),r.resizing.captionButton=l.querySelector("._se_resizing_caption_button"),d.addEventListener("mousedown",function(u){u.preventDefault()}),f[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),l.addEventListener("click",this.onClick_resizeButton.bind(s)),r.element.relative.appendChild(d),r.element.relative.appendChild(l),d=null,l=null,f=null},setController_resize:function(s){const o=s.util.createElement("DIV");return o.className="se-controller se-resizing-container",o.style.display="none",o.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',o},setController_button:function(s){const o=s.lang,r=s.icons,d=s.util.createElement("DIV");return d.className="se-controller se-controller-resizing",d.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+r.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+r.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+r.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+r.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+r.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+r.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+r.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+r.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+r.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+r.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+r.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+r.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+r.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+r.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.remove+"</span></span></button></div>",d},_module_getSizeX:function(s,o,r,d){return o||(o=s._element),r||(r=s._cover),d||(d=s._container),o?/%$/.test(o.style.width)?(d&&this.util.getNumber(d.style.width,2)||100)+"%":o.style.width:""},_module_getSizeY:function(s,o,r,d){return o||(o=s._element),r||(r=s._cover),d||(d=s._container),!d||!r?o&&o.style.height||"":this.util.getNumber(r.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?r.style.height:!/%$/.test(o.style.height)||!/%$/.test(o.style.width)?o.style.height:(d&&this.util.getNumber(d.style.height,2)||100)+"%"},_module_setModifyInputSize:function(s,o){const r=s._onlyPercentage&&this.context.resizing._rotateVertical;s.proportion.checked=s._proportionChecked=s._element.getAttribute("data-proportion")!=="false";let d=r?"":this.plugins.resizing._module_getSizeX.call(this,s);if(d===s._defaultSizeX&&(d=""),s._onlyPercentage&&(d=this.util.getNumber(d,2)),s.inputX.value=d,o.setInputSize.call(this,"x"),!s._onlyPercentage){let l=r?"":this.plugins.resizing._module_getSizeY.call(this,s);l===s._defaultSizeY&&(l=""),s._onlyPercentage&&(l=this.util.getNumber(l,2)),s.inputY.value=l}s.inputX.disabled=!!r,s.inputY.disabled=!!r,s.proportion.disabled=!!r,o.setRatio.call(this)},_module_setInputSize:function(s,o){if(s._onlyPercentage){o==="x"&&s.inputX.value>100&&(s.inputX.value=100);return}if(s.proportion.checked&&s._ratio&&/\d/.test(s.inputX.value)&&/\d/.test(s.inputY.value)){const r=s.inputX.value.replace(/\d+|\./g,"")||s.sizeUnit,d=s.inputY.value.replace(/\d+|\./g,"")||s.sizeUnit;if(r!==d)return;const l=r==="%"?2:0;o==="x"?s.inputY.value=this.util.getNumber(s._ratioY*this.util.getNumber(s.inputX.value,l),l)+d:s.inputX.value=this.util.getNumber(s._ratioX*this.util.getNumber(s.inputY.value,l),l)+r}},_module_setRatio:function(s){const o=s.inputX.value,r=s.inputY.value;if(s.proportion.checked&&/\d+/.test(o)&&/\d+/.test(r)){const d=o.replace(/\d+|\./g,"")||s.sizeUnit,l=r.replace(/\d+|\./g,"")||s.sizeUnit;if(d!==l)s._ratio=!1;else if(!s._ratio){const f=this.util.getNumber(o,0),u=this.util.getNumber(r,0);s._ratio=!0,s._ratioX=f/u,s._ratioY=u/f}}else s._ratio=!1},_module_sizeRevert:function(s){s._onlyPercentage?s.inputX.value=s._origin_w>100?100:s._origin_w:(s.inputX.value=s._origin_w,s.inputY.value=s._origin_h)},_module_saveCurrentSize:function(s){const o=this.plugins.resizing._module_getSizeX.call(this,s),r=this.plugins.resizing._module_getSizeY.call(this,s);s._element.setAttribute("width",o.replace("px","")),s._element.setAttribute("height",r.replace("px","")),s._element.setAttribute("data-size",o+","+r),s._videoRatio&&(s._videoRatio=r)},call_controller_resize:function(s,o){const r=this.context.resizing,d=this.context[o];r._resize_plugin=o;const l=r.resizeContainer,f=r.resizeDiv,u=this.util.getOffset(s,this.context.element.wysiwygFrame),g=r._rotateVertical=/^(90|270)$/.test(Math.abs(s.getAttribute("data-rotate")).toString()),w=g?s.offsetHeight:s.offsetWidth,x=g?s.offsetWidth:s.offsetHeight,C=u.top,T=u.left-this.context.element.wysiwygFrame.scrollLeft;l.style.top=C+"px",l.style.left=T+"px",l.style.width=w+"px",l.style.height=x+"px",f.style.top="0px",f.style.left="0px",f.style.width=w+"px",f.style.height=x+"px";let a=s.getAttribute("data-align")||"basic";a=a==="none"?"basic":a;const c=this.util.getParentElement(s,this.util.isComponent),h=this.util.getParentElement(s,"FIGURE"),b=this.plugins.resizing._module_getSizeX.call(this,d,s,h,c)||"auto",m=d._onlyPercentage&&o==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,d,s,h,c)||"auto");this.util.changeTxt(r.resizeDisplay,this.lang.dialogBox[a]+" ("+b+m+")"),r.resizeButtonGroup.style.display=d._resizing?"":"none";const v=d._resizing&&!d._resizeDotHide&&!d._onlyPercentage?"flex":"none",p=r.resizeHandles;for(let L=0,k=p.length;L<k;L++)p[L].style.display=v;if(d._resizing){const L=r.rotationButtons;L[0].style.display=L[1].style.display=d._rotation?"":"none"}if(d._alignHide)r.alignButton.style.display="none";else{r.alignButton.style.display="";const L=r.alignMenuList;this.util.changeElement(r.alignButton.firstElementChild,r.alignIcons[a]);for(let k=0,M=L.length;k<M;k++)L[k].getAttribute("data-value")===a?this.util.addClass(L[k],"on"):this.util.removeClass(L[k],"on")}const _=r.percentageButtons,E=/%$/.test(s.style.width)&&/%$/.test(c.style.width)?this.util.getNumber(c.style.width,0)/100+"":"";for(let L=0,k=_.length;L<k;L++)_[L].getAttribute("data-value")===E?this.util.addClass(_[L],"active"):this.util.removeClass(_[L],"active");d._captionShow?(r.captionButton.style.display="",this.util.getChildElement(s.parentNode,"figcaption")?(this.util.addClass(r.captionButton,"active"),d._captionChecked=!0):(this.util.removeClass(r.captionButton,"active"),d._captionChecked=!1)):r.captionButton.style.display="none",l.style.display="block";const y={left:0,top:50};this.options.iframe&&(y.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,y.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(r.resizeButton,l,"bottom",y);const S=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(l,r.resizeButton,S.bind(this),s,o),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),r._resize_w=w,r._resize_h=x;const N=(s.getAttribute("origin-size")||"").split(",");return r._origin_w=N[0]||s.naturalWidth,r._origin_h=N[1]||s.naturalHeight,{w,h:x,t:C,l:T}},_closeAlignMenu:null,openAlignMenu:function(){const s=this.context.resizing.alignButton;this.util.addClass(s,"on"),this.context.resizing.alignMenu.style.top=s.offsetTop+s.offsetHeight+"px",this.context.resizing.alignMenu.style.left=s.offsetLeft-s.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(s){s.stopPropagation();const o=s.target,r=o.getAttribute("data-command")||o.parentNode.getAttribute("data-command");if(!r)return;const d=o.getAttribute("data-value")||o.parentNode.getAttribute("data-value"),l=this.context.resizing._resize_plugin,f=this.context[l],u=f._element,g=this.plugins[l];if(s.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),r==="onalign"))){switch(r){case"auto":this.plugins.resizing.resetTransform.call(this,u),g.setAutoSize.call(this),this.selectComponent(u,l);break;case"percent":let w=this.plugins.resizing._module_getSizeY.call(this,f);if(this.context.resizing._rotateVertical){const v=u.getAttribute("data-percentage");v&&(w=v.split(",")[1])}this.plugins.resizing.resetTransform.call(this,u),g.setPercentSize.call(this,d*100,this.util.getNumber(w,0)===null||!/%$/.test(w)?"":w),this.selectComponent(u,l);break;case"mirror":const x=u.getAttribute("data-rotate")||"0";let C=u.getAttribute("data-rotateX")||"",T=u.getAttribute("data-rotateY")||"";d==="h"&&!this.context.resizing._rotateVertical||d==="v"&&this.context.resizing._rotateVertical?T=T?"":"180":C=C?"":"180",u.setAttribute("data-rotateX",C),u.setAttribute("data-rotateY",T),this.plugins.resizing._setTransForm(u,x,C,T);break;case"rotate":const a=this.context.resizing,c=u.getAttribute("data-rotate")*1+d*1,h=this._w.Math.abs(c)>=360?0:c;u.setAttribute("data-rotate",h),a._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(h).toString()),this.plugins.resizing.setTransformSize.call(this,u,null,null),this.selectComponent(u,l);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const b=d==="basic"?"none":d;g.setAlign.call(this,b,null,null,null),this.selectComponent(u,l);break;case"caption":const m=!f._captionChecked;if(g.openModify.call(this,!0),f._captionChecked=f.captionCheckEl.checked=m,g.update_image.call(this,!1,!1,!1),m){const v=this.util.getChildElement(f._caption,function(p){return p.nodeType===3});v?this.setRange(v,0,v,v.textContent.length):f._caption.focus(),this.controllersOff()}else this.selectComponent(u,l),g.openModify.call(this,!0);break;case"revert":g.setOriginSize.call(this),this.selectComponent(u,l);break;case"update":g.openModify.call(this),this.controllersOff();break;case"delete":g.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(s){const o=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,s.style.maxWidth="",s.style.transform="",s.style.transformOrigin="",s.setAttribute("data-rotate",""),s.setAttribute("data-rotateX",""),s.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,o[0]?o[0]:"auto",o[1]?o[1]:"",!0)},setTransformSize:function(s,o,r){let d=s.getAttribute("data-percentage");const l=this.context.resizing._rotateVertical,f=s.getAttribute("data-rotate")*1;let u="";if(d&&!l)d=d.split(","),d[0]==="auto"&&d[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,d[0],d[1]);else{const g=this.util.getParentElement(s,"FIGURE"),w=o||s.offsetWidth,x=r||s.offsetHeight,C=(l?x:w)+"px",T=(l?w:x)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,w+"px",x+"px",!0),g.style.width=C,g.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":T,l){let a=w/2+"px "+w/2+"px 0",c=x/2+"px "+x/2+"px 0";u=f===90||f===-270?c:a}}s.style.transformOrigin=u,this.plugins.resizing._setTransForm(s,f.toString(),s.getAttribute("data-rotateX")||"",s.getAttribute("data-rotateY")||""),l?s.style.maxWidth="none":s.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,s)},_setTransForm:function(s,o,r,d){let l=(s.offsetWidth-s.offsetHeight)*(/-/.test(o)?1:-1),f="";if(/[1-9]/.test(o)&&(r||d))switch(f=r?"Y":"X",o){case"90":f=r&&d?"X":d?f:"";break;case"270":l*=-1,f=r&&d?"Y":r?f:"";break;case"-90":f=r&&d?"Y":r?f:"";break;case"-270":l*=-1,f=r&&d?"X":d?f:"";break;default:f=""}o%180===0&&(s.style.maxWidth=""),s.style.transform="rotate("+o+"deg)"+(r?" rotateX("+r+"deg)":"")+(d?" rotateY("+d+"deg)":"")+(f?" translate"+f+"("+l+"px)":"")},setCaptionPosition:function(s){const o=this.util.getChildElement(this.util.getParentElement(s,"FIGURE"),"FIGCAPTION");o&&(o.style.marginTop=(this.context.resizing._rotateVertical?s.offsetWidth-s.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(s){s.stopPropagation(),s.preventDefault();const o=this.context.resizing,r=o._resize_direction=s.target.classList[0];o._resizeClientX=s.clientX,o._resizeClientY=s.clientY,this.context.element.resizeBackground.style.display="block",o.resizeButton.style.display="none",o.resizeDiv.style.float=/l/.test(r)?"right":/r/.test(r)?"left":"none";const d=(function(u){if(u.type==="keydown"&&u.keyCode!==27)return;const g=o._isChange;o._isChange=!1,this.removeDocEvent("mousemove",l),this.removeDocEvent("mouseup",d),this.removeDocEvent("keydown",d),u.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,r),g&&this.history.push(!1))}).bind(this),l=this.plugins.resizing.resizing_element.bind(this,o,r,this.context[o._resize_plugin]);this.addDocEvent("mousemove",l),this.addDocEvent("mouseup",d),this.addDocEvent("keydown",d)},resizing_element:function(s,o,r,d){const l=d.clientX,f=d.clientY;let u=r._element_w,g=r._element_h;const w=r._element_w+(/r/.test(o)?l-s._resizeClientX:s._resizeClientX-l),x=r._element_h+(/b/.test(o)?f-s._resizeClientY:s._resizeClientY-f),C=r._element_h/r._element_w*w;/t/.test(o)&&(s.resizeDiv.style.top=r._element_h-(/h/.test(o)?x:C)+"px"),/l/.test(o)&&(s.resizeDiv.style.left=r._element_w-w+"px"),/r|l/.test(o)&&(s.resizeDiv.style.width=w+"px",u=w),/^(t|b)[^h]$/.test(o)?(s.resizeDiv.style.height=C+"px",g=C):/^(t|b)h$/.test(o)&&(s.resizeDiv.style.height=x+"px",g=x),s._resize_w=u,s._resize_h=g,this.util.changeTxt(s.resizeDisplay,this._w.Math.round(u)+" x "+this._w.Math.round(g)),s._isChange=!0},cancel_controller_resize:function(s){const o=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let r=this._w.Math.round(o?this.context.resizing._resize_h:this.context.resizing._resize_w),d=this._w.Math.round(o?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!o&&!/%$/.test(r)){const u=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(r,0)>u&&(d=this._w.Math.round(d/r*u),r=u)}const l=this.context.resizing._resize_plugin;this.plugins[l].setSize.call(this,r,d,!1,s),o&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,r,d),this.selectComponent(this.context[l]._element,l)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(gs)),gs.exports}var Wh=$h();const kc=gi(Wh);var ps={exports:{}},Uh=ps.exports,Ua;function Zh(){return Ua||(Ua=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Uh,function(e,i){const n={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(s){return/IMG|IFRAME|VIDEO|AUDIO/i.test(s.tagName)?/FIGURE/i.test(s.parentElement.nodeName)||/FIGURE/i.test(s.parentElement.parentElement.nodeName):!0},upload:function(s,o,r,d,l){this.showLoading();const f=this.plugins.fileManager,u=f._xmlHttp=this.util.getXMLHttpRequest();if(u.onreadystatechange=f._callBackUpload.bind(this,u,d,l),u.open("post",s,!0),o!==null&&typeof o=="object"&&this._w.Object.keys(o).length>0)for(let g in o)u.setRequestHeader(g,o[g]);u.send(r)},_callBackUpload:function(s,o,r){if(s.readyState===4)if(s.status===200)try{o(s)}catch(d){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+d.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const d=s.responseText?JSON.parse(s.responseText):s;if(typeof r!="function"||r("",d,this)){const l="[SUNEDITOR.fileManager.upload.serverException] status: "+s.status+", response: "+(d.errorMessage||s.responseText);throw this.functions.noticeOpen(l),Error(l)}}},checkInfo:function(s,o,r,d,l){let f=[];for(let c=0,h=o.length;c<h;c++)f=f.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(o[c]+':not([data-se-embed="true"])')));const u=this.plugins.fileManager,g=this.context[s],w=g._infoList,x=u.setInfo.bind(this);if(f.length===w.length)if(this._componentsInfoReset){for(let c=0,h=f.length;c<h;c++)x(s,f[c],r,null,l);return}else{let c=!1;for(let h=0,b=w.length,m;h<b;h++)if(m=w[h],f.filter(function(v){return m.src===v.src&&m.index.toString()===v.getAttribute("data-index")}).length===0){c=!0;break}if(!c)return}const C=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const T=[],a=[];for(let c=0,h=w.length;c<h;c++)a[c]=w[c].index;for(g.__updateTags=f;f.length>0;){const c=f.shift();!this.util.getParentElement(c,this.util.isMediaComponent)||!u._checkMediaComponent(c)?(T.push(g._infoIndex),d(c)):!c.getAttribute("data-index")||a.indexOf(c.getAttribute("data-index")*1)<0?(T.push(g._infoIndex),c.removeAttribute("data-index"),x(s,c,r,null,l)):T.push(c.getAttribute("data-index")*1)}for(let c=0,h;c<w.length;c++)h=w[c].index,!(T.indexOf(h)>-1)&&(w.splice(c,1),typeof r=="function"&&r(null,h,"delete",null,0,this),c--);l&&(this.context.resizing._resize_plugin=C)},setInfo:function(s,o,r,d,l){const f=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const u=this.plugins[s],g=this.context[s],w=g._infoList;let x=o.getAttribute("data-index"),C=null,T="";if(d||(d={name:o.getAttribute("data-file-name")||(typeof o.src=="string"?o.src.split("/").pop():""),size:o.getAttribute("data-file-size")||0}),!x||this._componentsInfoInit)T="create",x=g._infoIndex++,o.setAttribute("data-index",x),o.setAttribute("data-file-name",d.name),o.setAttribute("data-file-size",d.size),C={src:o.src,index:x*1,name:d.name,size:d.size},w.push(C);else{T="update",x*=1;for(let a=0,c=w.length;a<c;a++)if(x===w[a].index){C=w[a];break}C||(x=g._infoIndex++,C={index:x},w.push(C)),C.src=o.src,C.name=o.getAttribute("data-file-name"),C.size=o.getAttribute("data-file-size")*1}if(C.element=o,C.delete=u.destroy.bind(this,o),C.select=(function(a){a.scrollIntoView(!0),this._w.setTimeout(u.select.bind(this,a))}).bind(this,o),l){if(!o.getAttribute("origin-size")&&o.naturalWidth&&o.setAttribute("origin-size",o.naturalWidth+","+o.naturalHeight),!o.getAttribute("data-origin")){const a=this.util.getParentElement(o,this.util.isMediaComponent),c=this.util.getParentElement(o,"FIGURE"),h=this.plugins.resizing._module_getSizeX.call(this,g,o,c,a),b=this.plugins.resizing._module_getSizeY.call(this,g,o,c,a);o.setAttribute("data-origin",h+","+b),o.setAttribute("data-size",h+","+b)}if(!o.style.width){const a=(o.getAttribute("data-size")||o.getAttribute("data-origin")||"").split(",");u.onModifyMode.call(this,o,null),u.applySize.call(this,a[0],a[1])}this.context.resizing._resize_plugin=f}typeof r=="function"&&r(o,x,T,C,--g._uploadFileLength<0?0:g._uploadFileLength,this)},deleteInfo:function(s,o,r){if(o>=0){const d=this.context[s]._infoList;for(let l=0,f=d.length;l<f;l++)if(o===d[l].index){d.splice(l,1),typeof r=="function"&&r(null,o,"delete",null,0,this);return}}},resetInfo:function(s,o){const r=this.context[s];if(typeof o=="function"){const d=r._infoList;for(let l=0,f=d.length;l<f;l++)o(null,d[l].index,"delete",null,0,this)}r._infoList=[],r._infoIndex=0}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(ps)),ps.exports}var qh=Zh();const Fo=gi(qh),Yh={name:"image",display:"dialog",add:function(t){t.addModule([kn,Lc,Ho,kc,Fo]);const e=t.options,i=t.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:e.imageWidth==="auto"?"":e.imageWidth,_origin_h:e.imageHeight==="auto"?"":e.imageHeight,_proportionChecked:!0,_resizing:e.imageResizing,_resizeDotHide:!e.imageHeightShow,_rotation:e.imageRotation,_alignHide:!e.imageAlignShow,_onlyPercentage:e.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let s=this.setDialog(t);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(t)),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,e.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const o=s.querySelector(".__se__gallery");o&&o.addEventListener("click",this._openGallery.bind(t)),n.proportion={},n.inputX={},n.inputY={},e.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=e.imageWidth,n.inputY.value=e.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),t.plugins.anchor.initEvent.call(t,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=t.context.anchor.caller.image,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(e.imageGalleryUrl&&t.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+t.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const o=e.imageSizeOnlyPercentage,r=o?' style="display: none !important;"':"",d=e.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',o||!e.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(o?' type="number" min="1"':'type="text"')+(o?' max="100"':"")+' /><label class="se-dialog-size-x"'+d+">"+(o?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+r+(o?' max="100"':"")+d+"/><label"+r+d+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+t.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(e.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(t){this.altText.value=t.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=t.getAttribute("data-value")||t.src,this.imgUrlFile.focus()},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(t){this.plugins.image.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"image"))},destroy:function(t){const e=t||this.context.image._element,i=this.util.getParentElement(e,this.util.isMediaComponent)||e,n=e.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,function(r){return r.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(t){const e=this.context.image;t?e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=e._origin_h=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,e.anchorCtx,t)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(t){const e=this.context.image.modal,i=t==="init"?e.querySelector("._se_tab_link"):t.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link"),s="_se_tab_content";let o,r,d;for(r=e.getElementsByClassName(s),o=0;o<r.length;o++)r[o].style.display="none";for(d=e.getElementsByClassName("_se_tab_link"),o=0;o<d.length;o++)this.util.removeClass(d[o],"active");return e.querySelector("."+s+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(t){const e=this.context.image,i=this.plugins.image;t.preventDefault(),t.stopPropagation(),e._altText=e.altText.value,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked,e._resizing&&(e._proportionChecked=e.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),e.imgInputFile&&e.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):e.imgUrlFile&&e._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,e._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let d=0,l=t.length;d<l;d++)/image/i.test(t[d].type)&&(i.push(t[d]),e+=t[d].size);const n=this.options.imageUploadSizeLimit;if(n>0){let d=0;const l=this.context.image._infoList;for(let f=0,u=l.length;f<u;f++)d+=l[f].size*1;if(e+d>n){this.closeLoading();const f="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(f,{limitSize:n,currentSize:d,uploadSize:e},this))&&this.functions.noticeOpen(f);return}}const s=this.context.image;s._uploadFileLength=i.length;const r={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){const d=this.functions.onImageUploadBefore(i,r,this,(function(l){l&&this._w.Array.isArray(l.result)?this.plugins.image.register.call(this,r,l):this.plugins.image.upload.call(this,r,l)}).bind(this));if(typeof d>"u")return;if(!d){this.closeLoading();return}this._w.Array.isArray(d)&&d.length>0&&(i=d)}this.plugins.image.upload.call(this,r,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.image.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.image.error.call(this,e,null);return}const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,t),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,e,t.anchor,t.inputWidth,t.inputHeight,t.align,t.alt,n,t.isUpdate)},callBack_imgUpload:function(t,e){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,o;n<s;n++)if(o={name:i[n].name,size:i[n].size},t.isUpdate){this.plugins.image.update_src.call(this,i[n].url,t.element,o);break}else this.plugins.image.create_image.call(this,i[n].url,t.anchor,t.inputWidth,t.inputHeight,t.align,o,t.alt);this.closeLoading()},setup_reader:function(t,e,i,n,s,o,r,d){try{if(r===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=r;const l=this._w.FileReader,f=[r];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let u=0,g,w;u<r;u++)g=new l,w=t[u],g.onload=(function(x,C,T,a,c){f[c]={result:x.result,file:a},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,C,f,T,e,i,n,s,o),this.closeLoading())}).bind(this,g,d,this.context.image._element,w,u),g.readAsDataURL(w)}catch(l){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+l.message+'"')}},onRender_imgBase64:function(t,e,i,n,s,o,r,d){const l=this.plugins.image.update_src,f=this.plugins.image.create_image;for(let u=0,g=e.length;u<g;u++)t?(this.context.image._element.setAttribute("data-file-name",e[u].file.name),this.context.image._element.setAttribute("data-file-size",e[u].file.size),l.call(this,e[u].result,i,e[u].file)):f.call(this,e[u].result,n,s,o,r,e[u].file,d)},onRender_imgUrl:function(t){if(t||(t=this.context.image._v_src._linkValue),!t)return!1;const e=this.context.image;try{const i={name:t.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,t,e._element,i):this.plugins.image.create_image.call(this,t,this.plugins.anchor.createAnchor.call(this,e.anchorCtx,!0),e.inputX.value,e.inputY.value,e._align,i,e._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(t,e){return e?(e.setAttribute("data-image-link","image"),t.setAttribute("data-image-link",e.href),e.appendChild(t),e):t},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,t)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const t=this.plugins.image,e=this.context.image,i=(function(n){t.onModifyMode.call(this,n,null),t.openModify.call(this,!0),e.inputX.value=e._origin_w,e.inputY.value=e._origin_h;const s=this.util.getFormatElement(n);s&&(e._align=s.style.textAlign||s.style.float),this.util.isAnchor(n.parentNode)&&!e.anchorCtx.linkValue&&(e.anchorCtx.linkValue=" "),t.update_image.call(this,!0,!1,!0),t.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(t,e,i,n,s,o,r){const d=this.plugins.image,l=this.context.image;this.context.resizing._resize_plugin="image";let f=this.util.createElement("IMG");f.src=t,f.alt=r,f.setAttribute("data-rotate","0"),e=d.onRender_link.call(this,f,e?e.cloneNode(!1):null),l._resizing&&f.setAttribute("data-proportion",l._proportionChecked);const u=this.plugins.component.set_cover.call(this,e),g=this.plugins.component.set_container.call(this,u,"se-image-container");l._captionChecked&&(l._caption=this.plugins.component.create_caption.call(this),u.appendChild(l._caption)),l._element=f,l._cover=u,l._container=g,d.applySize.call(this,i,n),d.setAlign.call(this,s,f,u,g),f.onload=d._image_create_onload.bind(this,f,l.svgDefaultSize,g),this.insertComponent(g,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",f,this.functions.onImageUpload,o,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(t,e,i){if(t.offsetWidth===0&&this.plugins.image.applySize.call(this,e,""),this.options.mediaAutoSelect)this.selectComponent(t,"image");else{const n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}this.history.push(!1)},update_image:function(t,e,i){const n=this.context.image;let s=n._element,o=n._cover,r=n._container,d=!1;o===null&&(d=!0,s=n._element.cloneNode(!0),o=this.plugins.component.set_cover.call(this,s)),r===null?(o=o.cloneNode(!0),s=o.querySelector("img"),d=!0,r=this.plugins.component.set_container.call(this,o,"se-image-container")):d&&(r.innerHTML="",r.appendChild(o),n._cover=o,n._element=s,d=!1);let l;const f=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,u=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(s.style.width)?l=f!==r.style.width||u!==r.style.height:l=f!==s.style.width||u!==s.style.height,s.alt=n._altText;let g=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),o.appendChild(n._caption),g=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,g=!0);let w=null;const x=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(x)n._linkElement!==x||d&&!r.contains(x)?(n._linkElement=x.cloneNode(!1),o.insertBefore(this.plugins.image.onRender_link.call(this,s,n._linkElement),n._caption),w=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){const T=s;if(T.setAttribute("data-image-link",""),o.contains(n._linkElement)){const a=T.cloneNode(!0);o.removeChild(n._linkElement),o.insertBefore(a,n._caption),n._element=s=a}}let C=null;if(d){const T=n._element.parentNode;if(C=this.util.isRangeFormatElement(T)||this.util.isWysiwygDiv(T)?n._element:T||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))C=w?x:n._element,C.parentNode.replaceChild(r,C);else if(this.util.isListCell(C)){const a=this.util.getParentElement(n._element,function(c){return c.parentNode===C});C.insertBefore(r,a),this.util.removeItem(n._element),this.util.removeEmptyNode(a,null,!0)}else if(this.util.isFormatElement(C)){const a=this.util.getParentElement(n._element,function(c){return c.parentNode===C});C=this.util.splitElement(C,a),C.parentNode.insertBefore(r,C),this.util.removeItem(n._element),this.util.removeEmptyNode(C,null,!0),C.children.length===0&&(C.innerHTML=this.util.htmlRemoveWhiteSpace(C.innerHTML))}else if(this.util.isFormatElement(C.parentNode)){const a=C.parentNode;a.parentNode.insertBefore(r,C.previousSibling?a.nextElementSibling:a),n.__updateTags.map(function(c){return C.contains(c)}).length===0&&this.util.removeItem(C)}else C=this.util.isFigures(C.parentNode)?C.parentNode:C,C.parentNode.replaceChild(r,C);s=r.querySelector("img"),n._element=s,n._cover=o,n._container=r}w&&(d?(this.util.removeItem(w),this.util.getListChildren(x,function(T){return/IMG/i.test(T.tagName)}).length===0&&this.util.removeItem(x)):this.util.removeItem(x)),(g||!n._onlyPercentage&&l)&&!t&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),l&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),t&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),e&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(t,e,i){e.src=t,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",e,this.functions.onImageUpload,i,!0)),this.selectComponent(e,"image")},onModifyMode:function(t,e){if(!t)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(t.parentNode)?t.parentNode:null,i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=t.getAttribute("data-align")||t.style.float||"none",t.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,o;n?(n=n.split(","),s=n[0],o=n[1]):e&&(s=e.w,o=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=o||t.style.height||t.height||""},openModify:function(t){const e=this.context.image;e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=e._element.src),e._altText=e.altText.value=e._element.alt,(e.modal.querySelector('input[name="suneditor_image_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked=!!e._caption,e._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.image),t||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(t,e){const i=this.context.image;return t||(t=i.inputX.value||this.options.imageWidth),e||(e=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&t||/%$/.test(t)?(this.plugins.image.setPercentSize.call(this,t,e),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,t,e,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(t,e,i,n){const s=this.context.image,o=/^(rw|lw)$/.test(n)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(t)?t+s.sizeUnit:t,this.plugins.image.cancelPercentAttr.call(this)),o||(s._element.style.height=this.util.isNumber(e)?e+s.sizeUnit:/%$/.test(e)?"":e),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){const t=this.context.image;t._caption&&(t._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this),t._element.style.maxWidth="",t._element.style.width="",t._element.style.height="",t._cover.style.width="",t._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,t)},setOriginSize:function(){const t=this.context.image;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this);const e=(t._element.getAttribute("data-origin")||"").split(","),i=e[0],n=e[1];e&&(t._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,t))},setPercentSize:function(t,e){const i=this.context.image;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||"";const n=/%$/.test(e);i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?e:"",i._element.style.width="100%",i._element.style.height=n?"":e,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.image;t._cover.style.width="",t._cover.style.height="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.image._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.image;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:!e.style.width||e.style.width==="auto"?"":e.style.width||"100%"),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.image;t.imgInputFile&&(t.imgInputFile.value=""),t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=""),t.imgInputFile&&t.imgUrlFile&&(t.imgUrlFile.removeAttribute("disabled"),t.previewSrc.style.textDecoration=""),t.altText.value="",t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,t.captionCheckEl.checked=!1,t._element=null,this.plugins.image.openTab.call(this,"init"),t._resizing&&(t.inputX.value=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.proportion.checked=!0,t._ratio=!1,t._ratioX=1,t._ratioY=1),this.plugins.anchor.init.call(this,t.anchorCtx)}},jh={name:"video",display:"dialog",add:function(t){t.addModule([kn,Ho,kc,Fo]);const e=t.options,i=t.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:e.youtubeQuery,_vimeoQuery:e.vimeoQuery,_videoRatio:e.videoRatio*100+"%",_defaultRatio:e.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:e.videoRatio*100+"%",_origin_w:e.videoWidth==="100%"?"":e.videoWidth,_origin_h:e.videoHeight==="56.25%"?"":e.videoHeight,_proportionChecked:!0,_resizing:e.videoResizing,_resizeDotHide:!e.videoHeightShow,_rotation:e.videoRotation,_alignHide:!e.videoAlignShow,_onlyPercentage:e.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let s=this.setDialog(t);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,e.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},e.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=e.videoWidth,n.inputY.value=e.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const o=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],r=e.videoRatio,d=e.videoSizeOnlyPercentage,l=d?' style="display: none !important;"':"",f=e.videoHeightShow?"":' style="display: none !important;"',u=e.videoRatioShow?"":' style="display: none !important;"',g=!d&&!e.videoHeightShow&&!e.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+f+">"+i.dialogBox.height+'</label><label class="size-h"'+u+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(d?' type="number" min="1"':'type="text"')+(d?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(d?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+e.videoRatio*100+'%"'+(d?' type="number" min="1"':'type="text"')+(d?' max="100"':"")+f+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+u+">",f||(s+='<option value=""> - </option>');for(let w=0,x=o.length;w<x;w++)s+='<option value="'+o[w].value+'"'+(r.toString()===o[w].value.toString()?" selected":"")+">"+o[w].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+l+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(e.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(t._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.videoTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createVideoTag:function(){const t=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,t),t},_setIframeAttrs:function(t){t.frameBorder="0",t.allowFullscreen=!0;const e=this.options.videoIframeAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createIframeTag:function(){const t=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,t),t},fileTags:["iframe","video"],select:function(t){this.plugins.video.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"video"))},destroy:function(t){const e=t||this.context.video._element,i=this.context.video._container,n=e.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,function(r){return r.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(t){const e=this.context.video;t?e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=e._origin_h=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.disabled=!0,e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.setAttribute("multiple","multiple")),e._resizing&&this.plugins.video.setVideoRatioSelect.call(this,e._origin_h||e._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(t){const e=this.context.video,i=t.target.options[t.target.selectedIndex].value;e._defaultSizeY=e._videoRatio=i?i*100+"%":e._defaultSizeY,e.inputY.placeholder=i?i*100+"%":"",e.inputY.value=""},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,t),t==="y"&&this.plugins.video.setVideoRatioSelect.call(this,e.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(t){const e=this.context.video,i=this.plugins.video;t.preventDefault(),t.stopPropagation(),e._align=e.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{e.videoInputFile&&e.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):e.videoUrlFile&&e._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,e._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let r=0,d=t.length;r<d;r++)/video/i.test(t[r].type)&&(i.push(t[r]),e+=t[r].size);const n=this.options.videoUploadSizeLimit;if(n>0){let r=0;const d=this.context.video._infoList;for(let l=0,f=d.length;l<f;l++)r+=d[l].size*1;if(e+r>n){this.closeLoading();const l="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(l,{limitSize:n,currentSize:r,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.video;s._uploadFileLength=i.length;const o={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){const r=this.functions.onVideoUploadBefore(i,o,this,(function(d){d&&this._w.Array.isArray(d.result)?this.plugins.video.register.call(this,o,d):this.plugins.video.upload.call(this,o,d)}).bind(this));if(typeof r>"u")return;if(!r){this.closeLoading();return}typeof r=="object"&&r.length>0&&(i=r)}this.plugins.video.upload.call(this,o,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.video.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.video.error.call(this,e,null);return}const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,t),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(t,e){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,t,i)}},register:function(t,e){const i=e.result,n=this.plugins.video.createVideoTag.call(this);for(let s=0,o=i.length,r;s<o;s++)r={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,t.isUpdate?t.element:n.cloneNode(!1),i[s].url,t.inputWidth,t.inputHeight,t.align,r,t.isUpdate);this.closeLoading()},setup_url:function(t){try{const e=this.context.video;if(t||(t=e._linkValue),!t||/^<iframe.*\/iframe>$/.test(t)&&(t=new this._w.DOMParser().parseFromString(t,"text/html").querySelector("iframe").src,t.length===0))return!1;if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._youtubeQuery+"&"+i[1]}else t+="?"+e._youtubeQuery}else if(/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1),e._vimeoQuery.length>0))if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._vimeoQuery+"&"+i[1]}else t+="?"+e._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(t)&&!/vimeo\.com/.test(t)?"createVideoTag":"createIframeTag"].call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(t,e,i,n,s,o,r){this.context.resizing._resize_plugin="video";const d=this.context.video;let l=null,f=null,u=!1;if(r){if(t=d._element,t.src!==e){u=!0;const T=/youtu\.?be/.test(e),a=/vimeo\.com/.test(e);if((T||a)&&!/^iframe$/i.test(t.nodeName)){const c=this.plugins.video.createIframeTag.call(this);c.src=e,t.parentNode.replaceChild(c,t),d._element=t=c}else if(!T&&!a&&!/^video$/i.test(t.nodeName)){const c=this.plugins.video.createVideoTag.call(this);c.src=e,t.parentNode.replaceChild(c,t),d._element=t=c}else t.src=e}f=d._container,l=this.util.getParentElement(t,"FIGURE")}else u=!0,t.src=e,d._element=t,l=this.plugins.component.set_cover.call(this,t),f=this.plugins.component.set_container.call(this,l,"se-video-container");d._cover=l,d._container=f;const g=this.plugins.resizing._module_getSizeX.call(this,d)!==(i||d._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,d)!==(n||d._videoRatio),w=!r||g;d._resizing&&(this.context.video._proportionChecked=d.proportion.checked,t.setAttribute("data-proportion",d._proportionChecked));let x=!1;w&&(x=this.plugins.video.applySize.call(this)),x&&s==="center"||this.plugins.video.setAlign.call(this,null,t,l,f);let C=!0;if(r)d._resizing&&this.context.resizing._rotateVertical&&w&&this.plugins.resizing.setTransformSize.call(this,t,null,null);else if(C=this.insertComponent(f,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const T=this.appendFormatTag(f,null);T&&this.setRange(T,0,T,0)}C&&(u&&this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,o,!0),r&&(this.selectComponent(t,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(t){if(!t)return;const e=this.context.video;/^video$/i.test(t.nodeName)?this.plugins.video._setTagAttrs.call(this,t):this.plugins.video._setIframeAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!0);const o=e._cover=this.plugins.component.set_cover.call(this,t),r=e._container=this.plugins.component.set_container.call(this,o,"se-video-container");try{const d=n.querySelector("figcaption");let l=null;d&&(l=this.util.createElement("DIV"),l.innerHTML=d.innerHTML,this.util.removeItem(d));const f=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,f[0]||s.style.width||s.width||"",f[1]||s.style.height||s.height||"");const u=this.util.getFormatElement(s);if(u&&(e._align=u.style.textAlign||u.style.float),this.plugins.video.setAlign.call(this,null,t,o,r),this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(r,s);else if(this.util.isListCell(n)){const g=this.util.getParentElement(s,function(w){return w.parentNode===n});n.insertBefore(r,g),this.util.removeItem(s),this.util.removeEmptyNode(g,null,!0)}else if(this.util.isFormatElement(n)){const g=this.util.getParentElement(s,function(w){return w.parentNode===n});n=this.util.splitElement(n,g),n.parentNode.insertBefore(r,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(r,n);l&&n.parentNode.insertBefore(l,r.nextElementSibling)}catch(d){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",d)}this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(t,e){const i=this.context.video;i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._align=t.style.float||t.getAttribute("data-align")||"none",t.style.float="",e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,o;n?(n=n.split(","),s=n[0],o=n[1]):e&&(s=e.w,o=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=o||t.style.height||t.height||""},openModify:function(t){const e=this.context.video;if(e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=e._element.src||(e._element.querySelector("source")||"").src||""),(e.modal.querySelector('input[name="suneditor_video_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,e._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.video);const i=e._videoRatio=this.plugins.resizing._module_getSizeY.call(this,e);this.plugins.video.setVideoRatioSelect.call(this,i)||(e.inputY.value=e._onlyPercentage?this.util.getNumber(i,2):i)}t||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(t){let e=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(t)||i._onlyPercentage?t=this.util.getNumber(t,2)/100+"":(!this.util.isNumber(t)||t*1>=1)&&(t=""),i.inputY.placeholder="";for(let s=0,o=n.length;s<o;s++)n[s].value===t?(e=n[s].selected=!0,i.inputY.placeholder=t?t*100+"%":""):n[s].selected=!1;return e},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(t,e){const i=this.context.video;return t||(t=i.inputX.value||this.options.videoWidth),e||(e=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(t)||!t?(this.plugins.video.setPercentSize.call(this,t||"100%",e||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,t,e||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(t,e,i,n){const s=this.context.video,o=/^(rw|lw)$/.test(n),r=/^(th|bh)$/.test(n);r||(t=this.util.getNumber(t,0)),o||(e=this.util.isNumber(e)?e+s.sizeUnit:e||""),t=t?t+s.sizeUnit:"",r||(s._element.style.width=t),o||(s._cover.style.paddingBottom=s._cover.style.height=e),!r&&!/%$/.test(t)&&(s._cover.style.width=t,s._container.style.width=""),!o&&!/%$/.test(e)?s._element.style.height=e:s._element.style.height="",i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(t){const e=this.context.video;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.video.cancelPercentAttr.call(this);const i=((t?e._element.getAttribute("data-size"):"")||e._element.getAttribute("data-origin")||"").split(",");if(i){const n=i[0],s=i[1];e._onlyPercentage||/%$/.test(n)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,n,s):this.plugins.video.setSize.call(this,n,s),this.plugins.resizing._module_saveCurrentSize.call(this,e)}},setPercentSize:function(t,e){const i=this.context.video;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||i._defaultRatio,i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=e,i._cover.style.paddingBottom=e,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.video;t._cover.style.width="",t._cover.style.height="",t._cover.style.paddingBottom="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.video._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.video;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:e.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.video;t.videoInputFile&&(t.videoInputFile.value=""),t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=""),t.videoInputFile&&t.videoUrlFile&&(t.videoUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._origin_w=this.options.videoWidth,t._origin_h=this.options.videoHeight,t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,t._resizing&&(t.inputX.value=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.checked=!0,t.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,t._defaultRatio))}},Kh={name:"audio",display:"dialog",add:function(t){t.addModule([kn,Ho,Fo]);const e=t.context,i=e.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.options.audioWidth,_origin_h:t.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(t);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(t);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(t)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),n=null,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_createAudioTag:function(){const t=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,t);const e=this.context.audio._origin_w,i=this.context.audio._origin_h;return t.setAttribute("origin-size",e+","+i),t.style.cssText=(e?"width:"+e+"; ":"")+(i?"height:"+i+";":""),t},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.audioTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(t){this.plugins.audio.onModifyMode.call(this,t)},destroy:function(t){t=t||this.context.audio._element;const e=this.util.getParentElement(t,this.util.isComponent)||t,i=t.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(t,e,i,this)===!1)return;const n=e.previousElementSibling||e.nextElementSibling,s=e.parentNode;this.util.removeItem(e),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(o){return o.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(t){const e=this.context.audio;t?e._element?(this.context.dialog.updateModal=!0,e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src,e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple")):e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(t){const e=this.context.audio;t.preventDefault(),t.stopPropagation();try{e.audioInputFile&&e.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,e.audioInputFile.files)):e.audioUrlFile&&e._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,e._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let r=0,d=t.length;r<d;r++)/audio/i.test(t[r].type)&&(i.push(t[r]),e+=t[r].size);const n=this.options.audioUploadSizeLimit;if(n>0){let r=0;const d=this.context.audio._infoList;for(let l=0,f=d.length;l<f;l++)r+=d[l].size*1;if(e+r>n){this.closeLoading();const l="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(l,{limitSize:n,currentSize:r,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.audio;s._uploadFileLength=i.length;const o={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){const r=this.functions.onAudioUploadBefore(i,o,this,(function(d){d&&this._w.Array.isArray(d.result)?this.plugins.audio.register.call(this,o,d):this.plugins.audio.upload.call(this,o,d)}).bind(this));if(typeof r>"u")return;if(!r){this.closeLoading();return}typeof r=="object"&&r.length>0&&(i=r)}this.plugins.audio.upload.call(this,o,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.audio.exception] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.audio.error.call(this,e,null);return}const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:e.length,s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,t),this.functions.onAudioUploadError)},callBack_upload:function(t,e){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,o,r;n<s;n++)t.isUpdate?r=t.element:r=this.plugins.audio._createAudioTag.call(this),o={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,r,i[n].url,o,t.isUpdate);this.closeLoading()},setupUrl:function(t){try{if(t.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),t,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(t,e,i,n){const s=this.context.audio;if(n)if(s._element&&(t=s._element),t&&t.src!==e)t.src=e,this.selectComponent(t,"audio");else{this.selectComponent(t,"audio");return}else{t.src=e;const o=this.plugins.component.set_cover.call(this,t),r=this.plugins.component.set_container.call(this,o,"");if(!this.insertComponent(r,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const d=this.appendFormatTag(r,null);d&&this.setRange(d,0,d,0)}}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(t){const e=this.context.audio;this.plugins.audio._setTagAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!1);const o=this.plugins.component.set_cover.call(this,t),r=this.plugins.component.set_container.call(this,o,"se-audio-container");try{if(this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(r,s);else if(this.util.isListCell(n)){const d=this.util.getParentElement(s,function(l){return l.parentNode===n});n.insertBefore(r,d),this.util.removeItem(s),this.util.removeEmptyNode(d,null,!0)}else if(this.util.isFormatElement(n)){const d=this.util.getParentElement(s,function(l){return l.parentNode===n});n=this.util.splitElement(n,d),n.parentNode.insertBefore(r,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(r,n)}catch(d){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",d)}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(t){const e=this.context.audio;this.setControllerPosition(e.controller,t,"bottom",{left:0,top:0}),this.controllersOn(e.controller,t,this.plugins.audio.onControllerOff.bind(this,t),"audio"),this.util.addClass(t,"active"),e._element=t,e._cover=this.util.getParentElement(t,"FIGURE"),e._container=this.util.getParentElement(t,this.util.isComponent)},openModify:function(t){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}t||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(t){this.util.removeClass(t,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const t=this.context.audio;t.audioInputFile&&(t.audioInputFile.value=""),t.audioUrlFile&&(t._linkValue=t.preview.textContent=t.audioUrlFile.value=""),t.audioInputFile&&t.audioUrlFile&&(t.audioUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._element=null}},Za="https://katex.org/docs/supported.html",Xh={name:"math",display:"dialog",add:function(t){t.addModule([kn]);const e=t.context;e.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(t);e.math.modal=i,e.math.focusElement=i.querySelector(".se-math-exp"),e.math.previewElement=i.querySelector(".se-math-preview"),e.math.fontSizeElement=i.querySelector(".se-math-size"),e.math.focusElement.addEventListener("paste",function(s){typeof t.functions.onPasteMath=="function"&&t.functions.onPasteMath(s,t)},!1),e.math.focusElement.addEventListener(t.util.isIE?"textinput":"input",this._renderMathExp.bind(t,e.math),!1),e.math.fontSizeElement.addEventListener("change",(function(s){this.fontSize=s.target.value}).bind(e.math.previewElement.style),!1);let n=this.setController_MathButton(t);e.math.mathController=n,e.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(t),!1),n.addEventListener("click",this.onClick_mathController.bind(t)),e.math.previewElement.style.fontSize=e.math.defaultFontSize,e.dialog.modal.appendChild(i),e.element.relative.appendChild(n),i=null,n=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.mathFontSize;let s=n[0].value;i.className="se-dialog-content",i.style.display="none";let o='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="'+Za+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let r=0,d=n.length,l;r<d;r++)l=n[r],l.default&&(s=l.value),o+='<option value="'+l.value+'"'+(l.default?" selected":"")+">"+l.text+"</option>";return o+='</select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t.context.math.defaultFontSize=s,i.innerHTML=o,i},setController_MathButton:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(t){if(!t.getAttribute("data-exp")||!this.options.katex)return;const e=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(t.getAttribute("data-exp"))));t.innerHTML=e.querySelector(".katex").innerHTML,t.setAttribute("contenteditable",!1)}}},_renderer:function(t){let e="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),e=this.options.katex.src.renderToString(t,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),e='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+Za+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return e},_renderMathExp:function(t,e){t.previewElement.innerHTML=this.plugins.math._renderer.call(this,e.target.value)},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();const e=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const i=this.context.math,n=i.focusElement.value,s=i.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(n)),s.setAttribute("data-font-size",i.fontSizeElement.value),s.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){const o=this.util.getParentElement(i._mathExp,".katex");o.parentNode.replaceChild(s,o),this.setRange(s,0,s,1)}else{const o=this.getSelectedElements();if(o.length>1){const d=this.util.createElement(o[0].nodeName);if(d.appendChild(s),!this.insertNode(d,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;const r=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(r,s.nextSibling),this.setRange(s,0,s,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}).bind(this);try{e()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(t.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(t,0,t,1),this.plugins.math.call_controller.call(this,t)),!0;return!1},on:function(t){if(!t)this.plugins.math.init.call(this);else{const e=this.context.math;if(e._mathExp){const i=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),n=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=i,e.fontSizeElement.value=n,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),e.previewElement.style.fontSize=n}}},call_controller:function(t){this.context.math._mathExp=t;const e=this.context.math.mathController;this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"math")},onClick_mathController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const t=this.context.math;t.mathController.style.display="none",t._mathExp=null,t.focusElement.value="",t.previewElement.innerHTML=""}};var ms={exports:{}},Gh=ms.exports,qa;function Qh(){return qa||(qa=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Gh,function(e,i){const n={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(s){const o=s.context;o.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let r=s.util.createElement("DIV");r.className="se-file-browser sun-editor-common";let d=s.util.createElement("DIV");d.className="se-file-browser-back";let l=s.util.createElement("DIV");l.className="se-file-browser-inner",l.innerHTML=this.set_browser(s),r.appendChild(d),r.appendChild(l),this._loading=r.querySelector(".se-loading-box"),o.fileBrowser.area=r,o.fileBrowser.header=l.querySelector(".se-file-browser-header"),o.fileBrowser.titleArea=l.querySelector(".se-file-browser-title"),o.fileBrowser.tagArea=l.querySelector(".se-file-browser-tags"),o.fileBrowser.body=l.querySelector(".se-file-browser-body"),o.fileBrowser.list=l.querySelector(".se-file-browser-list"),o.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(s)),o.fileBrowser.list.addEventListener("click",this.onClickFile.bind(s)),l.addEventListener("mousedown",this._onMouseDown_browser.bind(s)),l.addEventListener("click",this._onClick_browser.bind(s)),o.element.relative.appendChild(r),r=null,d=null,l=null},set_browser:function(s){const o=s.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+o.dialogBox.close+'" aria-label="'+o.dialogBox.close+'">'+s.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(s){/se-file-browser-inner/.test(s.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(s){s.stopPropagation(),(/close/.test(s.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(s,o){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(f){/27/.test(f.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const r=this.context.fileBrowser;r.contextPlugin=s,r.selectorHandler=o;const d=this.context[s],l=d.listClass;this.util.hasClass(r.list,l)||(r.list.className="se-file-browser-list "+l),this.options.popupDisplay==="full"?r.area.style.position="fixed":r.area.style.position="absolute",r.titleArea.textContent=d.title,r.area.style.display="block",this.context[s].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[s].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[s].url,this.context[s].header)},_bindClose:null,close:function(){const s=this.plugins.fileBrowser;s._xmlHttp&&s._xmlHttp.abort(),s._bindClose&&(this._d.removeEventListener("keydown",s._bindClose),s._bindClose=null);const o=this.context.fileBrowser;o.area.style.display="none",o.selectorHandler=null,o.selectedTags=[],o.items=[],o.list.innerHTML=o.tagArea.innerHTML=o.titleArea.textContent="",typeof this.plugins[o.contextPlugin].init=="function"&&this.plugins[o.contextPlugin].init.call(this),o.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(s,o){const r=this.plugins.fileBrowser,d=r._xmlHttp=this.util.getXMLHttpRequest();if(d.onreadystatechange=r._callBackGet.bind(this,d),d.open("get",s,!0),o!==null&&typeof o=="object"&&this._w.Object.keys(o).length>0)for(let l in o)d.setRequestHeader(l,o[l]);d.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(s){if(s.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,s.status===200)try{const o=JSON.parse(s.responseText);o.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,o.result,!0):o.nullMessage&&(this.context.fileBrowser.list.innerHTML=o.nullMessage)}catch(o){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+o.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),s.status!==0){const o=s.responseText?JSON.parse(s.responseText):s,r="[SUNEDITOR.fileBrowser.get.serverException] status: "+s.status+", response: "+(o.errorMessage||s.responseText);throw Error(r)}}},_drawListItem:function(s,o){const r=this.context.fileBrowser,d=this.context[r.contextPlugin],l=[],f=s.length,u=d.columnSize||r.columnSize,g=u<=1?1:Math.round(f/u)||1,w=d.itemTemplateHandler;let x="",C='<div class="se-file-item-column">',T=1;for(let a=0,c,h;a<f;a++)if(c=s[a],h=c.tag?typeof c.tag=="string"?c.tag.split(","):c.tag:[],h=c.tag=h.map(function(b){return b.trim()}),C+=w(c),(a+1)%g===0&&T<u&&a+1<f&&(T++,C+='</div><div class="se-file-item-column">'),o&&h.length>0)for(let b=0,m=h.length,v;b<m;b++)v=h[b],v&&l.indexOf(v)===-1&&(l.push(v),x+='<a title="'+v+'" aria-label="'+v+'">'+v+"</a>");C+="</div>",r.list.innerHTML=C,o&&(r.items=s,r.tagArea.innerHTML=x,r.tagElements=r.tagArea.querySelectorAll("A"))},onClickTag:function(s){const o=s.target;if(!this.util.isAnchor(o))return;const r=o.textContent,d=this.plugins.fileBrowser,l=this.context.fileBrowser,f=l.tagArea.querySelector('a[title="'+r+'"]'),u=l.selectedTags,g=u.indexOf(r);g>-1?(u.splice(g,1),this.util.removeClass(f,"on")):(u.push(r),this.util.addClass(f,"on")),d._drawListItem.call(this,u.length===0?l.items:l.items.filter(function(w){return w.tag.some(function(x){return u.indexOf(x)>-1})}),!1)},onClickFile:function(s){s.preventDefault(),s.stopPropagation();const o=this.context.fileBrowser,r=o.list;let d=s.target,l=null;if(d===r)return;for(;r!==d.parentNode&&(l=d.getAttribute("data-command"),!l);)d=d.parentNode;if(!l)return;(o.selectorHandler||this.context[o.contextPlugin].selectorHandler)(d,d.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(ms)),ms.exports}var Jh=Qh();const ef=gi(Jh),tf={name:"imageGallery",add:function(t){t.addModule([ef]);const e=t.context;e.imageGallery={title:t.lang.toolbar.imageGallery,directData:t.options.imageGalleryData,url:t.options.imageGalleryUrl,header:t.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(t),columnSize:4}},open:function(t){this.plugins.fileBrowser.open.call(this,"imageGallery",t)},drawItems:function(t){const e=t.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(t.thumbnail||t.src)+'" alt="'+(t.alt||e)+'" data-command="pick" data-value="'+(t.src||t.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(t.name||e)+"</div></div>"},setImage:function(t,e){this.callPlugin("image",(function(){const i={name:e,size:0};this.plugins.image.create_image.call(this,t.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,t.alt)}).bind(this),null)}},nf={blockquote:_h,align:yh,font:wh,fontSize:Ch,fontColor:Eh,hiliteColor:xh,horizontalRule:Sh,list:Th,table:Lh,formatBlock:kh,lineHeight:Ah,template:Nh,paragraphStyle:Dh,textStyle:Oh,link:zh,image:Yh,video:jh,audio:Kh,math:Xh,imageGallery:tf};var bs={exports:{}},sf=bs.exports,Ya;function lf(){return Ya||(Ya=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:sf,function(e,i){const n={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"Schriftgre",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe fr Hervorhebungen",indent:"Einzug vergrern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"Aufzhlung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"Rckgngig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"Zeilenhhe",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie",dir_ltr:"Links nach rechts",dir_rtl:"Rechts nach links",mention:"Erwhnen"},dialogBox:{linkBox:{title:"Link einfgen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen",downloadLinkCheck:"Download-Link",bookmark:"Lesezeichen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"Schriftgre",previewLabel:"Vorschau"},imageBox:{title:"Bild einfgen",file:"Datei auswhlen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video einfgen",file:"Datei auswhlen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio einfgen",file:"Datei auswhlen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"Schlieen",submitButton:"bernehmen",revertButton:"Rckgngig",proportion:"Seitenverhltnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"Hhe",size:"Gre",ratio:"Verhltnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"Lschen",insertRowAbove:"Zeile oberhalb einfgen",insertRowBelow:"Zeile unterhalb einfgen",deleteRow:"Zeile lschen",insertColumnBefore:"Spalte links einfgen",insertColumnAfter:"Spalte rechts einfgen",deleteColumn:"Spalte lschen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische Grenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale Gre",minSize:"Mindestgre",tableHeader:"Tabellenberschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(bs)),bs.exports}var of=lf();const af=gi(of),ao=document.documentElement;function Po(){document.querySelectorAll("[data-wysiwyg]").forEach(e=>{if(e.wysiwygInited)return;const i=e.nextElementSibling;i?.classList?.contains("sun-editor")&&i.remove(),rf(e)})}function rf(t){const e=t.closest("[data-overlayscrollbars-viewport]"),i=t.closest("form"),n=t.closest("[data-wysiwyg-wrapper]"),s={de:af},o=ao.lang;i&&i.addEventListener("submit",g=>{if(i.waitWysiwygEditotSaving){g.preventDefault(),console.error("wait for the wysiwyg editor to process and save the data");return}});const r=t.dataset.buttonList,d=+t.dataset.charLimit||null;let l=[["undo","redo"],["formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["align","list"],["link","image"],["fullScreen","showBlocks","codeView"],["removeFormat"]];r&&(l=[],r.split("|").forEach(w=>{l.push(w.split(","))}));const f={plugins:nf,buttonList:l,formats:["p","h2","h3","h4","h5","h6"],maxCharCount:d,width:"auto",height:"auto",minHeight:t.dataset.height||"200px",tagsBlacklist:"span",attributesBlacklist:{all:"style"},attributesWhitelist:{img:"src|srcset|alt|style|width|height|data-.+"},icons:uf(),placeholder:t.getAttribute("placeholder")||null,linkProtocol:"",lang:s[o]},u=vh.create(t,f);if(t.wysiwygInited=!0,u.onImageUploadBefore=function(g,w,x,C){const T=new FormData;T.append("image",g[0]),axios.post("/admin/upload-image",T,{headers:{"X-CSRF-TOKEN":document.querySelector("meta[name=csrf-token]").content}}).then(a=>{C({result:a.data.result})}).catch(a=>{C({errorMessage:a})})},u.toggleFullScreen=function(g,w){ao.classList.toggle("wysiwyg-full-screen",g),g?Ac(u):e&&(an(e,u,n),jn(e,u,n))},u.onPaste=function(g,w,x,C){return w=w.replace(/&nbsp;/g," "),w},u.onImageUpload=function(g,w,x,C,T,a){a.context.element.wysiwyg.dispatchEvent(new Event("input",{bubbles:!0}))},u.onChange=function(g,w){i&&(i.waitWysiwygEditotSaving=!0,i.classList.add("waiting"));const C=new DOMParser().parseFromString(g,"text/html");C.querySelectorAll(".se-image-container").forEach(a=>{const c=a.querySelector("img"),h=a.querySelector("figure");if(!c||!h){console.warn("Missing <img> or <figure> in a container. Skipping.");return}const b=C.createElement("picture"),m=a.classList.contains("__se__float-left")?"left":a.classList.contains("__se__float-right")?"right":null;m&&h.classList.add(`float-${m}`),h.insertBefore(b,c),b.appendChild(c),C.body.insertBefore(h,a),a.remove()}),t.value=cf(C.getElementsByTagName("body")[0].innerHTML),i&&(i.waitWysiwygEditotSaving=!1,i.classList.remove("waiting"))},e){let g=null;an(e,u,n),e.addEventListener("scroll",()=>{jn(e,u,n)}),window.addEventListener("resize",()=>{clearTimeout(g),g=setTimeout(()=>{an(e,u,n),jn(e,u,n)},150)})}document.addEventListener("togglesidebar",()=>{an(e,u,n),jn(e,u,n)})}function cf(t){let e=t.trim();const i=/(?:<p\s*>\s*(?:<br\s*>)?\s*<\/p>\s*)+$/i;return e=e.replace(i,""),e.trim()}function jn(t,e,i){if(!t)return;const n=e.scrollProps||an(t,e,i),s=t.scrollTop,o=n.toolbar,r=e.core.context.element.relative;if(n.editor.height>n.scrWrap.height)if(s>=n.editor.top&&!ao.classList.contains("wysiwyg-full-screen")){const d=s>n.maxFixedScroll?n.maxFixedScroll+n.scrWrap.top-s+"px":n.scrWrap.top+"px";o.classList.add("se-toolbar-sticky"),o.style.top=d,o.style.width=n.editor.width-2+"px",r.style.setProperty("--toolbar-height",o.offsetHeight+"px")}else Ac(e)}function Ac(t){const e=t.core.context.element.toolbar;e.classList.remove("se-toolbar-sticky"),e.style=null}function an(t,e,i){if(!t)return;const n=t.getBoundingClientRect(),s=e.core.context.element.topArea,o=e.core.context.element.toolbar,r=n.top,d=t.offsetHeight,l=i.offsetTop,f=s.offsetWidth,u=s.offsetHeight,g=l+u-300;return e.scrollProps={area:s,toolbar:o,maxFixedScroll:g,scrWrap:{top:r,height:d},editor:{top:l,width:f,height:u}},e.scrollProps}function uf(){return{undo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57s-2.687-1.08-2.687-2.57zM12.5 15h-9v-1h9z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"/></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.333 5.686c0 .31.083.581.27.814H5.166a2.8 2.8 0 0 1-.099-.76c0-1.627 1.436-2.768 3.48-2.768 1.969 0 3.39 1.175 3.445 2.85h-1.23c-.11-1.08-.964-1.743-2.25-1.743-1.23 0-2.18.602-2.18 1.607zm2.194 7.478c-2.153 0-3.589-1.107-3.705-2.81h1.23c.144 1.06 1.129 1.703 2.544 1.703 1.34 0 2.31-.705 2.31-1.675 0-.827-.547-1.374-1.914-1.675L8.046 8.5H1v-1h14v1h-3.504c.468.437.675.994.675 1.697 0 1.826-1.436 2.967-3.644 2.967"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m3.266 12.496.96-2.853H7.76l.96 2.853H10L6.62 3H5.38L2 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm6.132 7.203v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V15h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41-1.23 0-1.795.8-1.795 1.576v.06z"/></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m4.266 12.496.96-2.853H8.76l.96 2.853H11L7.62 3H6.38L3 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm5.132-1.797v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V6h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41C11.565 1 11 1.8 11 2.576v.06z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5"/><path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/><path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"/></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707"/></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707M15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707"/></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6 1v3H1V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm14 12v3h-5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM6 8v7H1V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm14-6v7h-5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0m6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0"/></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"/></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/></svg>'}}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function ja(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function wt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ja(Object(i),!0).forEach(function(n){df(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ja(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function vs(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vs=function(e){return typeof e}:vs=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vs(t)}function df(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Mt(){return Mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Mt.apply(this,arguments)}function hf(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function ff(t,e){if(t==null)return{};var i=hf(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var gf="1.15.6";function At(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Rt=At(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),An=At(/Edge/i),Ka=At(/firefox/i),hn=At(/safari/i)&&!At(/chrome/i)&&!At(/android/i),Vo=At(/iP(ad|od|hone)/i),Nc=At(/chrome/i)&&At(/android/i),Dc={capture:!1,passive:!1};function pe(t,e,i){t.addEventListener(e,i,!Rt&&Dc)}function fe(t,e,i){t.removeEventListener(e,i,!Rt&&Dc)}function Ns(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Oc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ct(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Ns(t,e):Ns(t,e))||n&&t===i)return t;if(t===i)break}while(t=Oc(t))}return null}var Xa=/\s+/g;function Ue(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Xa," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(Xa," ")}}function ne(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function Bi(t,e){var i="";if(typeof t=="string")i=t;else do{var n=ne(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function Mc(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,o=n.length;if(i)for(;s<o;s++)i(n[s],s);return n}return[]}function vt(){var t=document.scrollingElement;return t||document.documentElement}function Ae(t,e,i,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var o,r,d,l,f,u,g;if(t!==window&&t.parentNode&&t!==vt()?(o=t.getBoundingClientRect(),r=o.top,d=o.left,l=o.bottom,f=o.right,u=o.height,g=o.width):(r=0,d=0,l=window.innerHeight,f=window.innerWidth,u=window.innerHeight,g=window.innerWidth),(e||i)&&t!==window&&(s=s||t.parentNode,!Rt))do if(s&&s.getBoundingClientRect&&(ne(s,"transform")!=="none"||i&&ne(s,"position")!=="static")){var w=s.getBoundingClientRect();r-=w.top+parseInt(ne(s,"border-top-width")),d-=w.left+parseInt(ne(s,"border-left-width")),l=r+o.height,f=d+o.width;break}while(s=s.parentNode);if(n&&t!==window){var x=Bi(s||t),C=x&&x.a,T=x&&x.d;x&&(r/=T,d/=C,g/=C,u/=T,l=r+u,f=d+g)}return{top:r,left:d,bottom:l,right:f,width:g,height:u}}}function Ga(t,e,i){for(var n=Wt(t,!0),s=Ae(t)[e];n;){var o=Ae(n)[i],r=void 0;if(r=s>=o,!r)return n;if(n===vt())break;n=Wt(n,!1)}return!1}function zi(t,e,i,n){for(var s=0,o=0,r=t.children;o<r.length;){if(r[o].style.display!=="none"&&r[o]!==se.ghost&&(n||r[o]!==se.dragged)&&ct(r[o],i.draggable,t,!1)){if(s===e)return r[o];s++}o++}return null}function $o(t,e){for(var i=t.lastElementChild;i&&(i===se.ghost||ne(i,"display")==="none"||e&&!Ns(i,e));)i=i.previousElementSibling;return i||null}function et(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==se.clone&&(!e||Ns(t,e))&&i++;return i}function Qa(t){var e=0,i=0,n=vt();if(t)do{var s=Bi(t),o=s.a,r=s.d;e+=t.scrollLeft*o,i+=t.scrollTop*r}while(t!==n&&(t=t.parentNode));return[e,i]}function pf(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function Wt(t,e){if(!t||!t.getBoundingClientRect)return vt();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=ne(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return vt();if(n||e)return i;n=!0}}while(i=i.parentNode);return vt()}function mf(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function wl(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var fn;function Bc(t,e){return function(){if(!fn){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),fn=setTimeout(function(){fn=void 0},e)}}}function bf(){clearTimeout(fn),fn=void 0}function Ic(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Rc(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function zc(t,e,i){var n={};return Array.from(t.children).forEach(function(s){var o,r,d,l;if(!(!ct(s,e.draggable,t,!1)||s.animated||s===i)){var f=Ae(s);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,f.left),n.top=Math.min((r=n.top)!==null&&r!==void 0?r:1/0,f.top),n.right=Math.max((d=n.right)!==null&&d!==void 0?d:-1/0,f.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,f.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Pe="Sortable"+new Date().getTime();function vf(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(ne(s,"display")==="none"||s===se.ghost)){t.push({target:s,rect:Ae(s)});var o=wt({},t[t.length-1].rect);if(s.thisAnimationDuration){var r=Bi(s,!0);r&&(o.top-=r.f,o.left-=r.e)}s.fromRect=o}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(pf(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,r=0;t.forEach(function(d){var l=0,f=d.target,u=f.fromRect,g=Ae(f),w=f.prevFromRect,x=f.prevToRect,C=d.rect,T=Bi(f,!0);T&&(g.top-=T.f,g.left-=T.e),f.toRect=g,f.thisAnimationDuration&&wl(w,g)&&!wl(u,g)&&(C.top-g.top)/(C.left-g.left)===(u.top-g.top)/(u.left-g.left)&&(l=yf(C,w,x,s.options)),wl(g,u)||(f.prevFromRect=u,f.prevToRect=g,l||(l=s.options.animation),s.animate(f,C,g,l)),l&&(o=!0,r=Math.max(r,l),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},l),f.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),t=[]},animate:function(n,s,o,r){if(r){ne(n,"transition",""),ne(n,"transform","");var d=Bi(this.el),l=d&&d.a,f=d&&d.d,u=(s.left-o.left)/(l||1),g=(s.top-o.top)/(f||1);n.animatingX=!!u,n.animatingY=!!g,ne(n,"transform","translate3d("+u+"px,"+g+"px,0)"),this.forRepaintDummy=_f(n),ne(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),ne(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ne(n,"transition",""),ne(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function _f(t){return t.offsetWidth}function yf(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var vi=[],Cl={initializeByDefault:!0},Nn={mount:function(e){for(var i in Cl)Cl.hasOwnProperty(i)&&!(i in e)&&(e[i]=Cl[i]);vi.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),vi.push(e)},pluginEvent:function(e,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var o=e+"Global";vi.forEach(function(r){i[r.pluginName]&&(i[r.pluginName][o]&&i[r.pluginName][o](wt({sortable:i},n)),i.options[r.pluginName]&&i[r.pluginName][e]&&i[r.pluginName][e](wt({sortable:i},n)))})},initializePlugins:function(e,i,n,s){vi.forEach(function(d){var l=d.pluginName;if(!(!e.options[l]&&!d.initializeByDefault)){var f=new d(e,i,e.options);f.sortable=e,f.options=e.options,e[l]=f,Mt(n,f.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var r=this.modifyOption(e,o,e.options[o]);typeof r<"u"&&(e.options[o]=r)}},getEventProperties:function(e,i){var n={};return vi.forEach(function(s){typeof s.eventProperties=="function"&&Mt(n,s.eventProperties.call(i[s.pluginName],e))}),n},modifyOption:function(e,i,n){var s;return vi.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(s=o.optionListeners[i].call(e[o.pluginName],n))}),s}};function wf(t){var e=t.sortable,i=t.rootEl,n=t.name,s=t.targetEl,o=t.cloneEl,r=t.toEl,d=t.fromEl,l=t.oldIndex,f=t.newIndex,u=t.oldDraggableIndex,g=t.newDraggableIndex,w=t.originalEvent,x=t.putSortable,C=t.extraEventProperties;if(e=e||i&&i[Pe],!!e){var T,a=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Rt&&!An?T=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(n,!0,!0)),T.to=r||i,T.from=d||i,T.item=s||i,T.clone=o,T.oldIndex=l,T.newIndex=f,T.oldDraggableIndex=u,T.newDraggableIndex=g,T.originalEvent=w,T.pullMode=x?x.lastPutMode:void 0;var h=wt(wt({},C),Nn.getEventProperties(n,e));for(var b in h)T[b]=h[b];i&&i.dispatchEvent(T),a[c]&&a[c].call(e,T)}}var Cf=["evt"],Fe=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,o=ff(n,Cf);Nn.pluginEvent.bind(se)(e,i,wt({dragEl:K,parentEl:Te,ghostEl:ae,rootEl:Ce,nextEl:si,lastDownEl:_s,cloneEl:xe,cloneHidden:$t,dragStarted:rn,putSortable:Oe,activeSortable:se.active,originalEvent:s,oldIndex:ki,oldDraggableIndex:gn,newIndex:Ze,newDraggableIndex:Vt,hideGhostForTarget:Vc,unhideGhostForTarget:$c,cloneNowHidden:function(){$t=!0},cloneNowShown:function(){$t=!1},dispatchSortableEvent:function(d){Re({sortable:i,name:d,originalEvent:s})}},o))};function Re(t){wf(wt({putSortable:Oe,cloneEl:xe,targetEl:K,rootEl:Ce,oldIndex:ki,oldDraggableIndex:gn,newIndex:Ze,newDraggableIndex:Vt},t))}var K,Te,ae,Ce,si,_s,xe,$t,ki,Ze,gn,Vt,Kn,Oe,Ei=!1,Ds=!1,Os=[],ti,at,El,xl,Ja,er,rn,_i,pn,mn=!1,Xn=!1,ys,Me,Sl=[],ro=!1,Ms=[],Js=typeof document<"u",Gn=Vo,tr=An||Rt?"cssFloat":"float",Ef=Js&&!Nc&&!Vo&&"draggable"in document.createElement("div"),Hc=(function(){if(Js){if(Rt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Fc=function(e,i){var n=ne(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=zi(e,0,i),r=zi(e,1,i),d=o&&ne(o),l=r&&ne(r),f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Ae(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Ae(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&d.float&&d.float!=="none"){var g=d.float==="left"?"left":"right";return r&&(l.clear==="both"||l.clear===g)?"vertical":"horizontal"}return o&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||f>=s&&n[tr]==="none"||r&&n[tr]==="none"&&f+u>s)?"vertical":"horizontal"},xf=function(e,i,n){var s=n?e.left:e.top,o=n?e.right:e.bottom,r=n?e.width:e.height,d=n?i.left:i.top,l=n?i.right:i.bottom,f=n?i.width:i.height;return s===d||o===l||s+r/2===d+f/2},Sf=function(e,i){var n;return Os.some(function(s){var o=s[Pe].options.emptyInsertThreshold;if(!(!o||$o(s))){var r=Ae(s),d=e>=r.left-o&&e<=r.right+o,l=i>=r.top-o&&i<=r.bottom+o;if(d&&l)return n=s}}),n},Pc=function(e){function i(o,r){return function(d,l,f,u){var g=d.options.group.name&&l.options.group.name&&d.options.group.name===l.options.group.name;if(o==null&&(r||g))return!0;if(o==null||o===!1)return!1;if(r&&o==="clone")return o;if(typeof o=="function")return i(o(d,l,f,u),r)(d,l,f,u);var w=(r?d:l).options.group.name;return o===!0||typeof o=="string"&&o===w||o.join&&o.indexOf(w)>-1}}var n={},s=e.group;(!s||vs(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,e.group=n},Vc=function(){!Hc&&ae&&ne(ae,"display","none")},$c=function(){!Hc&&ae&&ne(ae,"display","")};Js&&!Nc&&document.addEventListener("click",function(t){if(Ds)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ds=!1,!1},!0);var ii=function(e){if(K){e=e.touches?e.touches[0]:e;var i=Sf(e.clientX,e.clientY);if(i){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Pe]._onDragOver(n)}}},Tf=function(e){K&&K.parentNode[Pe]._isOutsideThisEl(e.target)};function se(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Mt({},e),t[Pe]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fc(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,d){r.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:se.supportPointer!==!1&&"PointerEvent"in window&&(!hn||Vo),emptyInsertThreshold:5};Nn.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);Pc(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:Ef,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?pe(t,"pointerdown",this._onTapStart):(pe(t,"mousedown",this._onTapStart),pe(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(pe(t,"dragover",this),pe(t,"dragenter",this)),Os.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Mt(this,vf())}se.prototype={constructor:se,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(_i=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,K):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,s=this.options,o=s.preventOnFilter,r=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(d||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=s.filter;if(Bf(n),!K&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&hn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ct(l,s.draggable,n,!1),!(l&&l.animated)&&_s!==l)){if(ki=et(l),gn=et(l,s.draggable),typeof u=="function"){if(u.call(this,e,l,this)){Re({sortable:i,rootEl:f,name:"filter",targetEl:l,toEl:n,fromEl:n}),Fe("filter",i,{evt:e}),o&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(g){if(g=ct(f,g.trim(),n,!1),g)return Re({sortable:i,rootEl:g,name:"filter",targetEl:l,fromEl:n,toEl:n}),Fe("filter",i,{evt:e}),!0}),u)){o&&e.preventDefault();return}s.handle&&!ct(f,s.handle,n,!1)||this._prepareDragStart(e,d,l)}}},_prepareDragStart:function(e,i,n){var s=this,o=s.el,r=s.options,d=o.ownerDocument,l;if(n&&!K&&n.parentNode===o){var f=Ae(n);if(Ce=o,K=n,Te=K.parentNode,si=K.nextSibling,_s=n,Kn=r.group,se.dragged=K,ti={target:K,clientX:(i||e).clientX,clientY:(i||e).clientY},Ja=ti.clientX-f.left,er=ti.clientY-f.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,K.style["will-change"]="all",l=function(){if(Fe("delayEnded",s,{evt:e}),se.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Ka&&s.nativeDraggable&&(K.draggable=!0),s._triggerDragStart(e,i),Re({sortable:s,name:"choose",originalEvent:e}),Ue(K,r.chosenClass,!0)},r.ignore.split(",").forEach(function(u){Mc(K,u.trim(),Tl)}),pe(d,"dragover",ii),pe(d,"mousemove",ii),pe(d,"touchmove",ii),r.supportPointer?(pe(d,"pointerup",s._onDrop),!this.nativeDraggable&&pe(d,"pointercancel",s._onDrop)):(pe(d,"mouseup",s._onDrop),pe(d,"touchend",s._onDrop),pe(d,"touchcancel",s._onDrop)),Ka&&this.nativeDraggable&&(this.options.touchStartThreshold=4,K.draggable=!0),Fe("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(An||Rt))){if(se.eventCanceled){this._onDrop();return}r.supportPointer?(pe(d,"pointerup",s._disableDelayedDrag),pe(d,"pointercancel",s._disableDelayedDrag)):(pe(d,"mouseup",s._disableDelayedDrag),pe(d,"touchend",s._disableDelayedDrag),pe(d,"touchcancel",s._disableDelayedDrag)),pe(d,"mousemove",s._delayedDragTouchMoveHandler),pe(d,"touchmove",s._delayedDragTouchMoveHandler),r.supportPointer&&pe(d,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,r.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){K&&Tl(K),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;fe(e,"mouseup",this._disableDelayedDrag),fe(e,"touchend",this._disableDelayedDrag),fe(e,"touchcancel",this._disableDelayedDrag),fe(e,"pointerup",this._disableDelayedDrag),fe(e,"pointercancel",this._disableDelayedDrag),fe(e,"mousemove",this._delayedDragTouchMoveHandler),fe(e,"touchmove",this._delayedDragTouchMoveHandler),fe(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?pe(document,"pointermove",this._onTouchMove):i?pe(document,"touchmove",this._onTouchMove):pe(document,"mousemove",this._onTouchMove):(pe(K,"dragend",this),pe(Ce,"dragstart",this._onDragStart));try{document.selection?ws(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Ei=!1,Ce&&K){Fe("dragStarted",this,{evt:i}),this.nativeDraggable&&pe(document,"dragover",Tf);var n=this.options;!e&&Ue(K,n.dragClass,!1),Ue(K,n.ghostClass,!0),se.active=this,e&&this._appendGhost(),Re({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(at){this._lastX=at.clientX,this._lastY=at.clientY,Vc();for(var e=document.elementFromPoint(at.clientX,at.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(at.clientX,at.clientY),e!==i);)i=e;if(K.parentNode[Pe]._isOutsideThisEl(e),i)do{if(i[Pe]){var n=void 0;if(n=i[Pe]._onDragOver({clientX:at.clientX,clientY:at.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=Oc(i));$c()}},_onTouchMove:function(e){if(ti){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,o=e.touches?e.touches[0]:e,r=ae&&Bi(ae,!0),d=ae&&r&&r.a,l=ae&&r&&r.d,f=Gn&&Me&&Qa(Me),u=(o.clientX-ti.clientX+s.x)/(d||1)+(f?f[0]-Sl[0]:0)/(d||1),g=(o.clientY-ti.clientY+s.y)/(l||1)+(f?f[1]-Sl[1]:0)/(l||1);if(!se.active&&!Ei){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(ae){r?(r.e+=u-(El||0),r.f+=g-(xl||0)):r={a:1,b:0,c:0,d:1,e:u,f:g};var w="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");ne(ae,"webkitTransform",w),ne(ae,"mozTransform",w),ne(ae,"msTransform",w),ne(ae,"transform",w),El=u,xl=g,at=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ae){var e=this.options.fallbackOnBody?document.body:Ce,i=Ae(K,!0,Gn,!0,e),n=this.options;if(Gn){for(Me=e;ne(Me,"position")==="static"&&ne(Me,"transform")==="none"&&Me!==document;)Me=Me.parentNode;Me!==document.body&&Me!==document.documentElement?(Me===document&&(Me=vt()),i.top+=Me.scrollTop,i.left+=Me.scrollLeft):Me=vt(),Sl=Qa(Me)}ae=K.cloneNode(!0),Ue(ae,n.ghostClass,!1),Ue(ae,n.fallbackClass,!0),Ue(ae,n.dragClass,!0),ne(ae,"transition",""),ne(ae,"transform",""),ne(ae,"box-sizing","border-box"),ne(ae,"margin",0),ne(ae,"top",i.top),ne(ae,"left",i.left),ne(ae,"width",i.width),ne(ae,"height",i.height),ne(ae,"opacity","0.8"),ne(ae,"position",Gn?"absolute":"fixed"),ne(ae,"zIndex","100000"),ne(ae,"pointerEvents","none"),se.ghost=ae,e.appendChild(ae),ne(ae,"transform-origin",Ja/parseInt(ae.style.width)*100+"% "+er/parseInt(ae.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,s=e.dataTransfer,o=n.options;if(Fe("dragStart",this,{evt:e}),se.eventCanceled){this._onDrop();return}Fe("setupClone",this),se.eventCanceled||(xe=Rc(K),xe.removeAttribute("id"),xe.draggable=!1,xe.style["will-change"]="",this._hideClone(),Ue(xe,this.options.chosenClass,!1),se.clone=xe),n.cloneId=ws(function(){Fe("clone",n),!se.eventCanceled&&(n.options.removeCloneOnHide||Ce.insertBefore(xe,K),n._hideClone(),Re({sortable:n,name:"clone"}))}),!i&&Ue(K,o.dragClass,!0),i?(Ds=!0,n._loopId=setInterval(n._emulateDragOver,50)):(fe(document,"mouseup",n._onDrop),fe(document,"touchend",n._onDrop),fe(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(n,s,K)),pe(document,"drop",n),ne(K,"transform","translateZ(0)")),Ei=!0,n._dragStartId=ws(n._dragStarted.bind(n,i,e)),pe(document,"selectstart",n),rn=!0,window.getSelection().removeAllRanges(),hn&&ne(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,s,o,r,d=this.options,l=d.group,f=se.active,u=Kn===l,g=d.sort,w=Oe||f,x,C=this,T=!1;if(ro)return;function a(z,P){Fe(z,C,wt({evt:e,isOwner:u,axis:x?"vertical":"horizontal",revert:r,dragRect:s,targetRect:o,canSort:g,fromSortable:w,target:n,completed:h,onMove:function(R,D){return Qn(Ce,i,K,s,R,Ae(R),e,D)},changed:b},P))}function c(){a("dragOverAnimationCapture"),C.captureAnimationState(),C!==w&&w.captureAnimationState()}function h(z){return a("dragOverCompleted",{insertion:z}),z&&(u?f._hideClone():f._showClone(C),C!==w&&(Ue(K,Oe?Oe.options.ghostClass:f.options.ghostClass,!1),Ue(K,d.ghostClass,!0)),Oe!==C&&C!==se.active?Oe=C:C===se.active&&Oe&&(Oe=null),w===C&&(C._ignoreWhileAnimating=n),C.animateAll(function(){a("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(n===K&&!K.animated||n===i&&!n.animated)&&(_i=null),!d.dragoverBubble&&!e.rootEl&&n!==document&&(K.parentNode[Pe]._isOutsideThisEl(e.target),!z&&ii(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function b(){Ze=et(K),Vt=et(K,d.draggable),Re({sortable:C,name:"change",toEl:i,newIndex:Ze,newDraggableIndex:Vt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=ct(n,d.draggable,i,!0),a("dragOver"),se.eventCanceled)return T;if(K.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||C._ignoreWhileAnimating===n)return h(!1);if(Ds=!1,f&&!d.disabled&&(u?g||(r=Te!==Ce):Oe===this||(this.lastPutMode=Kn.checkPull(this,f,K,e))&&l.checkPut(this,f,K,e))){if(x=this._getDirection(e,n)==="vertical",s=Ae(K),a("dragOverValid"),se.eventCanceled)return T;if(r)return Te=Ce,c(),this._hideClone(),a("revert"),se.eventCanceled||(si?Ce.insertBefore(K,si):Ce.appendChild(K)),h(!0);var m=$o(i,d.draggable);if(!m||Nf(e,x,this)&&!m.animated){if(m===K)return h(!1);if(m&&i===e.target&&(n=m),n&&(o=Ae(n)),Qn(Ce,i,K,s,n,o,e,!!n)!==!1)return c(),m&&m.nextSibling?i.insertBefore(K,m.nextSibling):i.appendChild(K),Te=i,b(),h(!0)}else if(m&&Af(e,x,this)){var v=zi(i,0,d,!0);if(v===K)return h(!1);if(n=v,o=Ae(n),Qn(Ce,i,K,s,n,o,e,!1)!==!1)return c(),i.insertBefore(K,v),Te=i,b(),h(!0)}else if(n.parentNode===i){o=Ae(n);var p=0,_,E=K.parentNode!==i,y=!xf(K.animated&&K.toRect||s,n.animated&&n.toRect||o,x),S=x?"top":"left",N=Ga(n,"top","top")||Ga(K,"top","top"),L=N?N.scrollTop:void 0;_i!==n&&(_=o[S],mn=!1,Xn=!y&&d.invertSwap||E),p=Df(e,n,o,x,y?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,Xn,_i===n);var k;if(p!==0){var M=et(K);do M-=p,k=Te.children[M];while(k&&(ne(k,"display")==="none"||k===ae))}if(p===0||k===n)return h(!1);_i=n,pn=p;var $=n.nextElementSibling,F=!1;F=p===1;var H=Qn(Ce,i,K,s,n,o,e,F);if(H!==!1)return(H===1||H===-1)&&(F=H===1),ro=!0,setTimeout(kf,30),c(),F&&!$?i.appendChild(K):n.parentNode.insertBefore(K,F?$:n),N&&Ic(N,0,L-N.scrollTop),Te=K.parentNode,_!==void 0&&!Xn&&(ys=Math.abs(_-Ae(n)[S])),b(),h(!0)}if(i.contains(K))return h(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){fe(document,"mousemove",this._onTouchMove),fe(document,"touchmove",this._onTouchMove),fe(document,"pointermove",this._onTouchMove),fe(document,"dragover",ii),fe(document,"mousemove",ii),fe(document,"touchmove",ii)},_offUpEvents:function(){var e=this.el.ownerDocument;fe(e,"mouseup",this._onDrop),fe(e,"touchend",this._onDrop),fe(e,"pointerup",this._onDrop),fe(e,"pointercancel",this._onDrop),fe(e,"touchcancel",this._onDrop),fe(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(Ze=et(K),Vt=et(K,n.draggable),Fe("drop",this,{evt:e}),Te=K&&K.parentNode,Ze=et(K),Vt=et(K,n.draggable),se.eventCanceled){this._nulling();return}Ei=!1,Xn=!1,mn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),co(this.cloneId),co(this._dragStartId),this.nativeDraggable&&(fe(document,"drop",this),fe(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),hn&&ne(document.body,"user-select",""),ne(K,"transform",""),e&&(rn&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),ae&&ae.parentNode&&ae.parentNode.removeChild(ae),(Ce===Te||Oe&&Oe.lastPutMode!=="clone")&&xe&&xe.parentNode&&xe.parentNode.removeChild(xe),K&&(this.nativeDraggable&&fe(K,"dragend",this),Tl(K),K.style["will-change"]="",rn&&!Ei&&Ue(K,Oe?Oe.options.ghostClass:this.options.ghostClass,!1),Ue(K,this.options.chosenClass,!1),Re({sortable:this,name:"unchoose",toEl:Te,newIndex:null,newDraggableIndex:null,originalEvent:e}),Ce!==Te?(Ze>=0&&(Re({rootEl:Te,name:"add",toEl:Te,fromEl:Ce,originalEvent:e}),Re({sortable:this,name:"remove",toEl:Te,originalEvent:e}),Re({rootEl:Te,name:"sort",toEl:Te,fromEl:Ce,originalEvent:e}),Re({sortable:this,name:"sort",toEl:Te,originalEvent:e})),Oe&&Oe.save()):Ze!==ki&&Ze>=0&&(Re({sortable:this,name:"update",toEl:Te,originalEvent:e}),Re({sortable:this,name:"sort",toEl:Te,originalEvent:e})),se.active&&((Ze==null||Ze===-1)&&(Ze=ki,Vt=gn),Re({sortable:this,name:"end",toEl:Te,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Fe("nulling",this),Ce=K=Te=ae=si=xe=_s=$t=ti=at=rn=Ze=Vt=ki=gn=_i=pn=Oe=Kn=se.dragged=se.ghost=se.clone=se.active=null,Ms.forEach(function(e){e.checked=!0}),Ms.length=El=xl=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":K&&(this._onDragOver(e),Lf(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,s=0,o=n.length,r=this.options;s<o;s++)i=n[s],ct(i,r.draggable,this.el,!1)&&e.push(i.getAttribute(r.dataIdAttr)||Mf(i));return e},sort:function(e,i){var n={},s=this.el;this.toArray().forEach(function(o,r){var d=s.children[r];ct(d,this.options.draggable,s,!1)&&(n[o]=d)},this),i&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(s.removeChild(n[o]),s.appendChild(n[o]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return ct(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var s=Nn.modifyOption(this,e,i);typeof s<"u"?n[e]=s:n[e]=i,e==="group"&&Pc(n)},destroy:function(){Fe("destroy",this);var e=this.el;e[Pe]=null,fe(e,"mousedown",this._onTapStart),fe(e,"touchstart",this._onTapStart),fe(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(fe(e,"dragover",this),fe(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Os.splice(Os.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$t){if(Fe("hideClone",this),se.eventCanceled)return;ne(xe,"display","none"),this.options.removeCloneOnHide&&xe.parentNode&&xe.parentNode.removeChild(xe),$t=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($t){if(Fe("showClone",this),se.eventCanceled)return;K.parentNode==Ce&&!this.options.group.revertClone?Ce.insertBefore(xe,K):si?Ce.insertBefore(xe,si):Ce.appendChild(xe),this.options.group.revertClone&&this.animate(K,xe),ne(xe,"display",""),$t=!1}}};function Lf(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Qn(t,e,i,n,s,o,r,d){var l,f=t[Pe],u=f.options.onMove,g;return window.CustomEvent&&!Rt&&!An?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=s||e,l.relatedRect=o||Ae(e),l.willInsertAfter=d,l.originalEvent=r,t.dispatchEvent(l),u&&(g=u.call(f,l,r)),g}function Tl(t){t.draggable=!1}function kf(){ro=!1}function Af(t,e,i){var n=Ae(zi(i.el,0,i.options,!0)),s=zc(i.el,i.options,ae),o=10;return e?t.clientX<s.left-o||t.clientY<n.top&&t.clientX<n.right:t.clientY<s.top-o||t.clientY<n.bottom&&t.clientX<n.left}function Nf(t,e,i){var n=Ae($o(i.el,i.options.draggable)),s=zc(i.el,i.options,ae),o=10;return e?t.clientX>s.right+o||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>s.bottom+o||t.clientX>n.right&&t.clientY>n.top}function Df(t,e,i,n,s,o,r,d){var l=n?t.clientY:t.clientX,f=n?i.height:i.width,u=n?i.top:i.left,g=n?i.bottom:i.right,w=!1;if(!r){if(d&&ys<f*s){if(!mn&&(pn===1?l>u+f*o/2:l<g-f*o/2)&&(mn=!0),mn)w=!0;else if(pn===1?l<u+ys:l>g-ys)return-pn}else if(l>u+f*(1-s)/2&&l<g-f*(1-s)/2)return Of(e)}return w=w||r,w&&(l<u+f*o/2||l>g-f*o/2)?l>u+f/2?1:-1:0}function Of(t){return et(K)<et(t)?1:-1}function Mf(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Bf(t){Ms.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Ms.push(n)}}function ws(t){return setTimeout(t,0)}function co(t){return clearTimeout(t)}Js&&pe(document,"touchmove",function(t){(se.active||Ei)&&t.cancelable&&t.preventDefault()});se.utils={on:pe,off:fe,css:ne,find:Mc,is:function(e,i){return!!ct(e,i,e,!1)},extend:mf,throttle:Bc,closest:ct,toggleClass:Ue,clone:Rc,index:et,nextTick:ws,cancelNextTick:co,detectDirection:Fc,getChild:zi,expando:Pe};se.get=function(t){return t[Pe]};se.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(se.utils=wt(wt({},se.utils),n.utils)),Nn.mount(n)})};se.create=function(t,e){return new se(t,e)};se.version=gf;var ke=[],cn,uo,ho=!1,Ll,kl,Bs,un;function If(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?pe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pe(document,"pointermove",this._handleFallbackAutoScroll):n.touches?pe(document,"touchmove",this._handleFallbackAutoScroll):pe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):(fe(document,"pointermove",this._handleFallbackAutoScroll),fe(document,"touchmove",this._handleFallbackAutoScroll),fe(document,"mousemove",this._handleFallbackAutoScroll)),ir(),Cs(),bf()},nulling:function(){Bs=uo=cn=ho=un=Ll=kl=null,ke.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,o=(i.touches?i.touches[0]:i).clientX,r=(i.touches?i.touches[0]:i).clientY,d=document.elementFromPoint(o,r);if(Bs=i,n||this.options.forceAutoScrollFallback||An||Rt||hn){Al(i,this.options,d,n);var l=Wt(d,!0);ho&&(!un||o!==Ll||r!==kl)&&(un&&ir(),un=setInterval(function(){var f=Wt(document.elementFromPoint(o,r),!0);f!==l&&(l=f,Cs()),Al(i,s.options,f,n)},10),Ll=o,kl=r)}else{if(!this.options.bubbleScroll||Wt(d,!0)===vt()){Cs();return}Al(i,this.options,Wt(d,!1),!1)}}},Mt(t,{pluginName:"scroll",initializeByDefault:!0})}function Cs(){ke.forEach(function(t){clearInterval(t.pid)}),ke=[]}function ir(){clearInterval(un)}var Al=Bc(function(t,e,i,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,d=e.scrollSpeed,l=vt(),f=!1,u;uo!==i&&(uo=i,Cs(),cn=e.scroll,u=e.scrollFn,cn===!0&&(cn=Wt(i,!0)));var g=0,w=cn;do{var x=w,C=Ae(x),T=C.top,a=C.bottom,c=C.left,h=C.right,b=C.width,m=C.height,v=void 0,p=void 0,_=x.scrollWidth,E=x.scrollHeight,y=ne(x),S=x.scrollLeft,N=x.scrollTop;x===l?(v=b<_&&(y.overflowX==="auto"||y.overflowX==="scroll"||y.overflowX==="visible"),p=m<E&&(y.overflowY==="auto"||y.overflowY==="scroll"||y.overflowY==="visible")):(v=b<_&&(y.overflowX==="auto"||y.overflowX==="scroll"),p=m<E&&(y.overflowY==="auto"||y.overflowY==="scroll"));var L=v&&(Math.abs(h-s)<=r&&S+b<_)-(Math.abs(c-s)<=r&&!!S),k=p&&(Math.abs(a-o)<=r&&N+m<E)-(Math.abs(T-o)<=r&&!!N);if(!ke[g])for(var M=0;M<=g;M++)ke[M]||(ke[M]={});(ke[g].vx!=L||ke[g].vy!=k||ke[g].el!==x)&&(ke[g].el=x,ke[g].vx=L,ke[g].vy=k,clearInterval(ke[g].pid),(L!=0||k!=0)&&(f=!0,ke[g].pid=setInterval((function(){n&&this.layer===0&&se.active._onTouchMove(Bs);var $=ke[this.layer].vy?ke[this.layer].vy*d:0,F=ke[this.layer].vx?ke[this.layer].vx*d:0;typeof u=="function"&&u.call(se.dragged.parentNode[Pe],F,$,t,Bs,ke[this.layer].el)!=="continue"||Ic(ke[this.layer].el,F,$)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&w!==l&&(w=Wt(w,!1)));ho=f}},30),Wc=function(e){var i=e.originalEvent,n=e.putSortable,s=e.dragEl,o=e.activeSortable,r=e.dispatchSortableEvent,d=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var f=n||o;d();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,g=document.elementFromPoint(u.clientX,u.clientY);l(),f&&!f.el.contains(g)&&(r("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function Wo(){}Wo.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=zi(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:Wc};Mt(Wo,{pluginName:"revertOnSpill"});function Uo(){}Uo.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:Wc};Mt(Uo,{pluginName:"removeOnSpill"});se.mount(new If);se.mount(Uo,Wo);const Ft={wrapper:"[data-dynamic-fields-wrapper]",sortable:"[data-sortable-wrapper]",group:"[data-dynamic-fields-group]",move:"[data-dynamic-fields-move]",minus:"[data-dynamic-fields-minus]",plus:"[data-dynamic-fields-plus]"};let nr=!1;function Rf(){document.querySelectorAll(`${Ft.wrapper}${Ft.sortable}`).forEach(e=>{e.isSortableInited||(new se(e,{draggable:Ft.group,handle:Ft.move,onEnd:function(){sr(e)}}),e.isSortableInited=!0)}),!nr&&(document.addEventListener("click",e=>{const i=e?.target?.closest(Ft.minus),n=e?.target?.closest(Ft.plus);if(!i&&!n)return;const s=i||n,o=s.closest(Ft.wrapper),r=s.closest(Ft.group),d=new CustomEvent("dynamicFieldsUpdated",{bubbles:!0,detail:{wrapper:o}});if(n){const f=n.closest("[data-dynamic-fields]")?.querySelector("[data-dynamic-fields-template]");if(!f)return;r.insertAdjacentHTML("afterend",f.innerHTML.trim()),d.detail.action="add",document.dispatchEvent(d)}i&&(o?o.querySelectorAll("[data-dynamic-fields-group]"):[]).length>1&&(r?.remove(),d.detail.action="remove",document.dispatchEvent(d)),sr(o),zf()}),nr=!0)}function sr(t){const e=t.querySelectorAll("[data-dynamic-fields-group]"),i=t.dataset.regexpType==="simple"?/\[\d+\]/:/\[\d+\]/g;e.forEach((n,s)=>{n.querySelectorAll("[name], [id], [for]").forEach(r=>{["name","id","for"].forEach(d=>{const l=r?.base_updated_attrs?.[`_${d}`]||r.getAttribute(d);if(!l)return;let f=l;d==="name"&&(f=l.replace(i,`[${s}]`)),(d==="id"||d==="for")&&(f=l+`_${s}`),r?.base_updated_attrs?r?.base_updated_attrs?.[`_${d}`]||(r.base_updated_attrs[`_${d}`]=l):(r.base_updated_attrs={},r.base_updated_attrs[`_${d}`]=l),r.setAttribute(d,f)})})})}function zf(){Zo(),zo(),Po()}function Zo(){Qd(),Jd(),eh(),ih(),Rf()}var ze="top",Ke="bottom",Xe="right",He="left",el="auto",Yi=[ze,Ke,Xe,He],ui="start",Hi="end",Uc="clippingParents",qo="viewport",xi="popper",Zc="reference",fo=Yi.reduce(function(t,e){return t.concat([e+"-"+ui,e+"-"+Hi])},[]),Yo=[].concat(Yi,[el]).reduce(function(t,e){return t.concat([e,e+"-"+ui,e+"-"+Hi])},[]),qc="beforeRead",Yc="read",jc="afterRead",Kc="beforeMain",Xc="main",Gc="afterMain",Qc="beforeWrite",Jc="write",eu="afterWrite",tu=[qc,Yc,jc,Kc,Xc,Gc,Qc,Jc,eu];function Ct(t){return t?(t.nodeName||"").toLowerCase():null}function Ge(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function di(t){var e=Ge(t).Element;return t instanceof e||t instanceof Element}function tt(t){var e=Ge(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function jo(t){if(typeof ShadowRoot>"u")return!1;var e=Ge(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Hf(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},s=e.attributes[i]||{},o=e.elements[i];!tt(o)||!Ct(o)||(Object.assign(o.style,n),Object.keys(s).forEach(function(r){var d=s[r];d===!1?o.removeAttribute(r):o.setAttribute(r,d===!0?"":d)}))})}function Ff(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],o=e.attributes[n]||{},r=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),d=r.reduce(function(l,f){return l[f]="",l},{});!tt(s)||!Ct(s)||(Object.assign(s.style,d),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}const Ko={name:"applyStyles",enabled:!0,phase:"write",fn:Hf,effect:Ff,requires:["computeStyles"]};function _t(t){return t.split("-")[0]}var ai=Math.max,Is=Math.min,Fi=Math.round;function go(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function iu(){return!/^((?!chrome|android).)*safari/i.test(go())}function Pi(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&tt(t)&&(s=t.offsetWidth>0&&Fi(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Fi(n.height)/t.offsetHeight||1);var r=di(t)?Ge(t):window,d=r.visualViewport,l=!iu()&&i,f=(n.left+(l&&d?d.offsetLeft:0))/s,u=(n.top+(l&&d?d.offsetTop:0))/o,g=n.width/s,w=n.height/o;return{width:g,height:w,top:u,right:f+g,bottom:u+w,left:f,x:f,y:u}}function Xo(t){var e=Pi(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function nu(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&jo(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Bt(t){return Ge(t).getComputedStyle(t)}function Pf(t){return["table","td","th"].indexOf(Ct(t))>=0}function Xt(t){return((di(t)?t.ownerDocument:t.document)||window.document).documentElement}function tl(t){return Ct(t)==="html"?t:t.assignedSlot||t.parentNode||(jo(t)?t.host:null)||Xt(t)}function lr(t){return!tt(t)||Bt(t).position==="fixed"?null:t.offsetParent}function Vf(t){var e=/firefox/i.test(go()),i=/Trident/i.test(go());if(i&&tt(t)){var n=Bt(t);if(n.position==="fixed")return null}var s=tl(t);for(jo(s)&&(s=s.host);tt(s)&&["html","body"].indexOf(Ct(s))<0;){var o=Bt(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Dn(t){for(var e=Ge(t),i=lr(t);i&&Pf(i)&&Bt(i).position==="static";)i=lr(i);return i&&(Ct(i)==="html"||Ct(i)==="body"&&Bt(i).position==="static")?e:i||Vf(t)||e}function Go(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function bn(t,e,i){return ai(t,Is(e,i))}function $f(t,e,i){var n=bn(t,e,i);return n>i?i:n}function su(){return{top:0,right:0,bottom:0,left:0}}function lu(t){return Object.assign({},su(),t)}function ou(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var Wf=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,lu(typeof e!="number"?e:ou(e,Yi))};function Uf(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,r=i.modifiersData.popperOffsets,d=_t(i.placement),l=Go(d),f=[He,Xe].indexOf(d)>=0,u=f?"height":"width";if(!(!o||!r)){var g=Wf(s.padding,i),w=Xo(o),x=l==="y"?ze:He,C=l==="y"?Ke:Xe,T=i.rects.reference[u]+i.rects.reference[l]-r[l]-i.rects.popper[u],a=r[l]-i.rects.reference[l],c=Dn(o),h=c?l==="y"?c.clientHeight||0:c.clientWidth||0:0,b=T/2-a/2,m=g[x],v=h-w[u]-g[C],p=h/2-w[u]/2+b,_=bn(m,p,v),E=l;i.modifiersData[n]=(e={},e[E]=_,e.centerOffset=_-p,e)}}function Zf(t){var e=t.state,i=t.options,n=i.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||nu(e.elements.popper,s)&&(e.elements.arrow=s))}const au={name:"arrow",enabled:!0,phase:"main",fn:Uf,effect:Zf,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vi(t){return t.split("-")[1]}var qf={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Yf(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:Fi(i*s)/s||0,y:Fi(n*s)/s||0}}function or(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,r=t.offsets,d=t.position,l=t.gpuAcceleration,f=t.adaptive,u=t.roundOffsets,g=t.isFixed,w=r.x,x=w===void 0?0:w,C=r.y,T=C===void 0?0:C,a=typeof u=="function"?u({x,y:T}):{x,y:T};x=a.x,T=a.y;var c=r.hasOwnProperty("x"),h=r.hasOwnProperty("y"),b=He,m=ze,v=window;if(f){var p=Dn(i),_="clientHeight",E="clientWidth";if(p===Ge(i)&&(p=Xt(i),Bt(p).position!=="static"&&d==="absolute"&&(_="scrollHeight",E="scrollWidth")),p=p,s===ze||(s===He||s===Xe)&&o===Hi){m=Ke;var y=g&&p===v&&v.visualViewport?v.visualViewport.height:p[_];T-=y-n.height,T*=l?1:-1}if(s===He||(s===ze||s===Ke)&&o===Hi){b=Xe;var S=g&&p===v&&v.visualViewport?v.visualViewport.width:p[E];x-=S-n.width,x*=l?1:-1}}var N=Object.assign({position:d},f&&qf),L=u===!0?Yf({x,y:T},Ge(i)):{x,y:T};if(x=L.x,T=L.y,l){var k;return Object.assign({},N,(k={},k[m]=h?"0":"",k[b]=c?"0":"",k.transform=(v.devicePixelRatio||1)<=1?"translate("+x+"px, "+T+"px)":"translate3d("+x+"px, "+T+"px, 0)",k))}return Object.assign({},N,(e={},e[m]=h?T+"px":"",e[b]=c?x+"px":"",e.transform="",e))}function jf(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=n===void 0?!0:n,o=i.adaptive,r=o===void 0?!0:o,d=i.roundOffsets,l=d===void 0?!0:d,f={placement:_t(e.placement),variation:Vi(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,or(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:r,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,or(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Qo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:jf,data:{}};var Jn={passive:!0};function Kf(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=s===void 0?!0:s,r=n.resize,d=r===void 0?!0:r,l=Ge(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(u){u.addEventListener("scroll",i.update,Jn)}),d&&l.addEventListener("resize",i.update,Jn),function(){o&&f.forEach(function(u){u.removeEventListener("scroll",i.update,Jn)}),d&&l.removeEventListener("resize",i.update,Jn)}}const Jo={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Kf,data:{}};var Xf={left:"right",right:"left",bottom:"top",top:"bottom"};function Es(t){return t.replace(/left|right|bottom|top/g,function(e){return Xf[e]})}var Gf={start:"end",end:"start"};function ar(t){return t.replace(/start|end/g,function(e){return Gf[e]})}function ea(t){var e=Ge(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function ta(t){return Pi(Xt(t)).left+ea(t).scrollLeft}function Qf(t,e){var i=Ge(t),n=Xt(t),s=i.visualViewport,o=n.clientWidth,r=n.clientHeight,d=0,l=0;if(s){o=s.width,r=s.height;var f=iu();(f||!f&&e==="fixed")&&(d=s.offsetLeft,l=s.offsetTop)}return{width:o,height:r,x:d+ta(t),y:l}}function Jf(t){var e,i=Xt(t),n=ea(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=ai(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),r=ai(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-n.scrollLeft+ta(t),l=-n.scrollTop;return Bt(s||i).direction==="rtl"&&(d+=ai(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:r,x:d,y:l}}function ia(t){var e=Bt(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function ru(t){return["html","body","#document"].indexOf(Ct(t))>=0?t.ownerDocument.body:tt(t)&&ia(t)?t:ru(tl(t))}function vn(t,e){var i;e===void 0&&(e=[]);var n=ru(t),s=n===((i=t.ownerDocument)==null?void 0:i.body),o=Ge(n),r=s?[o].concat(o.visualViewport||[],ia(n)?n:[]):n,d=e.concat(r);return s?d:d.concat(vn(tl(r)))}function po(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function e0(t,e){var i=Pi(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function rr(t,e,i){return e===qo?po(Qf(t,i)):di(e)?e0(e,i):po(Jf(Xt(t)))}function t0(t){var e=vn(tl(t)),i=["absolute","fixed"].indexOf(Bt(t).position)>=0,n=i&&tt(t)?Dn(t):t;return di(n)?e.filter(function(s){return di(s)&&nu(s,n)&&Ct(s)!=="body"}):[]}function i0(t,e,i,n){var s=e==="clippingParents"?t0(t):[].concat(e),o=[].concat(s,[i]),r=o[0],d=o.reduce(function(l,f){var u=rr(t,f,n);return l.top=ai(u.top,l.top),l.right=Is(u.right,l.right),l.bottom=Is(u.bottom,l.bottom),l.left=ai(u.left,l.left),l},rr(t,r,n));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function cu(t){var e=t.reference,i=t.element,n=t.placement,s=n?_t(n):null,o=n?Vi(n):null,r=e.x+e.width/2-i.width/2,d=e.y+e.height/2-i.height/2,l;switch(s){case ze:l={x:r,y:e.y-i.height};break;case Ke:l={x:r,y:e.y+e.height};break;case Xe:l={x:e.x+e.width,y:d};break;case He:l={x:e.x-i.width,y:d};break;default:l={x:e.x,y:e.y}}var f=s?Go(s):null;if(f!=null){var u=f==="y"?"height":"width";switch(o){case ui:l[f]=l[f]-(e[u]/2-i[u]/2);break;case Hi:l[f]=l[f]+(e[u]/2-i[u]/2);break}}return l}function $i(t,e){e===void 0&&(e={});var i=e,n=i.placement,s=n===void 0?t.placement:n,o=i.strategy,r=o===void 0?t.strategy:o,d=i.boundary,l=d===void 0?Uc:d,f=i.rootBoundary,u=f===void 0?qo:f,g=i.elementContext,w=g===void 0?xi:g,x=i.altBoundary,C=x===void 0?!1:x,T=i.padding,a=T===void 0?0:T,c=lu(typeof a!="number"?a:ou(a,Yi)),h=w===xi?Zc:xi,b=t.rects.popper,m=t.elements[C?h:w],v=i0(di(m)?m:m.contextElement||Xt(t.elements.popper),l,u,r),p=Pi(t.elements.reference),_=cu({reference:p,element:b,placement:s}),E=po(Object.assign({},b,_)),y=w===xi?E:p,S={top:v.top-y.top+c.top,bottom:y.bottom-v.bottom+c.bottom,left:v.left-y.left+c.left,right:y.right-v.right+c.right},N=t.modifiersData.offset;if(w===xi&&N){var L=N[s];Object.keys(S).forEach(function(k){var M=[Xe,Ke].indexOf(k)>=0?1:-1,$=[ze,Ke].indexOf(k)>=0?"y":"x";S[k]+=L[$]*M})}return S}function n0(t,e){e===void 0&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,r=i.padding,d=i.flipVariations,l=i.allowedAutoPlacements,f=l===void 0?Yo:l,u=Vi(n),g=u?d?fo:fo.filter(function(C){return Vi(C)===u}):Yi,w=g.filter(function(C){return f.indexOf(C)>=0});w.length===0&&(w=g);var x=w.reduce(function(C,T){return C[T]=$i(t,{placement:T,boundary:s,rootBoundary:o,padding:r})[_t(T)],C},{});return Object.keys(x).sort(function(C,T){return x[C]-x[T]})}function s0(t){if(_t(t)===el)return[];var e=Es(t);return[ar(t),e,ar(e)]}function l0(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=s===void 0?!0:s,r=i.altAxis,d=r===void 0?!0:r,l=i.fallbackPlacements,f=i.padding,u=i.boundary,g=i.rootBoundary,w=i.altBoundary,x=i.flipVariations,C=x===void 0?!0:x,T=i.allowedAutoPlacements,a=e.options.placement,c=_t(a),h=c===a,b=l||(h||!C?[Es(a)]:s0(a)),m=[a].concat(b).reduce(function(A,O){return A.concat(_t(O)===el?n0(e,{placement:O,boundary:u,rootBoundary:g,padding:f,flipVariations:C,allowedAutoPlacements:T}):O)},[]),v=e.rects.reference,p=e.rects.popper,_=new Map,E=!0,y=m[0],S=0;S<m.length;S++){var N=m[S],L=_t(N),k=Vi(N)===ui,M=[ze,Ke].indexOf(L)>=0,$=M?"width":"height",F=$i(e,{placement:N,boundary:u,rootBoundary:g,altBoundary:w,padding:f}),H=M?k?Xe:He:k?Ke:ze;v[$]>p[$]&&(H=Es(H));var z=Es(H),P=[];if(o&&P.push(F[L]<=0),d&&P.push(F[H]<=0,F[z]<=0),P.every(function(A){return A})){y=N,E=!1;break}_.set(N,P)}if(E)for(var I=C?3:1,R=function(O){var V=m.find(function(W){var Z=_.get(W);if(Z)return Z.slice(0,O).every(function(U){return U})});if(V)return y=V,"break"},D=I;D>0;D--){var B=R(D);if(B==="break")break}e.placement!==y&&(e.modifiersData[n]._skip=!0,e.placement=y,e.reset=!0)}}const uu={name:"flip",enabled:!0,phase:"main",fn:l0,requiresIfExists:["offset"],data:{_skip:!1}};function cr(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ur(t){return[ze,Xe,Ke,He].some(function(e){return t[e]>=0})}function o0(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,r=$i(e,{elementContext:"reference"}),d=$i(e,{altBoundary:!0}),l=cr(r,n),f=cr(d,s,o),u=ur(l),g=ur(f);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":g})}const du={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:o0};function a0(t,e,i){var n=_t(t),s=[He,ze].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,r=o[0],d=o[1];return r=r||0,d=(d||0)*s,[He,Xe].indexOf(n)>=0?{x:d,y:r}:{x:r,y:d}}function r0(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=s===void 0?[0,0]:s,r=Yo.reduce(function(u,g){return u[g]=a0(g,e.rects,o),u},{}),d=r[e.placement],l=d.x,f=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=r}const hu={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:r0};function c0(t){var e=t.state,i=t.name;e.modifiersData[i]=cu({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const na={name:"popperOffsets",enabled:!0,phase:"read",fn:c0,data:{}};function u0(t){return t==="x"?"y":"x"}function d0(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=s===void 0?!0:s,r=i.altAxis,d=r===void 0?!1:r,l=i.boundary,f=i.rootBoundary,u=i.altBoundary,g=i.padding,w=i.tether,x=w===void 0?!0:w,C=i.tetherOffset,T=C===void 0?0:C,a=$i(e,{boundary:l,rootBoundary:f,padding:g,altBoundary:u}),c=_t(e.placement),h=Vi(e.placement),b=!h,m=Go(c),v=u0(m),p=e.modifiersData.popperOffsets,_=e.rects.reference,E=e.rects.popper,y=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,S=typeof y=="number"?{mainAxis:y,altAxis:y}:Object.assign({mainAxis:0,altAxis:0},y),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(p){if(o){var k,M=m==="y"?ze:He,$=m==="y"?Ke:Xe,F=m==="y"?"height":"width",H=p[m],z=H+a[M],P=H-a[$],I=x?-E[F]/2:0,R=h===ui?_[F]:E[F],D=h===ui?-E[F]:-_[F],B=e.elements.arrow,A=x&&B?Xo(B):{width:0,height:0},O=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:su(),V=O[M],W=O[$],Z=bn(0,_[F],A[F]),U=b?_[F]/2-I-Z-V-S.mainAxis:R-Z-V-S.mainAxis,q=b?-_[F]/2+I+Z+W+S.mainAxis:D+Z+W+S.mainAxis,j=e.elements.arrow&&Dn(e.elements.arrow),G=j?m==="y"?j.clientTop||0:j.clientLeft||0:0,Q=(k=N?.[m])!=null?k:0,X=H+U-Q-G,te=H+q-Q,ue=bn(x?Is(z,X):z,H,x?ai(P,te):P);p[m]=ue,L[m]=ue-H}if(d){var he,oe=m==="x"?ze:He,re=m==="x"?Ke:Xe,J=p[v],ge=v==="y"?"height":"width",ce=J+a[oe],ve=J-a[re],me=[ze,He].indexOf(c)!==-1,de=(he=N?.[v])!=null?he:0,lt=me?ce:J-_[ge]-E[ge]-de+S.altAxis,Ie=me?J+_[ge]+E[ge]-de-S.altAxis:ve,Le=x&&me?$f(lt,J,Ie):bn(x?lt:ce,J,x?Ie:ve);p[v]=Le,L[v]=Le-J}e.modifiersData[n]=L}}const fu={name:"preventOverflow",enabled:!0,phase:"main",fn:d0,requiresIfExists:["offset"]};function h0(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function f0(t){return t===Ge(t)||!tt(t)?ea(t):h0(t)}function g0(t){var e=t.getBoundingClientRect(),i=Fi(e.width)/t.offsetWidth||1,n=Fi(e.height)/t.offsetHeight||1;return i!==1||n!==1}function p0(t,e,i){i===void 0&&(i=!1);var n=tt(e),s=tt(e)&&g0(e),o=Xt(e),r=Pi(t,s,i),d={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Ct(e)!=="body"||ia(o))&&(d=f0(e)),tt(e)?(l=Pi(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=ta(o))),{x:r.left+d.scrollLeft-l.x,y:r.top+d.scrollTop-l.y,width:r.width,height:r.height}}function m0(t){var e=new Map,i=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function s(o){i.add(o.name);var r=[].concat(o.requires||[],o.requiresIfExists||[]);r.forEach(function(d){if(!i.has(d)){var l=e.get(d);l&&s(l)}}),n.push(o)}return t.forEach(function(o){i.has(o.name)||s(o)}),n}function b0(t){var e=m0(t);return tu.reduce(function(i,n){return i.concat(e.filter(function(s){return s.phase===n}))},[])}function v0(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function _0(t){var e=t.reduce(function(i,n){var s=i[n.name];return i[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var dr={placement:"bottom",modifiers:[],strategy:"absolute"};function hr(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function il(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,s=e.defaultOptions,o=s===void 0?dr:s;return function(d,l,f){f===void 0&&(f=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},dr,o),modifiersData:{},elements:{reference:d,popper:l},attributes:{},styles:{}},g=[],w=!1,x={state:u,setOptions:function(c){var h=typeof c=="function"?c(u.options):c;T(),u.options=Object.assign({},o,u.options,h),u.scrollParents={reference:di(d)?vn(d):d.contextElement?vn(d.contextElement):[],popper:vn(l)};var b=b0(_0([].concat(n,u.options.modifiers)));return u.orderedModifiers=b.filter(function(m){return m.enabled}),C(),x.update()},forceUpdate:function(){if(!w){var c=u.elements,h=c.reference,b=c.popper;if(hr(h,b)){u.rects={reference:p0(h,Dn(b),u.options.strategy==="fixed"),popper:Xo(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var m=0;m<u.orderedModifiers.length;m++){if(u.reset===!0){u.reset=!1,m=-1;continue}var v=u.orderedModifiers[m],p=v.fn,_=v.options,E=_===void 0?{}:_,y=v.name;typeof p=="function"&&(u=p({state:u,options:E,name:y,instance:x})||u)}}}},update:v0(function(){return new Promise(function(a){x.forceUpdate(),a(u)})}),destroy:function(){T(),w=!0}};if(!hr(d,l))return x;x.setOptions(f).then(function(a){!w&&f.onFirstUpdate&&f.onFirstUpdate(a)});function C(){u.orderedModifiers.forEach(function(a){var c=a.name,h=a.options,b=h===void 0?{}:h,m=a.effect;if(typeof m=="function"){var v=m({state:u,name:c,instance:x,options:b}),p=function(){};g.push(v||p)}})}function T(){g.forEach(function(a){return a()}),g=[]}return x}}var y0=il(),w0=[Jo,na,Qo,Ko],C0=il({defaultModifiers:w0}),E0=[Jo,na,Qo,Ko,hu,uu,fu,au,du],sa=il({defaultModifiers:E0});const gu=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Gc,afterRead:jc,afterWrite:eu,applyStyles:Ko,arrow:au,auto:el,basePlacements:Yi,beforeMain:Kc,beforeRead:qc,beforeWrite:Qc,bottom:Ke,clippingParents:Uc,computeStyles:Qo,createPopper:sa,createPopperBase:y0,createPopperLite:C0,detectOverflow:$i,end:Hi,eventListeners:Jo,flip:uu,hide:du,left:He,main:Xc,modifierPhases:tu,offset:hu,placements:Yo,popper:xi,popperGenerator:il,popperOffsets:na,preventOverflow:fu,read:Yc,reference:Zc,right:Xe,start:ui,top:ze,variationPlacements:fo,viewport:qo,write:Jc},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Pt=new Map,Nl={set(t,e,i){Pt.has(t)||Pt.set(t,new Map);const n=Pt.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,i)},get(t,e){return Pt.has(t)&&Pt.get(t).get(e)||null},remove(t,e){if(!Pt.has(t))return;const i=Pt.get(t);i.delete(e),i.size===0&&Pt.delete(t)}},x0=1e6,S0=1e3,mo="transitionend",pu=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,i)=>`#${CSS.escape(i)}`)),t),T0=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),L0=t=>{do t+=Math.floor(Math.random()*x0);while(document.getElementById(t));return t},k0=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return!n&&!s?0:(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*S0)},mu=t=>{t.dispatchEvent(new Event(mo))},Nt=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),qt=t=>Nt(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(pu(t)):null,ji=t=>{if(!Nt(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const n=t.closest("summary");if(n&&n.parentNode!==i||n===null)return!1}return e},Yt=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",bu=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?bu(t.parentNode):null},Rs=()=>{},On=t=>{t.offsetHeight},vu=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dl=[],A0=t=>{document.readyState==="loading"?(Dl.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Dl)e()}),Dl.push(t)):t()},it=()=>document.documentElement.dir==="rtl",st=t=>{A0(()=>{const e=vu();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}})},Ve=(t,e=[],i=t)=>typeof t=="function"?t.call(...e):i,_u=(t,e,i=!0)=>{if(!i){Ve(t);return}const s=k0(e)+5;let o=!1;const r=({target:d})=>{d===e&&(o=!0,e.removeEventListener(mo,r),Ve(t))};e.addEventListener(mo,r),setTimeout(()=>{o||mu(e)},s)},la=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return o===-1?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},N0=/[^.]*(?=\..*)\.|.*/,D0=/\..*/,O0=/::\d+$/,Ol={};let fr=1;const yu={mouseenter:"mouseover",mouseleave:"mouseout"},M0=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function wu(t,e){return e&&`${e}::${fr++}`||t.uidEvent||fr++}function Cu(t){const e=wu(t);return t.uidEvent=e,Ol[e]=Ol[e]||{},Ol[e]}function B0(t,e){return function i(n){return oa(n,{delegateTarget:t}),i.oneOff&&Y.off(t,n.type,e),e.apply(t,[n])}}function I0(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:r}=s;r&&r!==this;r=r.parentNode)for(const d of o)if(d===r)return oa(s,{delegateTarget:r}),n.oneOff&&Y.off(t,s.type,e,i),i.apply(r,[s])}}function Eu(t,e,i=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===i)}function xu(t,e,i){const n=typeof e=="string",s=n?i:e||i;let o=Su(t);return M0.has(o)||(o=t),[n,s,o]}function gr(t,e,i,n,s){if(typeof e!="string"||!t)return;let[o,r,d]=xu(e,i,n);e in yu&&(r=(C=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return C.call(this,T)})(r));const l=Cu(t),f=l[d]||(l[d]={}),u=Eu(f,r,o?i:null);if(u){u.oneOff=u.oneOff&&s;return}const g=wu(r,e.replace(N0,"")),w=o?I0(t,i,r):B0(t,r);w.delegationSelector=o?i:null,w.callable=r,w.oneOff=s,w.uidEvent=g,f[g]=w,t.addEventListener(d,w,o)}function bo(t,e,i,n,s){const o=Eu(e[i],n,s);o&&(t.removeEventListener(i,o,!!s),delete e[i][o.uidEvent])}function R0(t,e,i,n){const s=e[i]||{};for(const[o,r]of Object.entries(s))o.includes(n)&&bo(t,e,i,r.callable,r.delegationSelector)}function Su(t){return t=t.replace(D0,""),yu[t]||t}const Y={on(t,e,i,n){gr(t,e,i,n,!1)},one(t,e,i,n){gr(t,e,i,n,!0)},off(t,e,i,n){if(typeof e!="string"||!t)return;const[s,o,r]=xu(e,i,n),d=r!==e,l=Cu(t),f=l[r]||{},u=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;bo(t,l,r,o,s?i:null);return}if(u)for(const g of Object.keys(l))R0(t,l,g,e.slice(1));for(const[g,w]of Object.entries(f)){const x=g.replace(O0,"");(!d||e.includes(x))&&bo(t,l,r,w.callable,w.delegationSelector)}},trigger(t,e,i){if(typeof e!="string"||!t)return null;const n=vu(),s=Su(e),o=e!==s;let r=null,d=!0,l=!0,f=!1;o&&n&&(r=n.Event(e,i),n(t).trigger(r),d=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),f=r.isDefaultPrevented());const u=oa(new Event(e,{bubbles:d,cancelable:!0}),i);return f&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&r&&r.preventDefault(),u}};function oa(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch{Object.defineProperty(t,i,{configurable:!0,get(){return n}})}return t}function pr(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Ml(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Dt={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${Ml(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Ml(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of i){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),e[s]=pr(t.dataset[n])}return e},getDataAttribute(t,e){return pr(t.getAttribute(`data-bs-${Ml(e)}`))}};class Mn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,i){const n=Nt(i)?Dt.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Nt(i)?Dt.getDataAttributes(i):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,i=this.constructor.DefaultType){for(const[n,s]of Object.entries(i)){const o=e[n],r=Nt(o)?"element":T0(o);if(!new RegExp(s).test(r))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${r}" but expected type "${s}".`)}}}const z0="5.3.8";class ft extends Mn{constructor(e,i){super(),e=qt(e),e&&(this._element=e,this._config=this._getConfig(i),Nl.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Nl.remove(this._element,this.constructor.DATA_KEY),Y.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,i,n=!0){_u(e,i,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Nl.get(qt(e),this.DATA_KEY)}static getOrCreateInstance(e,i={}){return this.getInstance(e)||new this(e,typeof i=="object"?i:null)}static get VERSION(){return z0}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Bl=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&i!=="#"?i.trim():null}return e?e.split(",").map(i=>pu(i)).join(","):null},ee={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(i=>i.matches(e))},parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(i=>!Yt(i)&&ji(i))},getSelectorFromElement(t){const e=Bl(t);return e&&ee.findOne(e)?e:null},getElementFromSelector(t){const e=Bl(t);return e?ee.findOne(e):null},getMultipleElementsFromSelector(t){const e=Bl(t);return e?ee.find(e):[]}},nl=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;Y.on(document,i,`[data-bs-dismiss="${n}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),Yt(this))return;const o=ee.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(o)[e]()})},H0="alert",F0="bs.alert",Tu=`.${F0}`,P0=`close${Tu}`,V0=`closed${Tu}`,$0="fade",W0="show";class sl extends ft{static get NAME(){return H0}close(){if(Y.trigger(this._element,P0).defaultPrevented)return;this._element.classList.remove(W0);const i=this._element.classList.contains($0);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),Y.trigger(this._element,V0),this.dispose()}static jQueryInterface(e){return this.each(function(){const i=sl.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}nl(sl,"close");st(sl);const U0="button",Z0="bs.button",q0=`.${Z0}`,Y0=".data-api",j0="active",mr='[data-bs-toggle="button"]',K0=`click${q0}${Y0}`;class ll extends ft{static get NAME(){return U0}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(j0))}static jQueryInterface(e){return this.each(function(){const i=ll.getOrCreateInstance(this);e==="toggle"&&i[e]()})}}Y.on(document,K0,mr,t=>{t.preventDefault();const e=t.target.closest(mr);ll.getOrCreateInstance(e).toggle()});st(ll);const X0="swipe",Ki=".bs.swipe",G0=`touchstart${Ki}`,Q0=`touchmove${Ki}`,J0=`touchend${Ki}`,eg=`pointerdown${Ki}`,tg=`pointerup${Ki}`,ig="touch",ng="pen",sg="pointer-event",lg=40,og={endCallback:null,leftCallback:null,rightCallback:null},ag={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class zs extends Mn{constructor(e,i){super(),this._element=e,!(!e||!zs.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return og}static get DefaultType(){return ag}static get NAME(){return X0}dispose(){Y.off(this._element,Ki)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ve(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=lg)return;const i=e/this._deltaX;this._deltaX=0,i&&Ve(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Y.on(this._element,eg,e=>this._start(e)),Y.on(this._element,tg,e=>this._end(e)),this._element.classList.add(sg)):(Y.on(this._element,G0,e=>this._start(e)),Y.on(this._element,Q0,e=>this._move(e)),Y.on(this._element,J0,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===ng||e.pointerType===ig)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rg="carousel",cg="bs.carousel",Gt=`.${cg}`,Lu=".data-api",ug="ArrowLeft",dg="ArrowRight",hg=500,nn="next",yi="prev",Si="left",xs="right",fg=`slide${Gt}`,Il=`slid${Gt}`,gg=`keydown${Gt}`,pg=`mouseenter${Gt}`,mg=`mouseleave${Gt}`,bg=`dragstart${Gt}`,vg=`load${Gt}${Lu}`,_g=`click${Gt}${Lu}`,ku="carousel",es="active",yg="slide",wg="carousel-item-end",Cg="carousel-item-start",Eg="carousel-item-next",xg="carousel-item-prev",Au=".active",Nu=".carousel-item",Sg=Au+Nu,Tg=".carousel-item img",Lg=".carousel-indicators",kg="[data-bs-slide], [data-bs-slide-to]",Ag='[data-bs-ride="carousel"]',Ng={[ug]:xs,[dg]:Si},Dg={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Og={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Bn extends ft{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=ee.findOne(Lg,this._element),this._addEventListeners(),this._config.ride===ku&&this.cycle()}static get Default(){return Dg}static get DefaultType(){return Og}static get NAME(){return rg}next(){this._slide(nn)}nextWhenVisible(){!document.hidden&&ji(this._element)&&this.next()}prev(){this._slide(yi)}pause(){this._isSliding&&mu(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){Y.one(this._element,Il,()=>this.cycle());return}this.cycle()}}to(e){const i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding){Y.one(this._element,Il,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const s=e>n?nn:yi;this._slide(s,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Y.on(this._element,gg,e=>this._keydown(e)),this._config.pause==="hover"&&(Y.on(this._element,pg,()=>this.pause()),Y.on(this._element,mg,()=>this._maybeEnableCycle())),this._config.touch&&zs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of ee.find(Tg,this._element))Y.on(n,bg,s=>s.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder(Si)),rightCallback:()=>this._slide(this._directionToOrder(xs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),hg+this._config.interval))}};this._swipeHelper=new zs(this._element,i)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const i=Ng[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const i=ee.findOne(Au,this._indicatorsElement);i.classList.remove(es),i.removeAttribute("aria-current");const n=ee.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(es),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const n=this._getActive(),s=e===nn,o=i||la(this._getItems(),n,s,this._config.wrap);if(o===n)return;const r=this._getItemIndex(o),d=x=>Y.trigger(this._element,x,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:r});if(d(fg).defaultPrevented||!n||!o)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(r),this._activeElement=o;const u=s?Cg:wg,g=s?Eg:xg;o.classList.add(g),On(o),n.classList.add(u),o.classList.add(u);const w=()=>{o.classList.remove(u,g),o.classList.add(es),n.classList.remove(es,g,u),this._isSliding=!1,d(Il)};this._queueCallback(w,n,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(yg)}_getActive(){return ee.findOne(Sg,this._element)}_getItems(){return ee.find(Nu,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return it()?e===Si?yi:nn:e===Si?nn:yi}_orderToDirection(e){return it()?e===yi?Si:xs:e===yi?xs:Si}static jQueryInterface(e){return this.each(function(){const i=Bn.getOrCreateInstance(this,e);if(typeof e=="number"){i.to(e);return}if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Y.on(document,_g,kg,function(t){const e=ee.getElementFromSelector(this);if(!e||!e.classList.contains(ku))return;t.preventDefault();const i=Bn.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if(Dt.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});Y.on(window,vg,()=>{const t=ee.find(Ag);for(const e of t)Bn.getOrCreateInstance(e)});st(Bn);const Mg="collapse",Bg="bs.collapse",In=`.${Bg}`,Ig=".data-api",Rg=`show${In}`,zg=`shown${In}`,Hg=`hide${In}`,Fg=`hidden${In}`,Pg=`click${In}${Ig}`,Rl="show",Ai="collapse",ts="collapsing",Vg="collapsed",$g=`:scope .${Ai} .${Ai}`,Wg="collapse-horizontal",Ug="width",Zg="height",qg=".collapse.show, .collapse.collapsing",vo='[data-bs-toggle="collapse"]',Yg={parent:null,toggle:!0},jg={parent:"(null|element)",toggle:"boolean"};class wn extends ft{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];const n=ee.find(vo);for(const s of n){const o=ee.getSelectorFromElement(s),r=ee.find(o).filter(d=>d===this._element);o!==null&&r.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Yg}static get DefaultType(){return jg}static get NAME(){return Mg}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(qg).filter(d=>d!==this._element).map(d=>wn.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||Y.trigger(this._element,Rg).defaultPrevented)return;for(const d of e)d.hide();const n=this._getDimension();this._element.classList.remove(Ai),this._element.classList.add(ts),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(ts),this._element.classList.add(Ai,Rl),this._element.style[n]="",Y.trigger(this._element,zg)},r=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown()||Y.trigger(this._element,Hg).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,On(this._element),this._element.classList.add(ts),this._element.classList.remove(Ai,Rl);for(const s of this._triggerArray){const o=ee.getElementFromSelector(s);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(ts),this._element.classList.add(Ai),Y.trigger(this._element,Fg)};this._element.style[i]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Rl)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=qt(e.parent),e}_getDimension(){return this._element.classList.contains(Wg)?Ug:Zg}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(vo);for(const i of e){const n=ee.getElementFromSelector(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}_getFirstLevelChildren(e){const i=ee.find($g,this._config.parent);return ee.find(e,this._config.parent).filter(n=>!i.includes(n))}_addAriaAndCollapsedClass(e,i){if(e.length)for(const n of e)n.classList.toggle(Vg,!i),n.setAttribute("aria-expanded",i)}static jQueryInterface(e){const i={};return typeof e=="string"&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){const n=wn.getOrCreateInstance(this,i);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}Y.on(document,Pg,vo,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of ee.getMultipleElementsFromSelector(this))wn.getOrCreateInstance(e,{toggle:!1}).toggle()});st(wn);const br="dropdown",Kg="bs.dropdown",pi=`.${Kg}`,aa=".data-api",Xg="Escape",vr="Tab",Gg="ArrowUp",_r="ArrowDown",Qg=2,Jg=`hide${pi}`,ep=`hidden${pi}`,tp=`show${pi}`,ip=`shown${pi}`,Du=`click${pi}${aa}`,Ou=`keydown${pi}${aa}`,np=`keyup${pi}${aa}`,Ti="show",sp="dropup",lp="dropend",op="dropstart",ap="dropup-center",rp="dropdown-center",li='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',cp=`${li}.${Ti}`,Ss=".dropdown-menu",up=".navbar",dp=".navbar-nav",hp=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",fp=it()?"top-end":"top-start",gp=it()?"top-start":"top-end",pp=it()?"bottom-end":"bottom-start",mp=it()?"bottom-start":"bottom-end",bp=it()?"left-start":"right-start",vp=it()?"right-start":"left-start",_p="top",yp="bottom",wp={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Cp={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class yt extends ft{constructor(e,i){super(e,i),this._popper=null,this._parent=this._element.parentNode,this._menu=ee.next(this._element,Ss)[0]||ee.prev(this._element,Ss)[0]||ee.findOne(Ss,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return wp}static get DefaultType(){return Cp}static get NAME(){return br}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Yt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Y.trigger(this._element,tp,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(dp))for(const n of[].concat(...document.body.children))Y.on(n,"mouseover",Rs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Ti),this._element.classList.add(Ti),Y.trigger(this._element,ip,e)}}hide(){if(Yt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Y.trigger(this._element,Jg,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))Y.off(n,"mouseover",Rs);this._popper&&this._popper.destroy(),this._menu.classList.remove(Ti),this._element.classList.remove(Ti),this._element.setAttribute("aria-expanded","false"),Dt.removeDataAttribute(this._menu,"popper"),Y.trigger(this._element,ep,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Nt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${br.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof gu>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Nt(this._config.reference)?e=qt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const i=this._getPopperConfig();this._popper=sa(e,this._menu,i)}_isShown(){return this._menu.classList.contains(Ti)}_getPlacement(){const e=this._parent;if(e.classList.contains(lp))return bp;if(e.classList.contains(op))return vp;if(e.classList.contains(ap))return _p;if(e.classList.contains(rp))return yp;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(sp)?i?gp:fp:i?mp:pp}_detectNavbar(){return this._element.closest(up)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Dt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ve(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:i}){const n=ee.find(hp,this._menu).filter(s=>ji(s));n.length&&la(n,i,e===_r,!n.includes(i)).focus()}static jQueryInterface(e){return this.each(function(){const i=yt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}static clearMenus(e){if(e.button===Qg||e.type==="keyup"&&e.key!==vr)return;const i=ee.find(cp);for(const n of i){const s=yt.getInstance(n);if(!s||s._config.autoClose===!1)continue;const o=e.composedPath(),r=o.includes(s._menu);if(o.includes(s._element)||s._config.autoClose==="inside"&&!r||s._config.autoClose==="outside"&&r||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===vr||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:s._element};e.type==="click"&&(d.clickEvent=e),s._completeHide(d)}}static dataApiKeydownHandler(e){const i=/input|textarea/i.test(e.target.tagName),n=e.key===Xg,s=[Gg,_r].includes(e.key);if(!s&&!n||i&&!n)return;e.preventDefault();const o=this.matches(li)?this:ee.prev(this,li)[0]||ee.next(this,li)[0]||ee.findOne(li,e.delegateTarget.parentNode),r=yt.getOrCreateInstance(o);if(s){e.stopPropagation(),r.show(),r._selectMenuItem(e);return}r._isShown()&&(e.stopPropagation(),r.hide(),o.focus())}}Y.on(document,Ou,li,yt.dataApiKeydownHandler);Y.on(document,Ou,Ss,yt.dataApiKeydownHandler);Y.on(document,Du,yt.clearMenus);Y.on(document,np,yt.clearMenus);Y.on(document,Du,li,function(t){t.preventDefault(),yt.getOrCreateInstance(this).toggle()});st(yt);const Mu="backdrop",Ep="fade",yr="show",wr=`mousedown.bs.${Mu}`,xp={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Sp={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Bu extends Mn{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return xp}static get DefaultType(){return Sp}static get NAME(){return Mu}show(e){if(!this._config.isVisible){Ve(e);return}this._append();const i=this._getElement();this._config.isAnimated&&On(i),i.classList.add(yr),this._emulateAnimation(()=>{Ve(e)})}hide(e){if(!this._config.isVisible){Ve(e);return}this._getElement().classList.remove(yr),this._emulateAnimation(()=>{this.dispose(),Ve(e)})}dispose(){this._isAppended&&(Y.off(this._element,wr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(Ep),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=qt(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Y.on(e,wr,()=>{Ve(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){_u(e,this._getElement(),this._config.isAnimated)}}const Tp="focustrap",Lp="bs.focustrap",Hs=`.${Lp}`,kp=`focusin${Hs}`,Ap=`keydown.tab${Hs}`,Np="Tab",Dp="forward",Cr="backward",Op={autofocus:!0,trapElement:null},Mp={autofocus:"boolean",trapElement:"element"};class Iu extends Mn{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Op}static get DefaultType(){return Mp}static get NAME(){return Tp}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Y.off(document,Hs),Y.on(document,kp,e=>this._handleFocusin(e)),Y.on(document,Ap,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Y.off(document,Hs))}_handleFocusin(e){const{trapElement:i}=this._config;if(e.target===document||e.target===i||i.contains(e.target))return;const n=ee.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===Cr?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===Np&&(this._lastTabNavDirection=e.shiftKey?Cr:Dp)}}const Er=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",xr=".sticky-top",is="padding-right",Sr="margin-right";class _o{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,is,i=>i+e),this._setElementAttributes(Er,is,i=>i+e),this._setElementAttributes(xr,Sr,i=>i-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,is),this._resetElementAttributes(Er,is),this._resetElementAttributes(xr,Sr)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,n){const s=this.getWidth(),o=r=>{if(r!==this._element&&window.innerWidth>r.clientWidth+s)return;this._saveInitialAttribute(r,i);const d=window.getComputedStyle(r).getPropertyValue(i);r.style.setProperty(i,`${n(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,i){const n=e.style.getPropertyValue(i);n&&Dt.setDataAttribute(e,i,n)}_resetElementAttributes(e,i){const n=s=>{const o=Dt.getDataAttribute(s,i);if(o===null){s.style.removeProperty(i);return}Dt.removeDataAttribute(s,i),s.style.setProperty(i,o)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,i){if(Nt(e)){i(e);return}for(const n of ee.find(e,this._element))i(n)}}const Bp="modal",Ip="bs.modal",nt=`.${Ip}`,Rp=".data-api",zp="Escape",Hp=`hide${nt}`,Fp=`hidePrevented${nt}`,Ru=`hidden${nt}`,zu=`show${nt}`,Pp=`shown${nt}`,Vp=`resize${nt}`,$p=`click.dismiss${nt}`,Wp=`mousedown.dismiss${nt}`,Up=`keydown.dismiss${nt}`,Zp=`click${nt}${Rp}`,Tr="modal-open",qp="fade",Lr="show",zl="modal-static",Yp=".modal.show",jp=".modal-dialog",Kp=".modal-body",Xp='[data-bs-toggle="modal"]',Gp={backdrop:!0,focus:!0,keyboard:!0},Qp={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Be extends ft{constructor(e,i){super(e,i),this._dialog=ee.findOne(jp,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new _o,this._addEventListeners()}static get Default(){return Gp}static get DefaultType(){return Qp}static get NAME(){return Bp}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||Y.trigger(this._element,zu,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Tr),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||Y.trigger(this._element,Hp).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Lr),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){Y.off(window,nt),Y.off(this._dialog,nt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Bu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Iu({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=ee.findOne(Kp,this._dialog);i&&(i.scrollTop=0),On(this._element),this._element.classList.add(Lr);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Y.trigger(this._element,Pp,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){Y.on(this._element,Up,e=>{if(e.key===zp){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),Y.on(window,Vp,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),Y.on(this._element,Wp,e=>{Y.one(this._element,$p,i=>{if(!(this._element!==e.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Tr),this._resetAdjustments(),this._scrollBar.reset(),Y.trigger(this._element,Ru)})}_isAnimated(){return this._element.classList.contains(qp)}_triggerBackdropTransition(){if(Y.trigger(this._element,Fp).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(zl)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(zl),this._queueCallback(()=>{this._element.classList.remove(zl),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=i>0;if(n&&!e){const s=it()?"paddingLeft":"paddingRight";this._element.style[s]=`${i}px`}if(!n&&e){const s=it()?"paddingRight":"paddingLeft";this._element.style[s]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){const n=Be.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](i)}})}}Y.on(document,Zp,Xp,function(t){const e=ee.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),Y.one(e,zu,s=>{s.defaultPrevented||Y.one(e,Ru,()=>{ji(this)&&this.focus()})});const i=ee.findOne(Yp);i&&Be.getInstance(i).hide(),Be.getOrCreateInstance(e).toggle(this)});nl(Be);st(Be);const Jp="offcanvas",em="bs.offcanvas",zt=`.${em}`,Hu=".data-api",tm=`load${zt}${Hu}`,im="Escape",kr="show",Ar="showing",Nr="hiding",nm="offcanvas-backdrop",Fu=".offcanvas.show",sm=`show${zt}`,lm=`shown${zt}`,om=`hide${zt}`,Dr=`hidePrevented${zt}`,Pu=`hidden${zt}`,am=`resize${zt}`,rm=`click${zt}${Hu}`,cm=`keydown.dismiss${zt}`,um='[data-bs-toggle="offcanvas"]',dm={backdrop:!0,keyboard:!0,scroll:!1},hm={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class jt extends ft{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return dm}static get DefaultType(){return hm}static get NAME(){return Jp}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||Y.trigger(this._element,sm,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new _o().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Ar);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(kr),this._element.classList.remove(Ar),Y.trigger(this._element,lm,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||Y.trigger(this._element,om).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Nr),this._backdrop.hide();const i=()=>{this._element.classList.remove(kr,Nr),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new _o().reset(),Y.trigger(this._element,Pu)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){Y.trigger(this._element,Dr);return}this.hide()},i=!!this._config.backdrop;return new Bu({className:nm,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?e:null})}_initializeFocusTrap(){return new Iu({trapElement:this._element})}_addEventListeners(){Y.on(this._element,cm,e=>{if(e.key===im){if(this._config.keyboard){this.hide();return}Y.trigger(this._element,Dr)}})}static jQueryInterface(e){return this.each(function(){const i=jt.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}Y.on(document,rm,um,function(t){const e=ee.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Yt(this))return;Y.one(e,Pu,()=>{ji(this)&&this.focus()});const i=ee.findOne(Fu);i&&i!==e&&jt.getInstance(i).hide(),jt.getOrCreateInstance(e).toggle(this)});Y.on(window,tm,()=>{for(const t of ee.find(Fu))jt.getOrCreateInstance(t).show()});Y.on(window,am,()=>{for(const t of ee.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&jt.getOrCreateInstance(t).hide()});nl(jt);st(jt);const fm=/^aria-[\w-]*$/i,Vu={"*":["class","dir","id","lang","role",fm],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gm=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),pm=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,mm=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?gm.has(i)?!!pm.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(i))};function bm(t,e,i){if(!t.length)return t;if(i&&typeof i=="function")return i(t);const s=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...s.body.querySelectorAll("*"));for(const r of o){const d=r.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){r.remove();continue}const l=[].concat(...r.attributes),f=[].concat(e["*"]||[],e[d]||[]);for(const u of l)mm(u,f)||r.removeAttribute(u.nodeName)}return s.body.innerHTML}const vm="TemplateFactory",_m={allowList:Vu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},ym={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wm={entry:"(string|element|function|null)",selector:"(string|element)"};class Cm extends Mn{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return _m}static get DefaultType(){return ym}static get NAME(){return vm}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,o]of Object.entries(this._config.content))this._setContent(e,o,s);const i=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&i.classList.add(...n.split(" ")),i}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[i,n]of Object.entries(e))super._typeCheckConfig({selector:i,entry:n},wm)}_setContent(e,i,n){const s=ee.findOne(n,e);if(s){if(i=this._resolvePossibleFunction(i),!i){s.remove();return}if(Nt(i)){this._putElementInTemplate(qt(i),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(i);return}s.textContent=i}}_maybeSanitize(e){return this._config.sanitize?bm(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ve(e,[void 0,this])}_putElementInTemplate(e,i){if(this._config.html){i.innerHTML="",i.append(e);return}i.textContent=e.textContent}}const Em="tooltip",xm=new Set(["sanitize","allowList","sanitizeFn"]),Hl="fade",Sm="modal",ns="show",Tm=".tooltip-inner",Or=`.${Sm}`,Mr="hide.bs.modal",sn="hover",Fl="focus",Pl="click",Lm="manual",km="hide",Am="hidden",Nm="show",Dm="shown",Om="inserted",Mm="click",Bm="focusin",Im="focusout",Rm="mouseenter",zm="mouseleave",Hm={AUTO:"auto",TOP:"top",RIGHT:it()?"left":"right",BOTTOM:"bottom",LEFT:it()?"right":"left"},Fm={allowList:Vu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Pm={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xi extends ft{constructor(e,i){if(typeof gu>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Fm}static get DefaultType(){return Pm}static get NAME(){return Em}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),Y.off(this._element.closest(Or),Mr,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=Y.trigger(this._element,this.constructor.eventName(Nm)),n=(bu(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(s),Y.trigger(this._element,this.constructor.eventName(Om))),this._popper=this._createPopper(s),s.classList.add(ns),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))Y.on(d,"mouseover",Rs);const r=()=>{Y.trigger(this._element,this.constructor.eventName(Dm)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(r,this.tip,this._isAnimated())}hide(){if(!this._isShown()||Y.trigger(this._element,this.constructor.eventName(km)).defaultPrevented)return;if(this._getTipElement().classList.remove(ns),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))Y.off(s,"mouseover",Rs);this._activeTrigger[Pl]=!1,this._activeTrigger[Fl]=!1,this._activeTrigger[sn]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Y.trigger(this._element,this.constructor.eventName(Am)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const i=this._getTemplateFactory(e).toHtml();if(!i)return null;i.classList.remove(Hl,ns),i.classList.add(`bs-${this.constructor.NAME}-auto`);const n=L0(this.constructor.NAME).toString();return i.setAttribute("id",n),this._isAnimated()&&i.classList.add(Hl),i}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Cm({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Tm]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Hl)}_isShown(){return this.tip&&this.tip.classList.contains(ns)}_createPopper(e){const i=Ve(this._config.placement,[this,e,this._element]),n=Hm[i.toUpperCase()];return sa(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_resolvePossibleFunction(e){return Ve(e,[this._element,this._element])}_getPopperConfig(e){const i={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...i,...Ve(this._config.popperConfig,[void 0,i])}}_setListeners(){const e=this._config.trigger.split(" ");for(const i of e)if(i==="click")Y.on(this._element,this.constructor.eventName(Mm),this._config.selector,n=>{const s=this._initializeOnDelegatedTarget(n);s._activeTrigger[Pl]=!(s._isShown()&&s._activeTrigger[Pl]),s.toggle()});else if(i!==Lm){const n=i===sn?this.constructor.eventName(Rm):this.constructor.eventName(Bm),s=i===sn?this.constructor.eventName(zm):this.constructor.eventName(Im);Y.on(this._element,n,this._config.selector,o=>{const r=this._initializeOnDelegatedTarget(o);r._activeTrigger[o.type==="focusin"?Fl:sn]=!0,r._enter()}),Y.on(this._element,s,this._config.selector,o=>{const r=this._initializeOnDelegatedTarget(o);r._activeTrigger[o.type==="focusout"?Fl:sn]=r._element.contains(o.relatedTarget),r._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},Y.on(this._element.closest(Or),Mr,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,i){clearTimeout(this._timeout),this._timeout=setTimeout(e,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const i=Dt.getDataAttributes(this._element);for(const n of Object.keys(i))xm.has(n)&&delete i[n];return e={...i,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:qt(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[i,n]of Object.entries(this._config))this.constructor.Default[i]!==n&&(e[i]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const i=Xi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}st(Xi);const Vm="popover",$m=".popover-header",Wm=".popover-body",Um={...Xi.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zm={...Xi.DefaultType,content:"(null|string|element|function)"};class ra extends Xi{static get Default(){return Um}static get DefaultType(){return Zm}static get NAME(){return Vm}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[$m]:this._getTitle(),[Wm]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const i=ra.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}st(ra);const qm="scrollspy",Ym="bs.scrollspy",ca=`.${Ym}`,jm=".data-api",Km=`activate${ca}`,Br=`click${ca}`,Xm=`load${ca}${jm}`,Gm="dropdown-item",wi="active",Qm='[data-bs-spy="scroll"]',Vl="[href]",Jm=".nav, .list-group",Ir=".nav-link",e1=".nav-item",t1=".list-group-item",i1=`${Ir}, ${e1} > ${Ir}, ${t1}`,n1=".dropdown",s1=".dropdown-toggle",l1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},o1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ol extends ft{constructor(e,i){super(e,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return l1}static get DefaultType(){return o1}static get NAME(){return qm}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=qt(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(i=>Number.parseFloat(i))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Y.off(this._config.target,Br),Y.on(this._config.target,Br,Vl,e=>{const i=this._observableSections.get(e.target.hash);if(i){e.preventDefault();const n=this._rootElement||window,s=i.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:s,behavior:"smooth"});return}n.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),e)}_observerCallback(e){const i=r=>this._targetLinks.get(`#${r.target.id}`),n=r=>{this._previousScrollData.visibleEntryTop=r.target.offsetTop,this._process(i(r))},s=(this._rootElement||document.documentElement).scrollTop,o=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const r of e){if(!r.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(r));continue}const d=r.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&d){if(n(r),!s)return;continue}!o&&!d&&n(r)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=ee.find(Vl,this._config.target);for(const i of e){if(!i.hash||Yt(i))continue;const n=ee.findOne(decodeURI(i.hash),this._element);ji(n)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(wi),this._activateParents(e),Y.trigger(this._element,Km,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(Gm)){ee.findOne(s1,e.closest(n1)).classList.add(wi);return}for(const i of ee.parents(e,Jm))for(const n of ee.prev(i,i1))n.classList.add(wi)}_clearActiveClass(e){e.classList.remove(wi);const i=ee.find(`${Vl}.${wi}`,e);for(const n of i)n.classList.remove(wi)}static jQueryInterface(e){return this.each(function(){const i=ol.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Y.on(window,Xm,()=>{for(const t of ee.find(Qm))ol.getOrCreateInstance(t)});st(ol);const a1="tab",r1="bs.tab",mi=`.${r1}`,c1=`hide${mi}`,u1=`hidden${mi}`,d1=`show${mi}`,h1=`shown${mi}`,f1=`click${mi}`,g1=`keydown${mi}`,p1=`load${mi}`,m1="ArrowLeft",Rr="ArrowRight",b1="ArrowUp",zr="ArrowDown",$l="Home",Hr="End",oi="active",Fr="fade",Wl="show",v1="dropdown",$u=".dropdown-toggle",_1=".dropdown-menu",Ul=`:not(${$u})`,y1='.list-group, .nav, [role="tablist"]',w1=".nav-item, .list-group-item",C1=`.nav-link${Ul}, .list-group-item${Ul}, [role="tab"]${Ul}`,Wu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Zl=`${C1}, ${Wu}`,E1=`.${oi}[data-bs-toggle="tab"], .${oi}[data-bs-toggle="pill"], .${oi}[data-bs-toggle="list"]`;class hi extends ft{constructor(e){super(e),this._parent=this._element.closest(y1),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Y.on(this._element,g1,i=>this._keydown(i)))}static get NAME(){return a1}show(){const e=this._element;if(this._elemIsActive(e))return;const i=this._getActiveElem(),n=i?Y.trigger(i,c1,{relatedTarget:e}):null;Y.trigger(e,d1,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,e),this._activate(e,i))}_activate(e,i){if(!e)return;e.classList.add(oi),this._activate(ee.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(Wl);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Y.trigger(e,h1,{relatedTarget:i})};this._queueCallback(n,e,e.classList.contains(Fr))}_deactivate(e,i){if(!e)return;e.classList.remove(oi),e.blur(),this._deactivate(ee.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(Wl);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Y.trigger(e,u1,{relatedTarget:i})};this._queueCallback(n,e,e.classList.contains(Fr))}_keydown(e){if(![m1,Rr,b1,zr,$l,Hr].includes(e.key))return;e.stopPropagation(),e.preventDefault();const i=this._getChildren().filter(s=>!Yt(s));let n;if([$l,Hr].includes(e.key))n=i[e.key===$l?0:i.length-1];else{const s=[Rr,zr].includes(e.key);n=la(i,e.target,s,!0)}n&&(n.focus({preventScroll:!0}),hi.getOrCreateInstance(n).show())}_getChildren(){return ee.find(Zl,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,i){this._setAttributeIfNotExists(e,"role","tablist");for(const n of i)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const i=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",i),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),i||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const i=ee.getElementFromSelector(e);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,i){const n=this._getOuterElement(e);if(!n.classList.contains(v1))return;const s=(o,r)=>{const d=ee.findOne(o,n);d&&d.classList.toggle(r,i)};s($u,oi),s(_1,Wl),n.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(e,i,n){e.hasAttribute(i)||e.setAttribute(i,n)}_elemIsActive(e){return e.classList.contains(oi)}_getInnerElement(e){return e.matches(Zl)?e:ee.findOne(Zl,e)}_getOuterElement(e){return e.closest(w1)||e}static jQueryInterface(e){return this.each(function(){const i=hi.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}Y.on(document,f1,Wu,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!Yt(this)&&hi.getOrCreateInstance(this).show()});Y.on(window,p1,()=>{for(const t of ee.find(E1))hi.getOrCreateInstance(t)});st(hi);const x1="toast",S1="bs.toast",Qt=`.${S1}`,T1=`mouseover${Qt}`,L1=`mouseout${Qt}`,k1=`focusin${Qt}`,A1=`focusout${Qt}`,N1=`hide${Qt}`,D1=`hidden${Qt}`,O1=`show${Qt}`,M1=`shown${Qt}`,B1="fade",Pr="hide",ss="show",ls="showing",I1={animation:"boolean",autohide:"boolean",delay:"number"},R1={animation:!0,autohide:!0,delay:5e3};class Gi extends ft{constructor(e,i){super(e,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return R1}static get DefaultType(){return I1}static get NAME(){return x1}show(){if(Y.trigger(this._element,O1).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(B1);const i=()=>{this._element.classList.remove(ls),Y.trigger(this._element,M1),this._maybeScheduleHide()};this._element.classList.remove(Pr),On(this._element),this._element.classList.add(ss,ls),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||Y.trigger(this._element,N1).defaultPrevented)return;const i=()=>{this._element.classList.add(Pr),this._element.classList.remove(ls,ss),Y.trigger(this._element,D1)};this._element.classList.add(ls),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ss),super.dispose()}isShown(){return this._element.classList.contains(ss)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,i){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Y.on(this._element,T1,e=>this._onInteraction(e,!0)),Y.on(this._element,L1,e=>this._onInteraction(e,!1)),Y.on(this._element,k1,e=>this._onInteraction(e,!0)),Y.on(this._element,A1,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const i=Gi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}nl(Gi);st(Gi);function z1(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-modal-button]");if(!e)return;const i=document.getElementById(e.dataset.modal);let n=e.dataset.action;Io(t,{submitter:e,url:n,method:"get",successHandler:s=>{H1(),F1(i,s.data)},errorHandler:s=>{console.log(s)}})})}function H1(){document.querySelectorAll(".modal.show").forEach(e=>{const i=Be.getInstance(e);i?i.hide():new Be(e).hide()})}function F1(t,e=null){if(!t||!e)return;t.innerHTML=e,P1();let i=Be.getInstance(t);if(i?.show){i.show();return}i=new Be(t),i.show()}function P1(){zo(),Zo(),Po()}function V1(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-delete-modal-button]");if(!e)return;const i=document.getElementById("confirm-delete-modal");let n=e.dataset.action;Io(t,{submitter:e,url:n,method:"get",params:{subtitle:e.dataset.subtitle,delete_action:e.dataset.deleteAction,update_id_section:e.dataset.updateIdSection},successHandler:s=>{$1(),W1(i,s.data)},errorHandler:s=>{console.log(s)}})})}function $1(){document.querySelectorAll(".modal.show").forEach(e=>{const i=Be.getInstance(e);i?i.hide():new Be(e).hide()})}function W1(t,e=null){if(!t||!e)return;t.innerHTML=e;let i=Be.getInstance(t);if(i?.show){i.show();return}i=new Be(t),i.show()}function U1(){document.addEventListener("submit",t=>{const e=t?.target?.closest("[data-ajax-with-update-from-view]");if(!e)return;const i=document.getElementById(e.dataset.updateIdSection);Io(t,{form:e,successHandler:n=>{Z1(),i.innerHTML=n.data},errorHandler:n=>{console.error(n)}})})}function Z1(){document.querySelectorAll(".modal.show").forEach(e=>{const i=Be.getInstance(e);i?i.hide():new Be(e).hide()})}/*!
 * OverlayScrollbars
 * Version: 2.12.0
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const qe=(t,e)=>{const{o:i,i:n,u:s}=t;let o=i,r;const d=(u,g)=>{const w=o,x=u,C=g||(n?!n(w,x):w!==x);return(C||s)&&(o=x,r=w),[o,C,r]};return[e?u=>d(e(o,r),u):d,u=>[o,!!u,r]]},q1=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,We=q1?window:{},Uu=Math.max,Y1=Math.min,yo=Math.round,Fs=Math.abs,Vr=Math.sign,Zu=We.cancelAnimationFrame,ua=We.requestAnimationFrame,da=We.setTimeout,qu=We.clearTimeout,al=t=>typeof We[t]<"u"?We[t]:void 0,j1=al("MutationObserver"),$r=al("IntersectionObserver"),Ni=al("ResizeObserver"),dn=al("ScrollTimeline"),ha=t=>t===void 0,rl=t=>t===null,Ot=t=>typeof t=="number",Rn=t=>typeof t=="string",cl=t=>typeof t=="boolean",gt=t=>typeof t=="function",dt=t=>Array.isArray(t),Ps=t=>typeof t=="object"&&!dt(t)&&!rl(t),fa=t=>{const e=!!t&&t.length,i=Ot(e)&&e>-1&&e%1==0;return dt(t)||!gt(t)&&i?e>0&&Ps(t)?e-1 in t:!0:!1},Vs=t=>!!t&&t.constructor===Object,$s=t=>t instanceof HTMLElement,ul=t=>t instanceof Element;function _e(t,e){if(fa(t))for(let i=0;i<t.length&&e(t[i],i,t)!==!1;i++);else t&&_e(Object.keys(t),(i=>e(t[i],i,t)));return t}const Yu=(t,e)=>t.indexOf(e)>=0,Cn=(t,e)=>t.concat(e),Se=(t,e,i)=>(!Rn(e)&&fa(e)?Array.prototype.push.apply(t,e):t.push(e),t),Jt=t=>Array.from(t||[]),ga=t=>dt(t)?t:!Rn(t)&&fa(t)?Jt(t):[t],Ws=t=>!!t&&!t.length,wo=t=>Jt(new Set(t)),je=(t,e,i)=>{_e(t,s=>s?s.apply(void 0,e||[]):!0),i||(t.length=0)},ju="paddingTop",Ku="paddingRight",Xu="paddingLeft",Gu="paddingBottom",Qu="marginLeft",Ju="marginRight",ed="marginBottom",pa="overflowX",ma="overflowY",dl="width",hl="height",kt="visible",ut="hidden",Wi="scroll",K1=t=>{const e=String(t||"");return e?e[0].toUpperCase()+e.slice(1):""},fl=(t,e,i,n)=>{if(t&&e){let s=!0;return _e(i,(o=>{const r=t[o],d=e[o];r!==d&&(s=!1)})),s}return!1},td=(t,e)=>fl(t,e,["w","h"]),Ts=(t,e)=>fl(t,e,["x","y"]),X1=(t,e)=>fl(t,e,["t","r","b","l"]),le=(t,...e)=>t.bind(0,...e),Di=t=>{let e;const i=t?da:ua,n=t?qu:Zu;return[s=>{n(e),e=i((()=>s()),gt(t)?t():t)},()=>n(e)]},Wr=t=>{const e=gt(t)?t():t;if(Ot(e)){const i=e?da:ua,n=e?qu:Zu;return s=>{const o=i((()=>s()),e);return()=>{n(o)}}}return e&&e._},Us=(t,e)=>{const{p:i,v:n,S:s,m:o}=e||{};let r,d,l,f;const u=function(T){d&&d(),r&&r(),f=d=r=l=void 0,t.apply(this,T)},g=C=>o&&l?o(l,C):C,w=()=>{d&&l&&u(g(l)||l)},x=function(){const T=Jt(arguments),a=Wr(i);if(a){const c=Wr(n),b=g(T)||T,m=u.bind(0,b);d&&d(),s&&!f?(m(),f=!0,d=a((()=>f=void 0))):(d=a(m),c&&!r&&(r=c(w))),l=b}else u(T)};return x.O=w,x},id=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),ht=t=>t?Object.keys(t):[],be=(t,e,i,n,s,o,r)=>{const d=[e,i,n,s,o,r];return(typeof t!="object"||rl(t))&&!gt(t)&&(t={}),_e(d,(l=>{_e(l,((f,u)=>{const g=l[u];if(t===g)return!0;const w=dt(g);if(g&&Vs(g)){const x=t[u];let C=x;w&&!dt(x)?C=[]:!w&&!Vs(x)&&(C={}),t[u]=be(C,g)}else t[u]=w?g.slice():g}))})),t},nd=(t,e)=>_e(be({},t),((i,n,s)=>{i===void 0?delete s[n]:i&&Vs(i)&&(s[n]=nd(i))})),ba=t=>!ht(t).length,En=()=>{},sd=(t,e,i)=>Uu(t,Y1(e,i)),ri=t=>wo((dt(t)?t:(t||"").split(" ")).filter((e=>e))),va=(t,e)=>t&&t.getAttribute(e),Ur=(t,e)=>t&&t.hasAttribute(e),Tt=(t,e,i)=>{_e(ri(e),(n=>{t&&t.setAttribute(n,String(i||""))}))},mt=(t,e)=>{_e(ri(e),(i=>t&&t.removeAttribute(i)))},gl=(t,e)=>{const i=ri(va(t,e)),n=le(Tt,t,e),s=(o,r)=>{const d=new Set(i);return _e(ri(o),(l=>{d[r](l)})),Jt(d).join(" ")};return{C:o=>n(s(o,"delete")),$:o=>n(s(o,"add")),H:o=>{const r=ri(o);return r.reduce(((d,l)=>d&&i.includes(l)),r.length>0)}}},ld=(t,e,i)=>(gl(t,e).C(i),le(_a,t,e,i)),_a=(t,e,i)=>(gl(t,e).$(i),le(ld,t,e,i)),Zs=(t,e,i,n)=>(n?_a:ld)(t,e,i),ya=(t,e,i)=>gl(t,e).H(i),od=t=>gl(t,"class"),ad=(t,e)=>{od(t).C(e)},wa=(t,e)=>(od(t).$(e),le(ad,t,e)),rd=(t,e)=>{const i=e?ul(e)&&e:document;return i?Jt(i.querySelectorAll(t)):[]},G1=(t,e)=>{const i=e?ul(e)&&e:document;return i&&i.querySelector(t)},Co=(t,e)=>ul(t)&&t.matches(e),cd=t=>Co(t,"body"),Eo=t=>t?Jt(t.childNodes):[],xn=t=>t&&t.parentElement,Oi=(t,e)=>ul(t)&&t.closest(e),xo=t=>document.activeElement,Q1=(t,e,i)=>{const n=Oi(t,e),s=t&&G1(i,n),o=Oi(s,e)===n;return n&&s?n===t||s===t||o&&Oi(Oi(t,i),e)!==n:!1},Ui=t=>{_e(ga(t),(e=>{const i=xn(e);e&&i&&i.removeChild(e)}))},$e=(t,e)=>le(Ui,t&&e&&_e(ga(e),(i=>{i&&t.appendChild(i)})));let ud;const J1=()=>ud,eb=t=>{ud=t},Ii=t=>{const e=document.createElement("div");return Tt(e,"class",t),e},dd=t=>{const e=Ii(),i=J1(),n=t.trim();return e.innerHTML=i?i.createHTML(n):n,_e(Eo(e),(s=>Ui(s)))},Zr=(t,e)=>t.getPropertyValue(e)||t[e]||"",hd=t=>{const e=t||0;return isFinite(e)?e:0},os=t=>hd(parseFloat(t||"")),So=t=>Math.round(t*1e4)/1e4,fd=t=>`${So(hd(t))}px`;function Sn(t,e){t&&e&&_e(e,((i,n)=>{try{const s=t.style,o=rl(i)||cl(i)?"":Ot(i)?fd(i):i;n.indexOf("--")===0?s.setProperty(n,o):s[n]=o}catch{}}))}function Et(t,e,i){const n=Rn(e);let s=n?"":{};if(t){const o=We.getComputedStyle(t,i)||t.style;s=n?Zr(o,e):Jt(e).reduce(((r,d)=>(r[d]=Zr(o,d),r)),s)}return s}const qr=(t,e,i)=>{const n=e?`${e}-`:"",s=i?`-${i}`:"",o=`${n}top${s}`,r=`${n}right${s}`,d=`${n}bottom${s}`,l=`${n}left${s}`,f=Et(t,[o,r,d,l]);return{t:os(f[o]),r:os(f[r]),b:os(f[d]),l:os(f[l])}},ql=(t,e)=>`translate${Ps(t)?`(${t.x},${t.y})`:`${e?"X":"Y"}(${t})`}`,tb=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),ib={w:0,h:0},pl=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:ib,nb=t=>pl("inner",t||We),Ri=le(pl,"offset"),gd=le(pl,"client"),qs=le(pl,"scroll"),Ca=t=>{const e=parseFloat(Et(t,dl))||0,i=parseFloat(Et(t,hl))||0;return{w:e-yo(e),h:i-yo(i)}},Yl=t=>t.getBoundingClientRect(),sb=t=>!!t&&tb(t),To=t=>!!(t&&(t[hl]||t[dl])),pd=(t,e)=>{const i=To(t);return!To(e)&&i},Yr=(t,e,i,n)=>{_e(ri(e),(s=>{t&&t.removeEventListener(s,i,n)}))},ye=(t,e,i,n)=>{var s;const o=(s=n&&n.T)!=null?s:!0,r=n&&n.I||!1,d=n&&n.A||!1,l={passive:o,capture:r};return le(je,ri(e).map((f=>{const u=d?g=>{Yr(t,f,u,r),i&&i(g)}:i;return t&&t.addEventListener(f,u,l),le(Yr,t,f,u,r)})))},md=t=>t.stopPropagation(),Lo=t=>t.preventDefault(),bd=t=>md(t)||Lo(t),bt=(t,e)=>{const{x:i,y:n}=Ot(e)?{x:e,y:e}:e||{};Ot(i)&&(t.scrollLeft=i),Ot(n)&&(t.scrollTop=n)},Ye=t=>({x:t.scrollLeft,y:t.scrollTop}),vd=()=>({D:{x:0,y:0},M:{x:0,y:0}}),lb=(t,e)=>{const{D:i,M:n}=t,{w:s,h:o}=e,r=(g,w,x)=>{let C=Vr(g)*x,T=Vr(w)*x;if(C===T){const a=Fs(g),c=Fs(w);T=a>c?0:T,C=a<c?0:C}return C=C===T?0:C,[C+0,T+0]},[d,l]=r(i.x,n.x,s),[f,u]=r(i.y,n.y,o);return{D:{x:d,y:f},M:{x:l,y:u}}},jl=({D:t,M:e})=>{const i=(n,s)=>n===0&&n<=s;return{x:i(t.x,e.x),y:i(t.y,e.y)}},jr=({D:t,M:e},i)=>{const n=(s,o,r)=>sd(0,1,(s-r)/(s-o)||0);return{x:n(t.x,e.x,i.x),y:n(t.y,e.y,i.y)}},ko=t=>{t&&t.focus&&t.focus({preventScroll:!0})},Kr=(t,e)=>{_e(ga(e),t)},Ao=t=>{const e=new Map,i=(o,r)=>{if(o){const d=e.get(o);Kr((l=>{d&&d[l?"delete":"clear"](l)}),r)}else e.forEach((d=>{d.clear()})),e.clear()},n=(o,r)=>{if(Rn(o)){const f=e.get(o)||new Set;return e.set(o,f),Kr((u=>{gt(u)&&f.add(u)}),r),le(i,o,r)}cl(r)&&r&&i();const d=ht(o),l=[];return _e(d,(f=>{const u=o[f];u&&Se(l,n(f,u))})),le(je,l)},s=(o,r)=>{_e(Jt(e.get(o)),(d=>{r&&!Ws(r)?d.apply(0,r):d()}))};return n(t||{}),[n,i,s]},_d={},yd={},ob=t=>{_e(t,(e=>_e(e,((i,n)=>{_d[n]=e[n]}))))},wd=(t,e,i)=>ht(t).map((n=>{const{static:s,instance:o}=t[n],[r,d,l]=i||[],f=i?o:s;if(f){const u=i?f(r,d,e):f(e);return(l||yd)[n]=u}})),Qi=t=>yd[t],ab="__osOptionsValidationPlugin",Ji="data-overlayscrollbars",Ls="os-environment",as=`${Ls}-scrollbar-hidden`,Kl=`${Ji}-initialize`,ks="noClipping",Xr=`${Ji}-body`,Ut=Ji,rb="host",Lt=`${Ji}-viewport`,cb=pa,ub=ma,db="arrange",Cd="measuring",hb="scrolling",Ed="scrollbarHidden",fb="noContent",No=`${Ji}-padding`,Gr=`${Ji}-content`,Ea="os-size-observer",gb=`${Ea}-appear`,pb=`${Ea}-listener`,mb="os-trinsic-observer",bb="os-theme-none",Qe="os-scrollbar",vb=`${Qe}-rtl`,_b=`${Qe}-horizontal`,yb=`${Qe}-vertical`,xd=`${Qe}-track`,xa=`${Qe}-handle`,wb=`${Qe}-visible`,Cb=`${Qe}-cornerless`,Qr=`${Qe}-interaction`,Jr=`${Qe}-unusable`,Do=`${Qe}-auto-hide`,ec=`${Do}-hidden`,tc=`${Qe}-wheel`,Eb=`${xd}-interactive`,xb=`${xa}-interactive`,Sb="__osSizeObserverPlugin",Tb=(t,e)=>{const{k:i}=e,[n,s]=t("showNativeOverlaidScrollbars");return[n&&i.x&&i.y,s]},Mi=t=>t.indexOf(kt)===0,Lb=t=>t.replace(`${kt}-`,""),Oo=(t,e)=>{if(t==="auto")return e?Wi:ut;const i=t||ut;return[ut,Wi,kt].includes(i)?i:ut},kb=(t,e)=>{const{overflowX:i,overflowY:n}=Et(t,[pa,ma]);return{x:Oo(i,e.x),y:Oo(n,e.y)}},Sa="__osScrollbarsHidingPlugin",Ab="__osClickScrollPlugin",ic=t=>JSON.stringify(t,((e,i)=>{if(gt(i))throw 0;return i})),nc=(t,e)=>t?`${e}`.split(".").reduce(((i,n)=>i&&id(i,n)?i[n]:void 0),t):void 0,Nb={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Sd=(t,e)=>{const i={},n=Cn(ht(e),ht(t));return _e(n,(s=>{const o=t[s],r=e[s];if(Ps(o)&&Ps(r))be(i[s]={},Sd(o,r)),ba(i[s])&&delete i[s];else if(id(e,s)&&r!==o){let d=!0;if(dt(o)||dt(r))try{ic(o)===ic(r)&&(d=!1)}catch{}d&&(i[s]=r)}})),i},sc=(t,e,i)=>n=>[nc(t,n),i||nc(e,n)!==void 0];let Td;const Db=()=>Td,Ob=t=>{Td=t};let Xl;const Mb=()=>{const t=(m,v,p)=>{$e(document.body,m),$e(document.body,m);const _=gd(m),E=Ri(m),y=Ca(v);return p&&Ui(m),{x:E.h-_.h+y.h,y:E.w-_.w+y.w}},e=m=>{let v=!1;const p=wa(m,as);try{v=Et(m,"scrollbar-width")==="none"||Et(m,"display","::-webkit-scrollbar")==="none"}catch{}return p(),v},i=`.${Ls}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Ls} div{width:200%;height:200%;margin:10px 0}.${as}{scrollbar-width:none!important}.${as}::-webkit-scrollbar,.${as}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,s=dd(`<div class="${Ls}"><div></div><style>${i}</style></div>`)[0],o=s.firstChild,r=s.lastChild,d=Db();d&&(r.nonce=d);const[l,,f]=Ao(),[u,g]=qe({o:t(s,o),i:Ts},le(t,s,o,!0)),[w]=g(),x=e(s),C={x:w.x===0,y:w.y===0},T={elements:{host:null,padding:!x,viewport:m=>x&&cd(m)&&m,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},a=be({},Nb),c=le(be,{},a),h=le(be,{},T),b={P:w,k:C,U:x,J:!!dn,G:le(l,"r"),K:h,Z:m=>be(T,m)&&h(),tt:c,nt:m=>be(a,m)&&c(),ot:be({},T),st:be({},a)};if(mt(s,"style"),Ui(s),ye(We,"resize",(()=>{f("r",[])})),gt(We.matchMedia)&&!x&&(!C.x||!C.y)){const m=v=>{const p=We.matchMedia(`(resolution: ${We.devicePixelRatio}dppx)`);ye(p,"change",(()=>{v(),m(v)}),{A:!0})};m((()=>{const[v,p]=u();be(b.P,v),f("r",[p])}))}return b},xt=()=>(Xl||(Xl=Mb()),Xl),Bb=(t,e,i)=>{let n=!1;const s=i?new WeakMap:!1,o=()=>{n=!0},r=d=>{if(s&&i){const l=i.map((f=>{const[u,g]=f||[];return[g&&u?(d||rd)(u,t):[],g]}));_e(l,(f=>_e(f[0],(u=>{const g=f[1],w=s.get(u)||[];if(t.contains(u)&&g){const C=ye(u,g,(T=>{n?(C(),s.delete(u)):e(T)}));s.set(u,Se(w,C))}else je(w),s.delete(u)}))))}};return r(),[o,r]},lc=(t,e,i,n)=>{let s=!1;const{et:o,ct:r,rt:d,it:l,lt:f,ut:u}=n||{},g=Us((()=>s&&i(!0)),{p:33,v:99}),[w,x]=Bb(t,g,d),C=o||[],T=r||[],a=Cn(C,T),c=(b,m)=>{if(!Ws(m)){const v=f||En,p=u||En,_=[],E=[];let y=!1,S=!1;if(_e(m,(N=>{const{attributeName:L,target:k,type:M,oldValue:$,addedNodes:F,removedNodes:H}=N,z=M==="attributes",P=M==="childList",I=t===k,R=z&&L,D=R&&va(k,L||""),B=Rn(D)?D:null,A=R&&$!==B,O=Yu(T,L)&&A;if(e&&(P||!I)){const V=z&&A,W=V&&l&&Co(k,l),U=(W?!v(k,L,$,B):!z||V)&&!p(N,!!W,t,n);_e(F,(q=>Se(_,q))),_e(H,(q=>Se(_,q))),S=S||U}!e&&I&&A&&!v(k,L,$,B)&&(Se(E,L),y=y||O)})),x((N=>wo(_).reduce(((L,k)=>(Se(L,rd(N,k)),Co(k,N)?Se(L,k):L)),[]))),e)return!b&&S&&i(!1),[!1];if(!Ws(E)||y){const N=[wo(E),y];return b||i.apply(0,N),N}}},h=new j1(le(c,!1));return[()=>(h.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:a,subtree:e,childList:e,characterData:e}),s=!0,()=>{s&&(w(),h.disconnect(),s=!1)}),()=>{if(s)return g.O(),c(!0,h.takeRecords())}]};let ni=null;const Ld=(t,e,i)=>{const{ft:n}=i||{},s=Qi(Sb),[o]=qe({o:!1,u:!0});return()=>{const r=[],l=dd(`<div class="${Ea}"><div class="${pb}"></div></div>`)[0],f=l.firstChild,u=g=>{const w=dt(g)&&!Ws(g);let x=!1,C=!1;if(w){const T=g[0],[a,,c]=o(T.contentRect),h=To(a);C=pd(a,c),x=!C&&!h}else C=g===!0;x||e({_t:!0,ft:C})};if(Ni){if(!cl(ni)){const C=new Ni(En);C.observe(t,{get box(){ni=!0}}),ni=ni||!1,C.disconnect()}const g=Us(u,{p:0,v:0}),w=C=>g(C),x=new Ni(w);if(x.observe(ni?t:f),Se(r,[()=>{x.disconnect()},!ni&&$e(t,l)]),ni){const C=new Ni(w);C.observe(t,{box:"border-box"}),Se(r,(()=>C.disconnect()))}}else if(s){const[g,w]=s(f,u,n);Se(r,Cn([wa(l,gb),ye(l,"animationstart",g),$e(t,l)],w))}else return En;return le(je,r)}},Ib=(t,e)=>{let i;const n=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,s=Ii(mb),[o]=qe({o:!1}),r=(l,f)=>{if(l){const u=o(n(l)),[,g]=u;return g&&!f&&e(u)&&[u]}},d=(l,f)=>r(f.pop(),l);return[()=>{const l=[];if($r)i=new $r(le(d,!1),{root:t}),i.observe(s),Se(l,(()=>{i.disconnect()}));else{const f=()=>{const u=Ri(s);r(u)};Se(l,Ld(s,f)()),f()}return le(je,Se(l,$e(t,s)))},()=>i&&d(!0,i.takeRecords())]},Rb=(t,e,i,n)=>{let s,o,r,d,l,f;const u=`[${Ut}]`,g=`[${Lt}]`,w=["id","class","style","open","wrap","cols","rows"],{dt:x,vt:C,L:T,gt:a,ht:c,V:h,bt:b,wt:m,yt:v,St:p}=t,_=O=>Et(O,"direction")==="rtl",E={Ot:!1,B:_(x)},y=xt(),S=Qi(Sa),[N]=qe({i:td,o:{w:0,h:0}},(()=>{const O=S&&S.R(t,e,E,y,i).Y,W=!(b&&h)&&ya(C,Ut,ks),Z=!h&&m(db),U=Z&&Ye(a),q=U&&p(),j=v(Cd,W),G=Z&&O&&O(),Q=qs(T),X=Ca(T);return G&&G(),bt(a,U),q&&q(),W&&j(),{w:Q.w+X.w,h:Q.h+X.h}})),L=Us(n,{p:()=>s,v:()=>o,m(O,V){const[W]=O,[Z]=V;return[Cn(ht(W),ht(Z)).reduce(((U,q)=>(U[q]=W[q]||Z[q],U)),{})]}}),k=O=>{const V=_(x);be(O,{Ct:f!==V}),be(E,{B:V}),f=V},M=(O,V)=>{const[W,Z]=O,U={$t:Z};return be(E,{Ot:W}),V||n(U),U},$=({_t:O,ft:V})=>{const Z=!(O&&!V)&&y.U?L:n,U={_t:O||V,ft:V};k(U),Z(U)},F=(O,V)=>{const[,W]=N(),Z={xt:W};return k(Z),W&&!V&&(O?n:L)(Z),Z},H=(O,V,W)=>{const Z={Ht:V};return k(Z),V&&!W&&L(Z),Z},[z,P]=c?Ib(C,M):[],I=!h&&Ld(C,$,{ft:!0}),[R,D]=lc(C,!1,H,{ct:w,et:w}),B=h&&Ni&&new Ni((O=>{const V=O[O.length-1].contentRect;$({_t:!0,ft:pd(V,l)}),l=V})),A=Us((()=>{const[,O]=N();n({xt:O,_t:b})}),{p:222,S:!0});return[()=>{B&&B.observe(C);const O=I&&I(),V=z&&z(),W=R(),Z=y.G((U=>{U?L({Et:U}):A()}));return()=>{B&&B.disconnect(),O&&O(),V&&V(),d&&d(),W(),Z()}},({zt:O,Tt:V,It:W})=>{const Z={},[U]=O("update.ignoreMutation"),[q,j]=O("update.attributes"),[G,Q]=O("update.elementEvents"),[X,te]=O("update.debounce"),ue=Q||j,he=V||W,oe=re=>gt(U)&&U(re);if(ue){r&&r(),d&&d();const[re,J]=lc(c||T,!0,F,{et:Cn(w,q||[]),rt:G,it:u,ut:(ge,ce)=>{const{target:ve,attributeName:me}=ge;return(!ce&&me&&!h?Q1(ve,u,g):!1)||!!Oi(ve,`.${Qe}`)||!!oe(ge)}});d=re(),r=J}if(te)if(L.O(),dt(X)){const re=X[0],J=X[1];s=Ot(re)&&re,o=Ot(J)&&J}else Ot(X)?(s=X,o=!1):(s=!1,o=!1);if(he){const re=D(),J=P&&P(),ge=r&&r();re&&be(Z,H(re[0],re[1],he)),J&&be(Z,M(J[0],he)),ge&&be(Z,F(ge[0],he))}return k(Z),Z},E]},kd=(t,e)=>gt(e)?e.apply(0,t):e,zb=(t,e,i,n)=>{const s=ha(n)?i:n;return kd(t,s)||e.apply(0,t)},Ad=(t,e,i,n)=>{const s=ha(n)?i:n,o=kd(t,s);return!!o&&($s(o)?o:e.apply(0,t))},Hb=(t,e)=>{const{nativeScrollbarsOverlaid:i,body:n}=e||{},{k:s,U:o,K:r}=xt(),{nativeScrollbarsOverlaid:d,body:l}=r().cancel,f=i??d,u=ha(n)?l:n,g=(s.x||s.y)&&f,w=t&&(rl(u)?!o:u);return!!g||!!w},Fb=(t,e,i,n)=>{const s="--os-viewport-percent",o="--os-scroll-percent",r="--os-scroll-direction",{K:d}=xt(),{scrollbars:l}=d(),{slot:f}=l,{dt:u,vt:g,L:w,At:x,gt:C,bt:T,V:a}=e,{scrollbars:c}=x?{}:t,{slot:h}=c||{},b=[],m=[],v=[],p=Ad([u,g,w],(()=>a&&T?u:g),f,h),_=R=>{if(dn){let D=null,B=[];const A=new dn({source:C,axis:R}),O=()=>{D&&D.cancel(),D=null};return{kt:W=>{const{Dt:Z}=i,U=jl(Z)[R],q=R==="x",j=[ql(0,q),ql(`calc(100cq${q?"w":"h"} + -100%)`,q)],G=U?j:j.reverse();return B[0]===G[0]&&B[1]===G[1]||(O(),B=G,D=W.Mt.animate({clear:["left"],transform:G},{timeline:A})),O}}}},E={x:_("x"),y:_("y")},y=()=>{const{Rt:R,Vt:D}=i,B=(A,O)=>sd(0,1,A/(A+O)||0);return{x:B(D.x,R.x),y:B(D.y,R.y)}},S=(R,D,B)=>{const A=B?wa:ad;_e(R,(O=>{A(O.Lt,D)}))},N=(R,D)=>{_e(R,(B=>{const[A,O]=D(B);Sn(A,O)}))},L=(R,D,B)=>{const A=cl(B),O=A?B:!0,V=A?!B:!0;O&&S(m,R,D),V&&S(v,R,D)},k=()=>{const R=y(),D=B=>A=>[A.Lt,{[s]:So(B)+""}];N(m,D(R.x)),N(v,D(R.y))},M=()=>{if(!dn){const{Dt:R}=i,D=jr(R,Ye(C)),B=A=>O=>[O.Lt,{[o]:So(A)+""}];N(m,B(D.x)),N(v,B(D.y))}},$=()=>{const{Dt:R}=i,D=jl(R),B=A=>O=>[O.Lt,{[r]:A?"0":"1"}];N(m,B(D.x)),N(v,B(D.y)),dn&&(m.forEach(E.x.kt),v.forEach(E.y.kt))},F=()=>{if(a&&!T){const{Rt:R,Dt:D}=i,B=jl(D),A=jr(D,Ye(C)),O=V=>{const{Lt:W}=V,Z=xn(W)===w&&W,U=(q,j,G)=>{const Q=j*q;return fd(G?Q:-Q)};return[Z,Z&&{transform:ql({x:U(A.x,R.x,B.x),y:U(A.y,R.y,B.y)})}]};N(m,O),N(v,O)}},H=R=>{const D=R?"x":"y",A=Ii(`${Qe} ${R?_b:yb}`),O=Ii(xd),V=Ii(xa),W={Lt:A,Ut:O,Mt:V},Z=E[D];return Se(R?m:v,W),Se(b,[$e(A,O),$e(O,V),le(Ui,A),Z&&Z.kt(W),n(W,L,R)]),W},z=le(H,!0),P=le(H,!1),I=()=>($e(p,m[0].Lt),$e(p,v[0].Lt),le(je,b));return z(),P(),[{Pt:k,Nt:M,qt:$,Bt:F,Ft:L,jt:{Xt:m,Yt:z,Wt:le(N,m)},Jt:{Xt:v,Yt:P,Wt:le(N,v)}},I]},Pb=(t,e,i,n)=>(s,o,r)=>{const{vt:d,L:l,V:f,gt:u,Gt:g,St:w}=e,{Lt:x,Ut:C,Mt:T}=s,[a,c]=Di(333),[h,b]=Di(444),m=_=>{gt(u.scrollBy)&&u.scrollBy({behavior:"smooth",left:_.x,top:_.y})},v=()=>{const _="pointerup pointercancel lostpointercapture",E=`client${r?"X":"Y"}`,y=r?dl:hl,S=r?"left":"top",N=r?"w":"h",L=r?"x":"y",k=($,F)=>H=>{const{Rt:z}=i,P=Ri(C)[N]-Ri(T)[N],R=F*H/P*z[L];bt(u,{[L]:$+R})},M=[];return ye(C,"pointerdown",($=>{const F=Oi($.target,`.${xa}`)===T,H=F?T:C,z=t.scrollbars,P=z[F?"dragScroll":"clickScroll"],{button:I,isPrimary:R,pointerType:D}=$,{pointers:B}=z;if(I===0&&R&&P&&(B||[]).includes(D)){je(M),b();const O=!F&&($.shiftKey||P==="instant"),V=le(Yl,T),W=le(Yl,C),Z=(ce,ve)=>(ce||V())[S]-(ve||W())[S],U=yo(Yl(u)[y])/Ri(u)[N]||1,q=k(Ye(u)[L],1/U),j=$[E],G=V(),Q=W(),X=G[y],te=Z(G,Q)+X/2,ue=j-Q[S],he=F?0:ue-te,oe=ce=>{je(ge),H.releasePointerCapture(ce.pointerId)},re=F||O,J=w(),ge=[ye(g,_,oe),ye(g,"selectstart",(ce=>Lo(ce)),{T:!1}),ye(C,_,oe),re&&ye(C,"pointermove",(ce=>q(he+(ce[E]-j)))),re&&(()=>{const ce=Ye(u);J();const ve=Ye(u),me={x:ve.x-ce.x,y:ve.y-ce.y};(Fs(me.x)>3||Fs(me.y)>3)&&(w(),bt(u,ce),m(me),h(J))})];if(H.setPointerCapture($.pointerId),O)q(he);else if(!F){const ce=Qi(Ab);if(ce){const ve=ce(q,he,X,(me=>{me?J():Se(ge,J)}));Se(ge,ve),Se(M,le(ve,!0))}}}}))};let p=!0;return le(je,[ye(T,"pointermove pointerleave",n),ye(x,"pointerenter",(()=>{o(Qr,!0)})),ye(x,"pointerleave pointercancel",(()=>{o(Qr,!1)})),!f&&ye(x,"mousedown",(()=>{const _=xo();(Ur(_,Lt)||Ur(_,Ut)||_===document.body)&&da(le(ko,l),25)})),ye(x,"wheel",(_=>{const{deltaX:E,deltaY:y,deltaMode:S}=_;p&&S===0&&xn(x)===d&&m({x:E,y}),p=!1,o(tc,!0),a((()=>{p=!0,o(tc)})),Lo(_)}),{T:!1,I:!0}),ye(x,"pointerdown",(()=>{const _=ye(g,"click",(y=>{E(),bd(y)}),{A:!0,I:!0,T:!1}),E=ye(g,"pointerup pointercancel",(()=>{E(),setTimeout(_,150)}),{I:!0,T:!0})}),{I:!0,T:!0}),v(),c,b])},Vb=(t,e,i,n,s,o)=>{let r,d,l,f,u,g=En,w=0;const x=["mouse","pen"],C=B=>x.includes(B.pointerType),[T,a]=Di(),[c,h]=Di(100),[b,m]=Di(100),[v,p]=Di((()=>w)),[_,E]=Fb(t,s,n,Pb(e,s,n,(B=>C(B)&&z()))),{vt:y,Kt:S,bt:N}=s,{Ft:L,Pt:k,Nt:M,qt:$,Bt:F}=_,H=(B,A)=>{if(p(),B)L(ec);else{const O=le(L,ec,!0);w>0&&!A?v(O):O()}},z=()=>{(l?!r:!f)&&(H(!0),c((()=>{H(!1)})))},P=B=>{L(Do,B,!0),L(Do,B,!1)},I=B=>{C(B)&&(r=l,l&&H(!0))},R=[p,h,m,a,()=>g(),ye(y,"pointerover",I,{A:!0}),ye(y,"pointerenter",I),ye(y,"pointerleave",(B=>{C(B)&&(r=!1,l&&H(!1))})),ye(y,"pointermove",(B=>{C(B)&&d&&z()})),ye(S,"scroll",(B=>{T((()=>{M(),z()})),o(B),F()}))],D=Qi(Sa);return[()=>le(je,Se(R,E())),({zt:B,It:A,Qt:O,Zt:V})=>{const{tn:W,nn:Z,sn:U,en:q}=V||{},{Ct:j,ft:G}=O||{},{B:Q}=i,{k:X,U:te}=xt(),{cn:ue,j:he}=n,[oe,re]=B("showNativeOverlaidScrollbars"),[J,ge]=B("scrollbars.theme"),[ce,ve]=B("scrollbars.visibility"),[me,de]=B("scrollbars.autoHide"),[lt,Ie]=B("scrollbars.autoHideSuspend"),[Le]=B("scrollbars.autoHideDelay"),[we,Ne]=B("scrollbars.dragScroll"),[Ee,pt]=B("scrollbars.clickScroll"),[St,Je]=B("overflow"),ei=G&&!A,bl=he.x||he.y,ot=W||Z||q||j||A,vl=U||ve||Je,Fn=oe&&X.x&&X.y,Pn=!te&&!D,_l=Fn||Pn,Vn=(en,tn,$n)=>{const Ht=en.includes(Wi)&&(ce===kt||ce==="auto"&&tn===Wi);return L(wb,Ht,$n),Ht};if(w=Le,ei&&(lt&&bl?(P(!1),g(),b((()=>{g=ye(S,"scroll",le(P,!0),{A:!0})}))):P(!0)),(re||Pn)&&L(bb,_l),ge&&(L(u),L(J,!0),u=J),Ie&&!lt&&P(!0),de&&(d=me==="move",l=me==="leave",f=me==="never",H(f,!0)),Ne&&L(xb,we),pt&&L(Eb,!!Ee),vl){const en=Vn(St.x,ue.x,!0),tn=Vn(St.y,ue.y,!1);L(Cb,!(en&&tn))}ot&&(M(),k(),F(),q&&$(),L(Jr,!he.x,!0),L(Jr,!he.y,!1),L(vb,Q&&!N))},{},_]},$b=t=>{const e=xt(),{K:i,U:n}=e,{elements:s}=i(),{padding:o,viewport:r,content:d}=s,l=$s(t),f=l?{}:t,{elements:u}=f,{padding:g,viewport:w,content:x}=u||{},C=l?t:f.target,T=cd(C),a=C.ownerDocument,c=a.documentElement,h=()=>a.defaultView||We,b=le(zb,[C]),m=le(Ad,[C]),v=le(Ii,""),p=le(b,v,r),_=le(m,v,d),E=X=>{const te=Ri(X),ue=qs(X),he=Et(X,pa),oe=Et(X,ma);return ue.w-te.w>0&&!Mi(he)||ue.h-te.h>0&&!Mi(oe)},y=p(w),S=y===C,N=S&&T,L=!S&&_(x),k=!S&&y===L,M=N?c:y,$=N?M:C,F=!S&&m(v,o,g),H=!k&&L,z=[H,M,F,$].map((X=>$s(X)&&!xn(X)&&X)),P=X=>X&&Yu(z,X),I=!P(M)&&E(M)?M:C,R=N?c:M,B={dt:C,vt:$,L:M,rn:F,ht:H,gt:R,Kt:N?a:M,ln:T?c:I,Gt:a,bt:T,At:l,V:S,an:h,wt:X=>ya(M,Lt,X),yt:(X,te)=>Zs(M,Lt,X,te),St:()=>Zs(R,Lt,hb,!0)},{dt:A,vt:O,rn:V,L:W,ht:Z}=B,U=[()=>{mt(O,[Ut,Kl]),mt(A,Kl),T&&mt(c,[Kl,Ut])}];let q=Eo([Z,W,V,O,A].find((X=>X&&!P(X))));const j=N?A:Z||W,G=le(je,U);return[B,()=>{const X=h(),te=xo(),ue=ge=>{$e(xn(ge),Eo(ge)),Ui(ge)},he=ge=>ye(ge,"focusin focusout focus blur",bd,{I:!0,T:!1}),oe="tabindex",re=va(W,oe),J=he(te);return Tt(O,Ut,S?"":rb),Tt(V,No,""),Tt(W,Lt,""),Tt(Z,Gr,""),S||(Tt(W,oe,re||"-1"),T&&Tt(c,Xr,"")),$e(j,q),$e(O,V),$e(V||O,!S&&W),$e(W,Z),Se(U,[J,()=>{const ge=xo(),ce=P(W),ve=ce&&ge===W?A:ge,me=he(ve);mt(V,No),mt(Z,Gr),mt(W,Lt),T&&mt(c,Xr),re?Tt(W,oe,re):mt(W,oe),P(Z)&&ue(Z),ce&&ue(W),P(V)&&ue(V),ko(ve),me()}]),n&&!S&&(_a(W,Lt,Ed),Se(U,le(mt,W,Lt))),ko(!S&&T&&te===A&&X.top===X?W:te),J(),q=0,G},G]},Wb=({ht:t})=>({Qt:e,un:i,It:n})=>{const{$t:s}=e||{},{Ot:o}=i;t&&(s||n)&&Sn(t,{[hl]:o&&"100%"})},Ub=({vt:t,rn:e,L:i,V:n},s)=>{const[o,r]=qe({i:X1,o:qr()},le(qr,t,"padding",""));return({zt:d,Qt:l,un:f,It:u})=>{let[g,w]=r(u);const{U:x}=xt(),{_t:C,xt:T,Ct:a}=l||{},{B:c}=f,[h,b]=d("paddingAbsolute");(C||w||(u||T))&&([g,w]=o(u));const v=!n&&(b||a||w);if(v){const p=!h||!e&&!x,_=g.r+g.l,E=g.t+g.b,y={[Ju]:p&&!c?-_:0,[ed]:p?-E:0,[Qu]:p&&c?-_:0,top:p?-g.t:0,right:p?c?-g.r:"auto":0,left:p?c?"auto":-g.l:0,[dl]:p&&`calc(100% + ${_}px)`},S={[ju]:p?g.t:0,[Ku]:p?g.r:0,[Gu]:p?g.b:0,[Xu]:p?g.l:0};Sn(e||i,y),Sn(i,S),be(s,{rn:g,fn:!p,F:e?S:be({},y,S)})}return{_n:v}}},Zb=(t,e)=>{const i=xt(),{vt:n,rn:s,L:o,V:r,Kt:d,gt:l,bt:f,yt:u,an:g}=t,{U:w}=i,x=f&&r,C=le(Uu,0),T={display:()=>!1,direction:B=>B!=="ltr",flexDirection:B=>B.endsWith("-reverse"),writingMode:B=>B!=="horizontal-tb"},a=ht(T),c={i:td,o:{w:0,h:0}},h={i:Ts,o:{}},b=B=>{u(Cd,!x&&B)},m=B=>{if(!a.some((G=>{const Q=B[G];return Q&&T[G](Q)})))return{D:{x:0,y:0},M:{x:1,y:1}};b(!0);const O=Ye(l),V=u(fb,!0),W=ye(d,Wi,(G=>{const Q=Ye(l);G.isTrusted&&Q.x===O.x&&Q.y===O.y&&md(G)}),{I:!0,A:!0});bt(l,{x:0,y:0}),V();const Z=Ye(l),U=qs(l);bt(l,{x:U.w,y:U.h});const q=Ye(l);bt(l,{x:q.x-Z.x<1&&-U.w,y:q.y-Z.y<1&&-U.h});const j=Ye(l);return bt(l,O),ua((()=>W())),{D:Z,M:j}},v=(B,A)=>{const O=We.devicePixelRatio%1!==0?1:0,V={w:C(B.w-A.w),h:C(B.h-A.h)};return{w:V.w>O?V.w:0,h:V.h>O?V.h:0}},p=(B,A)=>{const O=(V,W,Z,U)=>{const q=V===kt?ut:Lb(V),j=Mi(V),G=Mi(Z);return!W&&!U?ut:j&&G?kt:j?W&&U?q:W?kt:ut:W?q:G&&U?kt:ut};return{x:O(A.x,B.x,A.y,B.y),y:O(A.y,B.y,A.x,B.x)}},_=B=>{const A=V=>[kt,ut,Wi].map((W=>D(Oo(W),V))),O=A(!0).concat(A()).join(" ");u(O),u(ht(B).map((V=>D(B[V],V==="x"))).join(" "),!0)},[E,y]=qe(c,le(Ca,o)),[S,N]=qe(c,le(qs,o)),[L,k]=qe(c),[M]=qe(h),[$,F]=qe(c),[H]=qe(h),[z]=qe({i:(B,A)=>fl(B,A,a),o:{}},(()=>sb(o)?Et(o,a):{})),[P,I]=qe({i:(B,A)=>Ts(B.D,A.D)&&Ts(B.M,A.M),o:vd()}),R=Qi(Sa),D=(B,A)=>`${A?cb:ub}${K1(B)}`;return({zt:B,Qt:A,un:O,It:V},{_n:W})=>{const{_t:Z,Ht:U,xt:q,Ct:j,ft:G,Et:Q}=A||{},X=R&&R.R(t,e,O,i,B),{X:te,Y:ue,W:he}=X||{},[oe,re]=Tb(B,i),[J,ge]=B("overflow"),ce=Mi(J.x),ve=Mi(J.y),me=Z||W||q||j||Q||re;let de=y(V),lt=N(V),Ie=k(V),Le=F(V);if(re&&w&&u(Ed,!oe),me){ya(n,Ut,ks)&&b(!0);const Ma=ue&&ue(),[Wn]=de=E(V),[Un]=lt=S(V),Zn=gd(o),qn=x&&nb(g()),Gd={w:C(Un.w+Wn.w),h:C(Un.h+Wn.h)},Ba={w:C((qn?qn.w:Zn.w+C(Zn.w-Un.w))+Wn.w),h:C((qn?qn.h:Zn.h+C(Zn.h-Un.h))+Wn.h)};Ma&&Ma(),Le=$(Ba),Ie=L(v(Gd,Ba),V)}const[we,Ne]=Le,[Ee,pt]=Ie,[St,Je]=lt,[ei,bl]=de,[ot,vl]=M({x:Ee.w>0,y:Ee.h>0}),Fn=ce&&ve&&(ot.x||ot.y)||ce&&ot.x&&!ot.y||ve&&ot.y&&!ot.x,Pn=W||j||Q||bl||Je||Ne||pt||ge||re||me||U&&x,[_l,Vn]=z(V),en=j||G||Vn||vl||V,[tn,$n]=en?P(m(_l),V):I();let Ht=p(ot,J);b(!1),Pn&&(_(Ht),Ht=kb(o,ot),he&&te&&(te(Ht,St,ei),Sn(o,he(Ht))));const[Kd,Xd]=H(Ht);return Zs(n,Ut,ks,Fn),Zs(s,No,ks,Fn),be(e,{cn:Kd,Vt:{x:we.w,y:we.h},Rt:{x:Ee.w,y:Ee.h},j:ot,Dt:lb(tn,Ee)}),{sn:Xd,tn:Ne,nn:pt,en:$n||pt}}},qb=t=>{const[e,i,n]=$b(t),s={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[Ju]:0,[ed]:0,[Qu]:0,[ju]:0,[Ku]:0,[Gu]:0,[Xu]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:ut,y:ut},j:{x:!1,y:!1},Dt:vd()},{dt:o,gt:r,V:d,St:l}=e,{U:f,k:u}=xt(),g=!f&&(u.x||u.y),w=[Wb(e),Ub(e,s),Zb(e,s)];return[i,x=>{const C={},a=g&&Ye(r),c=a&&l();return _e(w,(h=>{be(C,h(x,C)||{})})),bt(r,a),c&&c(),d||bt(o,0),C},s,e,n]},Yb=(t,e,i,n,s)=>{let o=!1;const r=sc(e,{}),[d,l,f,u,g]=qb(t),[w,x,C]=Rb(u,f,r,(m=>{b({},m)})),[T,a,,c]=Vb(t,e,C,f,u,s),h=m=>ht(m).some((v=>!!m[v])),b=(m,v)=>{if(i())return!1;const{dn:p,It:_,Tt:E,pn:y}=m,S=p||{},N=!!_||!o,L={zt:sc(e,S,N),dn:S,It:N};if(y)return a(L),!1;const k=v||x(be({},L,{Tt:E})),M=l(be({},L,{un:C,Qt:k}));a(be({},L,{Qt:k,Zt:M}));const $=h(k),F=h(M),H=$||F||!ba(S)||N;return o=!0,H&&n(m,{Qt:k,Zt:M}),H};return[()=>{const{ln:m,gt:v,St:p}=u,_=Ye(m),E=[w(),d(),T()],y=p();return bt(v,_),y(),le(je,E)},b,()=>({vn:C,gn:f}),{hn:u,bn:c},g]},Ta=new WeakMap,jb=(t,e)=>{Ta.set(t,e)},Kb=t=>{Ta.delete(t)},Nd=t=>Ta.get(t),Kt=(t,e,i)=>{const{tt:n}=xt(),s=$s(t),o=s?t:t.target,r=Nd(o);if(e&&!r){let d=!1;const l=[],f={},u=S=>{const N=nd(S),L=Qi(ab);return L?L(N,!0):N},g=be({},n(),u(e)),[w,x,C]=Ao(),[T,a,c]=Ao(i),h=(S,N)=>{c(S,N),C(S,N)},[b,m,v,p,_]=Yb(t,g,(()=>d),(({dn:S,It:N},{Qt:L,Zt:k})=>{const{_t:M,Ct:$,$t:F,xt:H,Ht:z,ft:P}=L,{tn:I,nn:R,sn:D,en:B}=k;h("updated",[y,{updateHints:{sizeChanged:!!M,directionChanged:!!$,heightIntrinsicChanged:!!F,overflowEdgeChanged:!!I,overflowAmountChanged:!!R,overflowStyleChanged:!!D,scrollCoordinatesChanged:!!B,contentMutation:!!H,hostMutation:!!z,appear:!!P},changedOptions:S||{},force:!!N}])}),(S=>h("scroll",[y,S]))),E=S=>{Kb(o),je(l),d=!0,h("destroyed",[y,S]),x(),a()},y={options(S,N){if(S){const L=N?n():{},k=Sd(g,be(L,u(S)));ba(k)||(be(g,k),m({dn:k}))}return be({},g)},on:T,off:(S,N)=>{S&&N&&a(S,N)},state(){const{vn:S,gn:N}=v(),{B:L}=S,{Vt:k,Rt:M,cn:$,j:F,rn:H,fn:z,Dt:P}=N;return be({},{overflowEdge:k,overflowAmount:M,overflowStyle:$,hasOverflow:F,scrollCoordinates:{start:P.D,end:P.M},padding:H,paddingAbsolute:z,directionRTL:L,destroyed:d})},elements(){const{dt:S,vt:N,rn:L,L:k,ht:M,gt:$,Kt:F}=p.hn,{jt:H,Jt:z}=p.bn,P=R=>{const{Mt:D,Ut:B,Lt:A}=R;return{scrollbar:A,track:B,handle:D}},I=R=>{const{Xt:D,Yt:B}=R,A=P(D[0]);return be({},A,{clone:()=>{const O=P(B());return m({pn:!0}),O}})};return be({},{target:S,host:N,padding:L||k,viewport:k,content:M||k,scrollOffsetElement:$,scrollEventElement:F,scrollbarHorizontal:I(H),scrollbarVertical:I(z)})},update:S=>m({It:S,Tt:!0}),destroy:le(E,!1),plugin:S=>f[ht(S)[0]]};return Se(l,[_]),jb(o,y),wd(_d,Kt,[y,w,f]),Hb(p.hn.bt,!s&&t.cancel)?(E(!0),y):(Se(l,b()),h("initialized",[y]),y.update(),y)}return r};Kt.plugin=t=>{const e=dt(t),i=e?t:[t],n=i.map((s=>wd(s,Kt)[0]));return ob(i),e?n:n[0]};Kt.valid=t=>{const e=t&&t.elements,i=gt(e)&&e();return Vs(i)&&!!Nd(i.target)};Kt.env=()=>{const{P:t,k:e,U:i,J:n,ot:s,st:o,K:r,Z:d,tt:l,nt:f}=xt();return be({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:i,scrollTimeline:n,staticDefaultInitialization:s,staticDefaultOptions:o,getDefaultInitialization:r,setDefaultInitialization:d,getDefaultOptions:l,setDefaultOptions:f})};Kt.nonce=Ob;Kt.trustedTypePolicy=eb;function Xb(){document.querySelectorAll("[data-overlayscrollbars-initialize]").forEach(e=>{Kt(e,{overflow:{x:"hidden"},scrollbars:{theme:"os-theme-admin",autoHide:"leave",autoHideDelay:500}})})}const As=document.getElementById("adminSidebar"),oc=document.getElementById("adminSidebarToggler"),Gb=1200;let ac=null;function Qb(){!As||!oc||(oc.addEventListener("click",Gl),window.addEventListener("resize",Gl),Gl())}function Gl(t=null){clearTimeout(ac),ac=setTimeout(()=>{As.classList.toggle("active",!t||t?.type==="resize"?window.innerWidth>=Gb:void 0),setTimeout(()=>{As.dispatchEvent(new CustomEvent("togglesidebar",{detail:{active:As.classList.contains("active")},bubbles:!0,cancelable:!0}))},250)},t?.type==="resize"?150:0)}let Ql=!1;function Jb(){document.addEventListener("submit",t=>{const e=t?.target,i=e?.isFormSending;if(!e||e?.tagName!=="FORM"||i){i&&t.preventDefault();return}const n=e.id,s=n?document.querySelector(`[data-submit-loader][form="${n}"]`):null;e.isFormSending=!0,e.classList.add("sending"),s?.classList?.add("sending"),setTimeout(()=>{const o=document.getElementById("waitRequestProcessedMessage");if(!o)return;new Gi(o).show()},3e3)}),document.addEventListener("invalid",t=>{if(Ql)return;const e=t?.target;e&&(Ql=!0);const i=e.closest("[data-overlayscrollbars-viewport]"),n=e.closest(".tab-pane"),s=document.querySelector(`[data-bs-target="#${n?.id}"]`),o=e.closest(".accordion-collapse"),r=document.querySelector(`[data-bs-target="#${o?.id}"]`);s?.click(),r?.classList?.contains("collapsed")&&r?.click(),setTimeout(()=>{Ql=!1},50),i&&setTimeout(()=>{i.scroll({top:i.scrollTop+e.offsetHeight+16,behavior:"smooth"})},200)},!0)}function ev(){document.querySelectorAll("[data-toast-alert]").forEach(e=>{e.addEventListener("hidden.bs.toast",()=>{e.remove()})})}function tv(){const t=document.querySelectorAll("[data-toast-alert]");let e=0;t.forEach(i=>{const n=new Gi(i);setTimeout(()=>{n.show()},e),e+=100})}function La(t){return t[t.length-1]}function zn(t,...e){return e.forEach(i=>{t.includes(i)||t.push(i)}),t}function rc(t,e){return t?t.split(e):[]}function ka(t,e,i){const n=e===void 0||t>=e,s=i===void 0||t<=i;return n&&s}function Dd(t,e,i){return t<e?e:t>i?i:t}function Zi(t,e,i={},n=0,s=""){const o=Object.keys(i).reduce((d,l)=>{let f=i[l];return typeof f=="function"&&(f=f(n)),`${d} ${l}="${f}"`},t);s+=`<${o}></${t}>`;const r=n+1;return r<e?Zi(t,e,i,r,s):s}function Aa(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function Mo(t){return new Date(t).setHours(0,0,0,0)}function bi(){return new Date().setHours(0,0,0,0)}function qi(...t){switch(t.length){case 0:return bi();case 1:return Mo(t[0])}const e=new Date(0);return e.setFullYear(...t),e.setHours(0,0,0,0)}function Tn(t,e){const i=new Date(t);return i.setDate(i.getDate()+e)}function iv(t,e){return Tn(t,e*7)}function Ys(t,e){const i=new Date(t),n=i.getMonth()+e;let s=n%12;s<0&&(s+=12);const o=i.setMonth(n);return i.getMonth()!==s?i.setDate(0):o}function Ln(t,e){const i=new Date(t),n=i.getMonth(),s=i.setFullYear(i.getFullYear()+e);return n===1&&i.getMonth()===2?i.setDate(0):s}function cc(t,e){return(t-e+7)%7}function ci(t,e,i=0){const n=new Date(t).getDay();return Tn(t,cc(e,i)-cc(n,i))}function Od(t,e){return Math.round((t-e)/6048e5)+1}function nv(t){const e=ci(t,4,1),i=ci(new Date(e).setMonth(0,4),4,1);return Od(e,i)}function Md(t,e){const i=ci(new Date(t).setMonth(0,1),e,e),n=ci(t,e,e),s=Od(n,i);if(s<53)return s;const o=ci(new Date(t).setDate(32),e,e);return n===o?1:s}function sv(t){return Md(t,0)}function lv(t){return Md(t,6)}function Ci(t,e){const i=new Date(t).getFullYear();return Math.floor(i/e)*e}function Zt(t,e,i){if(e!==1&&e!==2)return t;const n=new Date(t);return e===1?i?n.setMonth(n.getMonth()+1,0):n.setDate(1):i?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}const Bo=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,ov=/[\s!-/:-@[-`{-~]+/;let Jl={};const uc={y(t,e){return new Date(t).setFullYear(parseInt(e,10))},m(t,e,i){const n=new Date(t);let s=parseInt(e,10)-1;if(isNaN(s)){if(!e)return NaN;const o=e.toLowerCase(),r=d=>d.toLowerCase().startsWith(o);if(s=i.monthsShort.findIndex(r),s<0&&(s=i.months.findIndex(r)),s<0)return NaN}return n.setMonth(s),n.getMonth()!==Bd(s)?n.setDate(0):n.getTime()},d(t,e){return new Date(t).setDate(parseInt(e,10))}},av={d(t){return t.getDate()},dd(t){return rs(t.getDate(),2)},D(t,e){return e.daysShort[t.getDay()]},DD(t,e){return e.days[t.getDay()]},m(t){return t.getMonth()+1},mm(t){return rs(t.getMonth()+1,2)},M(t,e){return e.monthsShort[t.getMonth()]},MM(t,e){return e.months[t.getMonth()]},y(t){return t.getFullYear()},yy(t){return rs(t.getFullYear(),2).slice(-2)},yyyy(t){return rs(t.getFullYear(),4)}};function Bd(t){return t>-1?t%12:Bd(t+12)}function rs(t,e){return t.toString().padStart(e,"0")}function Id(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in Jl)return Jl[t];const e=t.split(Bo),i=t.match(new RegExp(Bo,"g"));if(e.length===0||!i)throw new Error("Invalid date format.");const n=i.map(o=>av[o]),s=Object.keys(uc).reduce((o,r)=>(i.find(l=>l[0]!=="D"&&l[0].toLowerCase()===r)&&o.push(r),o),[]);return Jl[t]={parser(o,r){const d=o.split(ov).reduce((l,f,u)=>{if(f.length>0&&i[u]){const g=i[u][0];g==="M"?l.m=f:g!=="D"&&(l[g]=f)}return l},{});return s.reduce((l,f)=>{const u=uc[f](l,d[f],r);return isNaN(u)?l:u},bi())},formatter(o,r){let d=n.reduce((l,f,u)=>l+=`${e[u]}${f(o,r)}`,"");return d+=La(e)}}}function fi(t,e,i){if(t instanceof Date||typeof t=="number"){const n=Mo(t);return isNaN(n)?void 0:n}if(t){if(t==="today")return bi();if(e&&e.toValue){const n=e.toValue(t,e,i);return isNaN(n)?void 0:Mo(n)}return Id(e).parser(t,i)}}function Hn(t,e,i){if(isNaN(t)||!t&&t!==0)return"";const n=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):Id(e).formatter(n,i)}const rv=document.createRange();function It(t){return rv.createContextualFragment(t)}function Rd(t){return t.parentElement||(t.parentNode instanceof ShadowRoot?t.parentNode.host:void 0)}function ml(t){return t.getRootNode().activeElement===t}function _n(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function yn(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function js(t){t.firstChild&&(t.removeChild(t.firstChild),js(t))}function cv(t,e){js(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(It(e)):typeof e.forEach=="function"&&e.forEach(i=>{t.appendChild(i)})}const Ks=new WeakMap,{addEventListener:uv,removeEventListener:dv}=EventTarget.prototype;function Xs(t,e){let i=Ks.get(t);i||(i=[],Ks.set(t,i)),e.forEach(n=>{uv.call(...n),i.push(n)})}function zd(t){let e=Ks.get(t);e&&(e.forEach(i=>{dv.call(...i)}),Ks.delete(t))}if(!Event.prototype.composedPath){const t=(e,i=[])=>{i.push(e);let n;return e.parentNode?n=e.parentNode:e.host?n=e.host:e.defaultView&&(n=e.defaultView),n?t(n,i):i};Event.prototype.composedPath=function(){return t(this.target)}}function Hd(t,e,i){const[n,...s]=t;if(e(n))return n;if(!(n===i||n.tagName==="HTML"||s.length===0))return Hd(s,e,i)}function Fd(t,e){const i=typeof e=="function"?e:n=>n instanceof Element&&n.matches(e);return Hd(t.composedPath(),i,t.currentTarget)}const ln={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Na={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"",orientation:"auto",pickLevel:0,prevArrow:"",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:eo,format:hv,weekStart:fv}=Na;function dc(t,e){return t.length<6&&e>=0&&e<7?zn(t,e):t}function Pd(t,e){switch(t===4?e===6?3:!e+1:t){case 1:return nv;case 2:return sv;case 3:return lv}}function hc(t,e,i){return e.weekStart=t,e.weekEnd=(t+6)%7,i===4&&(e.getWeekNumber=Pd(4,t)),t}function fc(t,e,i,n){const s=fi(t,e,i);return s!==void 0?s:n}function to(t,e,i=3){const n=parseInt(t,10);return n>=0&&n<=i?n:e}function cs(t,e,i,n=void 0){e in t&&(i in t||(t[i]=n?n(t[e]):t[e]),delete t[e])}function io(t,e){const i=Object.assign({},t),n={},s=e.constructor.locales,o=!!e.rangeSideIndex;let{datesDisabled:r,format:d,language:l,locale:f,maxDate:u,maxView:g,minDate:w,pickLevel:x,startView:C,weekNumbers:T,weekStart:a}=e.config||{};if(cs(i,"calendarWeeks","weekNumbers",p=>p?1:0),cs(i,"clearBtn","clearButton"),cs(i,"todayBtn","todayButton"),cs(i,"todayBtnMode","todayButtonMode"),i.language){let p;if(i.language!==l&&(s[i.language]?p=i.language:(p=i.language.split("-")[0],s[p]||(p=!1))),delete i.language,p){l=n.language=p;const _=f||s[eo];f=Object.assign({format:hv,weekStart:fv},s[eo]),l!==eo&&Object.assign(f,s[l]),n.locale=f,d===_.format&&(d=n.format=f.format),a===_.weekStart&&(a=hc(f.weekStart,n,T))}}if(i.format){const p=typeof i.format.toDisplay=="function",_=typeof i.format.toValue=="function",E=Bo.test(i.format);(p&&_||E)&&(d=n.format=i.format),delete i.format}let c=x;"pickLevel"in i&&(c=to(i.pickLevel,x,2),delete i.pickLevel),c!==x&&(c>x&&("minDate"in i||(i.minDate=w),"maxDate"in i||(i.maxDate=u)),r&&!i.datesDisabled&&(i.datesDisabled=[]),x=n.pickLevel=c);let h=w,b=u;if("minDate"in i){const p=qi(0,0,1);h=i.minDate===null?p:fc(i.minDate,d,f,h),h!==p&&(h=Zt(h,x,!1)),delete i.minDate}if("maxDate"in i&&(b=i.maxDate===null?void 0:fc(i.maxDate,d,f,b),b!==void 0&&(b=Zt(b,x,!0)),delete i.maxDate),b<h?(w=n.minDate=b,u=n.maxDate=h):(w!==h&&(w=n.minDate=h),u!==b&&(u=n.maxDate=b)),i.datesDisabled){const p=i.datesDisabled;if(typeof p=="function")n.datesDisabled=null,n.checkDisabled=(_,E)=>p(new Date(_),E,o);else{const _=n.datesDisabled=p.reduce((E,y)=>{const S=fi(y,d,f);return S!==void 0?zn(E,Zt(S,x,o)):E},[]);n.checkDisabled=E=>_.includes(E)}delete i.datesDisabled}if("defaultViewDate"in i){const p=fi(i.defaultViewDate,d,f);p!==void 0&&(n.defaultViewDate=p),delete i.defaultViewDate}if("weekStart"in i){const p=Number(i.weekStart)%7;isNaN(p)||(a=hc(p,n,T)),delete i.weekStart}if(i.daysOfWeekDisabled&&(n.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(dc,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(dc,[]),delete i.daysOfWeekHighlighted),"weekNumbers"in i){let p=i.weekNumbers;if(p){const _=typeof p=="function"?(E,y)=>p(new Date(E),y):Pd(p=parseInt(p,10),a);_&&(T=n.weekNumbers=p,n.getWeekNumber=_)}else T=n.weekNumbers=0,n.getWeekNumber=null;delete i.weekNumbers}if("maxNumberOfDates"in i){const p=parseInt(i.maxNumberOfDates,10);p>=0&&(n.maxNumberOfDates=p,n.multidate=p!==1),delete i.maxNumberOfDates}i.dateDelimiter&&(n.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);let m=g;"maxView"in i&&(m=to(i.maxView,g),delete i.maxView),m=x>m?x:m,m!==g&&(g=n.maxView=m);let v=C;if("startView"in i&&(v=to(i.startView,v),delete i.startView),v<x?v=x:v>g&&(v=g),v!==C&&(n.startView=v),i.prevArrow){const p=It(i.prevArrow);p.childNodes.length>0&&(n.prevArrow=p.childNodes),delete i.prevArrow}if(i.nextArrow){const p=It(i.nextArrow);p.childNodes.length>0&&(n.nextArrow=p.childNodes),delete i.nextArrow}if("disableTouchKeyboard"in i&&(n.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){const p=i.orientation.toLowerCase().split(/\s+/g);n.orientation={x:p.find(_=>_==="left"||_==="right")||"auto",y:p.find(_=>_==="top"||_==="bottom")||"auto"},delete i.orientation}if("todayButtonMode"in i){switch(i.todayButtonMode){case 0:case 1:n.todayButtonMode=i.todayButtonMode}delete i.todayButtonMode}return Object.entries(i).forEach(([p,_])=>{_!==void 0&&p in Na&&(n[p]=_)}),n}const gc={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function gv(t){return Object.keys(gc).reduce((e,i)=>{const n=t[i]===void 0?gc[i]:t[i],s=n&&n.key;if(!s||typeof s!="string")return e;const o={key:s,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};return s.length>1&&(o.altKey=!!n.altKey,o.shiftKey=!!n.shiftKey),e[i]=o,e},{})}const pc=t=>t.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),pv=Aa(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${pc(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${pc(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),mv=Aa(`<div class="days">
  <div class="days-of-week">${Zi("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${Zi("span",42)}</div>
</div>`),bv=Aa(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${Zi("span",6,{class:"week"})}</div>
</div>`);class Da{constructor(e,i){Object.assign(this,i,{picker:e,element:It('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,i,n){this.disabled=[];const s=this.picker;s.setViewSwitchLabel(e),s.setPrevButtonDisabled(i),s.setNextButtonDisabled(n)}setDisabled(e,i){i.add("disabled"),zn(this.disabled,e)}performBeforeHook(e,i){let n=this.beforeShow(new Date(i));switch(typeof n){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){const s=e.classList;if(n.enabled===!1&&this.setDisabled(i,s),n.classes){const o=n.classes.split(/\s+/);s.add(...o),o.includes("disabled")&&this.setDisabled(i,s)}n.content&&cv(e,n.content)}}renderCell(e,i,n,s,{selected:o,range:r},d,l=[]){e.textContent=i,this.isMinView&&(e.dataset.date=s);const f=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,n<this.first?f.add("prev"):n>this.last&&f.add("next"),f.add(...l),(d||this.checkDisabled(s,this.id))&&this.setDisabled(s,f),r){const[u,g]=r;n>u&&n<g&&f.add("range"),n===u&&f.add("range-start"),n===g&&f.add("range-end")}o.includes(n)&&f.add("selected"),n===this.focused&&f.add("focused"),this.beforeShow&&this.performBeforeHook(e,s)}refreshCell(e,i,n,[s,o]){const r=e.classList;r.remove("range","range-start","range-end","selected","focused"),i>s&&i<o&&r.add("range"),i===s&&r.add("range-start"),i===o&&r.add("range-end"),n.includes(i)&&r.add("selected"),i===this.focused&&r.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(i=>{i.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class vv extends Da{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,i=!0){if(i){const n=It(mv).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}super.init(e)}setOptions(e){let i;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,i=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,i=!0),e.locale){const n=this.locale=e.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,i=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const n=It(bv).firstChild;this.weekNumbers={element:n,dow:n.firstChild,weeks:n.lastChild},this.element.insertBefore(n,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(yn(this.dow),this.weekNumbers&&yn(this.weekNumbers.dow)):(_n(this.dow),this.weekNumbers&&_n(this.weekNumbers.dow))),i&&Array.from(this.dow.children).forEach((n,s)=>{const o=(this.weekStart+s)%7;n.textContent=this.dayNames[o],n.className=this.daysOfWeekDisabled.includes(o)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),i=e.getFullYear(),n=e.getMonth(),s=qi(i,n,1),o=ci(s,this.weekStart,this.weekStart);this.first=s,this.last=qi(i,n+1,0),this.start=o,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e,i&&(this.range=i.dates)}render(){if(this.today=this.todayHighlight?bi():void 0,this.prepareForRender(Hn(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,i=ci(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((n,s)=>{const o=iv(i,s);n.textContent=this.getWeekNumber(o,e),s>3&&n.classList[o>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,i)=>{const n=Tn(this.start,i),s=new Date(n),o=s.getDay(),r=[];this.today===n&&r.push("today"),this.daysOfWeekHighlighted.includes(o)&&r.push("highlighted"),this.renderCell(e,s.getDate(),n,n,this,n<this.minDate||n>this.maxDate||this.daysOfWeekDisabled.includes(o),r)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function mc(t,e){if(!t||!t[0]||!t[1])return;const[[i,n],[s,o]]=t;if(!(i>e||s<e))return[i===e?n:-1,s===e?o:12]}class _v extends Da{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,i=!0){i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(It(Zi("span",12,{"data-month":n=>n}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const i=new Date(e.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const i=new Date(e.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=qi(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>{const o=new Date(s),r=o.getFullYear(),d=o.getMonth();return n[r]===void 0?n[r]=[d]:zn(n[r],d),n},{}),i&&i.dates&&(this.range=i.dates.map(n=>{const s=new Date(n);return isNaN(s)?void 0:[s.getFullYear(),s.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,s=this.year===this.maxYear,o=mc(this.range,this.year);Array.from(this.grid.children).forEach((r,d)=>{const l=Zt(new Date(this.year,d,1),1,this.isRangeEnd);this.renderCell(r,this.monthNames[d],d,l,{selected:e,range:o},i||n&&d<this.minMonth||s&&d>this.maxMonth)})}refresh(){const e=this.selected[this.year]||[],i=mc(this.range,this.year)||[];Array.from(this.grid.children).forEach((n,s)=>{this.refreshCell(n,s,e,i)})}refreshFocus(){this.changeFocusedCell(this.focused)}}function yv(t){return[...t].reduce((e,i,n)=>e+=n?i:i.toUpperCase(),"")}class bc extends Da{constructor(e,i){super(e,i)}init(e,i=!0){i&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${yv(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(It(Zi("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Ci(e.minDate,this.step),this.minDate=qi(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Ci(e.maxDate,this.step),this.maxDate=qi(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){const i=e[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),i=Ci(e,this.navStep),n=i+9*this.step;this.first=i,this.last=n,this.start=i-this.step,this.focused=Ci(e,this.step)}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>zn(n,Ci(s,this.step)),[]),i&&i.dates&&(this.range=i.dates.map(n=>{if(n!==void 0)return Ci(n,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,i)=>{const n=this.start+i*this.step,s=Zt(new Date(n,0,1),2,this.isRangeEnd);e.dataset.year=n,this.renderCell(e,n,n,s,this,n<this.minYear||n>this.maxYear)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Li(t,e){const i={bubbles:!0,cancelable:!0,detail:{date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t}};t.element.dispatchEvent(new CustomEvent(e,i))}function Gs(t,e){const{config:i,picker:n}=t,{currentView:s,viewDate:o}=n;let r;switch(s.id){case 0:r=Ys(o,e);break;case 1:r=Ln(o,e);break;default:r=Ln(o,e*s.navStep)}r=Dd(r,i.minDate,i.maxDate),n.changeFocus(r).render()}function Vd(t){const e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function $d(t){t.setDate({clear:!0})}function Wd(t){const e=bi();t.config.todayButtonMode===1?t.setDate(e,{forceRefresh:!0,viewDate:e}):t.setFocusedDate(e,!0)}function Ud(t){const e=()=>{t.config.updateOnBlur?t.update({revert:!0}):t.refresh("input"),t.hide()},i=t.element;ml(i)?i.addEventListener("blur",e,{once:!0}):e()}function vc(t,e){const i=t.picker,n=new Date(i.viewDate),s=i.currentView.id,o=s===1?Ys(n,e-n.getMonth()):Ln(n,e-n.getFullYear());i.changeFocus(o).changeView(s-1).render()}function wv(t){Vd(t)}function Cv(t){Gs(t,-1)}function Ev(t){Gs(t,1)}function xv(t,e){const i=Fd(e,".datepicker-cell");if(!i||i.classList.contains("disabled"))return;const{id:n,isMinView:s}=t.picker.currentView,o=i.dataset;s?t.setDate(Number(o.date)):n===1?vc(t,Number(o.month)):vc(t,Number(o.year))}function Sv(t){t.preventDefault()}const no=["left","top","right","bottom"].reduce((t,e)=>(t[e]=`datepicker-orient-${e}`,t),{}),_c=t=>t&&`${t}px`;function yc(t,e){if("title"in e&&(e.title?(t.controls.title.textContent=e.title,yn(t.controls.title)):(t.controls.title.textContent="",_n(t.controls.title))),e.prevArrow){const i=t.controls.prevButton;js(i),e.prevArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.nextArrow){const i=t.controls.nextButton;js(i),e.nextArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.locale&&(t.controls.todayButton.textContent=e.locale.today,t.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?yn(t.controls.todayButton):_n(t.controls.todayButton)),"minDate"in e||"maxDate"in e){const{minDate:i,maxDate:n}=t.datepicker.config;t.controls.todayButton.disabled=!ka(bi(),i,n)}"clearButton"in e&&(e.clearButton?yn(t.controls.clearButton):_n(t.controls.clearButton))}function wc(t){const{dates:e,config:i,rangeSideIndex:n}=t,s=e.length>0?La(e):Zt(i.defaultViewDate,i.pickLevel,n);return Dd(s,i.minDate,i.maxDate)}function Cc(t,e){!("_oldViewDate"in t)&&e!==t.viewDate&&(t._oldViewDate=t.viewDate),t.viewDate=e;const{id:i,year:n,first:s,last:o}=t.currentView,r=new Date(e).getFullYear();switch(i){case 0:return e<s||e>o;case 1:return r!==n;default:return r<s||r>o}}function so(t){return window.getComputedStyle(t).direction}function Zd(t){const e=Rd(t);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:Zd(e)}class Tv{constructor(e){const{config:i,inputField:n}=this.datepicker=e,s=pv.replace(/%buttonClass%/g,i.buttonClass),o=this.element=It(s).firstChild,[r,d,l]=o.firstChild.children,f=r.firstElementChild,[u,g,w]=r.lastElementChild.children,[x,C]=l.firstChild.children,T={title:f,prevButton:u,viewSwitch:g,nextButton:w,todayButton:x,clearButton:C};this.main=d,this.controls=T;const a=n?"dropdown":"inline";o.classList.add(`datepicker-${a}`),yc(this,i),this.viewDate=wc(e),Xs(e,[[o,"mousedown",Sv],[d,"click",xv.bind(null,e)],[T.viewSwitch,"click",wv.bind(null,e)],[T.prevButton,"click",Cv.bind(null,e)],[T.nextButton,"click",Ev.bind(null,e)],[T.todayButton,"click",Wd.bind(null,e)],[T.clearButton,"click",$d.bind(null,e)]]),this.views=[new vv(this),new _v(this),new bc(this,{id:2,name:"years",cellClass:"year",step:1}),new bc(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[i.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),i.container?i.container.appendChild(this.element):n.after(this.element)}setOptions(e){yc(this,e),this.views.forEach(i=>{i.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:i}=this,n=e.inputField;if(n){const s=so(n);s!==so(Rd(i))?i.dir=s:i.dir&&i.removeAttribute("dir"),this.place(),i.classList.add("active"),e.config.disableTouchKeyboard&&n.blur()}else i.classList.add("active");this.active=!0,Li(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Li(this.datepicker,"hide"))}place(){const{classList:e,style:i}=this.element;i.display="block";const{width:n,height:s}=this.element.getBoundingClientRect(),o=this.element.offsetParent;i.display="";const{config:r,inputField:d}=this.datepicker,{left:l,top:f,right:u,bottom:g,width:w,height:x}=d.getBoundingClientRect();let{x:C,y:T}=r.orientation,a=l,c=f;if(o===document.body||!o)a+=window.scrollX,c+=window.scrollY;else{const E=o.getBoundingClientRect();a-=E.left-o.scrollLeft,c-=E.top-o.scrollTop}const h=Zd(d);let b=0,m=0,{clientWidth:v,clientHeight:p}=document.documentElement;if(h){const E=h.getBoundingClientRect();E.top>0&&(m=E.top),E.left>0&&(b=E.left),E.right<v&&(v=E.right),E.bottom<p&&(p=E.bottom)}let _=0;C==="auto"&&(l<b?(C="left",_=b-l):l+n>v?(C="right",v<u&&(_=v-u)):so(d)==="rtl"?C=u-n<b?"left":"right":C="left"),C==="right"&&(a+=w-n),a+=_,T==="auto"&&(f-s>m?T=g+s>p?"top":"bottom":T="bottom"),T==="top"?c-=s:c+=x,e.remove(...Object.values(no)),e.add(no[C],no[T]),i.left=_c(a),i.top=_c(c)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const i=this.currentView;return e!==i.id&&(this._oldView||(this._oldView=i),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=Cc(this,e)?"render":"refreshFocus",this.views.forEach(i=>{i.updateFocus()}),this}update(e=void 0){const i=e===void 0?wc(this.datepicker):e;return this._renderMethod=Cc(this,i)?"render":"refresh",this.views.forEach(n=>{n.updateFocus(),n.updateSelection()}),this}render(e=!0){const{currentView:i,datepicker:n,_oldView:s}=this,o=new Date(this._oldViewDate),r=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,i[r](),s&&(this.main.replaceChild(i.element,s.element),Li(n,"changeView")),!isNaN(o)){const d=new Date(this.viewDate);d.getFullYear()!==o.getFullYear()&&Li(n,"changeYear"),d.getMonth()!==o.getMonth()&&Li(n,"changeMonth")}}}function qd(t,e,i,n,s,o){if(ka(t,s,o)){if(n(t)){const r=e(t,i);return qd(r,e,i,n,s,o)}return t}}function Lv(t,e,i){const n=t.picker,s=n.currentView,o=s.step||1;let r=n.viewDate,d;switch(s.id){case 0:r=Tn(r,i?e*7:e),d=Tn;break;case 1:r=Ys(r,i?e*4:e),d=Ys;break;default:r=Ln(r,e*(i?4:1)*o),d=Ln}r=qd(r,d,e<0?-o:o,l=>s.disabled.includes(l),s.minDate,s.maxDate),r!==void 0&&n.changeFocus(r).render()}function kv(t,e){const{config:i,picker:n,editMode:s}=t,o=n.active,{key:r,altKey:d,shiftKey:l}=e,f=e.ctrlKey||e.metaKey,u=()=>{e.preventDefault(),e.stopPropagation()};if(r==="Tab"){Ud(t);return}if(r==="Enter"){if(!o)t.update();else if(s)t.exitEditMode({update:!0,autohide:i.autohide});else{const T=n.currentView;T.isMinView?t.setDate(n.viewDate):(n.changeView(T.id-1).render(),u())}return}const g=i.shortcutKeys,w={key:r,ctrlOrMetaKey:f,altKey:d,shiftKey:l},x=Object.keys(g).find(T=>{const a=g[T];return!Object.keys(a).find(c=>a[c]!==w[c])});if(x){let T;if(x==="toggle"?T=x:s?x==="exitEditMode"&&(T=x):o?x==="hide"?T=x:x==="prevButton"?T=[Gs,[t,-1]]:x==="nextButton"?T=[Gs,[t,1]]:x==="viewSwitch"?T=[Vd,[t]]:i.clearButton&&x==="clearButton"?T=[$d,[t]]:i.todayButton&&x==="todayButton"&&(T=[Wd,[t]]):x==="show"&&(T=x),T){Array.isArray(T)?T[0].apply(null,T[1]):t[T](),u();return}}if(!o||s)return;const C=(T,a)=>{l||f||d?t.enterEditMode():(Lv(t,T,a),e.preventDefault())};r==="ArrowLeft"?C(-1,!1):r==="ArrowRight"?C(1,!1):r==="ArrowUp"?C(-1,!0):r==="ArrowDown"?C(1,!0):(r==="Backspace"||r==="Delete"||r&&r.length===1&&!f)&&t.enterEditMode()}function Av(t){t.config.showOnFocus&&!t._showing&&t.show()}function Nv(t,e){const i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=ml(i),i._clicking=setTimeout(()=>{delete i._active,delete i._clicking},2e3))}function Dv(t,e){const i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function Ov(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function Mv(t,e){const{element:i,picker:n}=t;if(!n.active&&!ml(i))return;const s=n.element;Fd(e,o=>o===i||o===s)||Ud(t)}function Yd(t,e){return t.map(i=>Hn(i,e.format,e.locale)).join(e.dateDelimiter)}function jd(t,e,i=!1){if(e.length===0)return i?[]:void 0;const{config:n,dates:s,rangeSideIndex:o}=t,{pickLevel:r,maxNumberOfDates:d}=n;let l=e.reduce((f,u)=>{let g=fi(u,n.format,n.locale);return g===void 0||(g=Zt(g,r,o),ka(g,n.minDate,n.maxDate)&&!f.includes(g)&&!n.checkDisabled(g,r)&&(r>0||!n.daysOfWeekDisabled.includes(new Date(g).getDay()))&&f.push(g)),f},[]);if(l.length!==0)return n.multidate&&!i&&(l=l.reduce((f,u)=>(s.includes(u)||f.push(u),f),s.filter(f=>!l.includes(f)))),d&&l.length>d?l.slice(d*-1):l}function Qs(t,e=3,i=!0,n=void 0){const{config:s,picker:o,inputField:r}=t;if(e&2){const d=o.active?s.pickLevel:s.startView;o.update(n).changeView(d).render(i)}e&1&&r&&(r.value=Yd(t.dates,s))}function Ec(t,e,i){const n=t.config;let{clear:s,render:o,autohide:r,revert:d,forceRefresh:l,viewDate:f}=i;o===void 0&&(o=!0),o?r===void 0&&(r=n.autohide):r=l=!1,f=fi(f,n.format,n.locale);const u=jd(t,e,s);!u&&!d||(u&&u.toString()!==t.dates.toString()?(t.dates=u,Qs(t,o?3:1,!0,f),Li(t,"changeDate")):Qs(t,l?3:1,!0,f),r&&t.hide())}function xc(t,e){return e?i=>Hn(i,e,t.config.locale):i=>new Date(i)}class Oa{constructor(e,i={},n=void 0){e.datepicker=this,this.element=e,this.dates=[];const s=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:null,defaultViewDate:bi(),maxDate:void 0,minDate:void 0},io(Na,this));let o;if(e.tagName==="INPUT"?(o=this.inputField=e,o.classList.add("datepicker-input"),i.container&&(s.container=i.container instanceof HTMLElement?i.container:document.querySelector(i.container))):s.container=e,n){const u=n.inputs.indexOf(o),g=n.datepickers;if(u<0||u>1||!Array.isArray(g))throw Error("Invalid rangepicker object.");g[u]=this,this.rangepicker=n,this.rangeSideIndex=u}this._options=i,Object.assign(s,io(i,this)),s.shortcutKeys=gv(i.shortcutKeys||{});const r=rc(e.value||e.dataset.date,s.dateDelimiter);delete e.dataset.date;const d=jd(this,r);d&&d.length>0&&(this.dates=d),o&&(o.value=Yd(this.dates,s));const l=this.picker=new Tv(this),f=[e,"keydown",kv.bind(null,this)];o?Xs(this,[f,[o,"focus",Av.bind(null,this)],[o,"mousedown",Nv.bind(null,this)],[o,"click",Dv.bind(null,this)],[o,"paste",Ov.bind(null,this)],[document,"mousedown",Mv.bind(null,this)],[window,"resize",l.place.bind(l)]]):(Xs(this,[f]),this.show())}static formatDate(e,i,n){return Hn(e,i,n&&ln[n]||ln.en)}static parseDate(e,i,n){return fi(e,i,n&&ln[n]||ln.en)}static get locales(){return ln}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const i=io(e,this);Object.assign(this._options,e),Object.assign(this.config,i),this.picker.setOptions(i),Qs(this,3)}show(){if(this.inputField){const{config:e,inputField:i}=this;if(i.disabled||i.readOnly&&!e.enableOnReadonly)return;!ml(i)&&!e.disableTouchKeyboard&&(this._showing=!0,i.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),zd(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){const i=xc(this,e);if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}setDate(...e){const i=[...e],n={},s=La(e);s&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&Object.assign(n,i.pop());const o=Array.isArray(i[0])?i[0]:i;Ec(this,o,n)}update(e=void 0){if(!this.inputField)return;const i=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),n=rc(this.inputField.value,this.config.dateDelimiter);Ec(this,n,i)}getFocusedDate(e=void 0){return xc(this,e)(this.picker.viewDate)}setFocusedDate(e,i=!1){const{config:n,picker:s,active:o,rangeSideIndex:r}=this,d=n.pickLevel,l=fi(e,n.format,n.locale);l!==void 0&&(s.changeFocus(Zt(l,d,r)),o&&i&&s.changeView(d),s.render())}refresh(e=void 0,i=!1){e&&typeof e!="string"&&(i=e,e=void 0);let n;e==="picker"?n=2:e==="input"?n=1:n=3,Qs(this,n,!i)}enterEditMode(){const e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;const i=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),i.update&&this.update(i)}}function Sc(t){const e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function Bv(t,e,i,n){Xs(t,[[i,"changeDate",e]]),new Oa(i,n,t)}function on(t,e){if(t._updating)return;t._updating=!0;const i=e.target;if(i.datepicker===void 0)return;const n=t.datepickers,[s,o]=n,r={render:!1},d=t.inputs.indexOf(i),l=d===0?1:0,f=n[d].dates[0],u=n[l].dates[0];f!==void 0&&u!==void 0?d===0&&f>u?(s.setDate(u,r),o.setDate(f,r)):d===1&&f<u&&(s.setDate(f,r),o.setDate(u,r)):t.allowOneSidedRange||(f!==void 0||u!==void 0)&&(r.clear=!0,n[l].setDate(n[d].dates,r)),n.forEach(g=>{g.picker.update().render()}),delete t._updating}class Iv{constructor(e,i={}){let n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(n.length<2)return;e.rangepicker=this,this.element=e,this.inputs=n=n.slice(0,2),Object.freeze(n),this.allowOneSidedRange=!!i.allowOneSidedRange;const s=on.bind(null,this),o=Sc(i),r=this.datepickers=[];n.forEach(d=>{Bv(this,s,d,o)}),Object.freeze(r),Object.defineProperty(this,"dates",{get(){return r.map(d=>d.dates[0])}}),r[0].dates.length>0?on(this,{target:n[0]}):r[1].dates.length>0&&on(this,{target:n[1]})}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const i=Sc(e);this.datepickers.forEach(n=>{n.setOptions(i)})}destroy(){this.datepickers.forEach(e=>{e.destroy()}),zd(this),delete this.element.rangepicker}getDates(e=void 0){const i=e?n=>Hn(n,e,this.datepickers[0].config.locale):n=>new Date(n);return this.dates.map(n=>n===void 0?n:i(n))}setDates(e,i){const{datepickers:[n,s],inputs:[o,r],dates:[d,l]}=this;this._updating=!0,n.setDate(e),s.setDate(i),delete this._updating,s.dates[0]!==l?on(this,{target:r}):n.dates[0]!==d&&on(this,{target:o})}}const Rv={uk:{days:["","","","","","'",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1}},zv={de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Lschen",weekStart:1,format:"dd.mm.yyyy"}};Object.assign(Oa.locales,Rv,zv);function Hv(){document.querySelectorAll("[data-datepicker]").forEach(e=>{Fv(e)})}function Fv(t){const e=t.dataset.type,i=t.dataset.format||"dd.mm.yyyy",n=t.dataset.minDate?t.dataset.minDate==="now"?new Date:t.dataset.minDate:null,s=t.dataset.maxDate?t.dataset.maxDate==="now"?new Date:t.dataset.maxDate:null,o=document.documentElement.lang,r={buttonClass:"btn",format:i,minDate:n,maxDate:s,clearButton:!0,todayButton:!0,allowOneSidedRange:!0,autohide:!0,prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/></svg>',nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto me-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/></svg>',language:o};e!=="range"?new Oa(t,r):new Iv(t,r),t.addEventListener("changeDate",d=>{d?.target?.dispatchEvent(new Event("input",{bubbles:!0}))})}function Pv(){document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector('input[type="hidden"][name="active_tab_param"]'),e=document.querySelector("[data-active-tab-param]");if(!t&&!e)return;const i=document.querySelectorAll('[data-bs-toggle="pill"]');if(!i.length)return;const n=window.location.hash;i.forEach(o=>{const r=o.getAttribute("data-bs-target");n===r&&(new hi(o).show(),s(r)),o.addEventListener("shown.bs.tab",function(d){s(r)})});function s(o){const r=o.replace("#","");t&&(t.value=r),Vv(e,"active_tab_param",r)}})}function Vv(t,e,i){if(!t)return;let n=new URL(t.href);n.searchParams.set(e,i),t.href=n.toString()}function $v(){const t=document.getElementById("preloader");t&&setTimeout(()=>{t.classList.remove("active"),setTimeout(()=>{t.remove(),tv()},300)},500)}Zo();z1();V1();U1();Xb();Qb();Jb();Po();ev();Hv();zo();Pv();$v();console.log("all js inited");
