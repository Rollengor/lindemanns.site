import{a as h}from"./ajax-DD5av5sJ.js";function I(){document.addEventListener("DOMContentLoaded",p),window.addEventListener("scroll",p)}function p(){document.documentElement.classList.toggle("is-page-scrolled",window.scrollY>0)}const E=document.documentElement;function w(){const t=document.getElementById("extended-menu-toggle-button");if(!t)return;const e="is-opened-extended-menu";f(),window.addEventListener("resize",f),t.addEventListener("click",()=>{E.classList.toggle(e)})}function f(){const t=window.innerWidth-document.documentElement.clientWidth;E.style.setProperty("--compensate-scrollbar",`${t}px`)}function b(){document.querySelectorAll("[data-form-field]").forEach(e=>{if(e?.formControlInited)return;const o=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";L(e),e.addEventListener(o,()=>{L(e)}),e.formControlInited=!0})}function L(t){const e=t.type,o=e==="file"?!!t.files[0]:!!t.value?.trim();!o&&e!=="file"&&(t.value=""),t.classList.toggle("is-filled",o)}const n={updating:"is-news-updating",active:"is-active"};function B(){const t=document.getElementById("news-categories-tabs"),e=t?.querySelectorAll("[data-category]"),o=t?.dataset.updateUrl;if(!e||!e?.length||!o)return;const d=document.documentElement,m=document.getElementById(t.dataset.anchorSectionId),s=document.getElementById(t.dataset.updateListId),a=document.getElementById(t.dataset.updatePaginationId),i=t.dataset.limitArticles;if(!s)return;e.forEach(c=>{const l=c.dataset.id;l&&c.addEventListener("click",()=>{d.classList.contains(n.updating)||c.classList.contains(n.active)||g(l)})});function g(c){h(null,{url:o,method:"get",params:{category_id:c,limit_articles:+i?+i:null},beforeHandler:()=>{d.classList.add(n.updating)},successHandler:l=>{const{articles_list_html:u,pagination_html:r,category_id:y}=l.data;s.innerHTML=u,a&&r&&(a.innerHTML=r),v(y),m?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{d.classList.remove(n.updating)}})}function v(c){const l=[...e].find(r=>r.classList.contains(n.active)),u=[...e].find(r=>r.dataset.id==c);l!==u&&(l?.classList.remove(n.active),u?.classList.add(n.active))}}function H(){const t=document.getElementById("news-pagination");if(!t)return;const e=document.documentElement,o=document.getElementById(t.dataset.anchorSectionId),d=document.getElementById(t.dataset.updateListId);if(!d)return;t.addEventListener("click",s=>{const a=s?.target?.closest("a");if(!a||(s.preventDefault(),e.classList.contains(n.updating)||a.classList.contains(n.active)))return;const i=a.href;i&&m(i)});function m(s){h(null,{url:s,method:"get",beforeHandler:()=>{e.classList.add(n.updating)},successHandler:a=>{const{articles_list_html:i,pagination_html:g}=a.data;d.innerHTML=i,t.innerHTML=g,o?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{e.classList.remove(n.updating)}})}}I();w();b();B();H();console.log("all scripts inited");
