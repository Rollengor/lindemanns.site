import{g as zt,a as Rs,M as st,T as nr,b as Do,s as sr,c as lr}from"./ajax-N1Z4onJZ.js";function or(){document.querySelectorAll("[data-form-control]").forEach(e=>{if(e?.formControlInited)return;const i=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";ps(e),e.addEventListener(i,()=>{ps(e)}),e.formControlInited=!0})}function ps(t){const e=t.type,i=e==="file"?!!t.files[0]:!!t.value?.trim();!i&&e!=="file"&&(t.value=""),t.classList.toggle("is-filled",i)}function ar(){document.querySelectorAll("[data-ssp-field]").forEach(e=>{if(e?.switchShowPasswordInited)return;const i=e.closest("[data-switch-show-password]"),n=i?.querySelector("[data-ssp-switcher]");!i||!n||(n.addEventListener("click",()=>{const s=e.getAttribute("type")==="password"?"text":"password";e.setAttribute("type",s),n.classList.toggle("active")}),e.switchShowPasswordInited=!0)})}function rr(){document.querySelectorAll("[data-pif-field]").forEach(e=>{if(e?.previewImageFileInit)return;const i=e.closest("[data-preview-image-file]"),n=i?.querySelector("[data-pif-picture]"),s=i?.querySelector("[data-pif-dropzone]"),a=i?.querySelector("[data-pif-image]");if(!(!i||!a||a?.tagName!=="IMG")){if(e.isFieldClearable){const c=n.offsetWidth,u=n.offsetHeight;a.src="/img/default"+(c<u?"-vertical":"")+".svg",e.isFieldClearable=!1}if(e.previewImageFileCurrentData={url:a.src,class:a.getAttribute("class"),hasImage:e.hasAttribute("data-pif-has-image")},s){let c=function(u){const l=["bg-white","border-opacity-25"],f=["bg-primary","bg-opacity-10","border-opacity-50"];if(u==="replace"){s.classList.remove(...l),s.classList.add(...f);return}s.classList.add(...l),s.classList.remove(...f)};s.addEventListener("dragover",u=>{u.preventDefault(),c("replace")}),s.addEventListener("dragleave",()=>{c()}),s.addEventListener("drop",u=>{u.preventDefault(),c();const l=u.dataTransfer.files;l.length>0&&(e.files=l,e.dispatchEvent(new Event("change",{bubbles:!0})))})}e.addEventListener("change",()=>{const c=e?.files[0],u=cr(c),l=a.dataset.pifViewClasses,f=e.previewImageFileCurrentData;if(a.src=u||f.url,a.setAttribute("class",u&&l?l:f.class),f.hasImage)return;const d=["border-dashed","p-4"],g=["border-solid","p-3"];u?(n.classList.remove(...d),n.classList.add(...g)):(n.classList.add(...d),n.classList.remove(...g))}),e.previewImageFileInit=!0}})}function cr(t){if(!t?.type?.includes("image/"))return!1;let e=URL.createObjectURL(t);const i=document.createElement("img");return i.src=e,i.onload=function(){URL.revokeObjectURL(this.src)},e}function dr(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-preset-value]"),n=e?.closest("[data-preset-wrapper]")?.querySelector("[data-form-control]"),s=e?.dataset.presetValue;!n||!s||(n.value=s,n.dispatchEvent(new Event("input",{bubbles:!0})))})}class ur{constructor(e){e||(e={}),this.main=e.main||"ss-main",this.placeholder=e.placeholder||"ss-placeholder",this.values=e.values||"ss-values",this.single=e.single||"ss-single",this.max=e.max||"ss-max",this.value=e.value||"ss-value",this.valueText=e.valueText||"ss-value-text",this.valueDelete=e.valueDelete||"ss-value-delete",this.valueOut=e.valueOut||"ss-value-out",this.deselect=e.deselect||"ss-deselect",this.deselectPath=e.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=e.arrow||"ss-arrow",this.arrowClose=e.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=e.arrowOpen||"M10,70 L50,30 L90,70",this.content=e.content||"ss-content",this.openAbove=e.openAbove||"ss-open-above",this.openBelow=e.openBelow||"ss-open-below",this.search=e.search||"ss-search",this.searchHighlighter=e.searchHighlighter||"ss-search-highlight",this.searching=e.searching||"ss-searching",this.addable=e.addable||"ss-addable",this.addablePath=e.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=e.list||"ss-list",this.optgroup=e.optgroup||"ss-optgroup",this.optgroupLabel=e.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=e.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=e.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=e.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=e.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=e.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=e.optgroupClosable||"ss-closable",this.option=e.option||"ss-option",this.optionDelete=e.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=e.highlighted||"ss-highlighted",this.open=e.open||"ss-open",this.close=e.close||"ss-close",this.selected=e.selected||"ss-selected",this.error=e.error||"ss-error",this.disabled=e.disabled||"ss-disabled",this.hide=e.hide||"ss-hide"}}function Fs(){return Math.random().toString(36).substring(2,10)}function hr(t,e){function i(s,a){return a&&s&&s.classList&&s.classList.contains(a)||a&&s&&s.dataset&&s.dataset.id&&s.dataset.id===e?s:null}function n(s,a){return!s||s===document?null:i(s,a)?s:n(s.parentNode,a)}return i(t,e)||n(t,e)}function ji(t,e=50,i=!1){let n;return function(...s){const a=self,c=()=>{n=null,i||t.apply(a,s)},u=i&&!n;clearTimeout(n),n=setTimeout(c,e),u&&t.apply(a,s)}}function qn(t,e){return JSON.stringify(t)===JSON.stringify(e)}function fr(t){const e=t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,i=>"-"+i.toLowerCase());return t[0]===t[0].toUpperCase()?e.substring(1):e}class Xe{constructor(e){if(this.id=!e.id||e.id===""?Fs():e.id,this.label=e.label||"",this.selectAll=e.selectAll===void 0?!1:e.selectAll,this.selectAllText=e.selectAllText||"Select All",this.closable=e.closable||"off",this.options=[],e.options)for(const i of e.options)this.options.push(new ke(i))}}class ke{constructor(e){this.id=!e.id||e.id===""?Fs():e.id,this.value=e.value===void 0?e.text:e.value,this.text=e.text||"",this.html=e.html||"",this.defaultSelected=e.defaultSelected!==void 0?e.defaultSelected:!1,this.selected=e.selected!==void 0?e.selected:!1,this.display=e.display!==void 0?e.display:!0,this.disabled=e.disabled!==void 0?e.disabled:!1,this.mandatory=e.mandatory!==void 0?e.mandatory:!1,this.placeholder=e.placeholder!==void 0?e.placeholder:!1,this.class=e.class||"",this.style=e.style||"",this.data=e.data||{}}}class gr{constructor(e,i){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=e,this.setData(i)}validateDataArray(e){if(!Array.isArray(e))return new Error("Data must be an array");for(let i of e)if(i instanceof Xe||"label"in i){if(!("label"in i))return new Error("Optgroup must have a label");if("options"in i&&i.options)for(let n of i.options){const s=this.validateOption(n);if(s)return s}}else if(i instanceof ke||"text"in i){const n=this.validateOption(i);if(n)return n}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(e){return"text"in e?null:new Error("Option must have a text")}partialToFullData(e){let i=[];return e.forEach(n=>{if(n instanceof Xe||"label"in n){let s=[];"options"in n&&n.options&&n.options.forEach(a=>{s.push(new ke(a))}),s.length>0&&i.push(new Xe(n))}(n instanceof ke||"text"in n)&&i.push(new ke(n))}),i}setData(e){this.data=this.partialToFullData(e),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(e,i=!1){if(i){let n=[new ke(e)];this.setData(n.concat(this.getData()))}else this.setData(this.getData().concat(new ke(e)))}setSelectedBy(e,i){let n=null,s=!1;const a=[];for(let u of this.data){if(u instanceof Xe)for(let l of u.options)n||(n=l),l.selected=s?!1:i.includes(l[e]),l.selected&&(a.push(l),this.selectType==="single"&&(s=!0));u instanceof ke&&(n||(n=u),u.selected=s?!1:i.includes(u[e]),u.selected&&(a.push(u),this.selectType==="single"&&(s=!0)))}this.selectType==="single"&&n&&!s&&(n.selected=!0,a.push(n));const c=i.map(u=>{var l;return((l=a.find(f=>f[e]===u))===null||l===void 0?void 0:l.id)||""});this.selectedOrder=c}getSelected(){return this.getSelectedOptions().map(e=>e.id)}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}getSelectedOptions(){return this.filter(e=>e.selected,!1)}getOptgroupByID(e){for(let i of this.data)if(i instanceof Xe&&i.id===e)return i;return null}getOptionByID(e){let i=this.filter(n=>n.id===e,!1);return i.length?i[0]:null}getSelectType(){return this.selectType}getFirstOption(){let e=null;for(let i of this.data)if(i instanceof Xe?e=i.options[0]:i instanceof ke&&(e=i),e)break;return e}search(e,i){return e=e.trim(),e===""?this.getData():this.filter(n=>i(n,e),!0)}filter(e,i){const n=[];return this.data.forEach(s=>{if(s instanceof Xe){let a=[];if(s.options.forEach(c=>{(!e||e(c))&&(i?a.push(new ke(c)):n.push(new ke(c)))}),a.length>0){let c=new Xe(s);c.options=a,n.push(c)}}s instanceof ke&&(!e||e(s))&&n.push(new ke(s))}),n}selectedOrderOptions(e){const i=[];return this.selectedOrder.forEach(n=>{const s=e.find(a=>a.id===n);s&&i.push(s)}),e.forEach(n=>{let s=!1;i.forEach(a=>{if(n.id===a.id){s=!0;return}}),s||i.push(n)}),i}}class pr{constructor(e,i,n,s){this.store=n,this.settings=e,this.classes=i,this.callbacks=s,this.lastSelectedOption=null,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const e=this.store.getSelectedOptions();if(e.length){const i=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+i+'"]');n&&this.ensureElementInView(this.content.list,n)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const e of this.settings.class)e.trim()!==""&&(this.main.main.classList.add(e.trim()),this.content.main.classList.add(e.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){var e;this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",(e=this.content.main.dataset.id)!==null&&e!==void 0?e:""),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var e;const i=document.createElement("div");i.dataset.id=this.settings.id,i.setAttribute("aria-label",this.settings.ariaLabel),i.tabIndex=0,i.onkeydown=d=>{switch(d.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),d.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const g=this.content.list.querySelector("."+this.classes.highlighted);return g&&g.click(),!1;case"Escape":return this.callbacks.close(),!1}return d.key.length===1&&this.callbacks.open(),!0},i.onclick=d=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const n=document.createElement("div");n.classList.add(this.classes.values),i.appendChild(n);const s=document.createElement("div");s.classList.add(this.classes.deselect);const a=(e=this.store)===null||e===void 0?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&a&&a.length<=0?s.classList.add(this.classes.hide):s.classList.remove(this.classes.hide),s.onclick=d=>{if(d.stopPropagation(),this.settings.disabled)return;let g=!0;const w=this.store.getSelectedOptions(),E=[];if(this.callbacks.beforeChange&&(g=this.callbacks.beforeChange(E,w)===!0),g){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const C=this.store.getFirstOption(),L=C?C.id:"";this.callbacks.setSelected(L,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.setAttribute("viewBox","0 0 100 100");const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.classes.deselectPath),c.appendChild(u),s.appendChild(c),i.appendChild(s);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");const f=document.createElementNS("http://www.w3.org/2000/svg","path");return f.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(f),i.appendChild(l),{main:i,values:n,deselect:{main:s,svg:c,path:u},arrow:{main:l,path:f}}}mainFocus(e){e!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const e=this.store.filter(s=>s.placeholder,!1);let i=this.settings.placeholderText;e.length&&(e[0].html!==""?i=e[0].html:e[0].text!==""&&(i=e[0].text));const n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=i,n}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const e=this.store.filter(n=>n.selected&&!n.placeholder,!1),i=e.length>0?e[0]:null;if(!i)this.main.values.innerHTML=this.placeholder().outerHTML;else{const n=document.createElement("div");n.classList.add(this.classes.single),i.html?n.innerHTML=i.html:n.innerText=i.text,this.main.values.innerHTML=n.outerHTML}!this.settings.allowDeselect||!e.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let e=this.main.values.childNodes,i=this.store.filter(s=>s.selected&&s.display,!1);if(i.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.placeholder);s&&s.remove()}if(i.length>this.settings.maxValuesShown){const s=document.createElement("div");s.classList.add(this.classes.max),s.textContent=this.settings.maxValuesMessage.replace("{number}",i.length.toString()),this.main.values.innerHTML=s.outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.max);s&&s.remove()}this.settings.keepOrder&&(i=this.store.selectedOrderOptions(i));let n=[];for(let s=0;s<e.length;s++){const a=e[s],c=a.getAttribute("data-id");c&&(i.filter(l=>l.id===c,!1).length||n.push(a))}for(const s of n)s.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(s)&&this.main.values.removeChild(s)},100);e=this.main.values.childNodes;for(let s=0;s<i.length;s++){let a=!0;for(let c=0;c<e.length;c++)i[s].id===String(e[c].dataset.id)&&(a=!1);a&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(i[s])):e.length===0?this.main.values.appendChild(this.multipleValue(i[s])):s===0?this.main.values.insertBefore(this.multipleValue(i[s]),e[s]):e[s-1].insertAdjacentElement("afterend",this.multipleValue(i[s])))}}multipleValue(e){const i=document.createElement("div");i.classList.add(this.classes.value),i.dataset.id=e.id;const n=document.createElement("div");if(n.classList.add(this.classes.valueText),n.textContent=e.text,i.appendChild(n),!e.mandatory){const s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.setAttribute("tabindex","0"),s.onclick=u=>{if(u.preventDefault(),u.stopPropagation(),this.settings.disabled)return;let l=!0;const f=this.store.getSelectedOptions(),d=f.filter(g=>g.selected&&g.id!==e.id,!0);if(!(this.settings.minSelected&&d.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(l=this.callbacks.beforeChange(d,f)===!0),l)){let g=[];for(const w of d){if(w instanceof Xe)for(const E of w.options)g.push(E.id);w instanceof ke&&g.push(w.id)}this.callbacks.setSelected(g,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(d),this.updateDeselectAll()}};const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",this.classes.optionDelete),a.appendChild(c),s.appendChild(a),i.appendChild(s),s.onkeydown=u=>{u.key==="Enter"&&s.click()}}return i}contentDiv(){const e=document.createElement("div");e.dataset.id=this.settings.id;const i=this.searchDiv();e.appendChild(i.main);const n=this.listDiv();return e.appendChild(n),{main:e,search:i,list:n}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const e=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");e.classList.add(this.classes.search);const s={main:e,input:i};if(this.settings.showSearch||(e.classList.add(this.classes.hide),i.readOnly=!0),i.type="search",i.placeholder=this.settings.searchPlaceholder,i.tabIndex=-1,i.setAttribute("aria-label",this.settings.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.oninput=ji(a=>{this.callbacks.search(a.target.value)},100),i.onkeydown=a=>{switch(a.key){case"ArrowUp":case"ArrowDown":return a.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const c=this.content.list.querySelector("."+this.classes.highlighted);return c?(c.click(),!1):!0;case"Enter":if(this.callbacks.addable)return n.click(),!1;{const u=this.content.list.querySelector("."+this.classes.highlighted);if(u)return u.click(),!1}return!0}return!0},e.appendChild(i),this.callbacks.addable){n.classList.add(this.classes.addable);const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");const c=document.createElementNS("http://www.w3.org/2000/svg","path");c.setAttribute("d",this.classes.addablePath),a.appendChild(c),n.appendChild(a),n.onclick=u=>{if(u.preventDefault(),u.stopPropagation(),!this.callbacks.addable)return;const l=this.content.search.input.value.trim();if(l===""){this.content.search.input.focus();return}const f=g=>{let w=new ke(g);if(this.callbacks.addOption(w),this.settings.isMultiple){let E=this.store.getSelected();E.push(w.id),this.callbacks.setSelected(E,!0)}else this.callbacks.setSelected([w.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},d=this.callbacks.addable(l);d===!1||d===void 0||d===null||(d instanceof Promise?d.then(g=>{typeof g=="string"?f({text:g,value:g}):d instanceof Error?this.renderError(d.message):f(g)}):typeof d=="string"?f({text:d,value:d}):d instanceof Error?this.renderError(d.message):f(d))},e.appendChild(n),s.addable={main:n,svg:a,path:c}}return s}searchFocus(){this.content.search.input.focus()}getOptions(e=!1,i=!1,n=!1){let s="."+this.classes.option;return e&&(s+=":not(."+this.classes.placeholder+")"),i&&(s+=":not(."+this.classes.disabled+")"),n&&(s+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(s))}highlight(e){const i=this.getOptions(!0,!0,!0);if(i.length===0)return;if(i.length===1&&!i[0].classList.contains(this.classes.highlighted)){i[0].classList.add(this.classes.highlighted);return}let n=!1;for(const s of i)s.classList.contains(this.classes.highlighted)&&(n=!0);if(!n){for(const s of i)if(s.classList.contains(this.classes.selected)){s.classList.add(this.classes.highlighted);break}}for(let s=0;s<i.length;s++)if(i[s].classList.contains(this.classes.highlighted)){const a=i[s];a.classList.remove(this.classes.highlighted);const c=a.parentElement;if(c&&c.classList.contains(this.classes.open)){const f=c.querySelector("."+this.classes.optgroupLabel);f&&f.click()}let u=i[e==="down"?s+1<i.length?s+1:0:s-1>=0?s-1:i.length-1];u.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,u);const l=u.parentElement;if(l&&l.classList.contains(this.classes.close)){const f=l.querySelector("."+this.classes.optgroupLabel);f&&f.click()}return}i[e==="down"?0:i.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,i[e==="down"?0:i.length-1])}listDiv(){const e=document.createElement("div");return e.classList.add(this.classes.list),e}renderError(e){this.content.list.innerHTML="";const i=document.createElement("div");i.classList.add(this.classes.error),i.textContent=e,this.content.list.appendChild(i)}renderSearching(){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}renderOptions(e){if(this.content.list.innerHTML="",e.length===0){const n=document.createElement("div");n.classList.add(this.classes.search),this.callbacks.addable?n.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):n.innerHTML=this.settings.searchText,this.content.list.appendChild(n);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(s=>s.placeholder,!1).length||this.store.addOption(new ke({text:"",value:"",selected:!1,placeholder:!0}),!0));const i=document.createDocumentFragment();for(const n of e){if(n instanceof Xe){const s=document.createElement("div");s.classList.add(this.classes.optgroup);const a=document.createElement("div");a.classList.add(this.classes.optgroupLabel),s.appendChild(a);const c=document.createElement("div");c.classList.add(this.classes.optgroupLabelText),c.textContent=n.label,a.appendChild(c);const u=document.createElement("div");if(u.classList.add(this.classes.optgroupActions),a.appendChild(u),this.settings.isMultiple&&n.selectAll){const l=document.createElement("div");l.classList.add(this.classes.optgroupSelectAll);let f=!0;for(const C of n.options)if(!C.selected){f=!1;break}f&&l.classList.add(this.classes.selected);const d=document.createElement("span");d.textContent=n.selectAllText,l.appendChild(d);const g=document.createElementNS("http://www.w3.org/2000/svg","svg");g.setAttribute("viewBox","0 0 100 100"),l.appendChild(g);const w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",this.classes.optgroupSelectAllBox),g.appendChild(w);const E=document.createElementNS("http://www.w3.org/2000/svg","path");E.setAttribute("d",this.classes.optgroupSelectAllCheck),g.appendChild(E),l.addEventListener("click",C=>{C.preventDefault(),C.stopPropagation();const L=this.store.getSelected();if(f){const o=L.filter(r=>{for(const h of n.options)if(r===h.id)return!1;return!0});this.callbacks.setSelected(o,!0);return}else{const o=L.concat(n.options.map(r=>r.id));for(const r of n.options)this.store.getOptionByID(r.id)||this.callbacks.addOption(r);this.callbacks.setSelected(o,!0);return}}),u.appendChild(l)}if(n.closable!=="off"){const l=document.createElement("div");l.classList.add(this.classes.optgroupClosable);const f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 100 100"),f.classList.add(this.classes.arrow),l.appendChild(f);const d=document.createElementNS("http://www.w3.org/2000/svg","path");f.appendChild(d),n.options.some(g=>g.selected)||this.content.search.input.value.trim()!==""?(l.classList.add(this.classes.open),d.setAttribute("d",this.classes.arrowOpen)):n.closable==="open"?(s.classList.add(this.classes.open),d.setAttribute("d",this.classes.arrowOpen)):n.closable==="close"&&(s.classList.add(this.classes.close),d.setAttribute("d",this.classes.arrowClose)),a.addEventListener("click",g=>{g.preventDefault(),g.stopPropagation(),s.classList.contains(this.classes.close)?(s.classList.remove(this.classes.close),s.classList.add(this.classes.open),d.setAttribute("d",this.classes.arrowOpen)):(s.classList.remove(this.classes.open),s.classList.add(this.classes.close),d.setAttribute("d",this.classes.arrowClose))}),u.appendChild(l)}s.appendChild(a);for(const l of n.options)s.appendChild(this.option(l)),i.appendChild(s)}n instanceof ke&&i.appendChild(this.option(n))}this.content.list.appendChild(i)}option(e){if(e.placeholder){const n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}const i=document.createElement("div");return i.dataset.id=e.id,i.classList.add(this.classes.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.style&&(i.style.cssText=e.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?i.innerHTML=this.highlightText(e.html!==""?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):e.html!==""?i.innerHTML=e.html:i.textContent=e.text,this.settings.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent),e.display||i.classList.add(this.classes.hide),e.disabled&&i.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&i.classList.add(this.classes.hide),e.selected?(i.classList.add(this.classes.selected),i.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",i.id)):(i.classList.remove(this.classes.selected),i.setAttribute("aria-selected","false")),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=this.store.getSelected(),a=n.currentTarget,c=String(a.dataset.id);if(e.disabled||e.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=s.length&&!e.selected||this.settings.isMultiple&&this.settings.minSelected>=s.length&&e.selected)return;let u=!1;const l=this.store.getSelectedOptions();let f=[];if(this.settings.isMultiple){if(e.selected)f=l.filter(d=>d.id!==c);else if(f=l.concat(e),!this.settings.closeOnSelect)if(n.shiftKey&&this.lastSelectedOption){const d=this.store.getDataOptions();let g=d.findIndex(E=>E.id===this.lastSelectedOption.id),w=d.findIndex(E=>E.id===e.id);if(g>=0&&w>=0){const E=Math.min(g,w),C=Math.max(g,w),L=d.slice(E,C+1);L.length>0&&L.length<this.settings.maxSelected&&(f=l.concat(L.filter(o=>!l.find(r=>r.id===o.id))))}}else e.selected||(this.lastSelectedOption=e)}this.settings.isMultiple||(e.selected?f=[]:f=[e]),this.callbacks.beforeChange||(u=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(f,l)===!1?u=!1:u=!0),u&&(this.store.getOptionByID(c)||this.callbacks.addOption(e),this.callbacks.setSelected(f.map(d=>d.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(f))}),i}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(e,i,n){let s=e;const a=new RegExp("(?![^<]*>)("+i.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(a))return e;const c=e.match(a).index,u=c+e.match(a)[0].toString().length,l=e.substring(c,u);return s=s.replace(a,`<mark class="${n}">${l}</mark>`),s}moveContentAbove(){const e=this.main.main.offsetHeight,i=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+i-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=n.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=n.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=e.top+e.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=e.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=e.width+"px")}ensureElementInView(e,i){const n=e.scrollTop+e.offsetTop,s=n+e.clientHeight,a=i.offsetTop,c=a+i.clientHeight;a<n?e.scrollTop-=n-a:c>s&&(e.scrollTop+=c-s)}putContent(){const e=this.main.main.offsetHeight,i=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(i.top+e)<=n&&i.top>n?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const e=this.store.getSelectedOptions(),i=e&&e.length>0,n=this.settings.isMultiple,s=this.settings.allowDeselect,a=this.main.deselect.main,c=this.classes.hide;s&&!(n&&!i)?a.classList.remove(c):a.classList.add(c)}}class mr{constructor(e){this.listen=!1,this.observer=null,this.select=e,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}valueChange(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(e){if(!this.listen)return;let i=!1,n=!1,s=!1;for(const a of e){if(a.target===this.select&&(a.attributeName==="disabled"&&(n=!0),a.attributeName==="class"&&(i=!0),a.type==="childList")){for(const c of a.addedNodes)if(c.nodeName==="OPTION"&&c.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}s=!0}(a.target.nodeName==="OPTGROUP"||a.target.nodeName==="OPTION")&&(s=!0)}i&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),n&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),s&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let e=[];const i=this.select.childNodes;for(const n of i)n.nodeName==="OPTGROUP"&&e.push(this.getDataFromOptgroup(n)),n.nodeName==="OPTION"&&e.push(this.getDataFromOption(n));return e}getDataFromOptgroup(e){let i={id:e.id,label:e.label,selectAll:e.dataset?e.dataset.selectall==="true":!1,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]};const n=e.childNodes;for(const s of n)s.nodeName==="OPTION"&&i.options.push(this.getDataFromOption(s));return i}getDataFromOption(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",defaultSelected:e.defaultSelected,selected:e.selected,display:e.style.display!=="none",disabled:e.disabled,mandatory:e.dataset?e.dataset.mandatory==="true":!1,placeholder:e.dataset.placeholder==="true",class:e.className,style:e.style.cssText,data:e.dataset}}getSelectedOptions(){let e=[];const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const s=n.childNodes;for(const a of s)if(a.nodeName==="OPTION"){const c=a;c.selected&&e.push(this.getDataFromOption(c))}}if(n.nodeName==="OPTION"){const s=n;s.selected&&e.push(this.getDataFromOption(s))}}return e}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}setSelected(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const a=n.childNodes;for(const c of a)if(c.nodeName==="OPTION"){const u=c;u.selected=e.includes(u.id)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.id)}}this.changeListen(!0)}setSelectedByValue(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const a=n.childNodes;for(const c of a)if(c.nodeName==="OPTION"){const u=c;u.selected=e.includes(u.value)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.value)}}this.changeListen(!0)}updateSelect(e,i,n){this.changeListen(!1),e&&(this.select.dataset.id=e),i&&(this.select.style.cssText=i),n&&(this.select.className="",n.forEach(s=>{s.trim()!==""&&this.select.classList.add(s.trim())})),this.changeListen(!0)}updateOptions(e){this.changeListen(!1),this.select.innerHTML="";for(const i of e)i instanceof Xe&&this.select.appendChild(this.createOptgroup(i)),i instanceof ke&&this.select.appendChild(this.createOption(i));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(e){const i=document.createElement("optgroup");if(i.id=e.id,i.label=e.label,e.selectAll&&(i.dataset.selectAll="true"),e.closable!=="off"&&(i.dataset.closable=e.closable),e.options)for(const n of e.options)i.appendChild(this.createOption(n));return i}createOption(e){const i=document.createElement("option");return i.id=e.id,i.value=e.value,i.textContent=e.text,e.html!==""&&i.setAttribute("data-html",e.html),i.defaultSelected=e.defaultSelected,i.selected=e.selected,e.disabled&&(i.disabled=!0),e.display||(i.style.display="none"),e.placeholder&&i.setAttribute("data-placeholder","true"),e.mandatory&&i.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.data&&typeof e.data=="object"&&Object.keys(e.data).forEach(n=>{i.setAttribute("data-"+fr(n),e.data[n])}),i}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class br{constructor(e){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,e||(e={}),this.id="ss-"+Fs(),this.style=e.style||"",this.class=e.class||[],this.disabled=e.disabled!==void 0?e.disabled:!1,this.alwaysOpen=e.alwaysOpen!==void 0?e.alwaysOpen:!1,this.showSearch=e.showSearch!==void 0?e.showSearch:!0,this.focusSearch=e.focusSearch!==void 0?e.focusSearch:!0,this.ariaLabel=e.ariaLabel||"Combobox",this.searchPlaceholder=e.searchPlaceholder||"Search",this.searchText=e.searchText||"No Results",this.searchingText=e.searchingText||"Searching...",this.searchHighlight=e.searchHighlight!==void 0?e.searchHighlight:!1,this.closeOnSelect=e.closeOnSelect!==void 0?e.closeOnSelect:!0,this.contentLocation=e.contentLocation||document.body,this.contentPosition=e.contentPosition||"absolute",this.openPosition=e.openPosition||"auto",this.placeholderText=e.placeholderText!==void 0?e.placeholderText:"Select Value",this.allowDeselect=e.allowDeselect!==void 0?e.allowDeselect:!1,this.hideSelected=e.hideSelected!==void 0?e.hideSelected:!1,this.keepOrder=e.keepOrder!==void 0?e.keepOrder:!1,this.showOptionTooltips=e.showOptionTooltips!==void 0?e.showOptionTooltips:!1,this.minSelected=e.minSelected||0,this.maxSelected=e.maxSelected||1e3,this.timeoutDelay=e.timeoutDelay||200,this.maxValuesShown=e.maxValuesShown||20,this.maxValuesMessage=e.maxValuesMessage||"{number} selected",this.addableText=e.addableText||'Press "Enter" to add {value}'}}class vr{constructor(e){var i;if(this.events={search:void 0,searchFilter:(u,l)=>u.text.toLowerCase().indexOf(l.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=ji(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=ji(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=u=>{this.settings.isOpen&&u.target&&!hr(u.target,this.settings.id)&&this.close(u.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof e.select=="string"?document.querySelector(e.select):e.select,!this.selectEl){e.events&&e.events.error&&e.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){e.events&&e.events.error&&e.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new br(e.settings),this.cssClasses=new ur(e.cssClasses);const n=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const u in e.events)e.events.hasOwnProperty(u)&&(n.indexOf(u)!==-1?this.events[u]=ji(e.events[u],100):this.events[u]=e.events[u]);this.settings.disabled=!((i=e.settings)===null||i===void 0)&&i.disabled?e.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new mr(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=u=>{this.setSelected(u.map(l=>l.id))},this.select.onClassChange=u=>{this.settings.class=u,this.render.updateClassStyles()},this.select.onDisabledChange=u=>{u?this.disable():this.enable()},this.select.onOptionsChange=u=>{this.setData(u)},this.store=new gr(this.settings.isMultiple?"multiple":"single",e.data?e.data:this.select.getData()),e.data&&this.select.updateOptions(this.store.getData());const s={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new pr(this.settings,this.cssClasses,this.store,s),this.render.renderValues(),this.render.renderOptions(this.store.getData());const a=this.selectEl.getAttribute("aria-label"),c=this.selectEl.getAttribute("aria-labelledby");a?this.render.main.main.setAttribute("aria-label",a):c&&this.render.main.main.setAttribute("aria-labelledby",c),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(e){const i=this.store.getSelected(),n=this.store.validateDataArray(e);if(n){this.events.error&&this.events.error(n);return}this.store.setData(e);const s=this.store.getData();this.select.updateOptions(s),this.render.renderValues(),this.render.renderOptions(s),this.events.afterChange&&!qn(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let e=this.store.getSelectedOptions();return this.settings.keepOrder&&(e=this.store.selectedOrderOptions(e)),e.map(i=>i.value)}setSelected(e,i=!0){const n=this.store.getSelected(),s=this.store.getDataOptions();e=Array.isArray(e)?e:[e];const a=[];for(const u of e){if(s.find(l=>l.id==u)){a.push(u);continue}for(const l of s.filter(f=>f.value==u))a.push(l.id)}this.store.setSelectedBy("id",a);const c=this.store.getData();this.select.updateOptions(c),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(c),i&&this.events.afterChange&&!qn(n,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(e){const i=this.store.getSelected();this.store.getDataOptions().some(s=>{var a;return s.value===((a=e.value)!==null&&a!==void 0?a:e.text)})||this.store.addOption(e);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!qn(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(e=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),!this.events.search){this.render.renderOptions(e===""?this.store.getData():this.store.search(e,this.events.searchFilter));return}this.render.renderSearching();const i=this.events.search(e,this.store.getSelectedOptions());if(i instanceof Promise){i.then(n=>{this.render.renderOptions(this.store.partialToFullData(n))}).catch(n=>{this.render.renderError(typeof n=="string"?n:n.message)});return}else Array.isArray(i)?this.render.renderOptions(this.store.partialToFullData(i)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}function yr(){return window.matchMedia("(hover: none)").matches||window.matchMedia("(pointer: coarse)").matches}let Fi=!1,_l,wl;function Ps(){document.querySelectorAll("[data-form-select]").forEach(e=>{if(e?.customSelectInit)return;if(e.isFieldClearable&&e.hasAttribute("data-id")){const s=e.parentElement,a=e.dataset.id,c=s.querySelector(`div[data-id="${a}"]`);e.removeAttribute("style"),c?.remove()}const i=new vr({select:e,settings:{placeholderText:"",showSearch:e.hasAttribute("data-show-search"),closeOnSelect:!e.hasAttribute("multiple")}});if(!i.render.settings.isMultiple||yr())return;const n=i.render.main.values;n.addEventListener("mousedown",s=>{Fi=!0,_l=s.pageX-n.offsetLeft,wl=n.scrollLeft}),n.addEventListener("mouseleave",()=>{Fi=!1}),n.addEventListener("mouseup",()=>{Fi=!1}),n.addEventListener("mousemove",s=>{if(!Fi)return;s.preventDefault();const c=(s.pageX-n.offsetLeft-_l)*1;n.scrollLeft=wl-c}),e.customSelectInit=!0})}const Cl={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var Ki={exports:{}},_r=Ki.exports,xl;function wr(){return xl||(xl=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:_r,function(e,i){const n={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(Ki)),Ki.exports}var Cr=wr();const xr=zt(Cr),J={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(t){const e={"&":"&amp;","":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return t.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},zeroWidthSpace:"",zeroWidthRegExp:new RegExp("","g"),onlyZeroWidthRegExp:new RegExp("^+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(t){return t==null?!1:(typeof t!="string"&&(t=t.textContent),t===""||this.onlyZeroWidthRegExp.test(t))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(t){return t?this._w.Object.keys(t).map(function(e){return t[e]}):[]},camelToKebabCase:function(t){return typeof t=="string"?t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):t.map(function(e){return J.camelToKebabCase(e)})},kebabToCamelCase:function(t){return typeof t=="string"?t.replace(/-[a-zA-Z]/g,function(e){return e.replace("-","").toUpperCase()}):t.map(function(e){return J.camelToKebabCase(e)})},createElement:function(t){return this._d.createElement(t)},createTextNode:function(t){return this._d.createTextNode(t||"")},HTMLEncoder:function(t){const e={"<":"$lt;",">":"$gt;"};return t.replace(/<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},HTMLDecoder:function(t){const e={"$lt;":"<","$gt;":">"};return t.replace(/\$lt;|\$gt;/g,function(i){return typeof e[i]=="string"?e[i]:i})},hasOwn:function(t,e){return this._hasOwn.call(t,e)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(t,e){let i="";const n=[],s=e==="js"?"script":"link",a=e==="js"?"src":"href";let c="(?:";for(let f=0,d=t.length;f<d;f++)c+=t[f]+(f<d-1?"|":")");const u=new this._w.RegExp("(^|.*[\\/])"+c+"(\\.[^\\/]+)?."+e+"(?:\\?.*|;.*)?$","i"),l=new this._w.RegExp(".+\\."+e+"(?:\\?.*|;.*)?$","i");for(let f=this._d.getElementsByTagName(s),d=0;d<f.length;d++)l.test(f[d][a])&&n.push(f[d]);for(let f=0;f<n.length;f++){let d=n[f][a].match(u);if(d){i=d[0];break}}if(i===""&&(i=n.length>0?n[0][a]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+e+")";return i},getPageStyle:function(t){let e="";const i=(t||this._d).styleSheets;for(let n=0,s=i.length,a;n<s;n++){try{a=i[n].cssRules}catch{continue}if(a)for(let c=0,u=a.length;c<u;c++)e+=a[c].cssText}return e},getIframeDocument:function(t){let e=t.contentWindow||t.contentDocument;return e.document&&(e=e.document),e},getAttributesToString:function(t,e){if(!t.attributes)return"";const i=t.attributes;let n="";for(let s=0,a=i.length;s<a;s++)e&&e.indexOf(i[s].name)>-1||(n+=i[s].name+'="'+i[s].value+'" ');return n},getByteLength:function(t){if(!t||!t.toString)return 0;t=t.toString();const e=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(e(t)).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(t).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(t){return t&&t.nodeType===1&&(this.hasClass(t,"se-wrapper-wysiwyg")||/^BODY$/i.test(t.nodeName))},isNonEditable:function(t){return t&&t.nodeType===1&&t.getAttribute("contenteditable")==="false"},isTextStyleElement:function(t){return t&&t.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(t.nodeName)},isInputElement:function(t){return t&&t.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(t.nodeName)},isFormatElement:function(t){return t&&t.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(TH|TD)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(t){return t&&t.nodeType===1&&(/^PRE$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isClosureFreeFormatElement:function(t){return t&&t.nodeType===1&&this.hasClass(t,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(t){return t&&(/se-component/.test(t.className)||/^(TABLE|HR)$/.test(t.nodeName))},isUneditableComponent:function(t){return t&&this.hasClass(t,"__se__uneditable")},isMediaComponent:function(t){return t&&/se-component/.test(t.className)},isNotCheckingNode:function(t){return t&&/katex|__se__tag/.test(t.className)},getFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&t.firstElementChild,this.isFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getRangeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&!/^(THEAD|TBODY|TR)$/i.test(t.nodeName)&&e(t))return t;t=t.parentNode}return null},getFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getClosureFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isClosureFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},copyTagAttributes:function(t,e,i){if(e.style.cssText){const s=e.style;for(let a=0,c=s.length;a<c;a++)t.style[s[a]]=s[s[a]]}const n=e.attributes;for(let s=0,a=n.length,c;s<a;s++)c=n[s].name.toLowerCase(),i&&i.indexOf(c)>-1||!n[s].value?t.removeAttribute(c):c!=="style"&&t.setAttribute(n[s].name,n[s].value)},copyFormatAttributes:function(t,e){e=e.cloneNode(!1),e.className=e.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(t,e)},getArrayItem:function(t,e,i){if(!t||t.length===0)return null;e=e||function(){return!0};const n=[];for(let s=0,a=t.length,c;s<a;s++)if(c=t[s],e(c))if(i)n.push(c);else return c;return i?n:null},arrayIncludes:function(t,e){for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},getArrayIndex:function(t,e){let i=-1;for(let n=0,s=t.length;n<s;n++)if(t[n]===e){i=n;break}return i},nextIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i+1},prevIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i-1},getPositionIndex:function(t){let e=0;for(;t=t.previousSibling;)e+=1;return e},getNodePath:function(t,e,i){const n=[];let s=!0;return this.getParentElement(t,(function(a){if(a===e&&(s=!1),s&&!this.isWysiwygDiv(a)){if(i&&a.nodeType===3){let c=null,u=null;i.s=i.e=0;let l=a.previousSibling;for(;l&&l.nodeType===3;)u=l.textContent.replace(this.zeroWidthRegExp,""),i.s+=u.length,a.textContent=u+a.textContent,c=l,l=l.previousSibling,this.removeItem(c);let f=a.nextSibling;for(;f&&f.nodeType===3;)u=f.textContent.replace(this.zeroWidthRegExp,""),i.e+=u.length,a.textContent+=u,c=f,f=f.nextSibling,this.removeItem(c)}n.push(a)}return!1}).bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(t,e){let i=e,n;for(let s=0,a=t.length;s<a&&(n=i.childNodes,n.length!==0);s++)n.length<=t[s]?i=n[n.length-1]:i=n[t[s]];return i},isSameAttributes:function(t,e){if(t.nodeType===3&&e.nodeType===3)return!0;if(t.nodeType===3||e.nodeType===3)return!1;const i=t.style,n=e.style;let s=0;for(let f=0,d=i.length;f<d;f++)i[i[f]]===n[i[f]]&&s++;const a=t.classList,c=e.classList,u=this._w.RegExp;let l=0;for(let f=0,d=a.length;f<d;f++)u("(s|^)"+a[f]+"(s|$)").test(c.value)&&l++;return s===n.length&&s===i.length&&l===c.length&&l===a.length},isEmptyLine:function(t){return!t||!t.parentNode||!t.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&t.children.length===0&&this.onlyZeroWidthSpace(t.textContent)},isSpanWithoutAttr:function(t){return!!t&&t.nodeType===1&&/^SPAN$/i.test(t.nodeName)&&!t.className&&!t.style.cssText},isList:function(t){return t&&/^(OL|UL)$/i.test(typeof t=="string"?t:t.nodeName)},isListCell:function(t){return t&&/^LI$/i.test(typeof t=="string"?t:t.nodeName)},isTable:function(t){return t&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof t=="string"?t:t.nodeName)},isCell:function(t){return t&&/^(TD|TH)$/i.test(typeof t=="string"?t:t.nodeName)},isBreak:function(t){return t&&/^BR$/i.test(typeof t=="string"?t:t.nodeName)},isAnchor:function(t){return t&&/^A$/i.test(typeof t=="string"?t:t.nodeName)},isMedia:function(t){return t&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof t=="string"?t:t.nodeName)},isFigures:function(t){return t&&(this.isMedia(t)||/^(FIGURE)$/i.test(typeof t=="string"?t:t.nodeName))},isNumber:function(t){return!!t&&/^-?\d+(\.\d+)?$/.test(t+"")},getNumber:function(t,e){if(!t)return 0;let i=(t+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],e<0?i*1:e===0?this._w.Math.round(i*1):(i*1).toFixed(e)*1)},getListChildren:function(t,e){const i=[];return!t||!t.children||t.children.length===0||(e=e||function(){return!0},(function n(s){if(t!==s&&e(s)&&i.push(s),s.children)for(let a=0,c=s.children.length;a<c;a++)n(s.children[a])})(t)),i},getListChildNodes:function(t,e){const i=[];return!t||t.childNodes.length===0||(e=e||function(){return!0},(function n(s){t!==s&&e(s)&&i.push(s);for(let a=0,c=s.childNodes.length;a<c;a++)n(s.childNodes[a])})(t)),i},getElementDepth:function(t){if(!t||this.isWysiwygDiv(t))return-1;let e=0;for(t=t.parentNode;t&&!this.isWysiwygDiv(t);)e+=1,t=t.parentNode;return e},compareElements:function(t,e){let i=t,n=e;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:t,b:e,result:0};const s=i.parentNode.childNodes,a=this.getArrayIndex(s,i),c=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:a>c?1:a<c?-1:0}},getParentElement:function(t,e){let i;if(typeof e=="function")i=e;else{let n;/^\./.test(e)?(n="className",e=e.split(".")[1]):/^#/.test(e)?(n="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(n="name",e="^"+e.split(":")[1]+"$"):(n="nodeName",e="^"+e+"$");const s=new this._w.RegExp(e,"i");i=function(a){return s.test(a[n])}}for(;t&&!i(t);){if(this.isWysiwygDiv(t))return null;t=t.parentNode}return t},getPreviousDeepestNode:function(t,e){let i=t.previousSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(t,e){let i=t.nextSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(t,e,i){let n;if(typeof e=="function")n=e;else{let a;/^\./.test(e)?(a="className",e=e.split(".")[1]):/^#/.test(e)?(a="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(a="name",e="^"+e.split(":")[1]+"$"):(a="nodeName",e="^"+(e==="text"?"#"+e:e)+"$");const c=new this._w.RegExp(e,"i");n=function(u){return c.test(u[a])}}const s=this.getListChildNodes(t,function(a){return n(a)});return s[i?s.length-1:0]},getEdgeChildNodes:function(t,e){if(t){for(e||(e=t);t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.firstChild;for(;e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.lastChild;return{sc:t,ec:e||t}}},getOffset:function(t,e){let i=0,n=0,s=t.nodeType===3?t.parentElement:t;const a=this.getParentElement(t,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==a;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;const c=e&&/iframe/i.test(e.nodeName);return{left:i+(c?e.parentElement.offsetLeft:0),top:n-(a?a.scrollTop:0)+(c?e.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(t,e,i,n){if(t<=n?e<i:e>i)return 0;const s=(t>i?t:i)-(e<n?e:n);return(s<0?s*-1:s)+1},changeTxt:function(t,e){!t||!e||(t.textContent=e)},changeElement:function(t,e){if(typeof e=="string")if(t.outerHTML)t.outerHTML=e;else{const i=this.createElement("DIV");i.innerHTML=e,e=i.firstChild,t.parentNode.replaceChild(e,t)}else e.nodeType===1&&t.parentNode.replaceChild(e,t)},setStyle:function(t,e,i){t.style[e]=i,!i&&!t.style.cssText&&t.removeAttribute("style")},hasClass:function(t,e){if(t)return new this._w.RegExp(e).test(t.className)},addClass:function(t,e){!t||new this._w.RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)||(t.className+=(t.className.length>0?" ":"")+e)},removeClass:function(t,e){if(!t)return;const i=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim(),t.className.trim()||t.removeAttribute("class")},toggleClass:function(t,e){if(!t)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");return n.test(t.className)?t.className=t.className.replace(n," ").trim():(t.className+=" "+e,i=!0),t.className.trim()||t.removeAttribute("class"),i},isImportantDisabled:function(t){return t.hasAttribute("data-important-disabled")},setDisabledButtons:function(t,e,i){for(let n=0,s=e.length;n<s;n++){let a=e[n];(i||!this.isImportantDisabled(a))&&(a.disabled=t),i&&(t?a.setAttribute("data-important-disabled",""):a.removeAttribute("data-important-disabled"))}},removeItem:function(t){t&&(typeof t.remove=="function"?t.remove():t.parentNode&&t.parentNode.removeChild(t))},removeItemAllParents:function(t,e,i){if(!t)return null;let n=null;return e||(e=(function(s){if(s===i||this.isComponent(s))return!1;const a=s.textContent.trim();return a.length===0||/^(\n|\u200B)+$/.test(a)}).bind(this)),(function s(a){if(!J.isWysiwygDiv(a)){const c=a.parentNode;c&&e(a)&&(n={sc:a.previousElementSibling,ec:a.nextElementSibling},J.removeItem(a),s(c))}})(t),n},detachNestedList:function(t,e){const i=this._deleteNestedList(t);let n,s;if(i){n=i.cloneNode(!1),s=i.childNodes;const c=this.getPositionIndex(t);for(;s[c];)n.appendChild(s[c])}else n=t;let a;if(e)a=this.getListChildren(n,(function(c){return this.isListCell(c)&&!c.previousElementSibling}).bind(this));else{const c=this.getElementDepth(t)+2;a=this.getListChildren(t,(function(u){return this.isListCell(u)&&!u.previousElementSibling&&this.getElementDepth(u)===c}).bind(this))}for(let c=0,u=a.length;c<u;c++)this._deleteNestedList(a[c]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&s.length===0&&this.removeItem(i)),n===t?n.parentNode:n},_deleteNestedList:function(t){const e=t.parentNode;let i=e,n=i.parentNode,s,a,c,u,l;for(;this.isListCell(n);){for(u=this.getPositionIndex(t),s=n.nextElementSibling,a=n.parentNode,c=i;c;){if(i=i.nextSibling,this.isList(c)){for(l=c.childNodes;l[u];)a.insertBefore(l[u],s);l.length===0&&this.removeItem(c)}else a.appendChild(c);c=i}i=a,n=a.parentNode}return e.children.length===0&&this.removeItem(e),a},splitElement:function(t,e,i){if(this.isWysiwygDiv(t))return t;if(e&&!this.isNumber(e)){const w=t.childNodes;let E=this.getPositionIndex(e);const C=t.cloneNode(!1),L=t.cloneNode(!1);for(let o=0,r=w.length;o<r;o++){if(o<E)C.appendChild(w[o]);else if(o>E)L.appendChild(w[o]);else continue;o--,r--,E--}return C.childNodes.length>0&&t.parentNode.insertBefore(C,t),L.childNodes.length>0&&t.parentNode.insertBefore(L,t.nextElementSibling),t}const n=t.parentNode;let s=0,a=1,c=!0,u,l,f;if((!i||i<0)&&(i=0),t.nodeType===3){if(s=this.getPositionIndex(t),e>=0&&t.length!==e){t.splitText(e);const w=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(w)&&(w.data=this.zeroWidthSpace)}}else if(t.nodeType===1){if(e===0){for(;t.firstChild;)t=t.firstChild;if(t.nodeType===3){const w=this.createTextNode(this.zeroWidthSpace);t.parentNode.insertBefore(w,t),t=w}}t.previousSibling?t=t.previousSibling:this.getElementDepth(t)===i&&(c=!1)}t.nodeType===1&&(a=0);let d=t;for(;this.getElementDepth(d)>i;)for(s=this.getPositionIndex(d)+a,d=d.parentNode,f=u,u=d.cloneNode(!1),l=d.childNodes,f&&(this.isListCell(u)&&this.isList(f)&&f.firstElementChild?(u.innerHTML=f.firstElementChild.innerHTML,J.removeItem(f.firstElementChild),f.children.length>0&&u.appendChild(f)):u.appendChild(f));l[s];)u.appendChild(l[s]);d.childNodes.length<=1&&(!d.firstChild||d.firstChild.textContent.length===0)&&(d.innerHTML="<br>");const g=d.parentNode;return c&&(d=d.nextSibling),u?(this.mergeSameTags(u,null,!1),this.mergeNestedTags(u,(function(w){return this.isList(w)}).bind(this)),u.childNodes.length>0?g.insertBefore(u,d):u=d,this.isListCell(u)&&u.children&&this.isList(u.children[0])&&u.insertBefore(this.createElement("BR"),u.children[0]),n.childNodes.length===0&&this.removeItem(n),u):d},mergeSameTags:function(t,e,i){const n=this,s=e?e.length:0;let a=null;return s&&(a=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),(function c(u,l,f){const d=u.childNodes;for(let g=0,w=d.length,E,C;g<w&&(E=d[g],C=d[g+1],!!E);g++)if(!(n.isBreak(E)||n.isMedia(E)||n.isInputElement(E))){if(i&&n._isIgnoreNodeChange(E)||!i&&(n.isTable(E)||n.isListCell(E)||n.isFormatElement(E)&&!n.isFreeFormatElement(E))){(n.isTable(E)||n.isListCell(E))&&c(E,l+1,g);continue}if(w===1&&u.nodeName===E.nodeName&&u.parentNode){if(s){let L,o,r,h,p;for(let b=0;b<s;b++)if(L=e[b],L&&L[l]===g){for(o=E,r=u,h=l,p=!0;h>=0;){if(n.getArrayIndex(r.childNodes,o)!==L[h]){p=!1;break}o=E.parentNode,r=o.parentNode,h--}p&&(L.splice(l,1),L[l]=g)}}n.copyTagAttributes(E,u),u.parentNode.insertBefore(E,u),n.removeItem(u)}if(!C){E.nodeType===1&&c(E,l+1,g);break}if(E.nodeName===C.nodeName&&n.isSameAttributes(E,C)&&E.href===C.href){const L=E.childNodes;let o=0;for(let b=0,v=L.length;b<v;b++)L[b].textContent.length>0&&o++;const r=E.lastChild,h=C.firstChild;let p=0;if(r&&h){const b=r.nodeType===3&&h.nodeType===3;p=r.textContent.length;let v=r.previousSibling;for(;v&&v.nodeType===3;)p+=v.textContent.length,v=v.previousSibling;if(o>0&&r.nodeType===3&&h.nodeType===3&&(r.textContent.length>0||h.textContent.length>0)&&o--,s){let m=null;for(let y=0;y<s;y++)if(m=e[y],m&&m[l]>g){if(l>0&&m[l-1]!==f)continue;m[l]-=1,m[l+1]>=0&&m[l]===g&&(m[l+1]+=o,b&&r&&r.nodeType===3&&h&&h.nodeType===3&&(a[y]+=p))}}}if(E.nodeType===3){if(p=E.textContent.length,E.textContent+=C.textContent,s){let b=null;for(let v=0;v<s;v++)if(b=e[v],b&&b[l]>g){if(l>0&&b[l-1]!==f)continue;b[l]-=1,b[l+1]>=0&&b[l]===g&&(b[l+1]+=o,a[v]+=p)}}}else E.innerHTML+=C.innerHTML;n.removeItem(C),g--}else E.nodeType===1&&c(E,l+1,g)}})(t,0,0),a},mergeNestedTags:function(t,e){typeof e=="string"?e=(function(i){return this.test(i.tagName)}).bind(new this._w.RegExp("^("+(e||".+")+")$","i")):typeof e!="function"&&(e=function(){return!0}),(function i(n){let s=n.children;if(s.length===1&&s[0].nodeName===n.nodeName&&e(n)){const a=s[0];for(s=a.children;s[0];)n.appendChild(s[0]);n.removeChild(a)}for(let a=0,c=n.children.length;a<c;a++)i(n.children[a])})(t)},removeEmptyNode:function(t,e,i){const n=this;e&&(e=n.getParentElement(e,function(s){return t===s.parentElement})),(function s(a){if(n._notTextNode(a)||a===e||n.isNonEditable(a))return 0;if(a!==t&&n.onlyZeroWidthSpace(a.textContent)&&(!a.firstChild||!n.isBreak(a.firstChild))&&!a.querySelector(n._allowedEmptyNodeList)){if(a.parentNode)return a.parentNode.removeChild(a),-1}else{const c=a.children;for(let u=0,l=c.length,f=0;u<l;u++)!c[u+f]||n.isComponent(c[u+f])||(f+=s(c[u+f]))}return 0})(t),t.childNodes.length===0&&(i?this.removeItem(t):t.innerHTML="<br>")},htmlRemoveWhiteSpace:function(t){return t?t.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(e){return e.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(t){return t.replace(/\n/g,"").replace(/>\s+</g,"> <")},sortByDepth:function(t,e){const i=e?1:-1,n=i*-1;t.sort((function(s,a){return!this.isListCell(s)||!this.isListCell(a)?0:(s=this.getElementDepth(s),a=this.getElementDepth(a),s>a?i:s<a?n:0)}).bind(this))},escapeStringRegexp:function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(t){return!/FIGCAPTION/i.test(t.nodeName)&&(this.isComponent(t)||/FIGURE/i.test(t.nodeName))},_isIgnoreNodeChange:function(t){return t&&t.nodeType!==3&&(this.isNonEditable(t)||!this.isTextStyleElement(t))},_isMaintainedNode:function(t){return t&&t.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof t=="string"?t:t.nodeName)},_isSizeNode:function(t){return t&&t.nodeType!==3&&this.isTextStyleElement(t)&&!!t.style.fontSize},_notTextNode:function(t){return t&&t.nodeType!==3&&(this.isComponent(t)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof t=="string"?t:t.nodeName))},_disallowedTags:function(t){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(t.nodeName)},createTagsWhitelist:function(t){return new RegExp("<\\/?\\b(?!\\b"+(t||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(t){return new RegExp("<\\/?\\b(?:\\b"+(t||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(t,e,i,n,s){const a=[],c=[],u=[],l=[],f=this.getListChildNodes(t,(function(g){if(g.nodeType!==1)return this.isList(g.parentElement)&&a.push(g),!1;if(i.test(g.nodeName)||!e.test(g.nodeName)&&g.childNodes.length===0&&this.isNotCheckingNode(g))return a.push(g),!1;const w=!this.getParentElement(g,this.isNotCheckingNode);if(!this.isTable(g)&&!this.isListCell(g)&&!this.isAnchor(g)&&(this.isFormatElement(g)||this.isRangeFormatElement(g)||this.isTextStyleElement(g))&&g.childNodes.length===0&&w)return c.push(g),!1;if(this.isList(g.parentNode)&&!this.isList(g)&&!this.isListCell(g))return u.push(g),!1;if(this.isCell(g)){const C=g.firstElementChild;if(!this.isFormatElement(C)&&!this.isRangeFormatElement(C)&&!this.isComponent(C))return l.push(g),!1}if(w&&g.className){const C=new this._w.Array(g.classList).map(n).join(" ").trim();C?g.className=C:g.removeAttribute("class")}return s&&g.parentNode!==t&&w&&(this.isListCell(g)&&!this.isList(g.parentNode)||(this.isFormatElement(g)||this.isComponent(g))&&!this.isRangeFormatElement(g.parentNode)&&!this.getParentElement(g,this.isComponent))}).bind(this));for(let g=0,w=a.length;g<w;g++)this.removeItem(a[g]);const d=[];for(let g=0,w=f.length,E,C;g<w;g++)if(E=f[g],C=E.parentNode,!(!C||!C.parentNode))if(this.getParentElement(E,this.isListCell)){const L=E.childNodes;for(let o=L.length-1;w>=0;o--)C.insertBefore(E,L[o]);d.push(E)}else C.parentNode.insertBefore(E,C),d.push(C);for(let g=0,w=d.length,E;g<w;g++)E=d[g],this.onlyZeroWidthSpace(E.textContent.trim())&&this.removeItem(E);for(let g=0,w=c.length;g<w;g++)this.removeItem(c[g]);for(let g=0,w=u.length,E,C,L,o;g<w;g++)if(E=u[g],o=E.parentNode,!!o)if(C=this.createElement("LI"),this.isFormatElement(E)){for(L=E.childNodes;L[0];)C.appendChild(L[0]);o.insertBefore(C,E),this.removeItem(E)}else E=E.nextSibling,C.appendChild(u[g]),o.insertBefore(C,E);for(let g=0,w=l.length,E,C;g<w;g++)E=l[g],C=this.createElement("DIV"),C.innerHTML=E.textContent.trim().length===0&&E.children.length===0?"<br>":E.innerHTML,E.innerHTML=C.outerHTML},_setDefaultOptionStyle:function(t,e){let i="";t.height&&(i+="height:"+t.height+";"),t.minHeight&&(i+="min-height:"+t.minHeight+";"),t.maxHeight&&(i+="max-height:"+t.maxHeight+";"),t.position&&(i+="position:"+t.position+";"),t.width&&(i+="width:"+t.width+";"),t.minWidth&&(i+="min-width:"+t.minWidth+";"),t.maxWidth&&(i+="max-width:"+t.maxWidth+";");let n="",s="",a="";e=i+e;const c=e.split(";");for(let u=0,l=c.length,f;u<l;u++)if(f=c[u].trim(),!!f){if(/^(min-|max-)?width\s*:/.test(f)||/^(z-index|position)\s*:/.test(f)){n+=f+";";continue}if(/^(min-|max-)?height\s*:/.test(f)){/^height/.test(f)&&f.split(":")[1].trim()==="auto"&&(t.height="auto"),s+=f+";";continue}a+=f+";"}return{top:n,frame:s,editor:a}},_setIframeDocument:function(t,e){t.setAttribute("scrolling","auto"),t.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(e),t.contentDocument.body.className=e._editableClass,t.contentDocument.body.setAttribute("contenteditable",!0),t.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(t){const e=t.iframeCSSFileName,i=this._w.RegExp;let n="";for(let s=0,a=e.length,c;s<a;s++){if(c=[],/(^https?:\/\/)|(^data:text\/css,)/.test(e[s]))c.push(e[s]);else{const u=new i("(^|.*[\\/])"+e[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let l=document.getElementsByTagName("link"),f=0,d=l.length,g;f<d;f++)g=l[f].href.match(u),g&&c.push(g[0])}if(!c||c.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let u=0,l=c.length;u<l;u++)n+='<link href="'+c[u]+'" rel="stylesheet">'}return n+(t.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},ms={init:function(t,e){typeof e!="object"&&(e={});const i=document;this._initOptions(t,e);const n=i.createElement("DIV");n.className="sun-editor"+(e.rtl?" se-rtl":""),t.id&&(n.id="suneditor_"+t.id);const s=i.createElement("DIV");s.className="se-container";const a=this._createToolBar(i,e.buttonList,e.plugins,e),c=a.element.cloneNode(!1);c.className+=" se-toolbar-shadow",a.element.style.visibility="hidden",a.pluginCallButtons.math&&this._checkKatexMath(e.katex);const u=i.createElement("DIV");u.className="se-arrow";const l=i.createElement("DIV");l.className="se-toolbar-sticky-dummy";const f=i.createElement("DIV");f.className="se-wrapper";const d=this._initElements(e,n,a.element,u),g=d.bottomBar,w=d.wysiwygFrame,E=d.placeholder;let C=d.codeView;const L=g.resizingBar,o=g.navigation,r=g.charWrapper,h=g.charCounter,p=i.createElement("DIV");p.className="se-loading-box sun-editor-common",p.innerHTML='<div class="se-loading-effect"></div>';const b=i.createElement("DIV");b.className="se-line-breaker",b.innerHTML='<button class="se-btn">'+e.icons.line_break+"</button>";const v=i.createElement("DIV");v.className+="se-line-breaker-component";const m=v.cloneNode(!0);v.innerHTML=m.innerHTML=e.icons.line_break;const y=i.createElement("DIV");y.className="se-resizing-back";const x=i.createElement("INPUT");x.tabIndex=-1,x.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const _=e.toolbarContainer;_&&(_.appendChild(a.element),_.appendChild(c));const S=e.resizingBarContainer;return L&&S&&S.appendChild(L),f.appendChild(C),E&&f.appendChild(E),_||(s.appendChild(a.element),s.appendChild(c)),s.appendChild(l),s.appendChild(f),s.appendChild(y),s.appendChild(p),s.appendChild(b),s.appendChild(v),s.appendChild(m),s.appendChild(x),L&&!S&&s.appendChild(L),n.appendChild(s),C=this._checkCodeMirror(e,C),{constructed:{_top:n,_relative:s,_toolBar:a.element,_toolbarShadow:c,_menuTray:a._menuTray,_editorArea:f,_wysiwygArea:w,_codeArea:C,_placeholder:E,_resizingBar:L,_navigation:o,_charWrapper:r,_charCounter:h,_loading:p,_lineBreaker:b,_lineBreaker_t:v,_lineBreaker_b:m,_resizeBack:y,_stickyDummy:l,_arrow:u,_focusTemp:x},options:e,plugins:a.plugins,pluginCallButtons:a.pluginCallButtons,_responsiveButtons:a.responsiveButtons}},_checkCodeMirror:function(t,e){if(t.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},t.codeMirror.options||{}].reduce(function(s,a){for(let c in a)J.hasOwn(a,c)&&(s[c]=a[c]);return s},{});t.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");const n=t.codeMirror.src.fromTextArea(e,i);n.display.wrapper.style.cssText=e.style.cssText,t.codeMirrorEditor=n,e=n.display.wrapper,e.className+=" se-wrapper-code-mirror"}return e},_checkKatexMath:function(t){if(!t)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const e=[{throwOnError:!1},t.options||{}].reduce(function(i,n){for(let s in n)J.hasOwn(n,s)&&(i[s]=n[s]);return i},{});t.options=e},_setOptions:function(t,e,i){this._initOptions(e.element.originElement,t);const n=e.element,s=n.relative,a=n.editorArea,c=t.toolbarContainer&&t.toolbarContainer!==i.toolbarContainer,u=t.lang!==i.lang||t.buttonList!==i.buttonList||t.mode!==i.mode||c,l=this._createToolBar(document,u?t.buttonList:i.buttonList,t.plugins,t);l.pluginCallButtons.math&&this._checkKatexMath(t.katex);const f=document.createElement("DIV");f.className="se-arrow",u&&(l.element.style.visibility="hidden",c?(t.toolbarContainer.appendChild(l.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(l.element,n.toolbar),n.toolbar=l.element,n._menuTray=l._menuTray,n._arrow=f);const d=this._initElements(t,n.topArea,u?l.element:n.toolbar,f),g=d.bottomBar,w=d.wysiwygFrame,E=d.placeholder;let C=d.codeView;return n.resizingBar&&J.removeItem(n.resizingBar),g.resizingBar&&(t.resizingBarContainer&&t.resizingBarContainer!==i.resizingBarContainer?t.resizingBarContainer.appendChild(g.resizingBar):s.appendChild(g.resizingBar)),a.innerHTML="",a.appendChild(C),E&&a.appendChild(E),C=this._checkCodeMirror(t,C),n.resizingBar=g.resizingBar,n.navigation=g.navigation,n.charWrapper=g.charWrapper,n.charCounter=g.charCounter,n.wysiwygFrame=w,n.code=C,n.placeholder=E,t.rtl?J.addClass(n.topArea,"se-rtl"):J.removeClass(n.topArea,"se-rtl"),{callButtons:l.pluginCallButtons,plugins:l.plugins,toolbar:l}},_initElements:function(t,e,i,n){e.style.cssText=t._editorStyles.top,/inline/i.test(t.mode)?(i.className+=" se-toolbar-inline",i.style.width=t.toolbarWidth):/balloon/i.test(t.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=t.toolbarWidth,i.appendChild(n));const s=document.createElement(t.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",t.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=t._editorStyles.frame,s.className+=t.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let g in t.iframeAttributes)s.setAttribute(g,t.iframeAttributes[g]);s.className+=" "+t._editableClass,s.style.cssText=t._editorStyles.frame+t._editorStyles.editor,s.className+=t.className}const a=document.createElement("TEXTAREA");a.className="se-wrapper-inner se-wrapper-code"+t.className,a.style.cssText=t._editorStyles.frame,a.style.display="none",t.height==="auto"&&(a.style.overflow="hidden");let c=null,u=null,l=null,f=null;if(t.resizingBar&&(c=document.createElement("DIV"),c.className="se-resizing-bar sun-editor-common",u=document.createElement("DIV"),u.className="se-navigation sun-editor-common",c.appendChild(u),t.charCounter)){if(l=document.createElement("DIV"),l.className="se-char-counter-wrapper",t.charCounterLabel){const g=document.createElement("SPAN");g.className="se-char-label",g.textContent=t.charCounterLabel,l.appendChild(g)}if(f=document.createElement("SPAN"),f.className="se-char-counter",f.textContent="0",l.appendChild(f),t.maxCharCount>0){const g=document.createElement("SPAN");g.textContent=" / "+t.maxCharCount,l.appendChild(g)}c.appendChild(l)}let d=null;return t.placeholder&&(d=document.createElement("SPAN"),d.className="se-placeholder",d.innerText=t.placeholder),{bottomBar:{resizingBar:c,navigation:u,charWrapper:l,charCounter:f},wysiwygFrame:s,codeView:a,placeholder:d}},_initOptions:function(t,e){const i={};if(e.plugins){const a=e.plugins,c=a.length?a:Object.keys(a).map(function(u){return a[u]});for(let u=0,l=c.length,f;u<l;u++)f=c[u].default||c[u],i[f.name]=f}e.plugins=i,e.strictMode=e.strictMode!==!1,e.strictHTMLValidation=e.strictHTMLValidation!==!1,e.lang=e.lang||xr,e.value=typeof e.value=="string"?e.value:null,e.allowedClassNames=new J._w.RegExp((e.allowedClassNames&&typeof e.allowedClassNames=="string"?e.allowedClassNames+"|":"")+"^__se__|se-|katex"),e.historyStackDelayTime=typeof e.historyStackDelayTime=="number"?e.historyStackDelayTime:400,e.frameAttrbutes=e.frameAttrbutes||{},e.defaultTag=typeof e.defaultTag=="string"&&e.defaultTag.length>0?e.defaultTag:"p";const n=e.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},e.textTags||{}].reduce(function(a,c){for(let u in c)a[u]=c[u];return a},{});e._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},e._defaultCommand={bold:e.textTags.bold,underline:e.textTags.underline,italic:e.textTags.italic,strike:e.textTags.strike,subscript:e.textTags.sub,superscript:e.textTags.sup},e.__allowedScriptTag=e.__allowedScriptTag===!0;const s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";e.tagsBlacklist=e.tagsBlacklist||"",e._defaultTagsWhitelist=(typeof e._defaultTagsWhitelist=="string"?e._defaultTagsWhitelist:s)+(e.__allowedScriptTag?"|script":""),e._editorTagsWhitelist=e.addTagsWhitelist==="*"?"*":this._setWhitelist(e._defaultTagsWhitelist+(typeof e.addTagsWhitelist=="string"&&e.addTagsWhitelist.length>0?"|"+e.addTagsWhitelist:""),e.tagsBlacklist),e.pasteTagsBlacklist=e.tagsBlacklist+(e.tagsBlacklist&&e.pasteTagsBlacklist?"|"+e.pasteTagsBlacklist:e.pasteTagsBlacklist||""),e.pasteTagsWhitelist=e.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof e.pasteTagsWhitelist=="string"?e.pasteTagsWhitelist:e._editorTagsWhitelist,e.pasteTagsBlacklist),e.attributesWhitelist=!e.attributesWhitelist||typeof e.attributesWhitelist!="object"?null:e.attributesWhitelist,e.attributesBlacklist=!e.attributesBlacklist||typeof e.attributesBlacklist!="object"?null:e.attributesBlacklist,e.mode=e.mode||"classic",e.rtl=!!e.rtl,e.lineAttrReset=["id"].concat(e.lineAttrReset&&typeof e.lineAttrReset=="string"?e.lineAttrReset.toLowerCase().split("|"):[]),e._editableClass="sun-editor-editable"+(e.rtl?" se-rtl":""),e._printClass=typeof e._printClass=="string"?e._printClass:null,e.toolbarWidth=e.toolbarWidth?J.isNumber(e.toolbarWidth)?e.toolbarWidth+"px":e.toolbarWidth:"auto",e.toolbarContainer=typeof e.toolbarContainer=="string"?document.querySelector(e.toolbarContainer):e.toolbarContainer,e.stickyToolbar=/balloon/i.test(e.mode)||e.toolbarContainer?-1:e.stickyToolbar===void 0?0:/^\d+/.test(e.stickyToolbar)?J.getNumber(e.stickyToolbar,0):-1,e.hideToolbar=!!e.hideToolbar,e.fullScreenOffset=e.fullScreenOffset===void 0?0:/^\d+/.test(e.fullScreenOffset)?J.getNumber(e.fullScreenOffset,0):0,e.fullPage=!!e.fullPage,e.iframe=e.fullPage||!!e.iframe,e.iframeAttributes=e.iframeAttributes||{},e.iframeCSSFileName=e.iframe?typeof e.iframeCSSFileName=="string"?[e.iframeCSSFileName]:e.iframeCSSFileName||["suneditor"]:null,e.previewTemplate=typeof e.previewTemplate=="string"?e.previewTemplate:null,e.printTemplate=typeof e.printTemplate=="string"?e.printTemplate:null,e.codeMirror=e.codeMirror?e.codeMirror.src?e.codeMirror:{src:e.codeMirror}:null,e.katex=e.katex?e.katex.src?e.katex:{src:e.katex}:null,e.mathFontSize=e.mathFontSize?e.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],e.position=typeof e.position=="string"?e.position:null,e.display=e.display||(t.style.display==="none"||!t.style.display?"block":t.style.display),e.popupDisplay=e.popupDisplay||"full",e.resizingBar=e.resizingBar===void 0?!/inline|balloon/i.test(e.mode):e.resizingBar,e.showPathLabel=e.resizingBar?typeof e.showPathLabel=="boolean"?e.showPathLabel:!0:!1,e.resizeEnable=e.resizeEnable===void 0?!0:!!e.resizeEnable,e.resizingBarContainer=typeof e.resizingBarContainer=="string"?document.querySelector(e.resizingBarContainer):e.resizingBarContainer,e.charCounter=e.maxCharCount>0?!0:typeof e.charCounter=="boolean"?e.charCounter:!1,e.charCounterType=typeof e.charCounterType=="string"?e.charCounterType:"char",e.charCounterLabel=typeof e.charCounterLabel=="string"?e.charCounterLabel.trim():null,e.maxCharCount=J.isNumber(e.maxCharCount)&&e.maxCharCount>-1?e.maxCharCount*1:null,e.width=e.width?J.isNumber(e.width)?e.width+"px":e.width:t.clientWidth?t.clientWidth+"px":"100%",e.minWidth=(J.isNumber(e.minWidth)?e.minWidth+"px":e.minWidth)||"",e.maxWidth=(J.isNumber(e.maxWidth)?e.maxWidth+"px":e.maxWidth)||"",e.height=e.height?J.isNumber(e.height)?e.height+"px":e.height:t.clientHeight?t.clientHeight+"px":"auto",e.minHeight=(J.isNumber(e.minHeight)?e.minHeight+"px":e.minHeight)||"",e.maxHeight=(J.isNumber(e.maxHeight)?e.maxHeight+"px":e.maxHeight)||"",e.className=typeof e.className=="string"&&e.className.length>0?" "+e.className:"",e.defaultStyle=typeof e.defaultStyle=="string"?e.defaultStyle:"",e.font=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],e.fontSize=e.fontSize?e.fontSize:null,e.formats=e.formats?e.formats:null,e.colorList=e.colorList?e.colorList:null,e.lineHeights=e.lineHeights?e.lineHeights:null,e.paragraphStyles=e.paragraphStyles?e.paragraphStyles:null,e.textStyles=e.textStyles?e.textStyles:null,e.fontSizeUnit=typeof e.fontSizeUnit=="string"&&e.fontSizeUnit.trim().toLowerCase()||"px",e.alignItems=typeof e.alignItems=="object"?e.alignItems:e.rtl?["right","center","left","justify"]:["left","center","right","justify"],e.imageResizing=e.imageResizing===void 0?!0:e.imageResizing,e.imageHeightShow=e.imageHeightShow===void 0?!0:!!e.imageHeightShow,e.imageAlignShow=e.imageAlignShow===void 0?!0:!!e.imageAlignShow,e.imageWidth=e.imageWidth?J.isNumber(e.imageWidth)?e.imageWidth+"px":e.imageWidth:"auto",e.imageHeight=e.imageHeight?J.isNumber(e.imageHeight)?e.imageHeight+"px":e.imageHeight:"auto",e.imageSizeOnlyPercentage=!!e.imageSizeOnlyPercentage,e._imageSizeUnit=e.imageSizeOnlyPercentage?"%":"px",e.imageRotation=e.imageRotation!==void 0?e.imageRotation:!(e.imageSizeOnlyPercentage||!e.imageHeightShow),e.imageFileInput=e.imageFileInput===void 0?!0:e.imageFileInput,e.imageUrlInput=e.imageUrlInput===void 0||!e.imageFileInput?!0:e.imageUrlInput,e.imageUploadHeader=e.imageUploadHeader||null,e.imageUploadUrl=typeof e.imageUploadUrl=="string"?e.imageUploadUrl:null,e.imageUploadSizeLimit=/\d+/.test(e.imageUploadSizeLimit)?J.getNumber(e.imageUploadSizeLimit,0):null,e.imageMultipleFile=!!e.imageMultipleFile,e.imageAccept=typeof e.imageAccept!="string"||e.imageAccept.trim()==="*"?"image/*":e.imageAccept.trim()||"image/*",e.imageGalleryData=e.imageGalleryData||null,e.imageGalleryUrl=typeof e.imageGalleryUrl=="string"?e.imageGalleryUrl:null,e.imageGalleryHeader=e.imageGalleryHeader||null,e.videoResizing=e.videoResizing===void 0?!0:e.videoResizing,e.videoHeightShow=e.videoHeightShow===void 0?!0:!!e.videoHeightShow,e.videoAlignShow=e.videoAlignShow===void 0?!0:!!e.videoAlignShow,e.videoRatioShow=e.videoRatioShow===void 0?!0:!!e.videoRatioShow,e.videoWidth=!e.videoWidth||!J.getNumber(e.videoWidth,0)?"":J.isNumber(e.videoWidth)?e.videoWidth+"px":e.videoWidth,e.videoHeight=!e.videoHeight||!J.getNumber(e.videoHeight,0)?"":J.isNumber(e.videoHeight)?e.videoHeight+"px":e.videoHeight,e.videoSizeOnlyPercentage=!!e.videoSizeOnlyPercentage,e._videoSizeUnit=e.videoSizeOnlyPercentage?"%":"px",e.videoRotation=e.videoRotation!==void 0?e.videoRotation:!(e.videoSizeOnlyPercentage||!e.videoHeightShow),e.videoRatio=J.getNumber(e.videoRatio,4)||.5625,e.videoRatioList=e.videoRatioList?e.videoRatioList:null,e.youtubeQuery=(e.youtubeQuery||"").replace("?",""),e.vimeoQuery=(e.vimeoQuery||"").replace("?",""),e.videoFileInput=!!e.videoFileInput,e.videoUrlInput=e.videoUrlInput===void 0||!e.videoFileInput?!0:e.videoUrlInput,e.videoUploadHeader=e.videoUploadHeader||null,e.videoUploadUrl=typeof e.videoUploadUrl=="string"?e.videoUploadUrl:null,e.videoUploadSizeLimit=/\d+/.test(e.videoUploadSizeLimit)?J.getNumber(e.videoUploadSizeLimit,0):null,e.videoMultipleFile=!!e.videoMultipleFile,e.videoTagAttrs=e.videoTagAttrs||null,e.videoIframeAttrs=e.videoIframeAttrs||null,e.videoAccept=typeof e.videoAccept!="string"||e.videoAccept.trim()==="*"?"video/*":e.videoAccept.trim()||"video/*",e.audioWidth=e.audioWidth?J.isNumber(e.audioWidth)?e.audioWidth+"px":e.audioWidth:"",e.audioHeight=e.audioHeight?J.isNumber(e.audioHeight)?e.audioHeight+"px":e.audioHeight:"",e.audioFileInput=!!e.audioFileInput,e.audioUrlInput=e.audioUrlInput===void 0||!e.audioFileInput?!0:e.audioUrlInput,e.audioUploadHeader=e.audioUploadHeader||null,e.audioUploadUrl=typeof e.audioUploadUrl=="string"?e.audioUploadUrl:null,e.audioUploadSizeLimit=/\d+/.test(e.audioUploadSizeLimit)?J.getNumber(e.audioUploadSizeLimit,0):null,e.audioMultipleFile=!!e.audioMultipleFile,e.audioTagAttrs=e.audioTagAttrs||null,e.audioAccept=typeof e.audioAccept!="string"||e.audioAccept.trim()==="*"?"audio/*":e.audioAccept.trim()||"audio/*",e.tableCellControllerPosition=typeof e.tableCellControllerPosition=="string"?e.tableCellControllerPosition.toLowerCase():"cell",e.linkTargetNewWindow=!!e.linkTargetNewWindow,e.linkProtocol=typeof e.linkProtocol=="string"?e.linkProtocol:null,e.linkRel=Array.isArray(e.linkRel)?e.linkRel:[],e.linkRelDefault=e.linkRelDefault||{},e.tabDisable=!!e.tabDisable,e.shortcutsDisable=Array.isArray(e.shortcutsDisable)?e.shortcutsDisable:[],e.shortcutsHint=e.shortcutsHint===void 0?!0:!!e.shortcutsHint,e.callBackSave=e.callBackSave?e.callBackSave:null,e.templates=e.templates?e.templates:null,e.placeholder=typeof e.placeholder=="string"?e.placeholder:null,e.mediaAutoSelect=e.mediaAutoSelect===void 0?!0:!!e.mediaAutoSelect,e.buttonList=e.buttonList?e.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],e.rtl&&(e.buttonList=e.buttonList.reverse()),e.icons=!e.icons||typeof e.icons!="object"?Cl:[Cl,e.icons].reduce(function(a,c){for(let u in c)J.hasOwn(c,u)&&(a[u]=c[u]);return a},{}),e.icons=e.rtl?[e.icons,e.icons.rtl].reduce(function(a,c){for(let u in c)J.hasOwn(c,u)&&(a[u]=c[u]);return a},{}):e.icons,e.__listCommonStyle=e.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],e._editorStyles=J._setDefaultOptionStyle(e,e.defaultStyle)},_setWhitelist:function(t,e){if(typeof e!="string")return t;e=e.split("|"),t=t.split("|");for(let i=0,n=e.length,s;i<n;i++)s=t.indexOf(e[i]),s>-1&&t.splice(s,1);return t.join("|")},_defaultButtons:function(t){const e=t.icons,i=t.lang,n=J.isOSX_IOS?"":"CTRL",s=J.isOSX_IOS?"":"+SHIFT",a=t.shortcutsHint?t.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],c=t.rtl?["[","]"]:["]","["],u=t.rtl?[e.outdent,e.indent]:[e.indent,e.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(a.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",e.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(a.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",e.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(a.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",e.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(a.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",e.strike],subscript:["",i.toolbar.subscript,"SUB","",e.subscript],superscript:["",i.toolbar.superscript,"SUP","",e.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",e.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+c[0]+"</span>")+"</span>","indent","",u[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(a.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+c[1]+"</span>")+"</span>","outdent","",u[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",e.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",e.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",e.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",e.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(a.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",e.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",e.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",e.print],dir:["",i.toolbar[t.rtl?"dir_ltr":"dir_rtl"],"dir","",e[t.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",e.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",e.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(a.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",e.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",e.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+e.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+e.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+e.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",e.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",e.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",t.rtl?e.align_right:e.align_left],list:["",i.toolbar.list,"list","submenu",e.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",e.horizontal_rule],table:["",i.toolbar.table,"table","submenu",e.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",e.line_height],template:["",i.toolbar.template,"template","submenu",e.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",e.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",e.text_style],link:["",i.toolbar.link,"link","dialog",e.link],image:["",i.toolbar.image,"image","dialog",e.image],video:["",i.toolbar.video,"video","dialog",e.video],audio:["",i.toolbar.audio,"audio","dialog",e.audio],math:["",i.toolbar.math,"math","dialog",e.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",e.image_gallery]}},_createModuleGroup:function(){const t=J.createElement("DIV");t.className="se-btn-module se-btn-module-border";const e=J.createElement("UL");return e.className="se-menu-list",t.appendChild(e),{div:t,ul:e}},_createButton:function(t,e,i,n,s,a,c){const u=J.createElement("LI"),l=J.createElement("BUTTON"),f=e||i;return l.setAttribute("type","button"),l.setAttribute("class","se-btn"+(t?" "+t:"")+" se-tooltip"),l.setAttribute("data-command",i),l.setAttribute("data-display",n),l.setAttribute("aria-label",f.replace(/<span .+<\/span>/,"")),l.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=c[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),l.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+f+"</span></span>",a&&l.setAttribute("disabled",!0),l.innerHTML=s,u.appendChild(l),{li:u,button:l}},_createToolBar:function(t,e,i,n){const s=t.createElement("DIV");s.className="se-toolbar-separator-vertical";const a=t.createElement("DIV");a.className="se-toolbar sun-editor-common";const c=t.createElement("DIV");c.className="se-btn-tray",a.appendChild(c),e=JSON.parse(JSON.stringify(e));const u=n.icons,l=this._defaultButtons(n),f={},d=[];let g=null,w=null,E=null,C=null,L="",o=!1;const r=J.createElement("DIV");r.className="se-toolbar-more-layer";e:for(let b=0,v,m,y,x,_;b<e.length;b++)if(v=!1,_="",x=e[b],E=this._createModuleGroup(),typeof x=="object"){for(let S=0,B;S<x.length;S++){if(w=x[S],B=!1,/^\%\d+/.test(w)&&S===0){x[0]=w.replace(/[^\d]/g,""),d.push(x),e.splice(b--,1);continue e}if(typeof w=="object")typeof w.add=="function"?(L=w.name,g=l[L],i[L]=w):(L=w.name,g=[w.buttonClass,w.title,w.name,w.dataDisplay,w.innerHTML,w._disabled]);else{if(/^\-/.test(w)){_=w.substr(1),E.div.className+=" module-float-"+_;continue}if(/^\#/.test(w)){w.substr(1)==="fix"&&(E.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(w)){B=!0;const T=w.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);y="__se__"+T[1].trim();const N=T[2].trim(),M=T[3].trim();g=["se-btn-more",N,y,"MORE",M]}else g=l[w];if(L=w,!g){const T=i[L];if(!T)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+L+"]");g=[T.buttonClass,T.title,T.name,T.display,T.innerHTML,T._disabled]}}C=this._createButton(g[0],g[1],g[2],g[3],g[4],g[5],u),(v?m:E.ul).appendChild(C.li),i[L]&&(f[L]=C.button),B&&(v=!0,m=J.createElement("DIV"),m.className="se-more-layer "+y,m.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(_?' style="float: '+_+';"':"")+"></ul></div>",r.appendChild(m),m=m.firstElementChild.firstElementChild)}if(o){const S=s.cloneNode(!1);c.appendChild(S)}c.appendChild(E.div),o=!0}else if(/^\/$/.test(x)){const S=t.createElement("DIV");S.className="se-btn-module-enter",c.appendChild(S),o=!1}switch(c.children.length){case 0:c.style.display="none";break;case 1:J.removeClass(c.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const b=s.cloneNode(!1);b.style.float=c.lastElementChild.style.float,c.appendChild(b)}}d.length>0&&d.unshift(e),r.children.length>0&&c.appendChild(r);const h=t.createElement("DIV");h.className="se-menu-tray",a.appendChild(h);const p=t.createElement("DIV");return p.className="se-toolbar-cover",a.appendChild(p),n.hideToolbar&&(a.style.display="none"),{element:a,plugins:i,pluginCallButtons:f,responsiveButtons:d,_menuTray:h,_buttonTray:c}}},bs=function(t,e,i){return{element:{originElement:t,topArea:e._top,relative:e._relative,toolbar:e._toolBar,_toolbarShadow:e._toolbarShadow,_buttonTray:e._toolBar.querySelector(".se-btn-tray"),_menuTray:e._menuTray,resizingBar:e._resizingBar,navigation:e._navigation,charWrapper:e._charWrapper,charCounter:e._charCounter,editorArea:e._editorArea,wysiwygFrame:e._wysiwygArea,wysiwyg:e._wysiwygArea,code:e._codeArea,placeholder:e._placeholder,loading:e._loading,lineBreaker:e._lineBreaker,lineBreaker_t:e._lineBreaker_t,lineBreaker_b:e._lineBreaker_b,resizeBackground:e._resizeBack,_stickyDummy:e._stickyDummy,_arrow:e._arrow,_focusTemp:e._focusTemp},tool:{cover:e._toolBar.querySelector(".se-toolbar-cover"),bold:e._toolBar.querySelector('[data-command="bold"]'),underline:e._toolBar.querySelector('[data-command="underline"]'),italic:e._toolBar.querySelector('[data-command="italic"]'),strike:e._toolBar.querySelector('[data-command="strike"]'),sub:e._toolBar.querySelector('[data-command="SUB"]'),sup:e._toolBar.querySelector('[data-command="SUP"]'),undo:e._toolBar.querySelector('[data-command="undo"]'),redo:e._toolBar.querySelector('[data-command="redo"]'),save:e._toolBar.querySelector('[data-command="save"]'),outdent:e._toolBar.querySelector('[data-command="outdent"]'),indent:e._toolBar.querySelector('[data-command="indent"]'),fullScreen:e._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:e._toolBar.querySelector('[data-command="showBlocks"]'),codeView:e._toolBar.querySelector('[data-command="codeView"]'),dir:e._toolBar.querySelector('[data-command="dir"]'),dir_ltr:e._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:e._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}};function Sr(t,e){const i=t._w,n=t.util,s=t.options.historyStackDelayTime;let a=t.context.element,c=t.context.tool.undo,u=t.context.tool.redo,l=null,f=0,d=[];function g(){const E=d[f];a.wysiwyg.innerHTML=E.contents,t.setRange(n.getNodeFromPath(E.s.path,a.wysiwyg),E.s.offset,n.getNodeFromPath(E.e.path,a.wysiwyg),E.e.offset),t.focus(),d.length<=1?(c&&c.setAttribute("disabled",!0),u&&u.setAttribute("disabled",!0)):f===0?(c&&c.setAttribute("disabled",!0),u&&u.removeAttribute("disabled")):f===d.length-1?(c&&c.removeAttribute("disabled"),u&&u.setAttribute("disabled",!0)):(c&&c.removeAttribute("disabled"),u&&u.removeAttribute("disabled")),t.controllersOff(),t._checkComponents(),t._setCharCount(),t._resourcesStateChange(),e()}function w(){t._checkComponents();const E=a.wysiwyg.innerHTML;if(!E||d[f]&&E===d[f].contents)return;f++;const C=t._variable._range;d.length>f&&(d=d.slice(0,f),u&&u.setAttribute("disabled",!0)),C?d[f]={contents:E,s:{path:n.getNodePath(C.startContainer,null,null),offset:C.startOffset},e:{path:n.getNodePath(C.endContainer,null,null),offset:C.endOffset}}:d[f]={contents:E,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},f===1&&c&&c.removeAttribute("disabled"),t._setCharCount(),e()}return{stack:d,push:function(E){i.setTimeout(t._resourcesStateChange.bind(t));const C=typeof E=="number"?E>0?E:0:E?s:0;if((!C||l)&&(i.clearTimeout(l),!C)){w();return}l=i.setTimeout(function(){i.clearTimeout(l),l=null,w()},C)},undo:function(){f>0&&(f--,g())},redo:function(){d.length-1>f&&(f++,g())},go:function(E){f=E<0?d.length-1:E,g()},getCurrentIndex:function(){return f},reset:function(E){c&&c.setAttribute("disabled",!0),u&&u.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0),d.splice(0),f=0,d[f]={contents:t.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},E||e()},_resetCachingButton:function(){a=t.context.element,c=t.context.tool.undo,u=t.context.tool.redo,f===0?(c&&c.setAttribute("disabled",!0),u&&f===d.length-1&&u.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0)):f===d.length-1&&u&&u.setAttribute("disabled",!0)},_destroy:function(){l&&i.clearTimeout(l),d=null}}}const Sl={name:"notice",add:function(t){const e=t.context;e.notice={};let i=t.util.createElement("DIV"),n=t.util.createElement("SPAN"),s=t.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",t.lang.dialogBox.close),s.innerHTML=t.icons.cancel,i.appendChild(n),i.appendChild(s),e.notice.modal=i,e.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(t)),e.element.editorArea.appendChild(i),i=null},onClick_cancel:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.notice.close.call(this)},open:function(t){this.context.notice.message.textContent=t,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function Er(t,e,i,n,s,a){const c=t.element.originElement.ownerDocument||document,u=c.defaultView||window,l=J,f=s.icons,d={_d:c,_w:u,_parser:new u.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:l.camelToKebabCase(s.__listCommonStyle),__focusTemp:t.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:l,functions:null,options:null,wwComputedStyle:null,notice:Sl,icons:f,history:null,context:t,pluginCallButtons:e,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new u.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new u.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new u.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new u.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:l.getNumber(t.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:t.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const o=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,h,p;r<o.length;r++)h=o[r],p=h.getAttribute("data-command"),this.allCommandButtons[p]=h},_recoverButtonStates:function(){if(this.allCommandButtons){const o=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let r=0,h,p,b;r<o.length;r++)h=o[r],p=h.getAttribute("data-command"),b=this.allCommandButtons[p],b&&(h.parentElement.replaceChild(b,h),this.context.tool[p]&&(this.context.tool[p]=b))}},callPlugin:function(o,r,h){if(h=h||e[o],this.plugins[o])this.initPlugins[o]?typeof this._targetPlugins[o]=="object"&&h&&this.initMenuTarget(o,h,this._targetPlugins[o]):(this.plugins[o].add(this,h),this.initPlugins[o]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+o+'")');this.plugins[o].active&&!this.commandMap[o]&&h&&(this.commandMap[o]=h,this.activePlugins.push(o)),typeof r=="function"&&r()},addModule:function(o){for(let r=0,h=o.length,p;r<h;r++)p=o[r].name,this.plugins[p]||(this.plugins[p]=o[r]),this.initPlugins[p]||(this.initPlugins[p]=!0,typeof this.plugins[p].add=="function"&&this.plugins[p].add(this))},getGlobalScrollOffset:function(){let o=0,r=0,h=t.element.topArea;for(;h;)o+=h.scrollTop,r+=h.scrollLeft,h=h.parentElement;for(h=this._shadowRoot?this._shadowRoot.host:null;h;)o+=h.scrollTop,r+=h.scrollLeft,h=h.parentElement;return{top:o,left:r}},initMenuTarget:function(o,r,h){r?(t.element._menuTray.appendChild(h),this._targetPlugins[o]=!0,this._menuTray[r.getAttribute("data-command")]=h):this._targetPlugins[o]=h},submenuOn:function(o){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const r=this._submenuName=o.getAttribute("data-command"),h=this.submenu=this._menuTray[r];this.submenuActiveButton=o,this._setMenuPosition(o,h),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,l.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const o=t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));o.style.display="none",l.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(o){this._bindedContainerOff&&this._bindedContainerOff();const r=this._containerName=o.getAttribute("data-command"),h=this.container=this._menuTray[r];this.containerActiveButton=o,this._setMenuPosition(o,h),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[r].on&&this.plugins[r].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,l.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(o,r){r.style.visibility="hidden",r.style.display="block",r.style.height="",l.addClass(o,"on");const h=this.context.element.toolbar,p=h.offsetWidth,b=g._getEditorOffsets(t.element.toolbar),v=r.offsetWidth,m=o.parentElement.offsetLeft+3;if(s.rtl){const M=o.offsetWidth,U=v>M?v-M:0,W=U>0?0:M-v;r.style.left=m-U+W+"px",b.left>g._getEditorOffsets(r).left&&(r.style.left="0px")}else{const M=p<=v?0:p-(m+v);M<0?r.style.left=m+M+"px":r.style.left=m+"px"}let y=0,x=o;for(;x&&x!==h;)y+=x.offsetTop,x=x.offsetParent;const _=y;this._isBalloon?y+=h.offsetTop+o.offsetHeight:y-=o.offsetHeight;const S=b.top,B=r.offsetHeight,T=this.getGlobalScrollOffset().top,N=u.innerHeight-(S-T+_+o.parentElement.offsetHeight);if(N<B){let M=-1*(B-_+3);const U=S-T+M,W=B+(U<0?U:0);W>N?(r.style.height=W+"px",M=-1*(W-_+3)):(r.style.height=N+"px",M=_+o.parentElement.offsetHeight),r.style.top=M+"px"}else r.style.top=_+o.parentElement.offsetHeight+"px";r.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let o=0,r;o<arguments.length;o++)if(r=arguments[o],!!r){if(typeof r=="string"){this.currentControllerName=r;continue}if(typeof r=="function"){this.controllerArray.push(r);continue}if(!l.hasClass(r,"se-controller")){this.currentControllerTarget=r,this.currentFileComponentInfo=this.getFileComponent(r);continue}r.style&&(r.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(r)===-1&&(r.addEventListener("mousedown",function(h){h.preventDefault(),h.stopPropagation()}),this._shadowRootControllerEventTarget.push(r))),this.controllerArray.push(r)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof w.showController=="function"&&w.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(o){this._lineBreaker.style.display="none";const r=this.controllerArray.length;if(o&&o.target&&r>0){for(let h=0;h<r;h++)if(typeof this.controllerArray[h].contains=="function"&&this.controllerArray[h].contains(o.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&o&&o.type==="keydown"&&o.keyCode!==27)&&(t.element.lineBreaker_t.style.display=t.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,r>0){for(let h=0;h<r;h++)typeof this.controllerArray[h]=="function"?this.controllerArray[h]():this.controllerArray[h].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(o,r,h,p){s.rtl&&(p.left*=-1);const b=l.getOffset(r,t.element.wysiwygFrame);o.style.visibility="hidden",o.style.display="block";const v=h==="top"?-(o.offsetHeight+2):r.offsetHeight+12;o.style.top=b.top+v+p.top+"px";const m=b.left-t.element.wysiwygFrame.scrollLeft+p.left,y=o.offsetWidth,x=r.offsetWidth,_=l.hasClass(o.firstElementChild,"se-arrow")?o.firstElementChild:null;if(s.rtl){const S=y>x?y-x:0,B=S>0?0:x-y;o.style.left=m-S+B+"px",S>0&&_&&(_.style.left=(y-14<10+S?y-14:10+S)+"px");const T=t.element.wysiwygFrame.offsetLeft-o.offsetLeft;T>0&&(o.style.left="0px",_&&(_.style.left=T+"px"))}else{o.style.left=m+"px";const S=t.element.wysiwygFrame.offsetWidth-(o.offsetLeft+y);S<0?(o.style.left=o.offsetLeft+S+"px",_&&(_.style.left=20-S+"px")):_&&(_.style.left="20px")}o.style.visibility=""},execCommand:function(o,r,h){this._wd.execCommand(o,r,o==="formatBlock"?"<"+h+">":h),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const o=l.getParentElement(this.getSelectionNode(),"figcaption");o?o.focus():t.element.wysiwyg.focus()},focus:function(){if(t.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{const o=this.getRange();if(o.startContainer===o.endContainer&&l.isWysiwygDiv(o.startContainer)){const r=o.commonAncestorContainer.children[o.startOffset];if(!l.isFormatElement(r)&&!l.isComponent(r)){const h=l.createElement(s.defaultTag),p=l.createElement("BR");h.appendChild(p),t.element.wysiwyg.insertBefore(h,r),this.setRange(p,0,p,0);return}}this.setRange(o.startContainer,o.startOffset,o.endContainer,o.endOffset)}catch{this.nativeFocus()}g._applyTagEffects(),this._isBalloon&&g._toggleToolbarBalloon()}},focusEdge:function(o){o||(o=t.element.wysiwyg.lastElementChild);const r=this.getFileComponent(o);r?this.selectComponent(r.target,r.pluginName):o?(o=l.getChildElement(o,function(h){return h.childNodes.length===0||h.nodeType===3},!0),o?this.setRange(o,o.textContent.length,o,o.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?t.element.wysiwygFrame.blur():t.element.wysiwyg.blur()},setRange:function(o,r,h,p){if(!o||!h)return;(l.isBreak(o)||o.nodeType===3)&&r>o.textContent.length&&(r=o.textContent.length),(l.isBreak(h)||h.nodeType===3)&&p>h.textContent.length&&(p=h.textContent.length),l.isFormatElement(o)&&(o=o.childNodes[r>0?o.childNodes.length-1:0]||o,r=r>0?o.nodeType===1&&!l.isBreak(o)?1:o.textContent?o.textContent.length:0:0),l.isFormatElement(h)&&(h=h.childNodes[p>0?h.childNodes.length-1:0]||h,p=p>0?h.nodeType===1&&!l.isBreak(h)?1:h.textContent?h.textContent.length:0:0);const b=this._wd.createRange();try{r>o.textContent.length&&(r=o.textContent.length),p>h.textContent.length&&(p=h.textContent.length),b.setStart(o,r),b.setEnd(h,p)}catch(m){console.warn("[SUNEDITOR.core.focus.error] "+m),this.nativeFocus();return}const v=this.getSelection();return v.removeAllRanges&&v.removeAllRanges(),v.addRange(b),this._rangeInfo(b,this.getSelection()),s.iframe&&this.__focus(),b},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const o=this._variable._range||this._createDefaultRange(),r=this.getSelection();if(o.collapsed===r.isCollapsed||!t.element.wysiwyg.contains(r.focusNode))return o;if(r.rangeCount>0)return this._variable._range=r.getRangeAt(0),this._variable._range;{const h=r.anchorNode,p=r.focusNode,b=r.anchorOffset,v=r.focusOffset,m=l.compareElements(h,p),y=m.ancestor&&(m.result===0?b<=v:m.result>1);return this.setRange(y?h:p,y?b:v,y?p:h,y?v:b)}},getRange_addLine:function(o,r){if(this._selectionVoid(o)){const h=t.element.wysiwyg,p=l.createElement(s.defaultTag);p.innerHTML="<br>",h.insertBefore(p,r&&r!==h?r.nextElementSibling:h.firstElementChild),this.setRange(p.firstElementChild,0,p.firstElementChild,1),o=this._variable._range}return o},getSelection:function(){const o=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!t.element.wysiwyg.contains(o.focusNode)&&(o.removeAllRanges(),o.addRange(this._createDefaultRange())),o},getSelectionNode:function(){if(t.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const o=l.getChildElement(t.element.wysiwyg.firstChild,function(r){return r.childNodes.length===0||r.nodeType===3},!1);if(!o)this._editorRange();else return this._variable._selectionNode=o,o}return this._variable._selectionNode},_editorRange:function(){const o=this._wd.activeElement;if(l.isInputElement(o))return this._variable._selectionNode=o,o;const r=this.getSelection();if(!r)return null;let h=null;r.rangeCount>0?h=r.getRangeAt(0):h=this._createDefaultRange(),this._rangeInfo(h,r)},_rangeInfo:function(o,r){let h=null;this._variable._range=o,o.collapsed?l.isWysiwygDiv(o.commonAncestorContainer)?h=o.commonAncestorContainer.children[o.startOffset]||o.commonAncestorContainer:h=o.commonAncestorContainer:h=r.extentNode||r.anchorNode,this._variable._selectionNode=h},_createDefaultRange:function(){const o=t.element.wysiwyg,r=this._wd.createRange();let h=o.firstElementChild,p=null;return h?(p=h.firstChild,p||(p=l.createElement("BR"),h.appendChild(p))):(h=l.createElement(s.defaultTag),p=l.createElement("BR"),h.appendChild(p),o.appendChild(h)),r.setStart(p,0),r.setEnd(p,0),r},_selectionVoid:function(o){const r=o.commonAncestorContainer;return l.isWysiwygDiv(o.startContainer)&&l.isWysiwygDiv(o.endContainer)||/FIGURE/i.test(r.nodeName)||this._fileManager.regExp.test(r.nodeName)||l.isMediaComponent(r)},_resetRangeToTextNode:function(){const o=this.getRange();if(this._selectionVoid(o))return!1;const r=o.collapsed;let h=o.startContainer,p=o.startOffset,b=o.endContainer,v=o.endOffset,m,y,x;if(l.isFormatElement(h))for(h.childNodes[p]?(h=h.childNodes[p]||h,p=0):(h=h.lastChild||h,p=h.textContent.length);h&&h.nodeType===1&&h.firstChild;)h=h.firstChild||h,p=0;if(l.isFormatElement(b)){for(b=b.childNodes[v]||b.lastChild||b;b&&b.nodeType===1&&b.lastChild;)b=b.lastChild;v=r?0:b.textContent.length}if(m=l.isWysiwygDiv(h)?t.element.wysiwyg.firstChild:h,y=p,l.isBreak(m)||m.nodeType===1&&m.childNodes.length>0){const _=l.isBreak(m);if(!_){for(;m&&!l.isBreak(m)&&m.nodeType===1;)m=m.childNodes[y]||m.nextElementSibling||m.nextSibling,y=0;let S=l.getFormatElement(m,null);S===l.getRangeFormatElement(S,null)&&(S=l.createElement(l.getParentElement(m,l.isCell)?"DIV":s.defaultTag),m.parentNode.insertBefore(S,m),S.appendChild(m))}if(l.isBreak(m)){const S=l.createTextNode(l.zeroWidthSpace);m.parentNode.insertBefore(S,m),m=S,_&&h===b&&(b=m,v=1)}}if(h=m,p=y,m=l.isWysiwygDiv(b)?t.element.wysiwyg.lastChild:b,y=v,l.isBreak(m)||m.nodeType===1&&m.childNodes.length>0){const _=l.isBreak(m);if(!_){for(;m&&!l.isBreak(m)&&m.nodeType===1&&(x=m.childNodes,x.length!==0);)m=x[y>0?y-1:y]||!/FIGURE/i.test(x[0].nodeName)?x[0]:m.previousElementSibling||m.previousSibling||h,y=y>0?m.textContent.length:y;let S=l.getFormatElement(m,null);S===l.getRangeFormatElement(S,null)&&(S=l.createElement(l.isCell(S)?"DIV":s.defaultTag),m.parentNode.insertBefore(S,m),S.appendChild(m))}if(l.isBreak(m)){const S=l.createTextNode(l.zeroWidthSpace);m.parentNode.insertBefore(S,m),m=S,y=1,_&&!m.previousSibling&&l.removeItem(b)}}return b=m,v=y,this.setRange(h,p,b,v),!0},getSelectedElements:function(o){if(!this._resetRangeToTextNode())return[];let r=this.getRange();if(l.isWysiwygDiv(r.startContainer)){const M=t.element.wysiwyg.children;if(M.length===0)return[];this.setRange(M[0],0,M[M.length-1],M[M.length-1].textContent.trim().length),r=this.getRange()}const h=r.startContainer,p=r.endContainer,b=r.commonAncestorContainer,v=l.getListChildren(b,function(M){return o?o(M):l.isFormatElement(M)});if(!l.isWysiwygDiv(b)&&!l.isRangeFormatElement(b)&&v.unshift(l.getFormatElement(b,null)),h===p||v.length===1)return v;let m=l.getFormatElement(h,null),y=l.getFormatElement(p,null),x=null,_=null;const S=function(M){return l.isTable(M)?/^TABLE$/i.test(M.nodeName):!0};let B=l.getRangeFormatElement(m,S),T=l.getRangeFormatElement(y,S);l.isTable(B)&&l.isListCell(B.parentNode)&&(B=B.parentNode),l.isTable(T)&&l.isListCell(T.parentNode)&&(T=T.parentNode);const N=B===T;for(let M=0,U=v.length,W;M<U;M++){if(W=v[M],m===W||!N&&W===B){x=M;continue}if(y===W||!N&&W===T){_=M;break}}return x===null&&(x=0),_===null&&(_=v.length-1),v.slice(x,_+1)},getSelectedElementsAndComponents:function(o){const r=this.getRange().commonAncestorContainer,h=l.getParentElement(r,l.isComponent),p=l.isTable(r)?this.getSelectedElements(null):this.getSelectedElements((function(b){const v=this.getParentElement(b,this.isComponent);return this.isFormatElement(b)&&(!v||v===h)||this.isComponent(b)&&!this.getFormatElement(b)}).bind(l));if(o){for(let b=0,v=p.length;b<v;b++)for(let m=b-1;m>=0;m--)if(p[m].contains(p[b])){p.splice(b,1),b--,v--;break}}return p},isEdgePoint:function(o,r,h){return o.nodeType===1&&!o.textContent.length?!0:h!=="end"&&r===0||(!h||h!=="start")&&!o.nodeValue&&r===1||(!h||h==="end")&&!!o.nodeValue&&r===o.nodeValue.length},_isEdgeFormat:function(o,r,h){if(!this.isEdgePoint(o,r,h))return!1;const p=[];for(h=h==="start"?"previousSibling":"nextSibling";o&&!l.isFormatElement(o)&&!l.isWysiwygDiv(o);)if(!o[h]||l.isBreak(o[h])&&!o[h][h])o.nodeType===1&&p.push(o.cloneNode(!1)),o=o.parentNode;else return null;return p},showLoading:function(){t.element.loading.style.display="block"},closeLoading:function(){t.element.loading.style.display="none"},appendFormatTag:function(o,r){if(!o||!o.parentNode)return null;const h=l.getFormatElement(this.getSelectionNode(),null);let p=null;if(!l.isFormatElement(o)&&l.isFreeFormatElement(h||o.parentNode))p=l.createElement("BR");else{const b=r?typeof r=="string"?r:r.nodeName:l.isFormatElement(h)&&!l.isRangeFormatElement(h)&&!l.isFreeFormatElement(h)?h.nodeName:s.defaultTag;p=l.createElement(b),p.innerHTML="<br>",(r&&typeof r!="string"||!r&&l.isFormatElement(h))&&l.copyTagAttributes(p,r||h,["id"])}return l.isCell(o)?o.insertBefore(p,o.nextElementSibling):o.parentNode.insertBefore(p,o.nextElementSibling),p},insertComponent:function(o,r,h,p){if(this.isReadOnly||h&&!this.checkCharCount(o,null))return null;const b=this.removeNode();this.getRange_addLine(this.getRange(),b.container);let v=null,m=this.getSelectionNode(),y=l.getFormatElement(m,null);if(l.isListCell(y))this.insertNode(o,m===y?null:(m||b.container).nextSibling,!1),o.nextSibling||o.parentNode.appendChild(l.createElement("BR"));else{if(this.getRange().collapsed&&(b.container.nodeType===3||l.isBreak(b.container))){const x=l.getParentElement(b.container,(function(_){return this.isRangeFormatElement(_)}).bind(l));v=l.splitElement(b.container,b.offset,x?l.getElementDepth(x)+1:0),v&&(y=v.previousSibling)}this.insertNode(o,l.isRangeFormatElement(y)?null:y,!1),y&&l.onlyZeroWidthSpace(y)&&l.removeItem(y)}if(!p){this.setRange(o,0,o,0);const x=this.getFileComponent(o);x?this.selectComponent(x.target,x.pluginName):v&&(v=l.getEdgeChildNodes(v,null).sc||v,this.setRange(v,0,v,0))}return r||this.history.push(1),v||o},getFileComponent:function(o){if(!this._fileManager.queryString||!o)return null;let r,h;return(/^FIGURE$/i.test(o.nodeName)||/se-component/.test(o.className))&&(r=o.querySelector(this._fileManager.queryString)),!r&&o.nodeName&&this._fileManager.regExp.test(o.nodeName)&&(r=o),r&&(h=this._fileManager.pluginMap[r.nodeName.toLowerCase()],h)?{target:r,component:l.getParentElement(r,l.isComponent),pluginName:h}:null},selectComponent:function(o,r){if(l.isUneditableComponent(l.getParentElement(o,l.isComponent))||l.isUneditableComponent(o))return!1;this.hasFocus||this.focus();const h=this.plugins[r];h&&u.setTimeout((function(){typeof h.select=="function"&&this.callPlugin(r,h.select.bind(this,o),null),this._setComponentLineBreaker(o)}).bind(this))},_setComponentLineBreaker:function(o){this._lineBreaker.style.display="none";const r=l.getParentElement(o,l.isComponent);if(!r)return;const h=t.element.lineBreaker_t.style,p=t.element.lineBreaker_b.style,b=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:o,v=l.isListCell(r.parentNode);let m,y,x;(v?!r.previousSibling||l.isComponent(r.previousElementSibling):!l.isFormatElement(r.previousElementSibling))?(this._variable._lineBreakComp=r,y=t.element.wysiwyg.scrollTop,m=l.getOffset(o,t.element.wysiwygFrame).top+y,x=b.offsetWidth/2/2,h.top=m-y-12+"px",h.left=l.getOffset(b).left+x+"px",h.display="block"):h.display="none",(v?!r.nextSibling||l.isComponent(r.nextElementSibling):!l.isFormatElement(r.nextElementSibling))?(m||(this._variable._lineBreakComp=r,y=t.element.wysiwyg.scrollTop,m=l.getOffset(o,t.element.wysiwygFrame).top+y,x=b.offsetWidth/2/2),p.top=m+b.offsetHeight-y-12+"px",p.left=l.getOffset(b).left+b.offsetWidth-x-24+"px",p.display="block"):p.display="none"},_checkDuplicateNode:function(o,r){(function h(p){d._dupleCheck(p,r);const b=p.childNodes;for(let v=0,m=b.length;v<m;v++)h(b[v])})(o)},_dupleCheck:function(o,r){if(!l.isTextStyleElement(o))return;const h=(o.style.cssText.match(/[^;]+;/g)||[]).map(function(v){return v.trim()}),p=o.nodeName;if(/^span$/i.test(p)&&h.length===0)return o;let b=!1;return(function v(m){if(!(l.isWysiwygDiv(m)||!l.isTextStyleElement(m))){if(m.nodeName===p){b=!0;const y=m.style.cssText.match(/[^;]+;/g)||[];for(let x=0,_=y.length,S;x<_;x++)(S=h.indexOf(y[x].trim()))>-1&&h.splice(S,1);for(let x=0,_=m.classList.length;x<_;x++)o.classList.remove(m.classList[x])}v(m.parentElement)}})(r),b&&((o.style.cssText=h.join(" "))||(o.setAttribute("style",""),o.removeAttribute("style")),o.attributes.length||o.setAttribute("data-se-duple","true")),o},insertNode:function(o,r,h){if(this.isReadOnly||h&&!this.checkCharCount(o,null))return null;let p=null,b=this.getRange(),v=l.isListCell(b.commonAncestorContainer)?b.commonAncestorContainer:l.getFormatElement(this.getSelectionNode(),null),m=l.isListCell(v)&&(l.isListCell(o)||l.isList(o)),y,x,_,S=null;const B=l.isFreeFormatElement(v),T=!B&&(l.isFormatElement(o)||l.isRangeFormatElement(o))||l.isComponent(o);if(m&&(_=r||l.isList(o)?v.lastChild:v.nextElementSibling,S=l.isList(o)?v:(_||v).parentNode),!r&&(T||l.isComponent(o)||l.isMedia(o))){const F=this.isEdgePoint(b.endContainer,b.endOffset,"end"),z=this.removeNode(),I=z.container,D=I===z.prevContainer&&b.collapsed?null:z.prevContainer;if(m&&D)if(S=D.nodeType===3?D.parentNode:D,S.contains(I)){let O=!0;for(_=I;_.parentNode&&_.parentNode!==S;)_=_.parentNode,O=!1;O&&I===D&&(_=_.nextSibling)}else _=null;else if(m&&l.isListCell(I)&&!v.parentElement)v=l.createElement("LI"),S.appendChild(v),I.appendChild(S),_=null;else if(I.nodeType===3||l.isBreak(I)||m){const O=l.getParentElement(I,(function(k){return this.isRangeFormatElement(k)||this.isListCell(k)}).bind(l));if(r=l.splitElement(I,z.offset,O?l.getElementDepth(O)+1:0),!r)l.isListCell(v)||(_=r=v);else if(m){if(v.contains(I)){const k=l.isList(v.lastElementChild);let A=null;F||(A=v.cloneNode(!1),A.appendChild(r.textContent.trim()?r:l.createTextNode(l.zeroWidthSpace))),k&&(A||(A=v.cloneNode(!1),A.appendChild(l.createTextNode(l.zeroWidthSpace))),A.appendChild(v.lastElementChild)),A&&(v.parentNode.insertBefore(A,v.nextElementSibling),_=r=A)}}else r=r.previousSibling}}b=!r&&!T?this.getRange_addLine(this.getRange(),null):this.getRange();const N=b.commonAncestorContainer,M=b.startOffset,U=b.endOffset,W=b.startContainer===N&&l.isFormatElement(N),R=W&&(N.childNodes[M]||N.childNodes[0])||b.startContainer,H=W&&(N.childNodes[U]||N.childNodes[N.childNodes.length-1])||b.endContainer;if(!m)if(r)y=r.parentNode,r=r.nextSibling,x=!0;else if(y=R,R.nodeType===3&&(y=R.parentNode),b.collapsed)if(N.nodeType===3)N.textContent.length>U?r=N.splitText(U):r=N.nextSibling;else if(l.isBreak(y))r=y,y=y.parentNode;else{let F=y.childNodes[M];const z=F&&F.nodeType===3&&l.onlyZeroWidthSpace(F)&&l.isBreak(F.nextSibling)?F.nextSibling:F;z?!z.nextSibling&&l.isBreak(z)?(y.removeChild(z),r=null):r=l.isBreak(z)&&!l.isBreak(o)?z:z.nextSibling:r=null}else if(R===H){this.isEdgePoint(H,U)?r=H.nextSibling:r=H.splitText(U);let z=R;this.isEdgePoint(R,M)||(z=R.splitText(M)),y.removeChild(z),y.childNodes.length===0&&T&&(y.innerHTML="<br>")}else{const z=this.removeNode(),I=z.container,D=z.prevContainer;if(I&&I.childNodes.length===0&&T&&(l.isFormatElement(I)?I.innerHTML="<br>":l.isRangeFormatElement(I)&&(I.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),l.isListCell(I)&&o.nodeType===3)y=I,r=null;else if(!T&&D)if(y=D.nodeType===3?D.parentNode:D,y.contains(I)){let O=!0;for(r=I;r.parentNode&&r.parentNode!==y;)r=r.parentNode,O=!1;O&&I===D&&(r=r.nextSibling)}else r=null;else l.isWysiwygDiv(I)&&!l.isFormatElement(o)?(y=I.appendChild(l.createElement(s.defaultTag)),r=null):(r=T?H:I===D?I.nextSibling:I,y=!r||!r.parentNode?N:r.parentNode);for(;r&&!l.isFormatElement(r)&&r.parentNode!==N;)r=r.parentNode}try{if(!m){if((l.isWysiwygDiv(r)||y===t.element.wysiwyg.parentNode)&&(y=t.element.wysiwyg,r=null),l.isFormatElement(o)||l.isRangeFormatElement(o)||!l.isListCell(y)&&l.isComponent(o)){const F=y;if(l.isList(r))y=r,r=null;else if(l.isListCell(r))y=r.previousElementSibling||r;else if(!x&&!r){const z=this.removeNode(),I=z.container.nodeType===3?l.isListCell(l.getFormatElement(z.container,null))?z.container:l.getFormatElement(z.container,null)||z.container.parentNode:z.container,D=l.isWysiwygDiv(I)||l.isRangeFormatElement(I);y=D?I:I.parentNode,r=D?null:I.nextSibling}F.childNodes.length===0&&y!==F&&l.removeItem(F)}if(T&&!B&&!l.isRangeFormatElement(y)&&!l.isListCell(y)&&!l.isWysiwygDiv(y)&&(r=y.nextElementSibling,y=y.parentNode),l.isWysiwygDiv(y)&&(o.nodeType===3||l.isBreak(o))){const F=l.createElement(s.defaultTag);F.appendChild(o),p=o,o=F}}if(m?S.parentNode?(y=S,r=_):(y=t.element.wysiwyg,r=null):r=y===r?y.lastChild:r,l.isListCell(o)&&!l.isList(y)){if(l.isListCell(y))r=y.nextElementSibling,y=y.parentNode;else{const F=l.createElement("ol");y.insertBefore(F,r),y=F,r=null}m=!0}if(this._checkDuplicateNode(o,y),y.insertBefore(o,r),m)if(l.onlyZeroWidthSpace(v.textContent.trim()))l.removeItem(v),o=o.lastChild;else{const F=l.getArrayItem(v.children,l.isList);F&&(o!==F?(o.appendChild(F),o=F.previousSibling):(y.appendChild(o),o=y),l.onlyZeroWidthSpace(v.textContent.trim())&&l.removeItem(v))}}catch(F){y.appendChild(o),console.warn("[SUNEDITOR.insertNode.warn] "+F)}finally{p&&(o=p);const F=y.querySelectorAll("[data-se-duple]");if(F.length>0)for(let z=0,I=F.length,D,O,k,A;z<I;z++){for(D=F[z],k=D.childNodes,A=D.parentNode;k[0];)O=k[0],A.insertBefore(O,D);D===o&&(o=O),l.removeItem(D)}if((l.isFormatElement(o)||l.isComponent(o))&&R===H){const z=l.getFormatElement(N,null);z&&z.nodeType===1&&l.isEmptyLine(z)&&l.removeItem(z)}if(B&&(l.isFormatElement(o)||l.isRangeFormatElement(o))&&(o=this._setIntoFreeFormat(o)),!l.isComponent(o)){let z=1;if(o.nodeType===3)z=o.textContent.length,this.setRange(o,z,o,z);else if(!l.isBreak(o)&&!l.isListCell(o)&&l.isFormatElement(y)){let I=null;(!o.previousSibling||l.isBreak(o.previousSibling))&&(I=l.createTextNode(l.zeroWidthSpace),o.parentNode.insertBefore(I,o)),(!o.nextSibling||l.isBreak(o.nextSibling))&&(I=l.createTextNode(l.zeroWidthSpace),o.parentNode.insertBefore(I,o.nextSibling)),l._isIgnoreNodeChange(o)&&(o=o.nextSibling,z=0)}this.setRange(o,z,o,z)}return o}},_setIntoFreeFormat:function(o){const r=o.parentNode;let h,p;for(;l.isFormatElement(o)||l.isRangeFormatElement(o);){for(h=o.childNodes,p=null;h[0];){if(p=h[0],l.isFormatElement(p)||l.isRangeFormatElement(p)){if(this._setIntoFreeFormat(p),!o.parentNode)break;h=o.childNodes;continue}r.insertBefore(p,o)}o.childNodes.length===0&&l.removeItem(o),o=l.createElement("BR"),r.insertBefore(o,p.nextSibling)}return o},removeNode:function(){this._resetRangeToTextNode();const o=this.getRange();if(o.startContainer===o.endContainer){const z=l.getParentElement(o.startContainer,l.isMediaComponent);if(z){const I=l.createElement("BR"),D=l.createElement(s.defaultTag);return D.appendChild(I),l.changeElement(z,D),d.setRange(D,0,D,0),this.history.push(!0),{container:D,offset:0,prevContainer:null}}}const r=o.startOffset===0,h=d.isEdgePoint(o.endContainer,o.endOffset,"end");let p=null,b=null,v=null;r&&(b=l.getFormatElement(o.startContainer),b&&(p=b.previousElementSibling,b=p)),h&&(v=l.getFormatElement(o.endContainer),v=v&&v.nextElementSibling);let m,y=0,x=o.startContainer,_=o.endContainer,S=o.startOffset,B=o.endOffset;const T=o.commonAncestorContainer.nodeType===3&&o.commonAncestorContainer.parentNode===x.parentNode?x.parentNode:o.commonAncestorContainer;if(T===x&&T===_&&(x=T.children[S],_=T.children[B],S=B=0),!x||!_)return{container:T,offset:0};if(x===_&&o.collapsed&&x.textContent&&l.onlyZeroWidthSpace(x.textContent.substr(S)))return{container:x,offset:S,prevContainer:x&&x.parentNode?x:null};let N=null,M=null;const U=l.getListChildNodes(T,null);let W=l.getArrayIndex(U,x),R=l.getArrayIndex(U,_);if(U.length>0&&W>-1&&R>-1){for(let z=W+1,I=x;z>=0;z--)U[z]===I.parentNode&&U[z].firstChild===I&&S===0&&(W=z,I=I.parentNode);for(let z=R-1,I=_;z>W;z--)U[z]===I.parentNode&&U[z].nodeType===1&&(U.splice(z,1),I=I.parentNode,--R)}else{if(U.length===0){if(l.isFormatElement(T)||l.isRangeFormatElement(T)||l.isWysiwygDiv(T)||l.isBreak(T)||l.isMedia(T))return{container:T,offset:0};if(T.nodeType===3)return{container:T,offset:B};U.push(T),x=_=T}else if(x=_=U[0],l.isBreak(x)||l.onlyZeroWidthSpace(x))return{container:l.isMedia(T)?T:x,offset:0};W=R=0}for(let z=W;z<=R;z++){const I=U[z];if(I.length===0||I.nodeType===3&&I.data===void 0){this._nodeRemoveListItem(I);continue}if(I===x){if(x.nodeType===1){if(l.isComponent(x))continue;N=l.createTextNode(x.textContent)}else I===_?(N=l.createTextNode(x.substringData(0,S)+_.substringData(B,_.length-B)),y=S):N=l.createTextNode(x.substringData(0,S));if(N.length>0?x.data=N.data:this._nodeRemoveListItem(x),I===_)break;continue}if(I===_){if(_.nodeType===1){if(l.isComponent(_))continue;M=l.createTextNode(_.textContent)}else M=l.createTextNode(_.substringData(B,_.length-B));M.length>0?_.data=M.data:this._nodeRemoveListItem(_);continue}this._nodeRemoveListItem(I)}const H=l.getParentElement(_,"ul"),F=l.getParentElement(x,"li");if(H&&F&&F.contains(H)?(m=H.previousSibling,y=m.textContent.length):(m=_&&_.parentNode?_:x&&x.parentNode?x:o.endContainer||o.startContainer,y=!r&&!h?y:h?m.textContent.length:0),!l.isWysiwygDiv(m)&&m.childNodes.length===0){const z=l.removeItemAllParents(m,null,null);z&&(m=z.sc||z.ec||t.element.wysiwyg)}return!l.getFormatElement(m)&&!(x&&x.parentNode)&&(v?(m=v,y=0):b&&(m=b,y=1)),this.setRange(m,y,m,y),this.history.push(!0),{container:m,offset:y,prevContainer:p}},_nodeRemoveListItem:function(o){const r=l.getFormatElement(o,null);l.removeItem(o),l.isListCell(r)&&(l.removeItemAllParents(r,null,null),r&&l.isList(r.firstChild)&&r.insertBefore(l.createTextNode(l.zeroWidthSpace),r.firstChild))},applyRangeFormatElement:function(o){this.getRange_addLine(this.getRange(),null);const r=this.getSelectedElementsAndComponents(!1);if(!r||r.length===0)return;e:for(let B=0,T=r.length,N,M,U,W,R,H;B<T;B++)if(N=r[B],!!l.isListCell(N)&&(M=N.lastElementChild,M&&l.isListCell(N.nextElementSibling)&&r.indexOf(N.nextElementSibling)>-1&&(W=M.lastElementChild,r.indexOf(W)>-1))){let F=null;for(;F=W.lastElementChild;)if(l.isList(F))if(r.indexOf(F.lastElementChild)>-1)W=F.lastElementChild;else continue e;U=M.firstElementChild,R=r.indexOf(U),H=r.indexOf(W),r.splice(R,H-R+1),T=r.length;continue}let h=r[r.length-1],p,b,v;l.isRangeFormatElement(h)||l.isFormatElement(h)?p=h:p=l.getRangeFormatElement(h,null)||l.getFormatElement(h,null),l.isCell(p)?(b=null,v=p):(b=p.nextSibling,v=p.parentNode);let m=l.getElementDepth(p),y=null;const x=[],_=function(B,T,N){let M=null;if(B!==T&&!l.isTable(T)){if(T&&l.getElementDepth(B)===l.getElementDepth(T))return N;M=l.removeItemAllParents(T,null,B)}return M?M.ec:N};for(let B=0,T=r.length,N,M,U,W,R,H,F;B<T;B++)if(N=r[B],M=N.parentNode,!(!M||o.contains(M)))if(U=l.getElementDepth(N),l.isList(M)){if(y===null&&(H?(y=H,F=!0,H=null):y=M.cloneNode(!1)),x.push(N),R=r[B+1],B===T-1||R&&R.parentNode!==M){R&&N.contains(R.parentNode)&&(H=R.parentNode.cloneNode(!1));let z=M.parentNode,I;for(;l.isList(z);)I=l.createElement(z.nodeName),I.appendChild(y),y=I,z=z.parentNode;const D=this.detachRangeFormatElement(M,x,null,!0,!0);m>=U?(m=U,v=D.cc,b=_(v,M,D.ec),b&&(v=b.parentNode)):v===D.cc&&(b=D.ec),v!==D.cc&&(W=_(v,D.cc,W),W!==void 0?b=W:b=D.cc);for(let O=0,k=D.removeArray.length;O<k;O++)y.appendChild(D.removeArray[O]);F||o.appendChild(y),H&&D.removeArray[D.removeArray.length-1].appendChild(H),y=null,F=!1}}else m>=U&&(m=U,v=M,b=N.nextSibling),o.appendChild(N),v!==M&&(W=_(v,M),W!==void 0&&(b=W));if(this.effectNode=null,l.mergeSameTags(o,null,!1),l.mergeNestedTags(o,(function(B){return this.isList(B)}).bind(l)),b&&l.getElementDepth(b)>0&&(l.isList(b.parentNode)||l.isList(b.parentNode.parentNode))){const B=l.getParentElement(b,(function(N){return this.isRangeFormatElement(N)&&!this.isList(N)}).bind(l)),T=l.splitElement(b,null,B?l.getElementDepth(B)+1:0);T.parentNode.insertBefore(o,T)}else v.insertBefore(o,b),_(o,b);const S=l.getEdgeChildNodes(o.firstElementChild,o.lastElementChild);r.length>1?this.setRange(S.sc,0,S.ec,S.ec.textContent.length):this.setRange(S.ec,S.ec.textContent.length,S.ec,S.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(o,r,h,p,b){const v=this.getRange();let m=v.startOffset,y=v.endOffset,x=l.getListChildNodes(o,function(D){return D.parentNode===o}),_=o.parentNode,S=null,B=null,T=o.cloneNode(!1);const N=[],M=l.isList(h);let U=!1,W=!1,R=!1;function H(D,O,k,A){if(l.onlyZeroWidthSpace(O)&&(O.innerHTML=l.zeroWidthSpace,m=y=1),O.nodeType===3)return D.insertBefore(O,k),O;const P=(R?O:A).childNodes;let V=O.cloneNode(!1),$=null,Z=null;for(;P[0];)Z=P[0],l._notTextNode(Z)&&!l.isBreak(Z)&&!l.isListCell(V)?(V.childNodes.length>0&&($||($=V),D.insertBefore(V,k),V=O.cloneNode(!1)),D.insertBefore(Z,k),$||($=Z)):V.appendChild(Z);if(V.childNodes.length>0){if(l.isListCell(D)&&l.isListCell(V)&&l.isList(k))if(M){for($=k;k;)V.appendChild(k),k=k.nextSibling;D.parentNode.insertBefore(V,D.nextElementSibling)}else{const q=A.nextElementSibling,Y=l.detachNestedList(A,!1);if(o!==Y||q!==A.nextElementSibling){const K=V.childNodes;for(;K[0];)A.appendChild(K[0]);o=Y,W=!0}}else D.insertBefore(V,k);$||($=V)}return $}for(let D=0,O=x.length,k,A,P;D<O;D++)if(k=x[D],!(k.nodeType===3&&l.isList(T)))if(R=!1,p&&D===0&&(!r||r.length===O||r[0]===k?S=o.previousSibling:S=T),r&&(A=r.indexOf(k)),r&&A===-1)T||(T=o.cloneNode(!1)),T.appendChild(k);else{if(r&&(P=r[A+1]),T&&T.children.length>0&&(_.insertBefore(T,o),T=null),!M&&l.isListCell(k))if(P&&l.getElementDepth(k)!==l.getElementDepth(P)&&(l.isListCell(_)||l.getArrayItem(k.children,l.isList,!1))){const V=k.nextElementSibling,$=l.detachNestedList(k,!1);(o!==$||V!==k.nextElementSibling)&&(o=$,W=!0)}else{const V=k;k=l.createElement(p?V.nodeName:l.isList(o.parentNode)||l.isListCell(o.parentNode)?"LI":l.isCell(o.parentNode)?"DIV":s.defaultTag);const $=l.isListCell(k),Z=V.childNodes;for(;Z[0]&&!(l.isList(Z[0])&&!$);)k.appendChild(Z[0]);l.copyFormatAttributes(k,V),R=!0}else k=k.cloneNode(!1);if(!W&&(p?(N.push(k),l.removeItem(x[D])):(h?(U||(_.insertBefore(h,o),U=!0),k=H(h,k,null,x[D])):k=H(_,k,o,x[D]),W||(r?(B=k,S||(S=k)):S||(S=B=k))),W)){W=R=!1,x=l.getListChildNodes(o,function(V){return V.parentNode===o}),T=o.cloneNode(!1),_=o.parentNode,D=-1,O=x.length;continue}}const F=o.parentNode;let z=o.nextSibling;T&&T.children.length>0&&F.insertBefore(T,z),h?S=h.previousSibling:S||(S=o.previousSibling),z=o.nextSibling!==T?o.nextSibling:T?T.nextSibling:null,o.children.length===0||o.textContent.length===0?l.removeItem(o):l.removeEmptyNode(o,null,!1);let I=null;if(p)I={cc:F,sc:S,so:m,ec:z,eo:y,removeArray:N};else{S||(S=B),B||(B=S);const D=l.getEdgeChildNodes(S,B.parentNode?S:B);I={cc:(D.sc||D.ec).parentNode,sc:D.sc,so:m,ec:D.ec,eo:y,removeArray:null}}if(this.effectNode=null,b)return I;!p&&I&&(r?this.setRange(I.sc,m,I.ec,y):this.setRange(I.sc,0,I.sc,0)),this.history.push(!1)},detachList:function(o,r){let h={},p=!1,b=!1,v=null,m=null;const y=(function(x){return!this.isComponent(x)}).bind(l);for(let x=0,_=o.length,S,B,T,N;x<_;x++){if(T=x===_-1,B=l.getRangeFormatElement(o[x],y),N=l.isList(B),!S&&N)S=B,h={r:S,f:[l.getParentElement(o[x],"LI")]},x===0&&(p=!0);else if(S&&N)if(S!==B){const M=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,r,!0);B=o[x].parentNode,p&&(v=M.sc,p=!1),T&&(m=M.ec),N?(S=B,h={r:S,f:[l.getParentElement(o[x],"LI")]},T&&(b=!0)):S=null}else h.f.push(l.getParentElement(o[x],"LI")),T&&(b=!0);if(T&&l.isList(S)){const M=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,r,!0);(b||_===1)&&(m=M.ec),p&&(v=M.sc||m)}}return{sc:v,ec:m}},nodeChange:function(o,r,h,p){this._resetRangeToTextNode();let b=this.getRange_addLine(this.getRange(),null);r=r&&r.length>0?r:!1,h=h&&h.length>0?h:!1;const v=!o,m=v&&!h&&!r;let y=b.startContainer,x=b.startOffset,_=b.endContainer,S=b.endOffset;if(m&&b.collapsed&&l.isFormatElement(y.parentNode)||y===_&&y.nodeType===1&&l.isNonEditable(y)){const Z=y.parentNode;if(!l.isListCell(Z)||!l.getValues(Z.style).some((function(q){return this._listKebab.indexOf(q)>-1}).bind(this)))return}if(b.collapsed&&!m&&y.nodeType===1&&!l.isBreak(y)&&!l.isComponent(y)){let Z=null;const q=y.childNodes[x];q&&(q.nextSibling?Z=l.isBreak(q)?q:q.nextSibling:Z=null);const Y=l.createTextNode(l.zeroWidthSpace);y.insertBefore(Y,Z),this.setRange(Y,1,Y,1),b=this.getRange(),y=b.startContainer,x=b.startOffset,_=b.endContainer,S=b.endOffset}l.isFormatElement(y)&&(y=y.childNodes[x]||y.firstChild,x=0),l.isFormatElement(_)&&(_=_.childNodes[S]||_.lastChild,S=_.textContent.length),v&&(o=l.createElement("DIV"));const B=u.RegExp,T=o.nodeName;if(!m&&y===_&&!h&&o){let Z=y,q=0;const Y=[],K=o.style;for(let j=0,Q=K.length;j<Q;j++)Y.push(K[j]);const G=o.classList;for(let j=0,Q=G.length;j<Q;j++)Y.push("."+G[j]);if(Y.length>0){for(;!l.isFormatElement(Z)&&!l.isWysiwygDiv(Z);){for(let j=0;j<Y.length;j++)if(Z.nodeType===1){const Q=Y[j],ce=/^\./.test(Q)?new B("\\s*"+Q.replace(/^\./,"")+"(\\s+|$)","ig"):!1,he=v?!!Z.style[Q]:!!Z.style[Q]&&!!o.style[Q]&&Z.style[Q]===o.style[Q],se=ce===!1?!1:v?!!Z.className.match(ce):!!Z.className.match(ce)&&!!o.className.match(ce);(he||se)&&q++}Z=Z.parentNode}if(q>=Y.length)return}}let N={},M={},U,W="",R="",H="";if(r){for(let Z=0,q=r.length,Y;Z<q;Z++)Y=r[Z],/^\./.test(Y)?R+=(R?"|":"\\s*(?:")+Y.replace(/^\./,""):W+=(W?"|":"(?:;|^|\\s)(?:")+Y;W&&(W+=")\\s*:[^;]*\\s*(?:;|$)",W=new B(W,"ig")),R&&(R+=")(?=\\s+|$)",R=new B(R,"ig"))}if(h){H="^(?:"+h[0];for(let Z=1;Z<h.length;Z++)H+="|"+h[Z];H+=")$",H=new B(H,"i")}const F=u.Boolean,z={v:!1},I=function(Z){const q=Z.cloneNode(!1);if(q.nodeType===3||l.isBreak(q))return q;if(m)return null;const Y=!H&&v||H&&H.test(q.nodeName);if(Y&&!p)return z.v=!0,null;const K=q.style.cssText;let G="";W&&K.length>0&&(G=K.replace(W,"").trim(),G!==K&&(z.v=!0));const j=q.className;let Q="";return R&&j.length>0&&(Q=j.replace(R,"").trim(),Q!==j&&(z.v=!0)),v&&(R||!j)&&(W||!K)&&!G&&!Q&&Y?(z.v=!0,null):G||Q||q.nodeName!==T||F(W)!==F(K)||F(R)!==F(j)?(W&&K.length>0&&(q.style.cssText=G),q.style.cssText||q.removeAttribute("style"),R&&j.length>0&&(q.className=Q.trim()),q.className.trim()||q.removeAttribute("class"),!q.style.cssText&&!q.className&&(q.nodeName===T||Y)?(z.v=!0,null):q):(z.v=!0,null)},D=this.getSelectedElements(null);b=this.getRange(),y=b.startContainer,x=b.startOffset,_=b.endContainer,S=b.endOffset,l.getFormatElement(y,null)||(y=l.getChildElement(D[0],function(Z){return Z.nodeType===3},!1),x=0),l.getFormatElement(_,null)||(_=l.getChildElement(D[D.length-1],function(Z){return Z.nodeType===3},!1),S=_.textContent.length);const O=l.getFormatElement(y,null)===l.getFormatElement(_,null),k=D.length-(O?0:1);U=o.cloneNode(!1);const A=m||v&&(function(Z){for(let q=0,Y=Z.length;q<Y;q++)if(l._isMaintainedNode(Z[q])||l._isSizeNode(Z[q]))return!0;return!1})(h),P=v||l._isSizeNode(U),V=this._util_getMaintainedNode.bind(l,A,P),$=this._util_isMaintainedNode.bind(l,A,P);if(O){this._resetCommonListCell(D[0],r)&&(b=this.setRange(y,x,_,S));const Z=this._nodeChange_oneLine(D[0],U,I,y,x,_,S,m,v,b.collapsed,z,V,$);N.container=Z.startContainer,N.offset=Z.startOffset,M.container=Z.endContainer,M.offset=Z.endOffset,N.container===M.container&&l.onlyZeroWidthSpace(N.container)&&(N.offset=M.offset=1),this._setCommonListStyle(Z.ancestor,null)}else{let Z=!1;k>0&&this._resetCommonListCell(D[k],r)&&(Z=!0),this._resetCommonListCell(D[0],r)&&(Z=!0),Z&&this.setRange(y,x,_,S),k>0&&(U=o.cloneNode(!1),M=this._nodeChange_endLine(D[k],U,I,_,S,m,v,z,V,$));for(let q=k-1,Y;q>0;q--)this._resetCommonListCell(D[q],r),U=o.cloneNode(!1),Y=this._nodeChange_middleLine(D[q],U,I,m,v,z,M.container),Y.endContainer&&Y.ancestor.contains(Y.endContainer)&&(M.ancestor=null,M.container=Y.endContainer),this._setCommonListStyle(Y.ancestor,null);U=o.cloneNode(!1),N=this._nodeChange_startLine(D[0],U,I,y,x,m,v,z,V,$,M.container),N.endContainer&&(M.ancestor=null,M.container=N.endContainer),k<=0?M=N:M.container||(M.ancestor=null,M.container=N.container,M.offset=N.container.textContent.length),this._setCommonListStyle(N.ancestor,null),this._setCommonListStyle(M.ancestor||l.getFormatElement(M.container),null)}this.controllersOff(),this.setRange(N.container,N.offset,M.container,M.offset),this.history.push(!1)},_resetCommonListCell:function(o,r){if(!l.isListCell(o))return;r||(r=this._listKebab);const h=l.getArrayItem(o.childNodes,function(B){return!l.isBreak(B)},!0),p=o.style,b=[],v=[],m=l.getValues(p);for(let B=0,T=this._listKebab.length;B<T;B++)m.indexOf(this._listKebab[B])>-1&&r.indexOf(this._listKebab[B])>-1&&(b.push(this._listCamel[B]),v.push(this._listKebab[B]));if(!b.length)return;const y=l.createElement("SPAN");for(let B=0,T=b.length;B<T;B++)y.style[b[B]]=p[v[B]],p.removeProperty(v[B]);let x=y.cloneNode(!1),_=null,S=!1;for(let B=0,T=h.length,N,M;B<T;B++)N=h[B],!s._textTagsMap[N.nodeName.toLowerCase()]&&(M=l.getValues(N.style),M.length===0||b.some(function(U){return M.indexOf(U)===-1})&&M.some(function(U){})?(_=N.nextSibling,x.appendChild(N)):x.childNodes.length>0&&(o.insertBefore(x,_),x=y.cloneNode(!1),_=null,S=!0));return x.childNodes.length>0&&(o.insertBefore(x,_),S=!0),p.length||o.removeAttribute("style"),S},_setCommonListStyle:function(o,r){if(!l.isListCell(o))return;const h=l.getArrayItem((r||o).childNodes,function(x){return!l.isBreak(x)},!0);if(r=h[0],!r||h.length>1||r.nodeType!==1)return;const p=r.style,b=o.style,v=r.nodeName.toLowerCase();let m=!1;s._textTagsMap[v]===s._defaultCommand.bold.toLowerCase()&&(b.fontWeight="bold"),s._textTagsMap[v]===s._defaultCommand.italic.toLowerCase()&&(b.fontStyle="italic");const y=l.getValues(p);if(y.length>0)for(let x=0,_=this._listCamel.length;x<_;x++)y.indexOf(this._listKebab[x])>-1&&(b[this._listCamel[x]]=p[this._listCamel[x]],p.removeProperty(this._listKebab[x]),m=!0);if(this._setCommonListStyle(o,r),!!m&&!p.length){const x=r.childNodes,_=r.parentNode,S=r.nextSibling;for(;x.length>0;)_.insertBefore(x[0],S);l.removeItem(r)}},_stripRemoveNode:function(o){const r=o.parentNode;if(!o||o.nodeType===3||!r)return;const h=o.childNodes;for(;h[0];)r.insertBefore(h[0],o);r.removeChild(o)},_util_getMaintainedNode:function(o,r,h){return!h||o?null:this.getParentElement(h,this._isMaintainedNode.bind(this))||(r?null:this.getParentElement(h,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(o,r,h){if(!h||o||h.nodeType!==1)return!1;const p=this._isMaintainedNode(h);return this.getParentElement(h,this._isMaintainedNode.bind(this))?p:p||(r?!1:this._isSizeNode(h))},_nodeChange_oneLine:function(o,r,h,p,b,v,m,y,x,_,S,B,T){let N=p.parentNode;for(;!N.nextSibling&&!N.previousSibling&&!l.isFormatElement(N.parentNode)&&!l.isWysiwygDiv(N.parentNode)&&N.nodeName!==r.nodeName;)N=N.parentNode;if(!x&&N===v.parentNode&&N.nodeName===r.nodeName&&l.onlyZeroWidthSpace(p.textContent.slice(0,b))&&l.onlyZeroWidthSpace(v.textContent.slice(m))){const se=N.childNodes;let oe=!0;for(let ie=0,ge=se.length,ae,me,pe,ue;ie<ge;ie++){if(ae=se[ie],ue=!l.onlyZeroWidthSpace(ae),ae===p){me=!0;continue}if(ae===v){pe=!0;continue}if(!me&&ue||me&&pe&&ue){oe=!1;break}}if(oe)return l.copyTagAttributes(N,r),{ancestor:o,startContainer:p,startOffset:b,endContainer:v,endOffset:m}}S.v=!1;const M=o,U=[r],W=o.cloneNode(!1),R=p===v;let H=p,F=b,z=v,I=m,D=!1,O=!1,k,A,P,V,$;const Z=u.RegExp;function q(se){const oe=new Z("(?:;|^|\\s)(?:"+V+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let ie="";return oe&&se.style.cssText.length>0&&(ie=oe.test(se.style.cssText)),!ie}if((function se(oe,ie){const ge=oe.childNodes;for(let ae=0,me=ge.length,pe;ae<me;ae++){let ue=ge[ae];if(!ue)continue;let bt=ie,We;if(!D&&ue===H){let Ne=W;$=B(ue);const ye=l.createTextNode(H.nodeType===1?"":H.substringData(0,F)),Le=l.createTextNode(H.nodeType===1?"":H.substringData(F,R&&I>=F?I-F:H.data.length-F));if($){const rt=B(ie);if(rt&&rt.parentNode!==Ne){let Ze=rt,Lt=null;for(;Ze.parentNode!==Ne;){for(ie=Lt=Ze.parentNode.cloneNode(!1);Ze.childNodes[0];)Lt.appendChild(Ze.childNodes[0]);Ze.appendChild(Lt),Ze=Ze.parentNode}Ze.parentNode.appendChild(rt)}$=$.cloneNode(!1)}l.onlyZeroWidthSpace(ye)||ie.appendChild(ye);const we=B(ie);for(we&&($=we),$&&(Ne=$),A=ue,k=[],V="";A!==Ne&&A!==M&&A!==null;)pe=T(A)?null:h(A),pe&&A.nodeType===1&&q(A)&&(k.push(pe),V+=A.style.cssText.substr(0,A.style.cssText.indexOf(":"))+"|"),A=A.parentNode;const et=k.pop()||Le;for(P=A=et;k.length>0;)A=k.pop(),P.appendChild(A),P=A;if(r.appendChild(et),Ne.appendChild(r),$&&!B(z)&&(r=r.cloneNode(!1),W.appendChild(r),U.push(r)),H=Le,F=0,D=!0,A!==Le&&A.appendChild(H),!R)continue}if(!O&&ue===z){$=B(ue);const Ne=l.createTextNode(z.nodeType===1?"":z.substringData(I,z.length-I)),ye=l.createTextNode(R||z.nodeType===1?"":z.substringData(0,I));if($?$=$.cloneNode(!1):T(r.parentNode)&&!$&&(r=r.cloneNode(!1),W.appendChild(r),U.push(r)),!l.onlyZeroWidthSpace(Ne)){A=ue,V="",k=[];const we=[];for(;A!==W&&A!==M&&A!==null;)A.nodeType===1&&q(A)&&(T(A)?we.push(A.cloneNode(!1)):k.push(A.cloneNode(!1)),V+=A.style.cssText.substr(0,A.style.cssText.indexOf(":"))+"|"),A=A.parentNode;for(k=k.concat(we),We=P=A=k.pop()||Ne;k.length>0;)A=k.pop(),P.appendChild(A),P=A;W.appendChild(We),A.textContent=Ne.data}if($&&We){const we=B(We);we&&($=we)}for(A=ue,k=[],V="";A!==W&&A!==M&&A!==null;)pe=T(A)?null:h(A),pe&&A.nodeType===1&&q(A)&&(k.push(pe),V+=A.style.cssText.substr(0,A.style.cssText.indexOf(":"))+"|"),A=A.parentNode;const Le=k.pop()||ye;for(P=A=Le;k.length>0;)A=k.pop(),P.appendChild(A),P=A;$?(r=r.cloneNode(!1),r.appendChild(Le),$.insertBefore(r,$.firstChild),W.appendChild($),U.push(r),$=null):r.appendChild(Le),z=ye,I=ye.data.length,O=!0,!y&&_&&(r=ye,ye.textContent=l.zeroWidthSpace),A!==ye&&A.appendChild(z);continue}if(D){if(ue.nodeType===1&&!l.isBreak(ue)){l._isIgnoreNodeChange(ue)?(W.appendChild(ue.cloneNode(!0)),_||(r=r.cloneNode(!1),W.appendChild(r),U.push(r))):se(ue,ue);continue}A=ue,k=[],V="";const Ne=[];for(;A.parentNode!==null&&A!==M&&A!==r;)pe=O?A.cloneNode(!1):h(A),A.nodeType===1&&!l.isBreak(ue)&&pe&&q(A)&&(T(A)?$||Ne.push(pe):k.push(pe),V+=A.style.cssText.substr(0,A.style.cssText.indexOf(":"))+"|"),A=A.parentNode;k=k.concat(Ne);const ye=k.pop()||ue;for(P=A=ye;k.length>0;)A=k.pop(),P.appendChild(A),P=A;if(T(r.parentNode)&&!T(ye)&&!l.onlyZeroWidthSpace(r)&&(r=r.cloneNode(!1),W.appendChild(r),U.push(r)),!O&&!$&&T(ye)){r=r.cloneNode(!1);const Le=ye.childNodes;for(let we=0,et=Le.length;we<et;we++)r.appendChild(Le[we]);ye.appendChild(r),W.appendChild(ye),U.push(r),r.children.length>0?ie=A:ie=r}else ye===ue?O?ie=W:ie=r:O?(W.appendChild(ye),ie=A):(r.appendChild(ye),ie=A);if($&&ue.nodeType===3)if(B(ue)){const Le=l.getParentElement(ie,(function(we){return this._isMaintainedNode(we.parentNode)||we.parentNode===W}).bind(l));$.appendChild(Le),r=Le.cloneNode(!1),U.push(r),W.appendChild(r)}else $=null}We=ue.cloneNode(!1),ie.appendChild(We),ue.nodeType===1&&!l.isBreak(ue)&&(bt=We),se(ue,bt)}})(o,W),x&&!y&&!S.v)return{ancestor:o,startContainer:p,startOffset:b,endContainer:v,endOffset:m};if(y=y&&x,y)for(let se=0;se<U.length;se++){let oe=U[se],ie,ge,ae;if(_)ie=l.createTextNode(l.zeroWidthSpace),W.replaceChild(ie,oe);else{const me=oe.childNodes;for(ge=me[0];me[0];)ae=me[0],W.insertBefore(ae,oe);l.removeItem(oe)}se===0&&(_?H=z=ie:(H=ge,z=ae))}else{if(x)for(let se=0;se<U.length;se++)this._stripRemoveNode(U[se]);_&&(H=z=r)}l.removeEmptyNode(W,r,!1),_&&(F=H.textContent.length,I=z.textContent.length);const Y=y||z.textContent.length===0;!l.isBreak(z)&&z.textContent.length===0&&(l.removeItem(z),z=H),I=Y?z.textContent.length:I;const K={s:0,e:0},G=l.getNodePath(H,W,K),j=!z.parentNode;j&&(z=H);const Q={s:0,e:0},ce=l.getNodePath(z,W,!j&&!Y?Q:null);F+=K.s,I=_?F:j?H.textContent.length:Y?I+K.s:I+Q.s;const he=l.mergeSameTags(W,[G,ce],!0);return o.parentNode.replaceChild(W,o),H=l.getNodeFromPath(G,W),z=l.getNodeFromPath(ce,W),{ancestor:W,startContainer:H,startOffset:F+he[0],endContainer:z,endOffset:I+he[1]}},_nodeChange_startLine:function(o,r,h,p,b,v,m,y,x,_,S){let B=p.parentNode;for(;!B.nextSibling&&!B.previousSibling&&!l.isFormatElement(B.parentNode)&&!l.isWysiwygDiv(B.parentNode)&&B.nodeName!==r.nodeName;)B=B.parentNode;if(!m&&B.nodeName===r.nodeName&&!l.isFormatElement(B)&&!B.nextSibling&&l.onlyZeroWidthSpace(p.textContent.slice(0,b))){let D=!0,O=p.previousSibling;for(;O;){if(!l.onlyZeroWidthSpace(O)){D=!1;break}O=O.previousSibling}if(D)return l.copyTagAttributes(B,r),{ancestor:o,container:p,offset:b}}y.v=!1;const T=o,N=[r],M=o.cloneNode(!1);let U=p,W=b,R=!1,H,F,z,I;if((function D(O,k){const A=O.childNodes;for(let P=0,V=A.length,$,Z;P<V;P++){const q=A[P];if(!q)continue;let Y=k;if(R&&!l.isBreak(q)){if(q.nodeType===1){if(l._isIgnoreNodeChange(q)){if(r=r.cloneNode(!1),Z=q.cloneNode(!0),M.appendChild(Z),M.appendChild(r),N.push(r),S&&q.contains(S)){const Q=l.getNodePath(S,q);S=l.getNodeFromPath(Q,Z)}}else D(q,q);continue}F=q,H=[];const K=[];for(;F.parentNode!==null&&F!==T&&F!==r;)$=h(F),F.nodeType===1&&$&&(_(F)?I||K.push($):H.push($)),F=F.parentNode;H=H.concat(K);const G=H.length>0,j=H.pop()||q;for(z=F=j;H.length>0;)F=H.pop(),z.appendChild(F),z=F;if(_(r.parentNode)&&!_(j)&&(r=r.cloneNode(!1),M.appendChild(r),N.push(r)),!I&&_(j)){r=r.cloneNode(!1);const Q=j.childNodes;for(let ce=0,he=Q.length;ce<he;ce++)r.appendChild(Q[ce]);j.appendChild(r),M.appendChild(j),k=_(F)?r:F,N.push(r)}else G?(r.appendChild(j),k=F):k=r;if(I&&q.nodeType===3)if(x(q)){const Q=l.getParentElement(k,(function(ce){return this._isMaintainedNode(ce.parentNode)||ce.parentNode===M}).bind(l));I.appendChild(Q),r=Q.cloneNode(!1),N.push(r),M.appendChild(r)}else I=null}if(!R&&q===U){let K=M;I=x(q);const G=l.createTextNode(U.nodeType===1?"":U.substringData(0,W)),j=l.createTextNode(U.nodeType===1?"":U.substringData(W,U.length-W));if(I){const he=x(k);if(he&&he.parentNode!==K){let se=he,oe=null;for(;se.parentNode!==K;){for(k=oe=se.parentNode.cloneNode(!1);se.childNodes[0];)oe.appendChild(se.childNodes[0]);se.appendChild(oe),se=se.parentNode}se.parentNode.appendChild(he)}I=I.cloneNode(!1)}l.onlyZeroWidthSpace(G)||k.appendChild(G);const Q=x(k);for(Q&&(I=Q),I&&(K=I),F=k,H=[];F!==K&&F!==null;)$=h(F),F.nodeType===1&&$&&H.push($),F=F.parentNode;const ce=H.pop()||k;for(z=F=ce;H.length>0;)F=H.pop(),z.appendChild(F),z=F;ce!==k?(r.appendChild(ce),k=F):k=r,l.isBreak(q)&&r.appendChild(q.cloneNode(!1)),K.appendChild(r),U=j,W=0,R=!0,k.appendChild(U);continue}$=R?h(q):q.cloneNode(!1),$&&(k.appendChild($),q.nodeType===1&&!l.isBreak(q)&&(Y=$)),D(q,Y)}})(o,M),m&&!v&&!y.v)return{ancestor:o,container:p,offset:b,endContainer:S};if(v=v&&m,v)for(let D=0;D<N.length;D++){let O=N[D];const k=O.childNodes,A=k[0];for(;k[0];)M.insertBefore(k[0],O);l.removeItem(O),D===0&&(U=A)}else if(m){r=r.firstChild;for(let D=0;D<N.length;D++)this._stripRemoveNode(N[D])}if(!v&&M.childNodes.length===0)o.childNodes?U=o.childNodes[0]:(U=l.createTextNode(l.zeroWidthSpace),o.appendChild(U));else{l.removeEmptyNode(M,r,!1),l.onlyZeroWidthSpace(M.textContent)&&(U=M.firstChild,W=0);const D={s:0,e:0},O=l.getNodePath(U,M,D);W+=D.s;const k=l.mergeSameTags(M,[O],!0);o.parentNode.replaceChild(M,o),U=l.getNodeFromPath(O,M),W+=k[0]}return{ancestor:M,container:U,offset:W,endContainer:S}},_nodeChange_middleLine:function(o,r,h,p,b,v,m){if(!b){let S=null;m&&o.contains(m)&&(S=l.getNodePath(m,o));const B=o.cloneNode(!0),T=r.nodeName,N=r.style.cssText,M=r.className;let U=B.childNodes,W=0,R=U.length;for(let H;W<R&&(H=U[W],H.nodeType!==3);W++)if(H.nodeName===T)H.style.cssText+=N,l.addClass(H,M);else{if(!l.isBreak(H)&&l._isIgnoreNodeChange(H))continue;if(R===1){U=H.childNodes,R=U.length,W=-1;continue}else break}if(R>0&&W===R)return o.innerHTML=B.innerHTML,{ancestor:o,endContainer:S?l.getNodeFromPath(S,o):null}}v.v=!1;const y=o.cloneNode(!1),x=[r];let _=!0;if((function S(B,T){const N=B.childNodes;for(let M=0,U=N.length,W,R;M<U;M++){let H=N[M];if(!H)continue;let F=T;if(!l.isBreak(H)&&l._isIgnoreNodeChange(H)){if(r.childNodes.length>0&&(y.appendChild(r),r=r.cloneNode(!1)),R=H.cloneNode(!0),y.appendChild(R),y.appendChild(r),x.push(r),T=r,m&&H.contains(m)){const z=l.getNodePath(m,H);m=l.getNodeFromPath(z,R)}continue}else W=h(H),W&&(_=!1,T.appendChild(W),H.nodeType===1&&(F=W));l.isBreak(H)||S(H,F)}})(o,r),_||b&&!p&&!v.v)return{ancestor:o,endContainer:m};if(y.appendChild(r),p&&b)for(let S=0;S<x.length;S++){let B=x[S];const T=B.childNodes;for(;T[0];)y.insertBefore(T[0],B);l.removeItem(B)}else if(b){r=r.firstChild;for(let S=0;S<x.length;S++)this._stripRemoveNode(x[S])}return l.removeEmptyNode(y,r,!1),l.mergeSameTags(y,null,!0),o.parentNode.replaceChild(y,o),{ancestor:y,endContainer:m}},_nodeChange_endLine:function(o,r,h,p,b,v,m,y,x,_){let S=p.parentNode;for(;!S.nextSibling&&!S.previousSibling&&!l.isFormatElement(S.parentNode)&&!l.isWysiwygDiv(S.parentNode)&&S.nodeName!==r.nodeName;)S=S.parentNode;if(!m&&S.nodeName===r.nodeName&&!l.isFormatElement(S)&&!S.previousSibling&&l.onlyZeroWidthSpace(p.textContent.slice(b))){let I=!0,D=p.nextSibling;for(;D;){if(!l.onlyZeroWidthSpace(D)){I=!1;break}D=D.nextSibling}if(I)return l.copyTagAttributes(S,r),{ancestor:o,container:p,offset:b}}y.v=!1;const B=o,T=[r],N=o.cloneNode(!1);let M=p,U=b,W=!1,R,H,F,z;if((function I(D,O){const k=D.childNodes;for(let A=k.length-1,P;0<=A;A--){const V=k[A];if(!V)continue;let $=O;if(W&&!l.isBreak(V)){if(V.nodeType===1){if(l._isIgnoreNodeChange(V)){r=r.cloneNode(!1);const K=V.cloneNode(!0);N.insertBefore(K,O),N.insertBefore(r,K),T.push(r)}else I(V,V);continue}H=V,R=[];const Z=[];for(;H.parentNode!==null&&H!==B&&H!==r;)P=h(H),P&&H.nodeType===1&&(_(H)?z||Z.push(P):R.push(P)),H=H.parentNode;R=R.concat(Z);const q=R.length>0,Y=R.pop()||V;for(F=H=Y;R.length>0;)H=R.pop(),F.appendChild(H),F=H;if(_(r.parentNode)&&!_(Y)&&(r=r.cloneNode(!1),N.insertBefore(r,N.firstChild),T.push(r)),!z&&_(Y)){r=r.cloneNode(!1);const K=Y.childNodes;for(let G=0,j=K.length;G<j;G++)r.appendChild(K[G]);Y.appendChild(r),N.insertBefore(Y,N.firstChild),T.push(r),r.children.length>0?O=H:O=r}else q?(r.insertBefore(Y,r.firstChild),O=H):O=r;if(z&&V.nodeType===3)if(x(V)){const K=l.getParentElement(O,(function(G){return this._isMaintainedNode(G.parentNode)||G.parentNode===N}).bind(l));z.appendChild(K),r=K.cloneNode(!1),T.push(r),N.insertBefore(r,N.firstChild)}else z=null}if(!W&&V===M){z=x(V);const Z=l.createTextNode(M.nodeType===1?"":M.substringData(U,M.length-U)),q=l.createTextNode(M.nodeType===1?"":M.substringData(0,U));if(z){z=z.cloneNode(!1);const K=x(O);if(K&&K.parentNode!==N){let G=K,j=null;for(;G.parentNode!==N;){for(O=j=G.parentNode.cloneNode(!1);G.childNodes[0];)j.appendChild(G.childNodes[0]);G.appendChild(j),G=G.parentNode}G.parentNode.insertBefore(K,G.parentNode.firstChild)}z=z.cloneNode(!1)}else _(r.parentNode)&&!z&&(r=r.cloneNode(!1),N.appendChild(r),T.push(r));for(l.onlyZeroWidthSpace(Z)||O.insertBefore(Z,O.firstChild),H=O,R=[];H!==N&&H!==null;)P=_(H)?null:h(H),P&&H.nodeType===1&&R.push(P),H=H.parentNode;const Y=R.pop()||O;for(F=H=Y;R.length>0;)H=R.pop(),F.appendChild(H),F=H;Y!==O?(r.insertBefore(Y,r.firstChild),O=H):O=r,l.isBreak(V)&&r.appendChild(V.cloneNode(!1)),z?(z.insertBefore(r,z.firstChild),N.insertBefore(z,N.firstChild),z=null):N.insertBefore(r,N.firstChild),M=q,U=q.data.length,W=!0,O.insertBefore(M,O.firstChild);continue}P=W?h(V):V.cloneNode(!1),P&&(O.insertBefore(P,O.firstChild),V.nodeType===1&&!l.isBreak(V)&&($=P)),I(V,$)}})(o,N),m&&!v&&!y.v)return{ancestor:o,container:p,offset:b};if(v=v&&m,v)for(let I=0;I<T.length;I++){let D=T[I];const O=D.childNodes;let k=null;for(;O[0];)k=O[0],N.insertBefore(k,D);l.removeItem(D),I===T.length-1&&(M=k,U=k.textContent.length)}else if(m){r=r.firstChild;for(let I=0;I<T.length;I++)this._stripRemoveNode(T[I])}if(!v&&N.childNodes.length===0)o.childNodes?M=o.childNodes[0]:(M=l.createTextNode(l.zeroWidthSpace),o.appendChild(M));else{if(!m&&r.textContent.length===0)return l.removeEmptyNode(N,null,!1),{ancestor:null,container:null,offset:0};l.removeEmptyNode(N,r,!1),l.onlyZeroWidthSpace(N.textContent)?(M=N.firstChild,U=M.textContent.length):l.onlyZeroWidthSpace(M)&&(M=r,U=1);const I={s:0,e:0},D=l.getNodePath(M,N,I);U+=I.s;const O=l.mergeSameTags(N,[D],!0);o.parentNode.replaceChild(N,o),M=l.getNodeFromPath(D,N),U+=O[0]}return{ancestor:N,container:M,offset:M.nodeType===1&&U===1?M.childNodes.length:U}},actionCall:function(o,r,h){if(r){if(/more/i.test(r)){if(h!==this._moreLayerActiveButton){const p=t.element.toolbar.querySelector("."+o);p&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=h,p.style.display="block",g._showToolbarBalloon(),g._showToolbarInline()),l.addClass(h,"on")}else t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),g._showToolbarBalloon(),g._showToolbarInline());return}if(/container/.test(r)&&(this._menuTray[o]===null||h!==this.containerActiveButton)){this.callPlugin(o,this.containerOn.bind(this,h),h);return}if(this.isReadOnly&&l.arrayIncludes(this.resizingDisabledButtons,h))return;if(/submenu/.test(r)&&(this._menuTray[o]===null||h!==this.submenuActiveButton)){this.callPlugin(o,this.submenuOn.bind(this,h),h);return}else if(/dialog/.test(r)){this.callPlugin(o,this.plugins[o].open.bind(this),h);return}else/command/.test(r)?this.callPlugin(o,this.plugins[o].action.bind(this),h):/fileBrowser/.test(r)&&this.callPlugin(o,this.plugins[o].open.bind(this,null),h)}else o&&this.commandHandler(h,o);/submenu/.test(r)?this.submenuOff():/command/.test(r)||(this.submenuOff(),this.containerOff())},commandHandler:function(o,r){if(!(d.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(r)))switch(r){case"copy":case"cut":this.execCommand(r);break;case"paste":break;case"selectAll":this.containerOff();const h=t.element.wysiwyg;let p=l.getChildElement(h.firstChild,function(x){return x.childNodes.length===0||x.nodeType===3},!1)||h.firstChild,b=l.getChildElement(h.lastChild,function(x){return x.childNodes.length===0||x.nodeType===3},!0)||h.lastChild;if(!p||!b)return;if(l.isMedia(p)){const x=this.getFileComponent(p),_=l.createElement("BR"),S=l.createElement(s.defaultTag);S.appendChild(_),p=x?x.component:p,p.parentNode.insertBefore(S,p),p=_}if(l.isMedia(b)){const x=l.createElement("BR"),_=l.createElement(s.defaultTag);_.appendChild(x),h.appendChild(_),b=x}g._showToolbarBalloon(this.setRange(p,0,b,b.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(o);break;case"indent":case"outdent":this.indent(r);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof w.save=="function")w.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,t.tool.save&&t.tool.save.setAttribute("disabled",!0);break;default:r=s._defaultCommand[r.toLowerCase()]||r,this.commandMap[r]||(this.commandMap[r]=o);const v=this._variable.currentNodesMap,m=v.indexOf(r)>-1?null:l.createElement(r);let y=r;/^SUB$/i.test(r)&&v.indexOf("SUP")>-1?y="SUP":/^SUP$/i.test(r)&&v.indexOf("SUB")>-1&&(y="SUB"),this.nodeChange(m,this._commandMapStyles[r]||null,[y],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(o){const r=this.getRange(),h=this.getSelectedElements(null),p=[],b=o!=="indent",v=s.rtl?"marginRight":"marginLeft";let m=r.startContainer,y=r.endContainer,x=r.startOffset,_=r.endOffset;for(let S=0,B=h.length,T,N;S<B;S++)T=h[S],!l.isListCell(T)||!this.plugins.list?(N=/\d+/.test(T.style[v])?l.getNumber(T.style[v],0):0,b?N-=25:N+=25,l.setStyle(T,v,N<=0?"":N+"px")):(b||T.previousElementSibling)&&p.push(T);p.length>0&&this.plugins.list.editInsideList.call(this,b,p),this.effectNode=null,this.setRange(m,x,y,_),this.history.push(!1)},toggleDisplayBlocks:function(){const o=t.element.wysiwyg;l.toggleClass(o,"se-show-block"),l.hasClass(o,"se-show-block")?l.addClass(this._styleCommandMap.showBlocks,"active"):l.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const o=this._variable.isCodeView;this.controllersOff(),l.setDisabledButtons(!o,this.codeViewDisabledButtons),o?(l.isNonEditable(t.element.wysiwygFrame)||this._setCodeDataToEditor(),t.element.wysiwygFrame.scrollTop=0,t.element.code.style.display="none",t.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(t.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,g._hideToolbar())),this.nativeFocus(),l.removeClass(this._styleCommandMap.codeView,"active"),l.isNonEditable(t.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?t.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height=t.element.code.scrollHeight>0?t.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(t.element._arrow.style.display="none",t.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,g._showToolbarInline())),this._variable._range=null,t.element.code.focus(),l.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&l.setDisabledButtons(!0,this.resizingDisabledButtons),typeof w.toggleCodeView=="function"&&w.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const o=this._getCodeView();if(s.fullPage){const r=this._parser.parseFromString(o,"text/html");if(!this.options.__allowedScriptTag){const b=r.head.children;for(let v=0,m=b.length;v<m;v++)/^script$/i.test(b[v].tagName)&&(r.head.removeChild(b[v]),v--,m--)}let h=r.head.innerHTML;(!r.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!r.head.querySelector("style"))&&(h+=l._setIframeCssTags(this.options)),this._wd.head.innerHTML=h,this._wd.body.innerHTML=this.convertContentsForEditor(r.body.innerHTML);const p=r.body.attributes;for(let b=0,v=p.length;b<v;b++)p[b].name!=="contenteditable"&&this._wd.body.setAttribute(p[b].name,p[b].value);if(!l.hasClass(this._wd.body,"sun-editor-editable")){const b=s._editableClass.split(" ");for(let v=0;v<b.length;v++)l.addClass(this._wd.body,s._editableClass[v])}}else t.element.wysiwyg.innerHTML=o.length>0?this.convertContentsForEditor(o):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){const o=this.convertHTMLForCodeView(t.element.wysiwyg,!1);let r="";if(s.fullPage){const h=l.getAttributesToString(this._wd.body,null);r=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+h+`>
`+o+`</body>
</html>`}else r=o;t.element.code.style.display="block",t.element.wysiwygFrame.style.display="none",this._setCodeView(r)},toggleFullScreen:function(o){const r=t.element.topArea,h=t.element.toolbar,p=t.element.editorArea,b=t.element.wysiwygFrame,v=t.element.code,m=this._variable;this.controllersOff();const y=h.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;m.isFullScreen?(m.isFullScreen=!1,b.style.cssText=m._wysiwygOriginCssText,v.style.cssText=m._codeOriginCssText,h.style.cssText="",p.style.cssText=m._editorAreaOriginCssText,r.style.cssText=m._originCssText,c.body.style.overflow=m._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&g._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(h),s.stickyToolbar>-1&&l.removeClass(h,"se-toolbar-sticky"),m._fullScreenAttrs.sticky&&!s.toolbarContainer&&(m._fullScreenAttrs.sticky=!1,t.element._stickyDummy.style.display="block",l.addClass(h,"se-toolbar-sticky")),this._isInline=m._fullScreenAttrs.inline,this._isBalloon=m._fullScreenAttrs.balloon,this._isInline&&g._showToolbarInline(),s.toolbarContainer&&l.removeClass(h,"se-toolbar-balloon"),g.onScroll_window(),o&&l.changeElement(o.firstElementChild,f.expansion),t.element.topArea.style.marginTop="",l.removeClass(this._styleCommandMap.fullScreen,"active")):(m.isFullScreen=!0,m._fullScreenAttrs.inline=this._isInline,m._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&t.element.relative.insertBefore(h,p),r.style.position="fixed",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.maxWidth="100%",r.style.height="100%",r.style.zIndex="2147483647",t.element._stickyDummy.style.display!==""&&(m._fullScreenAttrs.sticky=!0,t.element._stickyDummy.style.display="none",l.removeClass(h,"se-toolbar-sticky")),m._bodyOverflow=c.body.style.overflow,c.body.style.overflow="hidden",m._editorAreaOriginCssText=p.style.cssText,m._wysiwygOriginCssText=b.style.cssText,m._codeOriginCssText=v.style.cssText,p.style.cssText=h.style.cssText="",b.style.cssText=(b.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,v.style.cssText=(v.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],h.style.width=b.style.height=v.style.height="100%",h.style.position="relative",h.style.display="block",m.innerHeight_fullScreen=u.innerHeight-h.offsetHeight,p.style.height=m.innerHeight_fullScreen-s.fullScreenOffset+"px",o&&l.changeElement(o.firstElementChild,f.reduction),s.iframe&&s.height==="auto"&&(p.style.overflow="auto",this._iframeAutoHeight()),t.element.topArea.style.marginTop=s.fullScreenOffset+"px",l.addClass(this._styleCommandMap.fullScreen,"active")),y&&w.toolbar.hide(),typeof w.toggleFullScreen=="function"&&w.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const o=l.createElement("IFRAME");o.style.display="none",c.body.appendChild(o);const r=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=l.getIframeDocument(o),p=this._wd;if(s.iframe){const b=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(p.body,["contenteditable"]):'class="'+s._editableClass+'"';h.write("<!DOCTYPE html><html><head>"+p.head.innerHTML+"</head><body "+b+">"+r+"</body></html>")}else{const b=c.head.getElementsByTagName("link"),v=c.head.getElementsByTagName("style");let m="";for(let y=0,x=b.length;y<x;y++)m+=b[y].outerHTML;for(let y=0,x=v.length;y<x;y++)m+=v[y].outerHTML;h.write("<!DOCTYPE html><html><head>"+m+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+r+"</body></html>")}this.showLoading(),u.setTimeout(function(){try{if(o.focus(),l.isIE_Edge||l.isChromium||c.documentMode||u.StyleMedia)try{o.contentWindow.document.execCommand("print",!1,null)}catch{o.contentWindow.print()}else o.contentWindow.print()}catch(b){throw Error("[SUNEDITOR.core.print.fail] error: "+b)}finally{d.closeLoading(),l.removeItem(o)}},1e3)},preview:function(){d.submenuOff(),d.containerOff(),d.controllersOff();const o=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),r=u.open("","_blank");r.mimeType="text/html";const h=this._wd;if(s.iframe){const p=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(h.body,["contenteditable"]):'class="'+s._editableClass+'"';r.document.write("<!DOCTYPE html><html><head>"+h.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+p+">"+o+"</body></html>")}else{const p=c.head.getElementsByTagName("link"),b=c.head.getElementsByTagName("style");let v="";for(let m=0,y=p.length;m<y;m++)v+=p[m].outerHTML;for(let m=0,y=b.length;m<y;m++)v+=b[m].outerHTML;r.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+v+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+o+"</body></html>")}},setDir:function(o){const r=o==="rtl",h=this._prevRtl!==r;this._prevRtl=s.rtl=r,h&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),t.tool.indent&&l.changeElement(t.tool.indent.firstElementChild,f.indent),t.tool.outdent&&l.changeElement(t.tool.outdent.firstElementChild,f.outdent));const p=t.element;r?(l.addClass(p.topArea,"se-rtl"),l.addClass(p.wysiwygFrame,"se-rtl")):(l.removeClass(p.topArea,"se-rtl"),l.removeClass(p.wysiwygFrame,"se-rtl"));const b=l.getListChildren(p.wysiwyg,function(m){return l.isFormatElement(m)&&(m.style.marginRight||m.style.marginLeft||m.style.textAlign)});for(let m=0,y=b.length,x,_,S;m<y;m++)x=b[m],S=x.style.marginRight,_=x.style.marginLeft,(S||_)&&(x.style.marginRight=_,x.style.marginLeft=S),S=x.style.textAlign,S==="left"?x.style.textAlign="right":S==="right"&&(x.style.textAlign="left");const v=t.tool;v.dir&&(l.changeTxt(v.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),l.changeElement(v.dir.firstElementChild,f[s.rtl?"dir_ltr":"dir_rtl"])),v.dir_ltr&&(r?l.removeClass(v.dir_ltr,"active"):l.addClass(v.dir_ltr,"active")),v.dir_rtl&&(r?l.addClass(v.dir_rtl,"active"):l.removeClass(v.dir_rtl,"active"))},setContents:function(o){this.removeRange();const r=o==null?"":this.convertContentsForEditor(o,null,null);if(!this._variable.isCodeView)t.element.wysiwyg.innerHTML=r,this._resetComponents(),this.history.push(!1);else{const h=this.convertHTMLForCodeView(r,!1);this._setCodeView(h)}},setIframeContents:function(o){if(!s.iframe)return!1;o.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?o.head:o.head.replace(this.__scriptTagRegExp,"")),o.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(o.body)),this._resetComponents()},getContents:function(o){const r=this.cleanHTML(t.element.wysiwyg.innerHTML,null,null),h=l.createElement("DIV");h.innerHTML=r;const p=l.getListChildren(h,function(b){return b.hasAttribute("contenteditable")});for(let b=0,v=p.length;b<v;b++)p[b].removeAttribute("contenteditable");if(s.fullPage&&!o){const b=l.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+b+">"+h.innerHTML+"</body></html>"}else return h.innerHTML},getFullContents:function(o){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(o)+"</div>"},_makeLine:function(o,r){const h=s.defaultTag;if(o.nodeType===1){if(this.__disallowedTagNameRegExp.test(o.nodeName))return"";if(/__se__tag/.test(o.className))return o.outerHTML;const p=l.getListChildNodes(o,function(b){return l.isSpanWithoutAttr(b)&&!l.getParentElement(b,l.isNotCheckingNode)})||[];for(let b=p.length-1;b>=0;b--)p[b].outerHTML=p[b].innerHTML;return!r||l.isFormatElement(o)||l.isRangeFormatElement(o)||l.isComponent(o)||l.isFigures(o)||l.isAnchor(o)&&l.isMedia(o.firstElementChild)?l.isSpanWithoutAttr(o)?o.innerHTML:o.outerHTML:"<"+h+">"+(l.isSpanWithoutAttr(o)?o.innerHTML:o.outerHTML)+"</"+h+">"}if(o.nodeType===3){if(!r)return l._HTMLConvertor(o.textContent);const p=o.textContent.split(/\n/g);let b="";for(let v=0,m=p.length,y;v<m;v++)y=p[v].trim(),y.length>0&&(b+="<"+h+">"+l._HTMLConvertor(y)+"</"+h+">");return b}return o.nodeType===8&&this._allowHTMLComments?"<!--"+o.textContent.trim()+"-->":""},_tagConvertor:function(o){if(!this._disallowedTextTagsRegExp)return o;const r=s._textTagsMap;return o.replace(this._disallowedTextTagsRegExp,function(h,p,b,v){return p+(typeof r[b]=="string"?r[b]:b)+(v?" "+v:"")})},_deleteDisallowedTags:function(o){return o=o.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(o=o.replace(/(<\/?)font(\s?)/gi,"$1span$2")),o.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(o,r){const h=this._w.Math,p=r.match(/(\d+(?:\.\d+)?)(.+)/),b=p?p[1]*1:l.fontValueMap[r],v=p?p[2]:"rem";let m=b;switch(/em/.test(v)?m=h.round(b/.0625):v==="pt"?m=h.round(b*1.333):v==="%"&&(m=b/100),o){case"em":case"rem":case"%":return(m*.0625).toFixed(2)+o;case"pt":return h.round(m/1.333)+o;default:return m+o}},_cleanStyle:function(o,r,h){let p=(o.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(h)&&!p&&(o.match(/<[^\s]+\s(.+)/)||[])[1]){const b=(o.match(/\ssize="([^"]+)"/i)||[])[1],v=(o.match(/\sface="([^"]+)"/i)||[])[1],m=(o.match(/\scolor="([^"]+)"/i)||[])[1];(b||v||m)&&(p='style="'+(b?"font-size:"+this.util.getNumber(b/3.333,1)+"rem;":"")+(v?"font-family:"+v+";":"")+(m?"color:"+m+";":"")+'"')}if(p){r||(r=[]);const b=p.replace(/&quot;/g,"").match(this._cleanStyleRegExp[h]);if(b){const v=[];for(let m=0,y=b.length,x;m<y;m++)if(x=b[m].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),x&&!/inherit|initial|revert|unset/i.test(x[3])){const _=l.kebabToCamelCase(x[1].trim()),S=this.wwComputedStyle[_]?this.wwComputedStyle[_].replace(/"/g,""):"",B=x[3].trim();switch(_){case"fontFamily":if(!s.plugins.font||s.font.indexOf(B)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(x[0])||(x[0]=x[0].replace((x[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(B))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(B))continue;break}S!==B&&v.push(x[0])}v.length>0&&r.push('style="'+v.join(";")+'"')}}return r},_cleanTags:function(o,r,h){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(r))return r;let p=null;const b=h.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),v=this._attributesTagsBlacklist[b];r=r.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),v?r=r.replace(v,""):r=r.replace(this._attributesBlacklistRegExp,"");const m=this._attributesTagsWhitelist[b];if(m?p=r.match(m):p=r.match(o?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),o||b==="span"||b==="li"||this._cleanStyleRegExp[b])if(b==="a"){const y=r.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);y&&(p||(p=[]),p.push(y[0]))}else(!p||!/style=/i.test(p.toString()))&&((b==="span"||b==="li")&&(p=this._cleanStyle(r,p,"span")),this._cleanStyleRegExp[b]?p=this._cleanStyle(r,p,b):/^(P|DIV|H[1-6]|PRE)$/i.test(b)&&(p=this._cleanStyle(r,p,"format")));else{const y=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);y&&!p?p=[y[0]]:y&&!p.some(function(x){return/^style/.test(x.trim())})&&p.push(y[0])}if(l.isFigures(b)){const y=r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);p||(p=[]),y&&p.push(y[0])}if(p)for(let y=0,x=p.length,_;y<x;y++)_=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(p[y].trim())?"":p[y],h+=(/^\s/.test(_)?"":" ")+_;return h},_editFormat:function(o){let r="",h;const p=o.childNodes;for(let b=0,v=p.length,m;b<v;b++)m=p[b],m.nodeType===8?r+="<!-- "+m.textContent+" -->":!l.isFormatElement(m)&&!l.isRangeFormatElement(m)&&!l.isComponent(m)&&!/meta/i.test(m.nodeName)?(h||(h=l.createElement(s.defaultTag)),l.isTextStyleElement(m)&&m.removeAttribute("style"),h.appendChild(m),b--,v--):(h&&(r+=h.outerHTML,h=null),r+=m.outerHTML);return h&&(r+=h.outerHTML),c.createRange().createContextualFragment(r)},_convertListCell:function(o){let r="";for(let h=0,p=o.length,b;h<p;h++)b=o[h],b.nodeType===1?l.isList(b)?r+=b.innerHTML:l.isListCell(b)?r+=b.outerHTML:l.isFormatElement(b)?r+="<li>"+(b.innerHTML.trim()||"<br>")+"</li>":l.isRangeFormatElement(b)&&!l.isTable(b)?r+=this._convertListCell(b):r+="<li>"+b.outerHTML+"</li>":r+="<li>"+(b.textContent||"<br>")+"</li>";return r},_isFormatData:function(o){let r=!1;for(let h=0,p=o.length,b;h<p;h++)if(b=o[h],b.nodeType===1&&!l.isTextStyleElement(b)&&!l.isBreak(b)&&!this.__disallowedTagNameRegExp.test(b.nodeName)){r=!0;break}return r},cleanHTML:function(o,r,h){if(!s.strictMode)return l.htmlCompress(o);o=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(o),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const p=c.createRange().createContextualFragment(o);try{l._consistencyCheckOfHTML(p,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(y){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+y)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const y=p.querySelectorAll(this.managedTagsInfo.query);for(let x=0,_=y.length,S,B;x<_;x++){B=[].slice.call(y[x].classList);for(let T=0,N=B.length;T<N;T++)if(S=this.managedTagsInfo.map[B[T]],S){S(y[x]);break}}}let b=p.childNodes,v="";const m=this._isFormatData(b);m&&(b=this._editFormat(p).childNodes);for(let y=0,x=b.length,_;y<x;y++){if(_=b[y],this.__allowedScriptRegExp.test(_.nodeName)){v+=_.outerHTML;continue}v+=this._makeLine(_,m)}return v=l.htmlRemoveWhiteSpace(v),v?(r&&(v=v.replace(typeof r=="string"?l.createTagsWhitelist(r):r,"")),h&&(v=v.replace(typeof h=="string"?l.createTagsBlacklist(h):h,""))):v=o,this._tagConvertor(v)},convertContentsForEditor:function(o){if(!s.strictMode)return l.htmlCompress(o);o=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(o),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const r=c.createRange().createContextualFragment(o);try{l._consistencyCheckOfHTML(r,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(v){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+v)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const v=r.querySelectorAll(this.managedTagsInfo.query);for(let m=0,y=v.length,x,_;m<y;m++){_=[].slice.call(v[m].classList);for(let S=0,B=_.length;S<B;S++)if(x=this.managedTagsInfo.map[_[S]],x){x(v[m]);break}}}const h=r.childNodes;let p="",b=null;for(let v=0,m;v<h.length;v++){if(m=h[v],this.__allowedScriptRegExp.test(m.nodeName)){p+=m.outerHTML;continue}if(!l.isFormatElement(m)&&!l.isRangeFormatElement(m)&&!l.isComponent(m)&&!l.isFigures(m)&&m.nodeType!==8&&!/__se__tag/.test(m.className)){if(b||(b=l.createElement(s.defaultTag)),b.appendChild(m),v--,h[v+1]&&!l.isFormatElement(h[v+1]))continue;m=b,b=null}b&&(p+=this._makeLine(b,!0),b=null),p+=this._makeLine(m,!0)}return b&&(p+=this._makeLine(b,!0)),p.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(p=l.htmlRemoveWhiteSpace(p),this._tagConvertor(p))},convertHTMLForCodeView:function(o,r){let h="";const p=u.RegExp,b=new p("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),v=typeof o=="string"?c.createRange().createContextualFragment(o):o,m=(function(_){return this.isFormatElement(_)||this.isComponent(_)}).bind(l),y=r?"":`
`;let x=r?0:this._variable.codeIndent*1;return x=x>0?new u.Array(x+1).join(" "):"",(function _(S,B){const T=S.childNodes,N=b.test(S.nodeName),M=N?B:"";for(let U=0,W=T.length,R,H,F,z,I,D;U<W;U++){if(R=T[U],z=b.test(R.nodeName),H=z?y:"",F=m(R)&&!N&&!/^(TH|TD)$/i.test(S.nodeName)?y:"",R.nodeType===8){h+=`
<!-- `+R.textContent.trim()+" -->"+H;continue}if(R.nodeType===3){l.isList(R.parentElement)||(h+=l._HTMLConvertor(/^\n+$/.test(R.data)?"":R.data));continue}if(R.childNodes.length===0){h+=(/^HR$/i.test(R.nodeName)?y:"")+(/^PRE$/i.test(R.parentElement.nodeName)&&/^BR$/i.test(R.nodeName)?"":M)+R.outerHTML+H;continue}R.outerHTML?(I=R.nodeName.toLowerCase(),D=M||z?B:"",h+=(F||(N?"":H))+D+R.outerHTML.match(p("<"+I+"[^>]*>","i"))[0]+H,_(R,B+x),h+=(/\n$/.test(h)?D:"")+"</"+I+">"+(F||H||N||/^(TH|TD)$/i.test(R.nodeName)?y:"")):h+=new u.XMLSerializer().serializeToString(R)}})(v,""),h.trim()+y},addDocEvent:function(o,r,h){c.addEventListener(o,r,h),s.iframe&&this._wd.addEventListener(o,r)},removeDocEvent:function(o,r){c.removeEventListener(o,r),s.iframe&&this._wd.removeEventListener(o,r)},_charCount:function(o){const r=s.maxCharCount,h=s.charCounterType;let p=0;if(o&&(p=this.getCharLength(o,h)),this._setCharCount(),r>0){let b=!1;const v=w.getCharCount(h);if(v>r){if(b=!0,p>0){this._editorRange();const m=this.getRange(),y=m.endOffset-1,x=this.getSelectionNode().textContent,_=m.endOffset-(v-r);this.getSelectionNode().textContent=x.slice(0,_<0?0:_)+x.slice(m.endOffset,x.length),this.setRange(m.endContainer,y,m.endContainer,y)}}else v+p>r&&(b=!0);if(b&&(this._callCounterBlink(),p>0))return!1}return!0},checkCharCount:function(o,r){if(s.maxCharCount){const h=r||s.charCounterType,p=this.getCharLength(typeof o=="string"?o:this._charTypeHTML&&o.nodeType===1?o.outerHTML:o.textContent,h);if(p>0&&p+w.getCharCount(h)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(o,r){return/byte/.test(r)?l.getByteLength(o):o.length},resetResponsiveToolbar:function(){d.controllersOff();const o=g._responsiveButtonSize;if(o){let r=0;(d._isBalloon||d._isInline)&&s.toolbarWidth==="auto"?r=t.element.topArea.offsetWidth:r=t.element.toolbar.offsetWidth;let h="default";for(let p=1,b=o.length;p<b;p++)if(r<o[p]){h=o[p]+"";break}g._responsiveCurrentSize!==h&&(g._responsiveCurrentSize=h,w.setToolbarButtons(g._responsiveButtons[h]))}},_setCharCount:function(){t.element.charCounter&&u.setTimeout((function(o,r){this.textContent&&o&&(this.textContent=o.getCharCount(r.charCounterType))}).bind(t.element.charCounter,w,s),0)},_callCounterBlink:function(){const o=t.element.charWrapper;o&&!l.hasClass(o,"se-blink")&&(l.addClass(o,"se-blink"),u.setTimeout(function(){l.removeClass(o,"se-blink")},600))},_checkComponents:function(){for(let o=0,r=this._fileInfoPluginsCheck.length;o<r;o++)this._fileInfoPluginsCheck[o]()},_resetComponents:function(){for(let o=0,r=this._fileInfoPluginsReset.length;o<r;o++)this._fileInfoPluginsReset[o]()},_setCodeView:function(o){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(o):t.element.code.value=o},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():t.element.code.value},_setKeyEffect:function(o){const r=this.commandMap,h=this.activePlugins;for(let p in r)o.indexOf(p)>-1||!l.hasOwn(r,p)||(h.indexOf(p)>-1?i[p].active.call(this,null):r.OUTDENT&&/^OUTDENT$/i.test(p)?l.isImportantDisabled(r.OUTDENT)||r.OUTDENT.setAttribute("disabled",!0):r.INDENT&&/^INDENT$/i.test(p)?l.isImportantDisabled(r.INDENT)||r.INDENT.removeAttribute("disabled"):l.removeClass(r[p],"active"))},_init:function(o,r){const h=u.RegExp;this._ww=s.iframe?t.element.wysiwygFrame.contentWindow:u,this._wd=c,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=u.getComputedStyle(t.element.wysiwyg),this._editorHeight=t.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=l.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+l.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(z){return this.test(z)?z:""}).bind(s.allowedClassNames);const p=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new h("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new h("<("+p+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+p+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new h("^("+p+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new h("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof u.ShadowRoot=="function"){let z=t.element.wysiwygFrame;for(;z;){if(z.shadowRoot){this._shadowRoot=z.shadowRoot;break}else if(z instanceof u.ShadowRoot){this._shadowRoot=z;break}z=z.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const b=u.Object.keys(s._textTagsMap),v=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(z){return/b|i|ins|s|strike/i.test(z)}):[];for(let z=0;z<v.length;z++)b.splice(b.indexOf(v[z].toLowerCase()),1);this._disallowedTextTagsRegExp=b.length===0?null:new h("(<\\/?)("+b.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const m=function(z,I){return z?z==="*"?"[a-z-]+":I?z+"|"+I:z:"^"},_="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",S="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new h("^("+m(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new h("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=l.createTagsWhitelist(m(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=l.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=l.createTagsWhitelist(m(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=l.createTagsBlacklist(s.pasteTagsBlacklist);const B='\\s*=\\s*(")[^"]*\\1',T=s.attributesWhitelist;let N={},M="";if(T)for(let z in T)!l.hasOwn(T,z)||/^on[a-z]+$/i.test(T[z])||(z==="all"?M=m(T[z],_):N[z]=new h("\\s(?:"+m(T[z],_)+")"+B,"ig"));this._attributesWhitelistRegExp=new h("\\s(?:"+(M||_+"|"+S)+")"+B,"ig"),this._attributesWhitelistRegExp_all_data=new h("\\s(?:"+((M||_)+"|data-[a-z0-9\\-]+")+")"+B,"ig"),this._attributesTagsWhitelist=N;const U=s.attributesBlacklist;if(N={},M="",U)for(let z in U)l.hasOwn(U,z)&&(z==="all"?M=m(U[z],""):N[z]=new h("\\s(?:"+m(U[z],"")+")"+B,"ig"));this._attributesBlacklistRegExp=new h("\\s(?:"+(M||"^")+")"+B,"ig"),this._attributesTagsBlacklist=N,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const W=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let R=[],H,F;for(let z in i)if(l.hasOwn(i,z)){if(H=i[z],F=e[z],(H.active||H.action)&&F&&this.callPlugin(z,null,F),typeof H.checkFileInfo=="function"&&typeof H.resetFileInfo=="function"&&(this.callPlugin(z,null,F),this._fileInfoPluginsCheck.push(H.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(H.resetFileInfo.bind(this))),u.Array.isArray(H.fileTags)){const I=H.fileTags;this.callPlugin(z,null,F),this._fileManager.tags=this._fileManager.tags.concat(I),R.push(z);for(let D=0,O=I.length;D<O;D++)this._fileManager.pluginMap[I[D].toLowerCase()]=z}if(H.managedTags){const I=H.managedTags();W.push("."+I.className),this.managedTagsInfo.map[I.className]=I.method.bind(this)}}this.managedTagsInfo.query=W.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new h("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new h("^("+(R.length===0?"^":R.join("|"))+")$","i"),this._variable._originCssText=t.element.topArea.style.cssText,this._placeholder=t.element.placeholder,this._lineBreaker=t.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=Sr(this,this._onChange_historyStack.bind(this)),this.addModule([Sl]),s.iframe&&(this._wd=t.element.wysiwygFrame.contentDocument,t.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(t.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(o,r)},_cachingButtons:function(){this.codeViewDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const o=t.tool,r=this.commandMap;r.INDENT=o.indent,r.OUTDENT=o.outdent,r[s.textTags.bold.toUpperCase()]=o.bold,r[s.textTags.underline.toUpperCase()]=o.underline,r[s.textTags.italic.toUpperCase()]=o.italic,r[s.textTags.strike.toUpperCase()]=o.strike,r[s.textTags.sub.toUpperCase()]=o.subscript,r[s.textTags.sup.toUpperCase()]=o.superscript,this._styleCommandMap={fullScreen:o.fullScreen,showBlocks:o.showBlocks,codeView:o.codeView},this._saveButtonStates()},_initWysiwygArea:function(o,r){t.element.wysiwyg.innerHTML=o?r:this.convertContentsForEditor((typeof r=="string"?r:/^TEXTAREA$/i.test(t.element.originElement.nodeName)?t.element.originElement.value:t.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&g._applyTagEffects(),this._variable.isChanged=!0,t.tool.save&&t.tool.save.removeAttribute("disabled"),w.onChange&&w.onChange(this.getContents(!0),this),t.element.toolbar.style.display==="block"&&g._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?u.setTimeout(function(){const o=d._iframeAuto.offsetHeight;t.element.wysiwygFrame.style.height=o+"px",l.isResizeObserverSupported||d.__callResizeFunction(o,null)}):l.isResizeObserverSupported||d.__callResizeFunction(t.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(o,r){o=o===-1?r.borderBoxSize&&r.borderBoxSize[0]?r.borderBoxSize[0].blockSize:r.contentRect.height+this._editorHeightPadding:o,this._editorHeight!==o&&(typeof w.onResizeEditor=="function"&&w.onResizeEditor(o,this._editorHeight,d,r),this._editorHeight=o)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const o=t.element.wysiwyg;!l.onlyZeroWidthSpace(o.textContent)||o.querySelector(l._allowedEmptyNodeList)||(o.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(o){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const r=this.getRange(),h=r.commonAncestorContainer,p=r.startContainer,b=l.getRangeFormatElement(h,null);let v,m,y;const x=l.getParentElement(h,l.isComponent);if(!(x&&!l.isTable(x))){if(h.nodeType===1&&h.getAttribute("data-se-embed")==="true"){let _=h.nextElementSibling;l.isFormatElement(_)||(_=this.appendFormatTag(h,s.defaultTag)),this.setRange(_.firstChild,0,_.firstChild,0);return}if(!((l.isRangeFormatElement(p)||l.isWysiwygDiv(p))&&(l.isComponent(p.children[r.startOffset])||l.isComponent(p.children[r.startOffset-1])))){if(l.getParentElement(h,l.isNotCheckingNode))return null;if(b){y=l.createElement(o||s.defaultTag),y.innerHTML=b.innerHTML,y.childNodes.length===0&&(y.innerHTML=l.zeroWidthSpace),b.innerHTML=y.outerHTML,y=b.firstChild,v=l.getEdgeChildNodes(y,null).sc,v||(v=l.createTextNode(l.zeroWidthSpace),y.insertBefore(v,y.firstChild)),m=v.textContent.length,this.setRange(v,m,v,m);return}if(l.isRangeFormatElement(h)&&h.childNodes.length<=1){let _=null;h.childNodes.length===1&&l.isBreak(h.firstChild)?_=h.firstChild:(_=l.createTextNode(l.zeroWidthSpace),h.appendChild(_)),this.setRange(_,1,_,1);return}try{if(h.nodeType===3&&(y=l.createElement(o||s.defaultTag),h.parentNode.insertBefore(y,h),y.appendChild(h)),l.isWysiwygDiv(h)){y=l.createElement(o||s.defaultTag),y.innerHTML=h.innerHTML,h.innerHTML="",h.appendChild(y),this.effectNode=null,this.setRange(y,1,y,1);return}if(y&&(l.isBreak(y.nextSibling)&&l.removeItem(y.nextSibling),l.isBreak(y.previousSibling)&&l.removeItem(y.previousSibling)),l.isBreak(v)){const _=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(_,v),v=_}}catch{this.execCommand("formatBlock",!1,o||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(y&&(l.isBreak(y.nextSibling)&&l.removeItem(y.nextSibling),l.isBreak(y.previousSibling)&&l.removeItem(y.previousSibling),l.isBreak(v))){const _=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(_,v),v=_}this.effectNode=null,p?this.setRange(p,1,p,1):this.nativeFocus()}}},_setOptionsInit:function(o,r){this.context=t=bs(o.originElement,this._getConstructed(o),s),this._componentsInfoReset=!0,this._editorInit(!0,r)},_editorInit:function(o,r){this._init(o,r),g._addEvent(),this._setCharCount(),g._offStickyToolbar(),g.onResize_window(),t.element.toolbar.style.visibility="";const h=s.frameAttrbutes;for(let p in h)t.element.wysiwyg.setAttribute(p,h[p]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),u.setTimeout(function(){typeof d._resourcesStateChange=="function"&&(g._resizeObserver&&g._resizeObserver.observe(t.element.wysiwygFrame),g._toolbarObserver&&g._toolbarObserver.observe(t.element._toolbarShadow),d._resourcesStateChange(),typeof w.onload=="function"&&w.onload(d,o))})},_getConstructed:function(o){return{_top:o.topArea,_relative:o.relative,_toolBar:o.toolbar,_toolbarShadow:o._toolbarShadow,_menuTray:o._menuTray,_editorArea:o.editorArea,_wysiwygArea:o.wysiwygFrame,_codeArea:o.code,_placeholder:o.placeholder,_resizingBar:o.resizingBar,_navigation:o.navigation,_charCounter:o.charCounter,_charWrapper:o.charWrapper,_loading:o.loading,_lineBreaker:o.lineBreaker,_lineBreaker_t:o.lineBreaker_t,_lineBreaker_b:o.lineBreaker_b,_resizeBack:o.resizeBackground,_stickyDummy:o._stickyDummy,_arrow:o._arrow}}},g={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new u.RegExp("^(8|46)$"),_cursorMoveKeyCode:new u.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new u.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new u.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new u.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new u.RegExp("^("+u.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new u.RegExp(l.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(o,r){let h=null;const p=g._keyCodeShortcut[o];switch(p){case"A":h="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(h="bold");break;case"S":r&&s.shortcutsDisable.indexOf("strike")===-1?h="strike":!r&&s.shortcutsDisable.indexOf("save")===-1&&(h="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(h="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(h="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(r?h="redo":h="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(h="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"outdent":"indent");break}return h?(d.commandHandler(d.commandMap[h],h),!0):!!p},_applyTagEffects:function(){if(l.hasClass(t.element.wysiwyg,"se-read-only"))return!1;let o=d.getSelectionNode();if(o===d.effectNode)return;d.effectNode=o;const r=s.rtl?"marginRight":"marginLeft",h=d.commandMap,p=g._onButtonsCheck,b=[],v=[],m=d.activePlugins,y=m.length;let x="";for(;o.firstChild;)o=o.firstChild;for(let _=o;!l.isWysiwygDiv(_)&&_;_=_.parentNode)if(!(_.nodeType!==1||l.isBreak(_))){if(x=_.nodeName.toUpperCase(),v.push(x),!d.isReadOnly)for(let S=0,B;S<y;S++)B=m[S],b.indexOf(B)===-1&&i[B].active.call(d,_)&&b.push(B);if(l.isFormatElement(_)){b.indexOf("OUTDENT")===-1&&h.OUTDENT&&!l.isImportantDisabled(h.OUTDENT)&&(l.isListCell(_)||_.style[r]&&l.getNumber(_.style[r],0)>0)&&(b.push("OUTDENT"),h.OUTDENT.removeAttribute("disabled")),b.indexOf("INDENT")===-1&&h.INDENT&&!l.isImportantDisabled(h.INDENT)&&(b.push("INDENT"),l.isListCell(_)&&!_.previousElementSibling?h.INDENT.setAttribute("disabled",!0):h.INDENT.removeAttribute("disabled"));continue}p&&p.test(x)&&(b.push(x),l.addClass(h[x],"active"))}d._setKeyEffect(b),d._variable.currentNodes=v.reverse(),d._variable.currentNodesMap=b,s.showPathLabel&&(t.element.navigation.textContent=d._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(o){let r=o.target;if(d._bindControllersOff&&o.stopPropagation(),/^(input|textarea|select|option)$/i.test(r.nodeName)?d._antiBlur=!1:o.preventDefault(),l.getParentElement(r,".se-submenu"))o.stopPropagation(),d._notHideToolbar=!0;else{let h=r.getAttribute("data-command"),p=r.className;for(;!h&&!/se-menu-list/.test(p)&&!/sun-editor-common/.test(p);)r=r.parentNode,h=r.getAttribute("data-command"),p=r.className;(h===d._submenuName||h===d._containerName)&&o.stopPropagation()}},addGlobalEvent:function(o,r,h){return s.iframe&&d._ww.addEventListener(o,r,h),d._w.addEventListener(o,r,h),{type:o,listener:r,useCapture:h}},removeGlobalEvent:function(o,r,h){o&&(typeof o=="object"&&(r=o.listener,h=o.useCapture,o=o.type),s.iframe&&d._ww.removeEventListener(o,r,h),d._w.removeEventListener(o,r,h))},onClick_toolbar:function(o){let r=o.target,h=r.getAttribute("data-display"),p=r.getAttribute("data-command"),b=r.className;for(d.controllersOff();r.parentNode&&!p&&!/se-menu-list/.test(b)&&!/se-toolbar/.test(b);)r=r.parentNode,p=r.getAttribute("data-command"),h=r.getAttribute("data-display"),b=r.className;!p&&!h||r.disabled||d.actionCall(p,h,r)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(o){if(d.isReadOnly||l.isNonEditable(t.element.wysiwyg))return;if(l._isExcludeSelectionElement(o.target)){o.preventDefault();return}if(g.removeGlobalEvent(g.__selectionSyncEvent),g.__selectionSyncEvent=g.addGlobalEvent("mouseup",function(){d&&d._editorRange(),g.removeGlobalEvent(g.__selectionSyncEvent)}),typeof w.onMouseDown=="function"&&w.onMouseDown(o,d)===!1)return;const r=l.getParentElement(o.target,l.isCell);if(r){const h=d.plugins.table;h&&r!==h._fixedCell&&!h._shift&&d.callPlugin("table",function(){h.onTableCellMultiSelect.call(d,r,!1)},null)}d._isBalloon&&g._hideToolbar()},onClick_wysiwyg:function(o){const r=o.target;if(d.isReadOnly)return o.preventDefault(),l.isAnchor(r)&&u.open(r.href,r.target),!1;if(l.isNonEditable(t.element.wysiwyg)||typeof w.onClick=="function"&&w.onClick(o,d)===!1)return;const h=d.getFileComponent(r);if(h){o.preventDefault(),d.selectComponent(h.target,h.pluginName);return}const p=l.getParentElement(r,"FIGCAPTION");if(p&&l.isNonEditable(p)&&(o.preventDefault(),p.focus(),d._isInline&&!d._inlineToolbarAttr.isShow)){g._showToolbarInline();const _=function(){g._hideToolbar(),p.removeEventListener("blur",_)};p.addEventListener("blur",_)}if(d._editorRange(),o.detail===3){let _=d.getRange();l.isFormatElement(_.endContainer)&&_.endOffset===0&&(_=d.setRange(_.startContainer,_.startOffset,_.startContainer,_.startContainer.length),d._rangeInfo(_,d.getSelection()))}const b=d.getSelectionNode(),v=l.getFormatElement(b,null),m=l.getRangeFormatElement(b,null);let y=b;for(;y&&y.firstChild;)y=y.firstChild;const x=d.getFileComponent(y);if(x){const _=d.getRange();!m&&_.startContainer===_.endContainer&&d.selectComponent(x.target,x.pluginName)}else d.currentFileComponentInfo&&d.controllersOff();if(!v&&!l.isNonEditable(r)&&!l.isList(m)){const _=d.getRange();if(l.getFormatElement(_.startContainer)===l.getFormatElement(_.endContainer))if(l.isList(m)){o.preventDefault();const S=l.createElement("LI"),B=b.nextElementSibling;S.appendChild(b),m.insertBefore(S,B),d.focus()}else!l.isWysiwygDiv(b)&&!l.isComponent(b)&&(!l.isTable(b)||l.isCell(b))&&d._setDefaultFormat(l.isRangeFormatElement(m)?"DIV":s.defaultTag)!==null?(o.preventDefault(),d.focus()):g._applyTagEffects()}else g._applyTagEffects();d._isBalloon&&u.setTimeout(g._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){g._balloonDelay&&u.clearTimeout(g._balloonDelay),g._balloonDelay=u.setTimeout((function(){u.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(g),350)},_toggleToolbarBalloon:function(){if(d){d._editorRange();const o=d.getRange();d._bindControllersOff||!d._isBalloonAlways&&o.collapsed?g._hideToolbar():g._showToolbarBalloon(o)}},_showToolbarBalloon:function(o){if(!d._isBalloon)return;const r=o||d.getRange(),h=t.element.toolbar,p=t.element.topArea,b=d.getSelection();let v;if(d._isBalloonAlways&&r.collapsed)v=!0;else if(b.focusNode===b.anchorNode)v=b.focusOffset<b.anchorOffset;else{const H=l.getListChildNodes(r.commonAncestorContainer,null);v=l.getArrayIndex(H,b.focusNode)<l.getArrayIndex(H,b.anchorNode)}let m=r.getClientRects();m=m[v?0:m.length-1];const y=d.getGlobalScrollOffset();let x=y.left,_=y.top;const S=p.offsetWidth,B=g._getEditorOffsets(null),T=B.top,N=B.left;if(h.style.top="-10000px",h.style.visibility="hidden",h.style.display="block",!m){const H=d.getSelectionNode();if(l.isFormatElement(H)){const F=l.createTextNode(l.zeroWidthSpace);d.insertNode(F,null,!1),d.setRange(F,1,F,1),d._editorRange(),m=d.getRange().getClientRects(),m=m[v?0:m.length-1]}if(!m){const F=l.getOffset(H,t.element.wysiwygFrame);m={left:F.left,top:F.top,right:F.left,bottom:F.top+H.offsetHeight,noText:!0},x=0,_=0}v=!0}const M=u.Math.round(t.element._arrow.offsetWidth/2),U=h.offsetWidth,W=h.offsetHeight,R=/iframe/i.test(t.element.wysiwygFrame.nodeName)?t.element.wysiwygFrame.getClientRects()[0]:null;if(R&&(m={left:m.left+R.left,top:m.top+R.top,right:m.right+R.right-R.width,bottom:m.bottom+R.bottom-R.height}),g._setToolbarOffset(v,m,h,N,S,x,_,T,M),(U!==h.offsetWidth||W!==h.offsetHeight)&&g._setToolbarOffset(v,m,h,N,S,x,_,T,M),s.toolbarContainer){const H=p.parentElement;let F=s.toolbarContainer,z=F.offsetLeft,I=F.offsetTop;for(;!F.parentElement.contains(H)||!/^(BODY|HTML)$/i.test(F.parentElement.nodeName);)F=F.offsetParent,z+=F.offsetLeft,I+=F.offsetTop;h.style.left=h.offsetLeft-z+p.offsetLeft+"px",h.style.top=h.offsetTop-I+p.offsetTop+"px"}h.style.visibility=""},_setToolbarOffset:function(o,r,h,p,b,v,m,y,x){const S=h.offsetWidth,B=r.noText&&!o?0:h.offsetHeight,T=(o?r.left:r.right)-p-S/2+v,N=T+S-b;let M=(o?r.top-B-x:r.bottom+x)-(r.noText?0:y)+m,U=T<0?1:N<0?T:T-N-1-1,W=!1;const R=M+(o?g._getEditorOffsets(null).top:h.offsetHeight-t.element.wysiwyg.offsetHeight);!o&&R>0&&g._getPageBottomSpace()<R?(o=!0,W=!0):o&&c.documentElement.offsetTop>R&&(o=!1,W=!0),W&&(M=(o?r.top-B-x:r.bottom+x)-(r.noText?0:y)+m),h.style.left=u.Math.floor(U)+"px",h.style.top=u.Math.floor(M)+"px",o?(l.removeClass(t.element._arrow,"se-arrow-up"),l.addClass(t.element._arrow,"se-arrow-down"),t.element._arrow.style.top=B+"px"):(l.removeClass(t.element._arrow,"se-arrow-down"),l.addClass(t.element._arrow,"se-arrow-up"),t.element._arrow.style.top=-x+"px");const H=u.Math.floor(S/2+(T-U));t.element._arrow.style.left=(H+x>h.offsetWidth?h.offsetWidth-x:H<x?x:H)+"px"},_showToolbarInline:function(){if(!d._isInline)return;const o=t.element.toolbar;s.toolbarContainer?o.style.position="relative":o.style.position="absolute",o.style.visibility="hidden",o.style.display="block",d._inlineToolbarAttr.width=o.style.width=s.toolbarWidth,d._inlineToolbarAttr.top=o.style.top=(s.toolbarContainer?0:-1-o.offsetHeight)+"px",typeof w.showInline=="function"&&w.showInline(o,t,d),g.onScroll_window(),d._inlineToolbarAttr.isShow=!0,o.style.visibility=""},_hideToolbar:function(){!d._notHideToolbar&&!d._variable.isFullScreen&&(t.element.toolbar.style.display="none",d._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(o){if(/AUDIO/.test(o.target.nodeName))return!1;if(d.isReadOnly||d.isDisabled)return o.preventDefault(),o.stopPropagation(),d.history.go(d.history.getCurrentIndex()),!1;const r=d.getRange(),h=d.getSelectionNode(),p=l.getFormatElement(h,null);if(!p&&r.collapsed&&!l.isComponent(h)&&!l.isList(h)){const v=l.getRangeFormatElement(p,null);d._setDefaultFormat(l.isRangeFormatElement(v)?"DIV":s.defaultTag)}d._editorRange();const b=(o.data===null?"":o.data===void 0?" ":o.data)||"";if(!d._charCount(b))return o.preventDefault(),o.stopPropagation(),!1;typeof w.onInput=="function"&&w.onInput(o,d)===!1||d.history.push(!0)},_isUneditableNode:function(o,r){const h=r?o.startContainer:o.endContainer,p=r?o.startOffset:o.endOffset,b=r?"previousSibling":"nextSibling",v=h.nodeType===1;let m;return v?(m=g._isUneditableNode_getSibling(h.childNodes[p],b,h),m&&m.nodeType===1&&m.getAttribute("contenteditable")==="false"):(m=g._isUneditableNode_getSibling(h,b,h),d.isEdgePoint(h,p,r?"start":"end")&&m&&m.nodeType===1&&m.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(o,r,h){if(!o)return null;let p=o[r];if(!p)if(p=l.getFormatElement(h),p=p?p[r]:null,p&&!l.isComponent(p))p=r==="previousSibling"?p.firstChild:p.lastChild;else return null;return p},_onShortcutKey:!1,onKeyDown_wysiwyg:function(o){let r=d.getSelectionNode();if(l.isInputElement(r))return;const h=o.keyCode,p=o.shiftKey,b=o.ctrlKey||o.metaKey||h===91||h===92||h===224,v=o.altKey;if(g._IEisComposing=h===229,!b&&d.isReadOnly&&!g._cursorMoveKeyCode.test(h))return o.preventDefault(),!1;if(d.submenuOff(),d._isBalloon&&g._hideToolbar(),typeof w.onKeyDown=="function"&&w.onKeyDown(o,d)===!1)return;if(b&&g._shortcutCommand(h,p))return g._onShortcutKey=!0,o.preventDefault(),o.stopPropagation(),!1;g._onShortcutKey&&(g._onShortcutKey=!1),h===13&&l.isFormatElement(d.getRange().startContainer)&&(d._resetRangeToTextNode(),r=d.getSelectionNode());const m=d.getRange(),y=!m.collapsed||m.startContainer!==m.endContainer,x=d._fileManager.pluginRegExp.test(d.currentControllerName)?d.currentControllerName:"";let _=l.getFormatElement(r,null)||r,S=l.getRangeFormatElement(_,null);if(!(/37|38|39|40/.test(o.keyCode)&&g._onKeyDown_wysiwyg_arrowKey(o)===!1)){switch(h){case 8:if(!y&&x){o.preventDefault(),o.stopPropagation(),d.plugins[x].destroy.call(d);break}if(y&&g._hardDelete()){o.preventDefault(),o.stopPropagation();break}if(!l.isFormatElement(_)&&!t.element.wysiwyg.firstElementChild&&!l.isComponent(r)&&d._setDefaultFormat(s.defaultTag)!==null)return o.preventDefault(),o.stopPropagation(),!1;if(!y&&!_.previousElementSibling&&m.startOffset===0&&!r.previousSibling&&!l.isListCell(_)&&l.isFormatElement(_)&&(!l.isFreeFormatElement(_)||l.isClosureFreeFormatElement(_))){if(l.isClosureRangeFormatElement(_.parentNode))return o.preventDefault(),o.stopPropagation(),!1;if(l.isWysiwygDiv(_.parentNode)&&_.childNodes.length<=1&&(!_.firstChild||l.onlyZeroWidthSpace(_.textContent))){if(o.preventDefault(),o.stopPropagation(),_.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){_.innerHTML="<br>";const D=_.attributes;for(;D[0];)_.removeAttribute(D[0].name)}else{const D=l.createElement(s.defaultTag);D.innerHTML="<br>",_.parentElement.replaceChild(D,_)}return d.nativeFocus(),!1}}const T=m.startContainer;if(_&&!_.previousElementSibling&&m.startOffset===0&&T.nodeType===3&&!l.isFormatElement(T.parentNode)){let D=T.parentNode.previousSibling;const O=T.parentNode.nextSibling;D||(O?D=O:(D=l.createElement("BR"),_.appendChild(D)));let k=T;for(;_.contains(k)&&!k.previousSibling;)k=k.parentNode;if(!_.contains(k)){T.textContent="",l.removeItemAllParents(T,null,_);break}}if(g._isUneditableNode(m,!0)){o.preventDefault(),o.stopPropagation();break}!y&&d._isEdgeFormat(m.startContainer,m.startOffset,"start")&&l.isFormatElement(_.previousElementSibling)&&(d._formatAttrsTemp=_.previousElementSibling.attributes);const N=m.commonAncestorContainer;if(_=l.getFormatElement(m.startContainer,null),S=l.getRangeFormatElement(_,null),S&&_&&!l.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){if(l.isListCell(_)&&l.isList(S)&&(l.isListCell(S.parentNode)||_.previousElementSibling)&&(r===_||r.nodeType===3&&(!r.previousSibling||l.isList(r.previousSibling)))&&(l.getFormatElement(m.startContainer,null)!==l.getFormatElement(m.endContainer,null)?S.contains(m.startContainer):m.startOffset===0&&m.collapsed)){if(m.startContainer!==m.endContainer)o.preventDefault(),d.removeNode(),m.startContainer.nodeType===3&&d.setRange(m.startContainer,m.startContainer.textContent.length,m.startContainer,m.startContainer.textContent.length),d.history.push(!0);else{let D=_.previousElementSibling||S.parentNode;if(l.isListCell(D)){o.preventDefault();let O=D;if(!D.contains(_)&&l.isListCell(O)&&l.isList(O.lastElementChild)){for(O=O.lastElementChild.lastElementChild;l.isListCell(O)&&l.isList(O.lastElementChild);)O=O.lastElementChild&&O.lastElementChild.lastElementChild;D=O}let k=D===S.parentNode?S.previousSibling:D.lastChild;k||(k=l.createTextNode(l.zeroWidthSpace),S.parentNode.insertBefore(k,S.parentNode.firstChild));const A=k.nodeType===3?k.textContent.length:1,P=_.childNodes;let V=k,$=P[0];for(;$=P[0];)D.insertBefore($,V.nextSibling),V=$;l.removeItem(_),S.children.length===0&&l.removeItem(S),d.setRange(k,A,k,A),d.history.push(!0)}}break}if(!y&&m.startOffset===0){let D=!0,O=N;for(;O&&O!==S&&!l.isWysiwygDiv(O);){if(O.previousSibling&&(O.previousSibling.nodeType===1||!l.onlyZeroWidthSpace(O.previousSibling.textContent.trim()))){D=!1;break}O=O.parentNode}if(D&&S.parentNode){o.preventDefault(),d.detachRangeFormatElement(S,l.isListCell(_)?[_]:null,null,!1,!1),d.history.push(!0);break}}}if(!y&&_&&(m.startOffset===0||r===_&&_.childNodes[m.startOffset])){const D=l.isListCell(_),O=r===_?_.childNodes[m.startOffset]:r,k=D?O.previousSibling:_.previousSibling,A=D||(N.nodeType===3||l.isBreak(N))&&!N.previousSibling&&m.startOffset===0;if(O&&(D||!O.previousSibling)&&(N&&l.isComponent(N.previousSibling)||A&&l.isComponent(k))){const P=d.getFileComponent(k);P?(o.preventDefault(),o.stopPropagation(),D?l.removeItem(O):_.textContent.length===0&&l.removeItem(_),d.selectComponent(P.target,P.pluginName)===!1&&d.blur()):l.isComponent(k)&&(o.preventDefault(),o.stopPropagation(),l.removeItem(k));break}if(O&&l.isNonEditable(O.previousSibling)){o.preventDefault(),o.stopPropagation(),l.removeItem(O.previousSibling);break}}break;case 46:if(x){o.preventDefault(),o.stopPropagation(),d.plugins[x].destroy.call(d);break}if(y&&g._hardDelete()){o.preventDefault(),o.stopPropagation();break}if(!y&&d._isEdgeFormat(m.endContainer,m.endOffset,"end")&&!_.nextSibling){o.preventDefault(),o.stopPropagation();return}if(g._isUneditableNode(m,!1)){o.preventDefault(),o.stopPropagation();break}if((l.isFormatElement(r)||r.nextSibling===null||l.onlyZeroWidthSpace(r.nextSibling)&&r.nextSibling.nextSibling===null)&&m.startOffset===r.textContent.length){const D=_.nextElementSibling;if(!D)break;if(l.isComponent(D)){if(o.preventDefault(),l.onlyZeroWidthSpace(_)&&(l.removeItem(_),l.isTable(D))){let k=l.getChildElement(D,l.isCell,!1);k=k.firstElementChild||k,d.setRange(k,0,k,0);break}const O=d.getFileComponent(D);O?(o.stopPropagation(),d.selectComponent(O.target,O.pluginName)===!1&&d.blur()):l.isComponent(D)&&(o.stopPropagation(),l.removeItem(D));break}}if(!y&&(d.isEdgePoint(m.endContainer,m.endOffset)||r===_&&_.childNodes[m.startOffset])){const D=r===_&&_.childNodes[m.startOffset]||r;if(D&&l.isNonEditable(D.nextSibling)){o.preventDefault(),o.stopPropagation(),l.removeItem(D.nextSibling);break}else if(l.isComponent(D)){o.preventDefault(),o.stopPropagation(),l.removeItem(D);break}}if(!y&&d._isEdgeFormat(m.endContainer,m.endOffset,"end")&&l.isFormatElement(_.nextElementSibling)&&(d._formatAttrsTemp=_.attributes),_=l.getFormatElement(m.startContainer,null),S=l.getRangeFormatElement(_,null),l.isListCell(_)&&l.isList(S)&&(r===_||r.nodeType===3&&(!r.nextSibling||l.isList(r.nextSibling))&&(l.getFormatElement(m.startContainer,null)!==l.getFormatElement(m.endContainer,null)?S.contains(m.endContainer):m.endOffset===r.textContent.length&&m.collapsed))){m.startContainer!==m.endContainer&&d.removeNode();let D=l.getArrayItem(_.children,l.isList,!1);if(D=D||_.nextElementSibling||(S.parentNode?S.parentNode.nextElementSibling:null),D&&(l.isList(D)||l.getArrayItem(D.children,l.isList,!1))){o.preventDefault();let O,k;if(l.isList(D)){const A=D.firstElementChild;for(k=A.childNodes,O=k[0];k[0];)_.insertBefore(k[0],D);l.removeItem(A)}else{for(O=D.firstChild,k=D.childNodes;k[0];)_.appendChild(k[0]);l.removeItem(D)}d.setRange(O,0,O,0),d.history.push(!0)}break}break;case 9:if(x||s.tabDisable||(o.preventDefault(),b||v||l.isWysiwygDiv(r)))break;const M=!m.collapsed||d.isEdgePoint(m.startContainer,m.startOffset),U=d.getSelectedElements(null);r=d.getSelectionNode();const W=[];let R=[],H=l.isListCell(U[0]),F=l.isListCell(U[U.length-1]),z={sc:m.startContainer,so:m.startOffset,ec:m.endContainer,eo:m.endOffset};for(let D=0,O=U.length,k;D<O;D++)if(k=U[D],l.isListCell(k)){if(!k.previousElementSibling&&!p)continue;W.push(k)}else R.push(k);if(W.length>0&&M&&d.plugins.list)z=d.plugins.list.editInsideList.call(d,p,W);else{const D=l.getParentElement(r,l.isCell);if(D&&M){const O=l.getParentElement(D,"table"),k=l.getListChildren(O,l.isCell);let A=p?l.prevIdx(k,D):l.nextIdx(k,D);A===k.length&&!p&&(A=0),A===-1&&p&&(A=k.length-1);let P=k[A];if(!P)break;P=P.firstElementChild||P,d.setRange(P,0,P,0);break}R=R.concat(W),H=F=null}if(R.length>0)if(p){const D=R.length-1;for(let A=0,P;A<=D;A++){P=R[A].childNodes;for(let V=0,$=P.length,Z;V<$&&(Z=P[V],!!Z);V++)if(!l.onlyZeroWidthSpace(Z)){/^\s{1,4}$/.test(Z.textContent)?l.removeItem(Z):/^\s{1,4}/.test(Z.textContent)&&(Z.textContent=Z.textContent.replace(/^\s{1,4}/,""));break}}const O=l.getChildElement(R[0],"text",!1),k=l.getChildElement(R[D],"text",!0);!H&&O&&(z.sc=O,z.so=0),!F&&k&&(z.ec=k,z.eo=k.textContent.length)}else{const D=l.createTextNode(new u.Array(d._variable.tabSize+1).join(""));if(R.length===1){if(!d.insertNode(D,null,!0))return!1;H||(z.sc=D,z.so=D.length),F||(z.ec=D,z.eo=D.length)}else{const O=R.length-1;for(let P=0,V;P<=O;P++)V=R[P].firstChild,V&&(l.isBreak(V)?R[P].insertBefore(D.cloneNode(!1),V):V.textContent=D.textContent+V.textContent);const k=l.getChildElement(R[0],"text",!1),A=l.getChildElement(R[O],"text",!0);!H&&k&&(z.sc=k,z.so=0),!F&&A&&(z.ec=A,z.eo=A.textContent.length)}}d.setRange(z.sc,z.so,z.ec,z.eo),d.history.push(!1);break;case 13:const I=l.getFreeFormatElement(r,null);if(d._charTypeHTML){let D="";if(!p&&I||p?D="<br>":D="<"+_.nodeName+"><br></"+_.nodeName+">",!d.checkCharCount(D,"byte-html"))return o.preventDefault(),!1}if(!p&&!x){const D=d._isEdgeFormat(m.endContainer,m.endOffset,"end"),O=d._isEdgeFormat(m.startContainer,m.startOffset,"start");if(D&&(/^H[1-6]$/i.test(_.nodeName)||/^HR$/i.test(_.nodeName))){g._enterPrevent(o);let k=null;const A=d.appendFormatTag(_,s.defaultTag);if(D&&D.length>0){k=D.pop();const P=k;for(;D.length>0;)k=k.appendChild(D.pop());A.appendChild(P)}if(k=k?k.appendChild(A.firstChild):A.firstChild,l.isBreak(k)){const P=l.createTextNode(l.zeroWidthSpace);k.parentNode.insertBefore(P,k),d.setRange(P,1,P,1)}else d.setRange(k,0,k,0);break}else if(S&&_&&!l.isCell(S)&&!/^FIGCAPTION$/i.test(S.nodeName)){const k=d.getRange();if(d.isEdgePoint(k.endContainer,k.endOffset)&&l.isList(r.nextSibling)){g._enterPrevent(o);const A=l.createElement("LI"),P=l.createElement("BR");A.appendChild(P),_.parentNode.insertBefore(A,_.nextElementSibling),A.appendChild(r.nextSibling),d.setRange(P,1,P,1);break}if((k.commonAncestorContainer.nodeType!==3||!k.commonAncestorContainer.nextElementSibling)&&l.onlyZeroWidthSpace(_.innerText.trim())&&!l.isListCell(_.nextElementSibling)){g._enterPrevent(o);let A=null;if(l.isListCell(S.parentNode)){const P=_.parentNode.parentNode;S=P.parentNode;const V=l.createElement("LI");V.innerHTML="<br>",l.copyTagAttributes(V,_,s.lineAttrReset),A=V,S.insertBefore(A,P.nextElementSibling)}else{const P=l.isCell(S.parentNode)?"DIV":l.isList(S.parentNode)?"LI":l.isFormatElement(S.nextElementSibling)&&!l.isRangeFormatElement(S.nextElementSibling)?S.nextElementSibling.nodeName:l.isFormatElement(S.previousElementSibling)&&!l.isRangeFormatElement(S.previousElementSibling)?S.previousElementSibling.nodeName:s.defaultTag;A=l.createElement(P),l.copyTagAttributes(A,_,s.lineAttrReset);const V=d.detachRangeFormatElement(S,[_],null,!0,!0);V.cc.insertBefore(A,V.ec)}A.innerHTML="<br>",l.removeItemAllParents(_,null,null),d.setRange(A,1,A,1);break}}if(I){g._enterPrevent(o);const k=r===I,A=d.getSelection(),P=r.childNodes,V=A.focusOffset,$=r.previousElementSibling,Z=r.nextSibling;if(!l.isClosureFreeFormatElement(I)&&P&&(k&&m.collapsed&&P.length-1<=V+1&&l.isBreak(P[V])&&(!P[V+1]||(!P[V+2]||l.onlyZeroWidthSpace(P[V+2].textContent))&&P[V+1].nodeType===3&&l.onlyZeroWidthSpace(P[V+1].textContent))&&V>0&&l.isBreak(P[V-1])||!k&&l.onlyZeroWidthSpace(r.textContent)&&l.isBreak($)&&(l.isBreak($.previousSibling)||!l.onlyZeroWidthSpace($.previousSibling.textContent))&&(!Z||!l.isBreak(Z)&&l.onlyZeroWidthSpace(Z.textContent)))){k?l.removeItem(P[V-1]):l.removeItem(r);const q=d.appendFormatTag(I,l.isFormatElement(I.nextElementSibling)&&!l.isRangeFormatElement(I.nextElementSibling)?I.nextElementSibling:null);l.copyFormatAttributes(q,I),d.setRange(q,1,q,1);break}if(k){w.insertHTML(m.collapsed&&l.isBreak(m.startContainer.childNodes[m.startOffset-1])?"<br>":"<br><br>",!0,!1);let q=A.focusNode;const Y=A.focusOffset;I===q&&(q=q.childNodes[Y-V>1?Y-1:Y]),d.setRange(q,1,q,1)}else{const q=A.focusNode.nextSibling,Y=l.createElement("BR");d.insertNode(Y,null,!1);const K=Y.previousSibling,G=Y.nextSibling;!l.isBreak(q)&&!l.isBreak(K)&&(!G||l.onlyZeroWidthSpace(G))?(Y.parentNode.insertBefore(Y.cloneNode(!1),Y),d.setRange(Y,1,Y,1)):d.setRange(G,0,G,0)}g._onShortcutKey=!0;break}if(m.collapsed&&(O||D)){g._enterPrevent(o);const k=l.createElement("BR"),A=l.createElement(_.nodeName);l.copyTagAttributes(A,_,s.lineAttrReset);let P=k;do{if(!l.isBreak(r)&&r.nodeType===1){const V=r.cloneNode(!1);V.appendChild(P),P=V}r=r.parentNode}while(_!==r&&_.contains(r));A.appendChild(P),_.parentNode.insertBefore(A,O&&!D?_:_.nextElementSibling),D&&d.setRange(k,1,k,1);break}if(_){o.stopPropagation();let k,A=0;if(m.collapsed)l.onlyZeroWidthSpace(_)?k=d.appendFormatTag(_,_.cloneNode(!1)):k=l.splitElement(m.endContainer,m.endOffset,l.getElementDepth(_));else{const P=l.getFormatElement(m.startContainer,null)!==l.getFormatElement(m.endContainer,null),V=_.cloneNode(!1);V.innerHTML="<br>";const $=m.commonAncestorContainer,Z=$===m.startContainer&&$===m.endContainer&&l.onlyZeroWidthSpace($)?m:d.removeNode();if(k=l.getFormatElement(Z.container,null),!k){l.isWysiwygDiv(Z.container)&&(g._enterPrevent(o),t.element.wysiwyg.appendChild(V),k=V,l.copyTagAttributes(k,_,s.lineAttrReset),d.setRange(k,A,k,A));break}const q=l.getRangeFormatElement(Z.container);if(k=k.contains(q)?l.getChildElement(q,l.getFormatElement.bind(l)):k,P){if(D&&!O)k.parentNode.insertBefore(V,!Z.prevContainer||Z.container===Z.prevContainer?k.nextElementSibling:k),k=V,A=0;else if(A=Z.offset,O){const Y=k.parentNode.insertBefore(V,k);D&&(k=Y,A=0)}}else D&&O?(k.parentNode.insertBefore(V,Z.prevContainer&&Z.container===Z.prevContainer?k.nextElementSibling:k),k=V,A=0):k=l.splitElement(Z.container,Z.offset,l.getElementDepth(_))}g._enterPrevent(o),l.copyTagAttributes(k,_,s.lineAttrReset),d.setRange(k,A,k,A);break}}if(y)break;if(S&&l.getParentElement(S,"FIGCAPTION")&&l.getParentElement(S,l.isList)&&(g._enterPrevent(o),_=d.appendFormatTag(_,null),d.setRange(_,0,_,0)),x){o.preventDefault(),o.stopPropagation(),d.containerOff(),d.controllersOff();const D=t[x],O=D._container,k=O.previousElementSibling||O.nextElementSibling;let A=null;l.isListCell(O.parentNode)?A=l.createElement("BR"):(A=l.createElement(l.isFormatElement(k)&&!l.isRangeFormatElement(k)?k.nodeName:s.defaultTag),A.innerHTML="<br>"),p?O.parentNode.insertBefore(A,O):O.parentNode.insertBefore(A,O.nextElementSibling),d.callPlugin(x,function(){d.selectComponent(D._element,x)===!1&&d.blur()},null)}break;case 27:if(x)return o.preventDefault(),o.stopPropagation(),d.controllersOff(),!1;break}if(d.currentFileComponentInfo&&d.controllersOff(),p&&h===16){o.preventDefault(),o.stopPropagation();const T=d.plugins.table;if(T&&!T._shift&&!T._ref){const N=l.getParentElement(_,l.isCell);if(N){T.onTableCellMultiSelect.call(d,N,!0);return}}}else if(p&&(l.isOSX_IOS?v:b)&&h===32){o.preventDefault(),o.stopPropagation();const T=d.insertNode(l.createTextNode(""));if(T){d.setRange(T,T.length,T,T.length);return}}if(l.isIE&&!b&&!v&&!y&&!g._nonTextKeyCode.test(h)&&l.isBreak(m.commonAncestorContainer)){const T=l.createTextNode(l.zeroWidthSpace);d.insertNode(T,null,!1),d.setRange(T,1,T,1)}g._directionKeyCode.test(h)&&(u.setTimeout(d._editorRange.bind(d),0),g._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(o){if(o.shiftKey)return;let r=d.getSelectionNode();const h=function(v,m){if(m||(m=0),o.preventDefault(),o.stopPropagation(),!v)return;let y=d.getFileComponent(v);y?d.selectComponent(y.target,y.pluginName):(d.setRange(v,m,v,m),d.controllersOff())},p=l.getParentElement(r,"table");if(p){const v=l.getParentElement(r,"tr"),m=l.getParentElement(r,"td");let y=m,x=m;if(m){for(;y&&y.firstChild;)y=y.firstChild;for(;x&&x.lastChild;)x=x.lastChild}let _=r;for(;_&&_.firstChild;)_=_.firstChild;const S=_===y,B=_===x;let T=null,N=0;if(o.keyCode===38&&S){const M=v&&v.previousElementSibling;for(M?T=M.children[m.cellIndex]:T=l.getPreviousDeepestNode(p,d.context.element.wysiwyg);T&&T.lastChild;)T=T.lastChild;T&&(N=T.textContent.length)}else if(o.keyCode===40&&B){const M=v&&v.nextElementSibling;for(M?T=M.children[m.cellIndex]:T=l.getNextDeepestNode(p,d.context.element.wysiwyg);T&&T.firstChild;)T=T.firstChild}if(T)return h(T,N),!1}const b=d.getFileComponent(r);if(b){const v=/37|38/.test(o.keyCode),m=/39|40/.test(o.keyCode);if(v){const y=l.getPreviousDeepestNode(b.target,d.context.element.wysiwyg);h(y,y&&y.textContent.length)}else if(m){const y=l.getNextDeepestNode(b.target,d.context.element.wysiwyg);h(y)}}},onKeyUp_wysiwyg:function(o){if(g._onShortcutKey)return;d._editorRange();const r=o.keyCode,h=o.ctrlKey||o.metaKey||r===91||r===92||r===224,p=o.altKey;if(d.isReadOnly){!h&&g._cursorMoveKeyCode.test(r)&&g._applyTagEffects();return}const b=d.getRange();let v=d.getSelectionNode();if(d._isBalloon&&(d._isBalloonAlways&&r!==27||!b.collapsed))if(d._isBalloonAlways)r!==27&&g._showToolbarBalloonDelay();else{g._showToolbarBalloon();return}let m=v;for(;m&&m.firstChild;)m=m.firstChild;const y=d.getFileComponent(m);if(!(o.keyCode===16||o.shiftKey)&&y&&d.selectComponent(y.target,y.pluginName),r===8&&l.isWysiwygDiv(v)&&v.textContent===""&&v.children.length===0){o.preventDefault(),o.stopPropagation(),v.innerHTML="";const T=l.createElement(l.isFormatElement(d._variable.currentNodes[0])?d._variable.currentNodes[0]:s.defaultTag);T.innerHTML="<br>",v.appendChild(T),d.setRange(T,0,T,0),g._applyTagEffects(),d.history.push(!1);return}const x=l.getFormatElement(v,null),_=l.getRangeFormatElement(v,null),S=d._formatAttrsTemp;if(S){for(let T=0,N=S.length;T<N;T++){if(r===13&&/^id$/i.test(S[T].name)){x.removeAttribute("id");continue}x.setAttribute(S[T].name,S[T].value)}d._formatAttrsTemp=null}if(!x&&b.collapsed&&!l.isComponent(v)&&!l.isList(v)&&d._setDefaultFormat(l.isRangeFormatElement(_)?"DIV":s.defaultTag)!==null&&(v=d.getSelectionNode()),!h&&!p&&!g._nonTextKeyCode.test(r)&&v.nodeType===3&&l.zeroWidthRegExp.test(v.textContent)&&!(o.isComposing!==void 0?o.isComposing:g._IEisComposing)){let T=b.startOffset,N=b.endOffset;const M=(v.textContent.substring(0,N).match(g._frontZeroWidthReg)||"").length;T=b.startOffset-M,N=b.endOffset-M,v.textContent=v.textContent.replace(l.zeroWidthRegExp,""),d.setRange(v,T<0?0:T,v,N<0?0:N)}g._deleteKeyCode.test(r)&&x&&l.onlyZeroWidthSpace(x.textContent)&&!x.previousElementSibling&&(x.innerHTML="<br>",d.setRange(x,0,x,0)),d._charCount(""),!(typeof w.onKeyUp=="function"&&w.onKeyUp(o,d)===!1)&&!h&&!p&&!g._historyIgnoreKeyCode.test(r)&&d.history.push(!0)},onScroll_wysiwyg:function(o){d.controllersOff(),d._isBalloon&&g._hideToolbar(),typeof w.onScroll=="function"&&w.onScroll(o,d)},onFocus_wysiwyg:function(o){d._antiBlur||(d.hasFocus=!0,u.setTimeout(g._applyTagEffects),d._isInline&&g._showToolbarInline(),typeof w.onFocus=="function"&&w.onFocus(o,d))},onBlur_wysiwyg:function(o){d._antiBlur||d._variable.isCodeView||(d.hasFocus=!1,d.effectNode=null,d.controllersOff(),(d._isInline||d._isBalloon)&&g._hideToolbar(),d._setKeyEffect([]),d._variable.currentNodes=[],d._variable.currentNodesMap=[],s.showPathLabel&&(t.element.navigation.textContent=""),typeof w.onBlur=="function"&&w.onBlur(o,d,this))},onMouseDown_resizingBar:function(o){o.stopPropagation(),d.submenuOff(),d.controllersOff(),d._variable.resizeClientY=o.clientY,t.element.resizeBackground.style.display="block";function r(){t.element.resizeBackground.style.display="none",c.removeEventListener("mousemove",g._resize_editor),c.removeEventListener("mouseup",r)}c.addEventListener("mousemove",g._resize_editor),c.addEventListener("mouseup",r)},_resize_editor:function(o){const r=t.element.editorArea.offsetHeight+(o.clientY-d._variable.resizeClientY),h=r<d._variable.minResizingSize?d._variable.minResizingSize:r;t.element.wysiwygFrame.style.height=t.element.code.style.height=h+"px",d._variable.resizeClientY=o.clientY,l.isResizeObserverSupported||d.__callResizeFunction(h,null)},onResize_window:function(){l.isResizeObserverSupported||d.resetResponsiveToolbar();const o=t.element.toolbar,r=o.style.display==="none"||d._isInline&&!d._inlineToolbarAttr.isShow;if(!(o.offsetWidth===0&&!r)){if(t.fileBrowser&&t.fileBrowser.area.style.display==="block"&&(t.fileBrowser.body.style.maxHeight=u.innerHeight-t.fileBrowser.header.offsetHeight-50+"px"),d.submenuActiveButton&&d.submenu&&d._setMenuPosition(d.submenuActiveButton,d.submenu),d._variable.isFullScreen){d._variable.innerHeight_fullScreen+=u.innerHeight-o.offsetHeight-d._variable.innerHeight_fullScreen,t.element.editorArea.style.height=d._variable.innerHeight_fullScreen+"px";return}if(d._variable.isCodeView&&d._isInline){g._showToolbarInline();return}d._iframeAutoHeight(),d._sticky&&(o.style.width=t.element.topArea.offsetWidth-2+"px",g.onScroll_window())}},onScroll_window:function(){if(d._variable.isFullScreen||t.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;const o=t.element,r=o.editorArea.offsetHeight,h=(this.scrollY||c.documentElement.scrollTop)+s.stickyToolbar,p=g._getEditorOffsets(s.toolbarContainer).top-(d._isInline?o.toolbar.offsetHeight:0),b=d._isInline&&h-p>0?h-p-t.element.toolbar.offsetHeight:0;h<p?g._offStickyToolbar():h+d._variable.minResizingSize>=r+p?(d._sticky||g._onStickyToolbar(b),o.toolbar.style.top=b+r+p+s.stickyToolbar-h-d._variable.minResizingSize+"px"):h>=p&&g._onStickyToolbar(b)},_getEditorOffsets:function(o){let r=o||t.element.topArea,h=0,p=0,b=0;for(;r;)h+=r.offsetTop,p+=r.offsetLeft,b+=r.scrollTop,r=r.offsetParent;return{top:h,left:p,scroll:b}},_getPageBottomSpace:function(){return c.documentElement.scrollHeight-(g._getEditorOffsets(null).top+t.element.topArea.offsetHeight)},_onStickyToolbar:function(o){const r=t.element;!d._isInline&&!s.toolbarContainer&&(r._stickyDummy.style.height=r.toolbar.offsetHeight+"px",r._stickyDummy.style.display="block"),r.toolbar.style.top=s.stickyToolbar+o+"px",r.toolbar.style.width=d._isInline?d._inlineToolbarAttr.width:r.toolbar.offsetWidth+"px",l.addClass(r.toolbar,"se-toolbar-sticky"),d._sticky=!0},_offStickyToolbar:function(){const o=t.element;o._stickyDummy.style.display="none",o.toolbar.style.top=d._isInline?d._inlineToolbarAttr.top:"",o.toolbar.style.width=d._isInline?d._inlineToolbarAttr.width:"",o.editorArea.style.marginTop="",l.removeClass(o.toolbar,"se-toolbar-sticky"),d._sticky=!1},_codeViewAutoHeight:function(){d._variable.isFullScreen||(t.element.code.style.height=t.element.code.scrollHeight+"px")},_hardDelete:function(){const o=d.getRange(),r=o.startContainer,h=o.endContainer,p=l.getRangeFormatElement(r),b=l.getRangeFormatElement(h),v=l.isCell(p),m=l.isCell(b),y=o.commonAncestorContainer;if((v&&!p.previousElementSibling&&!p.parentElement.previousElementSibling||m&&!b.nextElementSibling&&!b.parentElement.nextElementSibling)&&p!==b)if(!v)l.removeItem(l.getParentElement(b,function(S){return y===S.parentNode}));else if(!m)l.removeItem(l.getParentElement(p,function(S){return y===S.parentNode}));else return l.removeItem(l.getParentElement(p,function(S){return y===S.parentNode})),d.nativeFocus(),!0;const x=r.nodeType===1?l.getParentElement(r,".se-component"):null,_=h.nodeType===1?l.getParentElement(h,".se-component"):null;return x&&l.removeItem(x),_&&l.removeItem(_),!1},onPaste_wysiwyg:function(o){const r=l.isIE?u.clipboardData:o.clipboardData;return r?g._dataTransferAction("paste",o,r):!0},_setClipboardComponent:function(o,r,h){o.preventDefault(),o.stopPropagation(),h.setData("text/html",r.component.outerHTML)},onCopy_wysiwyg:function(o){const r=l.isIE?u.clipboardData:o.clipboardData;if(typeof w.onCopy=="function"&&w.onCopy(o,r,d)===!1)return o.preventDefault(),o.stopPropagation(),!1;const h=d.currentFileComponentInfo;h&&!l.isIE&&(g._setClipboardComponent(o,h,r),l.addClass(h.component,"se-component-copy"),u.setTimeout(function(){l.removeClass(h.component,"se-component-copy")},150))},onSave_wysiwyg:function(o){if(typeof w.onSave=="function"){w.onSave(o,d);return}},onCut_wysiwyg:function(o){const r=l.isIE?u.clipboardData:o.clipboardData;if(typeof w.onCut=="function"&&w.onCut(o,r,d)===!1)return o.preventDefault(),o.stopPropagation(),!1;const h=d.currentFileComponentInfo;h&&!l.isIE&&(g._setClipboardComponent(o,h,r),l.removeItem(h.component),d.controllersOff()),u.setTimeout(function(){d.history.push(!1)})},onDrop_wysiwyg:function(o){if(d.isReadOnly||l.isIE)return o.preventDefault(),o.stopPropagation(),!1;const r=o.dataTransfer;return r?(g._setDropLocationSelection(o),d.removeNode(),document.body.contains(d.currentControllerTarget)||d.controllersOff(),g._dataTransferAction("drop",o,r)):!0},_setDropLocationSelection:function(o){const r={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let h=null;if(o.rangeParent?(r.startContainer=o.rangeParent,r.startOffset=o.rangeOffset,r.endContainer=o.rangeParent,r.endOffset=o.rangeOffset):d._wd.caretRangeFromPoint?h=d._wd.caretRangeFromPoint(o.clientX,o.clientY):h=d.getRange(),h&&(r.startContainer=h.startContainer,r.startOffset=h.startOffset,r.endContainer=h.endContainer,r.endOffset=h.endOffset),r.startContainer===r.endContainer){const p=l.getParentElement(r.startContainer,l.isComponent);p&&(r.startContainer=p,r.startOffset=0,r.endContainer=p,r.endOffset=0)}d.setRange(r.startContainer,r.startOffset,r.endContainer,r.endOffset)},_dataTransferAction:function(o,r,h){let p,b;if(l.isIE){p=h.getData("Text");const v=d.getRange(),m=l.createElement("DIV"),y={sc:v.startContainer,so:v.startOffset,ec:v.endContainer,eo:v.endOffset};return m.setAttribute("contenteditable",!0),m.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",t.element.relative.appendChild(m),m.focus(),u.setTimeout(function(){b=m.innerHTML,l.removeItem(m),d.setRange(y.sc,y.so,y.ec,y.eo),g._setClipboardData(o,r,p,b,h)}),!0}else if(p=h.getData("text/plain"),b=h.getData("text/html"),g._setClipboardData(o,r,p,b,h)===!1)return r.preventDefault(),r.stopPropagation(),!1},_setClipboardData:function(o,r,h,p,b){const v=/class=["']*Mso(Normal|List)/i.test(p)||/content=["']*Word.Document/i.test(p)||/content=["']*OneNote.File/i.test(p)||/content=["']*Excel.Sheet/i.test(p);!p?p=l._HTMLConvertor(h).replace(/\n/g,"<br>"):(p=p.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),v&&(p=p.replace(/\n/g," "),h=h.replace(/\n/g," ")),p=d.cleanHTML(p,d.pasteTagsWhitelistRegExp,d.pasteTagsBlacklistRegExp));const y=d._charCount(d._charTypeHTML?p:h);if(o==="paste"&&typeof w.onPaste=="function"){const _=w.onPaste(r,p,y,d);if(_===!1)return!1;if(typeof _=="string"){if(!_)return!1;p=_}}if(o==="drop"&&typeof w.onDrop=="function"){const _=w.onDrop(r,p,y,d);if(_===!1)return!1;if(typeof _=="string"){if(!_)return!1;p=_}}const x=b.files;if(x.length>0&&!v)return/^image/.test(x[0].type)&&d.plugins.image&&w.insertImage(x),!1;if(!y)return!1;if(p)return w.insertHTML(p,!0,!1),!1},onMouseMove_wysiwyg:function(o){if(d.isDisabled||d.isReadOnly)return!1;const r=l.getParentElement(o.target,l.isComponent),h=d._lineBreaker.style;if(r&&!d.currentControllerName){const p=t.element;let b=0,v=p.wysiwyg;do b+=v.scrollTop,v=v.parentElement;while(v&&!/^(BODY|HTML)$/i.test(v.nodeName));const m=p.wysiwyg.scrollTop,y=g._getEditorOffsets(null),x=l.getOffset(r,p.wysiwygFrame).top+m,_=o.pageY+b+(s.iframe&&!s.toolbarContainer?p.toolbar.offsetHeight:0),S=x+(s.iframe?b:y.top),B=l.isListCell(r.parentNode);let T="",N="";if((B?!r.previousSibling:!l.isFormatElement(r.previousElementSibling))&&_<S+20)N=x,T="t";else if((B?!r.nextSibling:!l.isFormatElement(r.nextElementSibling))&&_>S+r.offsetHeight-20)N=x+r.offsetHeight,T="b";else{h.display="none";return}d._variable._lineBreakComp=r,d._variable._lineBreakDir=T,h.top=N-m+"px",d._lineBreakerButton.style.left=l.getOffset(r).left+r.offsetWidth/2-15+"px",h.display="block"}else h.display!=="none"&&(h.display="none")},_enterPrevent:function(o){o.preventDefault(),l.isMobile&&d.__focusTemp.focus()},_onMouseDown_lineBreak:function(o){o.preventDefault()},_onLineBreak:function(o){o.preventDefault();const r=d._variable._lineBreakComp,h=this?this:d._variable._lineBreakDir,p=l.isListCell(r.parentNode),b=l.createElement(p?"BR":l.isCell(r.parentNode)?"DIV":s.defaultTag);if(p||(b.innerHTML="<br>"),d._charTypeHTML&&!d.checkCharCount(b.outerHTML,"byte-html"))return;r.parentNode.insertBefore(b,h==="t"?r:r.nextSibling),d._lineBreaker.style.display="none",d._variable._lineBreakComp=null;const v=p?b:b.firstChild;d.setRange(v,1,v,1),d.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const o=s.iframe?d._ww:t.element.wysiwyg;l.isResizeObserverSupported&&(this._resizeObserver=new u.ResizeObserver(function(r){d.__callResizeFunction(-1,r[0])})),t.element.toolbar.addEventListener("mousedown",g._buttonsEventHandler,!1),t.element._menuTray.addEventListener("mousedown",g._buttonsEventHandler,!1),t.element.toolbar.addEventListener("click",g.onClick_toolbar,!1),o.addEventListener("mousedown",g.onMouseDown_wysiwyg,!1),o.addEventListener("click",g.onClick_wysiwyg,!1),o.addEventListener(l.isIE?"textinput":"input",g.onInput_wysiwyg,!1),o.addEventListener("keydown",g.onKeyDown_wysiwyg,!1),o.addEventListener("keyup",g.onKeyUp_wysiwyg,!1),o.addEventListener("paste",g.onPaste_wysiwyg,!1),o.addEventListener("copy",g.onCopy_wysiwyg,!1),o.addEventListener("cut",g.onCut_wysiwyg,!1),o.addEventListener("drop",g.onDrop_wysiwyg,!1),o.addEventListener("scroll",g.onScroll_wysiwyg,!1),o.addEventListener("focus",g.onFocus_wysiwyg,!1),o.addEventListener("blur",g.onBlur_wysiwyg,!1),g._lineBreakerBind={a:g._onLineBreak.bind(""),t:g._onLineBreak.bind("t"),b:g._onLineBreak.bind("b")},o.addEventListener("mousemove",g.onMouseMove_wysiwyg,!1),d._lineBreakerButton.addEventListener("mousedown",g._onMouseDown_lineBreak,!1),d._lineBreakerButton.addEventListener("click",g._lineBreakerBind.a,!1),t.element.lineBreaker_t.addEventListener("mousedown",g._lineBreakerBind.t,!1),t.element.lineBreaker_b.addEventListener("mousedown",g._lineBreakerBind.b,!1),o.addEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),o.addEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.addEventListener("keydown",g._codeViewAutoHeight,!1),t.element.code.addEventListener("keyup",g._codeViewAutoHeight,!1),t.element.code.addEventListener("paste",g._codeViewAutoHeight,!1)),t.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?t.element.resizingBar.addEventListener("mousedown",g.onMouseDown_resizingBar,!1):l.addClass(t.element.resizingBar,"se-resizing-none")),g._setResponsiveToolbar(),l.isResizeObserverSupported&&(this._toolbarObserver=new u.ResizeObserver(d.resetResponsiveToolbar)),u.addEventListener("resize",g.onResize_window,!1),s.stickyToolbar>-1&&u.addEventListener("scroll",g.onScroll_window,!1)},_removeEvent:function(){const o=s.iframe?d._ww:t.element.wysiwyg;t.element.toolbar.removeEventListener("mousedown",g._buttonsEventHandler),t.element._menuTray.removeEventListener("mousedown",g._buttonsEventHandler),t.element.toolbar.removeEventListener("click",g.onClick_toolbar),o.removeEventListener("mousedown",g.onMouseDown_wysiwyg),o.removeEventListener("click",g.onClick_wysiwyg),o.removeEventListener(l.isIE?"textinput":"input",g.onInput_wysiwyg),o.removeEventListener("keydown",g.onKeyDown_wysiwyg),o.removeEventListener("keyup",g.onKeyUp_wysiwyg),o.removeEventListener("paste",g.onPaste_wysiwyg),o.removeEventListener("copy",g.onCopy_wysiwyg),o.removeEventListener("cut",g.onCut_wysiwyg),o.removeEventListener("drop",g.onDrop_wysiwyg),o.removeEventListener("scroll",g.onScroll_wysiwyg),o.removeEventListener("mousemove",g.onMouseMove_wysiwyg),d._lineBreakerButton.removeEventListener("mousedown",g._onMouseDown_lineBreak),d._lineBreakerButton.removeEventListener("click",g._lineBreakerBind.a),t.element.lineBreaker_t.removeEventListener("mousedown",g._lineBreakerBind.t),t.element.lineBreaker_b.removeEventListener("mousedown",g._lineBreakerBind.b),g._lineBreakerBind=null,o.removeEventListener("touchstart",g.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),o.removeEventListener("touchend",g.onClick_wysiwyg,{passive:!0,useCapture:!1}),o.removeEventListener("focus",g.onFocus_wysiwyg),o.removeEventListener("blur",g.onBlur_wysiwyg),t.element.code.removeEventListener("keydown",g._codeViewAutoHeight),t.element.code.removeEventListener("keyup",g._codeViewAutoHeight),t.element.code.removeEventListener("paste",g._codeViewAutoHeight),t.element.resizingBar&&t.element.resizingBar.removeEventListener("mousedown",g.onMouseDown_resizingBar),g._resizeObserver&&(g._resizeObserver.unobserve(t.element.wysiwygFrame),g._resizeObserver=null),g._toolbarObserver&&(g._toolbarObserver.unobserve(t.element._toolbarShadow),g._toolbarObserver=null),u.removeEventListener("resize",g.onResize_window),u.removeEventListener("scroll",g.onScroll_window)},_setResponsiveToolbar:function(){if(a.length===0){a=null;return}g._responsiveCurrentSize="default";const o=g._responsiveButtonSize=[],r=g._responsiveButtons={default:a[0]};for(let h=1,p=a.length,b,v;h<p;h++)v=a[h],b=v[0]*1,o.push(b),r[b]=v[1];o.sort(function(h,p){return h-p}).unshift("default")}},w={core:d,util:l,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(o){d.submenuOff(),d.containerOff(),d.moreLayerOff();const r=ms._createToolBar(c,o,d.plugins,s);a=r.responsiveButtons,g._setResponsiveToolbar(),t.element.toolbar.replaceChild(r._buttonTray,t.element._buttonTray);const h=bs(t.element.originElement,d._getConstructed(t.element),s);t.element=h.element,t.tool=h.tool,s.iframe&&(t.element.wysiwyg=d._wd.body),d._recoverButtonStates(),d._cachingButtons(),d.history._resetCachingButton(),d.effectNode=null,d.hasFocus&&g._applyTagEffects(),d.isReadOnly&&l.setDisabledButtons(!0,d.resizingDisabledButtons),typeof w.onSetToolbarButtons=="function"&&w.onSetToolbarButtons(r._buttonTray.querySelectorAll("button"),d)},setOptions:function(o){g._removeEvent(),d._resetComponents(),l.removeClass(d._styleCommandMap.showBlocks,"active"),l.removeClass(d._styleCommandMap.codeView,"active"),d._variable.isCodeView=!1,d._iframeAuto=null,d.plugins=o.plugins||d.plugins;const r=[s,o].reduce(function(v,m){for(let y in m)if(l.hasOwn(m,y))if(y==="plugins"&&m[y]&&v[y]){let x=v[y],_=m[y];x=x.length?x:u.Object.keys(x).map(function(S){return x[S]}),_=_.length?_:u.Object.keys(_).map(function(S){return _[S]}),v[y]=_.filter(function(S){return x.indexOf(S)===-1}).concat(x)}else v[y]=m[y];return v},{}),h=t.element,p=h.wysiwyg.innerHTML,b=ms._setOptions(r,t,s);b.callButtons&&(e=b.callButtons,d.initPlugins={}),b.plugins&&(d.plugins=i=b.plugins),h._menuTray.children.length===0&&(this._menuTray={}),a=b.toolbar.responsiveButtons,d.options=s=r,d.lang=n=s.lang,s.iframe&&h.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),d._setOptionsInit(h,p)}),h.editorArea.appendChild(h.wysiwygFrame),s.iframe||d._setOptionsInit(h,p)},setDefaultStyle:function(o){const r=s._editorStyles=l._setDefaultOptionStyle(s,o),h=t.element;h.topArea.style.cssText=r.top,h.code.style.cssText=s._editorStyles.frame,h.code.style.display="none",s.height==="auto"?h.code.style.overflow="hidden":h.code.style.overflow="",s.iframe?(h.wysiwygFrame.style.cssText=r.frame,h.wysiwyg.style.cssText=r.editor):h.wysiwygFrame.style.cssText=r.frame+r.editor},noticeOpen:function(o){d.notice.open.call(d,o)},noticeClose:function(){d.notice.close.call(d)},save:function(){const o=d.getContents(!1);t.element.originElement.value=o,g.onSave_wysiwyg(o,d)},getContext:function(){return t},getContents:function(o){return d.getContents(o)},getText:function(){return t.element.wysiwyg.textContent},getCharCount:function(o){return o=typeof o=="string"?o:s.charCounterType,d.getCharLength(d._charTypeHTML?t.element.wysiwyg.innerHTML:t.element.wysiwyg.textContent,o)},getImagesInfo:function(){return t.image?t.image._infoList:[]},getFilesInfo:function(o){return t[o]?t[o]._infoList:[]},insertImage:function(o){!d.plugins.image||!o||(d.initPlugins.image?d.plugins.image.submitAction.call(d,o):d.callPlugin("image",d.plugins.image.submitAction.bind(d,o),null),d.focus())},insertHTML:function(o,r,h,p){if(t.element.wysiwygFrame.contains(d.getSelection().focusNode)||d.focus(),typeof o=="string"){r||(o=d.cleanHTML(o,null,null));try{if(l.isListCell(l.getFormatElement(d.getSelectionNode(),null))){const N=c.createRange().createContextualFragment(o).childNodes;d._isFormatData(N)&&(o=d._convertListCell(N))}const v=c.createRange().createContextualFragment(o).childNodes;if(h){const T=d._charTypeHTML?"outerHTML":"textContent";let N="";for(let M=0,U=v.length;M<U;M++)N+=v[M][T];if(!d.checkCharCount(N,null))return}let m,y,x,_,S;for(;m=v[0];){if(_&&_.nodeType===3&&y&&y.nodeType===1&&l.isBreak(m)){_=m,l.removeItem(m);continue}x=d.insertNode(m,y,!1),y=x.container||x,S||(S=x),_=m}_.nodeType===3&&y.nodeType===1&&(y=_);const B=y.nodeType===3?x.endOffset||y.textContent.length:y.childNodes.length;p?d.setRange(S.container||S,S.startOffset||0,y,B):d.setRange(y,B,y,B)}catch(b){if(d.isDisabled||d.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+b),d.execCommand("insertHTML",!1,o)}}else if(l.isComponent(o))d.insertComponent(o,!1,h,!1);else{let b=null;(l.isFormatElement(o)||l.isMedia(o))&&(b=l.getFormatElement(d.getSelectionNode(),null)),d.insertNode(o,b,h)}d.effectNode=null,d.focus(),d.history.push(!1)},setContents:function(o){d.setContents(o)},appendContents:function(o){const r=d.convertContentsForEditor(o);if(d._variable.isCodeView)d._setCodeView(d._getCodeView()+`
`+d.convertHTMLForCodeView(r,!1));else{const h=l.createElement("DIV");h.innerHTML=r;const p=t.element.wysiwyg,b=h.children;for(let v=0,m=b.length;v<m;v++)b[v]&&p.appendChild(b[v])}d.history.push(!1)},readOnly:function(o){d.isReadOnly=o,l.setDisabledButtons(!!o,d.resizingDisabledButtons),o?(d.controllersOff(),d.submenuActiveButton&&d.submenuActiveButton.disabled&&d.submenuOff(),d._moreLayerActiveButton&&d._moreLayerActiveButton.disabled&&d.moreLayerOff(),d.containerActiveButton&&d.containerActiveButton.disabled&&d.containerOff(),d.modalForm&&d.plugins.dialog.close.call(d),t.element.code.setAttribute("readOnly","true"),l.addClass(t.element.wysiwygFrame,"se-read-only")):(t.element.code.removeAttribute("readOnly"),l.removeClass(t.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!o)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const o=t.element.topArea.style;o.display==="none"&&(o.display=s.display)},hide:function(){t.element.topArea.style.display="none"},destroy:function(){d.submenuOff(),d.containerOff(),d.controllersOff(),d.notice&&d.notice.close.call(d),d.modalForm&&d.plugins.dialog.close.call(d),d.history._destroy(),g._removeEvent(),l.removeItem(t.element.toolbar),l.removeItem(t.element.topArea);for(let o in d.functions)l.hasOwn(d,o)&&delete d.functions[o];for(let o in d)l.hasOwn(d,o)&&delete d[o];for(let o in g)l.hasOwn(g,o)&&delete g[o];for(let o in t)l.hasOwn(t,o)&&delete t[o];for(let o in e)l.hasOwn(e,o)&&delete e[o];for(let o in this)l.hasOwn(this,o)&&delete this[o]},toolbar:{disable:function(){d.submenuOff(),d.moreLayerOff(),d.containerOff(),t.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){t.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){d._isInline?g._showToolbarInline():(t.element.toolbar.style.display="",t.element._stickyDummy.style.display=""),g.onResize_window()},hide:function(){d._isInline?g._hideToolbar():(t.element.toolbar.style.display="none",t.element._stickyDummy.style.display="none"),g.onResize_window()}},wysiwyg:{disable:function(){d.controllersOff(),d.modalForm&&d.plugins.dialog.close.call(d),t.element.wysiwyg.setAttribute("contenteditable",!1),d.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):t.element.code.setAttribute("disabled","disabled")},enable:function(){t.element.wysiwyg.setAttribute("contenteditable",!0),d.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):t.element.code.removeAttribute("disabled")}}};d.functions=w,d.options=s;let E=t.element,C=E.originElement,L=E.topArea;return C.style.display="none",L.style.display="block",s.iframe&&E.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),d._editorInit(!1,s.value),s.value=null}),typeof C.nextElementSibling=="object"?C.parentNode.insertBefore(L,C.nextElementSibling):C.parentNode.appendChild(L),E.editorArea.appendChild(E.wysiwygFrame),E=C=L=null,s.iframe||(d._editorInit(!1,s.value),s.value=null),w}const Tr={init:function(t){return{create:(function(e,i){return this.create(e,i,t)}).bind(this)}},create:function(t,e,i){J._propertiesInit(),typeof e!="object"&&(e={}),i&&(e=[i,e].reduce(function(a,c){for(let u in c)if(J.hasOwn(c,u))if(u==="plugins"&&c[u]&&a[u]){let l=a[u],f=c[u];l=l.length?l:Object.keys(l).map(function(d){return l[d]}),f=f.length?f:Object.keys(f).map(function(d){return f[d]}),a[u]=f.filter(function(d){return l.indexOf(d)===-1}).concat(l)}else a[u]=c[u];return a},{}));const n=typeof t=="string"?document.getElementById(t):t;if(!n)throw Error(typeof t=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+t+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const s=ms.init(n,e);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return Er(bs(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,e,s._responsiveButtons)}},Lr={name:"blockquote",display:"command",add:function(t,e){const i=t.context;i.blockquote={targetButton:e,tag:t.util.createElement("BLOCKQUOTE")}},active:function(t){if(!t)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(t.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const t=this.util.getParentElement(this.getSelectionNode(),"blockquote");t?this.detachRangeFormatElement(t,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},kr={name:"align",display:"submenu",add:function(t,e){const i=t.icons,n=t.context;n.align={targetButton:e,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:t.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(t),a=n.align._itemMenu=s.querySelector("ul");a.addEventListener("click",this.pickup.bind(t)),n.align._alignList=a.querySelectorAll("li button"),t.initMenuTarget(this.name,e,s),s=null,a=null},setSubmenu:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV"),s=t.options.alignItems;let a="";for(let c=0,u,l;c<s.length;c++)u=s[c],l=e.toolbar["align"+u.charAt(0).toUpperCase()+u.slice(1)],a+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+u+'" title="'+l+'" aria-label="'+l+'"><span class="se-list-icon">'+i["align_"+u]+"</span>"+l+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+a+"</ul></div>",n},active:function(t){const e=this.context.align,i=e.targetButton,n=i.firstElementChild;if(!t)this.util.changeElement(n,e.icons[e.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(t)){const s=t.style.textAlign;if(s)return this.util.changeElement(n,e.icons[s]||e.icons[e.defaultDir]),i.setAttribute("data-focus",s),!0}return!1},on:function(){const t=this.context.align,e=t._alignList,i=t.targetButton.getAttribute("data-focus")||t.defaultDir;if(i!==t.currentAlign){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentAlign=i}},exchangeDir:function(){const t=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===t)return;this.context.align.defaultDir=t;let e=this.context.align._itemMenu,i=e.querySelector('[data-value="left"]'),n=e.querySelector('[data-value="right"]');if(i&&n){const s=i.parentElement,a=n.parentElement;s.appendChild(n),a.appendChild(i)}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!i&&!/UL/i.test(e.tagName);)i=e.getAttribute("data-value"),e=e.parentNode;if(!i)return;const n=this.context.align.defaultDir,s=this.getSelectedElements();for(let a=0,c=s.length;a<c;a++)this.util.setStyle(s[a],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},Nr={name:"font",display:"submenu",add:function(t,e){const i=t.context;i.font={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(t);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(t)),i.font._fontList=n.querySelectorAll("ul li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,s,a,c,u=t.options.font,l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+e.toolbar.default+'" aria-label="'+e.toolbar.default+'">('+e.toolbar.default+")</button></li>";for(a=0,c=u.length;a<c;a++)n=u[a],s=n.split(",")[0],l+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+n+';">'+s+"</button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(t){const e=this.context.font.targetText,i=this.context.font.targetTooltip;if(t){if(t.style&&t.style.fontFamily.length>0){const n=t.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(e,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(e,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){const t=this.context.font,e=t._fontList,i=t.targetText.textContent;if(i!==t.currentFont){for(let n=0,s=e.length;n<s;n++)i===(e[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentFont=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();let e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");/[\s\d\W]/.test(e)&&!/^['"].*['"]$/.test(e)&&(e='"'+e+'"'),i.style.fontFamily=e,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},Dr={name:"fontSize",display:"submenu",add:function(t,e){const i=t.context;i.fontSize={targetText:e.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.fontSize._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const s=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let c=0,u=e.fontSizeUnit,l=s.length,f;c<l;c++)f=s[c],a+='<li><button type="button" class="se-btn-list" data-value="'+f+u+'" title="'+f+u+'" aria-label="'+f+u+'" style="font-size:'+f+u+';">'+f+"</button></li>";return a+="</ul></div>",n.innerHTML=a,n},active:function(t){if(!t)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(t.style&&t.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,t.style.fontSize)),!0;return!1},on:function(){const t=this.context.fontSize,e=t._sizeList,i=t.targetText.textContent;if(i!==t.currentSize){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentSize=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");i.style.fontSize=e,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},Ao={name:"colorPicker",add:function(t){const e=t.context;e.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},e.colorPicker.colorListHTML=this.createColorList(t,this._makeColorList)},createColorList:function(t,e){const i=t.options,n=t.lang,s=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList;let a=[],c='<div class="se-list-inner">';for(let u=0,l=s.length,f;u<l;u++)f=s[u],f&&(typeof f=="string"&&(a.push(f),u<l-1)||(a.length>0&&(c+='<div class="se-selector-color">'+e(a)+"</div>",a=[]),typeof f=="object"&&(c+='<div class="se-selector-color">'+e(f)+"</div>")));return c+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+t.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+t.icons.erase+"</button></form></div>",c},_makeColorList:function(t){let e="";e+='<ul class="se-color-pallet">';for(let i=0,n=t.length,s;i<n;i++)s=t[i],typeof s=="string"&&(e+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return e+="</ul>",e},init:function(t,e){const i=this.plugins.colorPicker;let n=e||i.getColorInNode.call(this,t)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const s=this.context.colorPicker._colorList;if(s)for(let a=0,c=s.length;a<c;a++)n.toLowerCase()===s[a].getAttribute("data-value").toLowerCase()?this.util.addClass(s[a],"active"):this.util.removeClass(s[a],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(t){this.context.colorPicker._currentColor=t,this.context.colorPicker._colorInput.style.borderColor=t},setInputText:function(t){t=/^#/.test(t)?t:"#"+t,this.context.colorPicker._colorInput.value=t,this.plugins.colorPicker.setCurrentColor.call(this,t)},getColorInNode:function(t){let e="";const i=this.context.colorPicker._styleProperty;for(;t&&!this.util.isWysiwygDiv(t)&&e.length===0;)t.nodeType===1&&t.style[i]&&(e=t.style[i]),t=t.parentNode;return e},isHexColor:function(t){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(t)},rgb2hex:function(t){const e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},colorName2hex:function(t){if(/^#/.test(t))return t;var e=this.util.createElement("div");e.style.display="none",e.style.color=t;var i=this._w.getComputedStyle(this._d.body.appendChild(e)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(e),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}},Ar={name:"fontColor",display:"submenu",add:function(t,e){t.addModule([Ao]);const i=t.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.fontColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.fontColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.color;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",t._styleProperty="color",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.fontColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.color=t,this.nodeChange(e,["color"],null,null),this.submenuOff()}},Br={name:"hiliteColor",display:"submenu",add:function(t,e){t.addModule([Ao]);const i=t.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.hiliteColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.hiliteColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.backgroundColor;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",t._styleProperty="backgroundColor",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.backgroundColor=t,this.nodeChange(e,["background-color"],null,null),this.submenuOff()}},Mr={name:"horizontalRule",display:"submenu",add:function(t,e){t.context.horizontalRule={currentHR:null};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(t)),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.hrItems||[{name:e.toolbar.hr_solid,class:"__se__solid"},{name:e.toolbar.hr_dashed,class:"__se__dashed"},{name:e.toolbar.hr_dotted,class:"__se__dotted"}];let s="";for(let a=0,c=n.length;a<c;a++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[a].class+'" title="'+n[a].name+'" aria-label="'+n[a].name+'"><hr'+(n[a].class?' class="'+n[a].class+'"':"")+(n[a].style?' style="'+n[a].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(t){if(!t)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(t.nodeName))return this.context.horizontalRule.currentHR=t,this.util.hasClass(t,"on")||(this.util.addClass(t,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,t,"on"))),!0;return!1},appendHr:function(t){return this.focus(),this.insertComponent(t.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=e.getAttribute("data-command");for(;!i&&!/UL/i.test(e.tagName);)e=e.parentNode,i=e.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,e.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},Or={name:"list",display:"submenu",add:function(t,e){const i=t.context;i.list={targetButton:e,_list:null,currentList:"",icons:{bullets:t.icons.list_bullets,number:t.icons.list_number}};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.list._list=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'" aria-label="'+e.toolbar.orderList+'">'+t.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'" aria-label="'+e.toolbar.unorderList+'">'+t.icons.list_bullets+"</button></li></ul></div>",i},active:function(t){const e=this.context.list.targetButton,i=e.firstElementChild,n=this.util;if(n.isList(t)){const s=t.nodeName;return e.setAttribute("data-focus",s),n.addClass(e,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else e.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(e,"active");return!1},on:function(){const t=this.context.list,e=t._list,i=t.targetButton.getAttribute("data-focus")||"";if(i!==t.currentList){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-command")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentList=i}},editList:function(t,e,i){let n=this.getRange(),s=e||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(e||(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;const a=this.util;a.sortByDepth(s,!0);let c=s[0],u=s[s.length-1],l=(a.isListCell(c)||a.isComponent(c))&&!c.previousElementSibling?c.parentNode.previousElementSibling:c.previousElementSibling,f=(a.isListCell(u)||a.isComponent(u))&&!u.nextElementSibling?u.parentNode.nextElementSibling:u.nextElementSibling;const d=n.collapsed,g={sc:n.startContainer,so:n.startContainer===n.endContainer&&a.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let w=null,E=!0;for(let C=0,L=s.length;C<L;C++)if(!a.isList(a.getRangeFormatElement(s[C],(function(o){return this.getRangeFormatElement(o)&&o!==s[C]}).bind(a)))){E=!1;break}if(E&&(!l||c.tagName!==l.tagName||t!==l.tagName.toUpperCase())&&(!f||u.tagName!==f.tagName||t!==f.tagName.toUpperCase())){if(i){for(let p=0,b=s.length;p<b;p++)for(let v=p-1;v>=0;v--)if(s[v].contains(s[p])){s.splice(p,1),p--,b--;break}}const C=a.getRangeFormatElement(c),L=C&&C.tagName===t;let o,r;const h=(function(p){return!this.isComponent(p)}).bind(a);L||(r=a.createElement(t));for(let p=0,b=s.length,v,m;p<b;p++)m=a.getRangeFormatElement(s[p],h),!(!m||!a.isList(m))&&(v?v!==m?(i&&a.isListCell(m.parentNode)?this.plugins.list._detachNested.call(this,o.f):w=this.detachRangeFormatElement(o.f[0].parentNode,o.f,r,!1,!0),m=s[p].parentNode,L||(r=a.createElement(t)),v=m,o={r:v,f:[a.getParentElement(s[p],"LI")]}):o.f.push(a.getParentElement(s[p],"LI")):(v=m,o={r:v,f:[a.getParentElement(s[p],"LI")]}),p===b-1&&(i&&a.isListCell(m.parentNode)?this.plugins.list._detachNested.call(this,o.f):w=this.detachRangeFormatElement(o.f[0].parentNode,o.f,r,!1,!0)))}else{const C=l&&l.parentNode,L=f&&f.parentNode;l=C&&!a.isWysiwygDiv(C)&&C.nodeName===t?C:l,f=L&&!a.isWysiwygDiv(L)&&L.nodeName===t?L:f;const o=l&&l.tagName===t,r=f&&f.tagName===t;let h=o?l:a.createElement(t),p=null,b=null,v=null;const m=(function(y){return!this.isComponent(y)&&!this.isList(y)}).bind(a);for(let y=0,x=s.length,_,S,B,T,N,M,U,W,R;y<x;y++){if(S=s[y],S.childNodes.length===0&&!a._isIgnoreNodeChange(S)){a.removeItem(S);continue}if(T=s[y+1],N=S.parentNode,M=T?T.parentNode:null,B=a.isListCell(S),R=a.isRangeFormatElement(N)?N:null,U=B&&!a.isWysiwygDiv(N)?N.parentNode:N,W=B&&!a.isWysiwygDiv(N)?!T||a.isListCell(U)?N:N.nextSibling:S.nextSibling,_=a.createElement("LI"),a.copyFormatAttributes(_,S),y===0&&g.sc===S&&(g.sc=_),y===x-1&&g.ec===S&&(g.ec=_),a.isComponent(S)){const H=/^HR$/i.test(S.nodeName);H||(_.innerHTML="<br>"),_.innerHTML+=S.outerHTML,H&&(_.innerHTML+="<br>")}else{const H=S.childNodes;for(;H[0];)_.appendChild(H[0])}h.appendChild(_),(!T||U!==M||a.isRangeFormatElement(W))&&(p||(p=h),(!o||!T||U!==M)&&!(T&&a.isList(M)&&M===N)&&h.parentNode!==U&&U.insertBefore(h,W)),a.removeItem(S),o&&b===null&&(b=h.children.length-1),T&&(a.getRangeFormatElement(M,m)!==a.getRangeFormatElement(N,m)||a.isList(M)&&a.isList(N)&&a.getElementDepth(M)!==a.getElementDepth(N))&&(h=a.createElement(t)),R&&R.children.length===0&&a.removeItem(R)}b&&(p=p.children[b]),r&&(v=h.children.length-1,h.innerHTML+=f.innerHTML,h.children[v],a.removeItem(f))}return this.effectNode=null,d&&w||g},_detachNested:function(t){const e=t[0],i=t[t.length-1],n=i.nextElementSibling,s=e.parentNode,a=s.parentNode.nextElementSibling,c=s.parentNode.parentNode;for(let l=0,f=t.length;l<f;l++)c.insertBefore(t[l],a);if(n&&s.children.length>0){const l=s.cloneNode(!1),f=s.childNodes,d=this.util.getPositionIndex(n);for(;f[d];)l.appendChild(f[d]);i.appendChild(l)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(c);const u=this.util.getEdgeChildNodes(e,i);return{cc:e.parentNode,sc:u.sc,ec:u.ec}},editInsideList:function(t,e){e=e||this.getSelectedElements().filter((function(c){return this.isListCell(c)}).bind(this.util));const i=e.length;if(i===0||!t&&!this.util.isListCell(e[0].previousElementSibling)&&!this.util.isListCell(e[i-1].nextElementSibling))return{sc:e[0],so:0,ec:e[i-1],eo:1};let n=e[0].parentNode,s=e[i-1],a=null;if(t){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)e.push(s),s=s.nextElementSibling;a=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),e,!0)}else{let c=this.util.createElement(n.nodeName),u=e[0].previousElementSibling,l=s.nextElementSibling;const f={s:null,e:null,sl:n,el:n};for(let w=0,E=i,C;w<E;w++)C=e[w],C.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,c,u,l,f),n=C.parentNode,c=this.util.createElement(n.nodeName)),u=C.previousElementSibling,l=C.nextElementSibling,c.appendChild(C);this.plugins.list._insiedList.call(this,n,c,u,l,f);const d=this.util.getNodeFromPath(f.s,f.sl),g=this.util.getNodeFromPath(f.e,f.el);a={sc:d,so:0,ec:g,eo:g.textContent.length}}return a},_insiedList:function(t,e,i,n,s){let a=!1;if(i&&e.tagName===i.tagName){const c=e.children;for(;c[0];)i.appendChild(c[0]);e=i,a=!0}if(n&&e.tagName===n.tagName){const c=n.children;for(;c[0];)e.appendChild(c[0]);const u=n.nextElementSibling;n.parentNode.removeChild(n),n=u}if(!a){this.util.isListCell(i)&&(t=i,n=null),t.insertBefore(e,n),s.s||(s.s=this.util.getNodePath(e.firstElementChild.firstChild,t,null),s.sl=t);const c=t.contains(s.sl)?this.util.getNodePath(s.sl,t):null;s.e=this.util.getNodePath(e.lastElementChild.firstChild,t,null),s.el=t,this.util.mergeSameTags(t,[s.s,s.e,c],!1),this.util.mergeNestedTags(t),c&&(s.sl=this.util.getNodeFromPath(c,t))}return e},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i="";for(;!i&&!/^UL$/i.test(e.tagName);)i=e.getAttribute("data-command"),e=e.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},zr={name:"table",display:"submenu",add:function(t,e){const i=t.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:t.options.rtl,cellControllerTop:t.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:t.lang.controller.maxSize,minText:t.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:t.icons.expansion,reduction:t.icons.reduction}},s=this.setSubmenu(t),a=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),t.options.rtl&&(n.tableHighlight.style.left="167px");let c=this.setController_table(t);n.tableController=c,n.resizeButton=c.querySelector("._se_table_resize"),n.resizeText=c.querySelector("._se_table_resize > span > span"),n.columnFixedButton=c.querySelector("._se_table_fixed_column"),n.headerButton=c.querySelector("._se_table_header");let u=this.setController_tableEditor(t,n.cellControllerTop);n.resizeDiv=u,n.splitMenu=u.querySelector(".se-btn-group-sub"),n.mergeButton=u.querySelector("._se_table_merge_button"),n.splitButton=u.querySelector("._se_table_split_button"),n.insertRowAboveButton=u.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=u.querySelector("._se_table_insert_row_b"),a.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(t,n)),a.addEventListener("click",this.appendTable.bind(t)),u.addEventListener("click",this.onClick_tableController.bind(t)),c.addEventListener("click",this.onClick_tableController.bind(t)),t.initMenuTarget(this.name,e,s),i.element.relative.appendChild(u),i.element.relative.appendChild(c),s=null,a=null,u=null,c=null,n=null},setSubmenu:function(t){const e=t.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(t,e){const i=t.lang,n=t.icons,s=t.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){const t=this.util.createElement("TABLE"),e=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+e.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",t.innerHTML=s,this.insertComponent(t,!1,!0,!1)){const c=t.querySelector("td div");this.setRange(c,0,c,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(t,e,i){if(t=t.toLowerCase(),i){const n=this.util.createElement(t);return n.innerHTML="<div><br></div>",n}else{let n="";for(;e>0;)n+="<"+t+"><div><br></div></"+t+">",e--;return n}},onMouseMove_tablePicker:function(t,e){e.stopPropagation();let i=this._w.Math.ceil(e.offsetX/18),n=this._w.Math.ceil(e.offsetY/18);i=i<1?1:i,n=n<1?1:n,t._rtl&&(t.tableHighlight.style.left=i*18-13+"px",i=11-i),t.tableHighlight.style.width=i+"em",t.tableHighlight.style.height=n+"em",this.util.changeTxt(t.tableDisplay,i+" x "+n),t._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const t=this.context.table.tableHighlight.style,e=this.context.table.tableUnHighlight.style;t.width="1em",t.height="1em",e.width="10em",e.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const t=this.context.table,e=this.plugins.table;if(e._removeEvents.call(this),e._selectedTable){const i=e._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,s=i.length;n<s;n++)this.util.removeClass(i[n],"se-table-selected-cell")}e._toggleEditor.call(this,!0),t._element=null,t._tdElement=null,t._trElement=null,t._trElements=null,t._tableXY=[],t._maxWidth=!0,t._fixedColumn=!1,t._physical_cellCnt=0,t._logical_cellCnt=0,t._rowCnt=0,t._rowIndex=0,t._physical_cellIndex=0,t._logical_cellIndex=0,t._current_colSpan=0,t._current_rowSpan=0,e._shift=!1,e._selectedCells=null,e._selectedTable=null,e._ref=null,e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null},call_controller_tableEdit:function(t){const e=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!e._selectedCell){this.controllersOff(),this.util.removeClass(t,"se-table-selected-cell");return}const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",e.setTableStyle.call(this,i._maxWidth?"width|column":"width"),e.setPositionControllerTop.call(this,n),e.setPositionControllerDiv.call(this,t,e._shift),e._shift||this.controllersOn(i.resizeDiv,i.tableController,e.init.bind(this),t,"table")},setPositionControllerTop:function(t){this.setControllerPosition(this.context.table.tableController,t,"top",{left:0,top:0})},setPositionControllerDiv:function(t,e){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,t,e),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,t,"bottom",{left:0,top:0})},setCellInfo:function(t,e){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),e||i._physical_cellCnt===0){i._tdElement!==t&&(i._tdElement=t,i._trElement=t.parentNode);const s=i._trElements=n.rows,a=t.cellIndex;let c=0;for(let d=0,g=s[0].cells,w=s[0].cells.length;d<w;d++)c+=g[d].colSpan;const u=i._rowIndex=i._trElement.rowIndex;i._rowCnt=s.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=c,i._physical_cellIndex=a,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[a].rowSpan-1;let l=[],f=[];for(let d=0,g,w;d<=u;d++){g=s[d].cells,w=0;for(let E=0,C=g.length,L,o,r,h;E<C;E++){if(L=g[E],o=L.colSpan-1,r=L.rowSpan-1,h=E+w,f.length>0)for(let p=0,b;p<f.length;p++)b=f[p],!(b.row>d)&&(h>=b.index?(w+=b.cs,h+=b.cs,b.rs-=1,b.row=d+1,b.rs<1&&(f.splice(p,1),p--)):E===C-1&&(b.rs-=1,b.row=d+1,b.rs<1&&(f.splice(p,1),p--)));if(d===u&&E===a){i._logical_cellIndex=h;break}r>0&&l.push({index:h,cs:o+1,rs:r,row:-1}),w+=o}f=f.concat(l).sort(function(E,C){return E.index-C.index}),l=[]}l=null,f=null}},editTable:function(t,e){const i=this.plugins.table,n=this.context.table,s=n._element,a=t==="row";if(a){const c=n._trElement.parentNode;if(/^THEAD$/i.test(c.nodeName)){if(e==="up")return;if(!c.nextElementSibling||!/^TBODY$/i.test(c.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){const c=n._tdElement,u=i._selectedCells;if(a)if(e)i.setCellInfo.call(this,e==="up"?u[0]:u[u.length-1],!0),i.editRow.call(this,e,c);else{let l=u[0].parentNode;const f=[u[0]];for(let d=1,g=u.length,w;d<g;d++)w=u[d],l!==w.parentNode&&(f.push(w),l=w.parentNode);for(let d=0,g=f.length;d<g;d++)i.setCellInfo.call(this,f[d],!0),i.editRow.call(this,e)}else{const l=u[0].parentNode;if(e){let f=null;for(let d=0,g=u.length-1;d<g;d++)if(l!==u[d+1].parentNode){f=u[d];break}i.setCellInfo.call(this,e==="left"?u[0]:f||u[0],!0),i.editCell.call(this,e,c)}else{const f=[u[0]];for(let d=1,g=u.length,w;d<g&&(w=u[d],l===w.parentNode);d++)f.push(w);for(let d=0,g=f.length;d<g;d++)i.setCellInfo.call(this,f[d],!0),i.editCell.call(this,e)}}e||i.init.call(this)}else i[a?"editRow":"editCell"].call(this,e);if(!e){const c=s.children;for(let u=0;u<c.length;u++)c[u].children.length===0&&(this.util.removeItem(c[u]),u--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(t,e){const i=this.context.table,n=!t,s=t==="up",a=i._rowIndex,c=n||s?a:a+i._current_rowSpan+1,u=n?-1:1,l=i._trElements;let f=i._logical_cellCnt;for(let d=0,g=a+(n?-1:0),w;d<=g;d++){if(w=l[d].cells,w.length===0)return;for(let E=0,C=w.length,L,o;E<C;E++)L=w[E].rowSpan,o=w[E].colSpan,!(L<2&&o<2)&&L+d>c&&c>d&&(w[E].rowSpan=L+u,f-=o)}if(n){const d=l[a+1];if(d){const g=[];let w=l[a].cells,E=0;for(let C=0,L=w.length,o,r;C<L;C++)o=w[C],r=C+E,E+=o.colSpan-1,o.rowSpan>1&&(o.rowSpan-=1,g.push({cell:o.cloneNode(!1),index:r}));if(g.length>0){let C=g.shift();w=d.cells,E=0;for(let L=0,o=w.length,r,h;L<o&&(r=w[L],h=L+E,E+=r.colSpan-1,!(h>=C.index&&(L--,E--,E+=C.cell.colSpan-1,d.insertBefore(C.cell,r),C=g.shift(),!C)));L++);if(C){d.appendChild(C.cell);for(let L=0,o=g.length;L<o;L++)d.appendChild(g[L].cell)}}}i._element.deleteRow(c)}else{const d=i._element.insertRow(c);d.innerHTML=this.plugins.table.createCells.call(this,"td",f,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},editCell:function(t,e){const i=this.context.table,n=this.util,s=!t,a=t==="left",c=i._current_colSpan,u=s||a?i._logical_cellIndex:i._logical_cellIndex+c+1,l=i._trElements;let f=[],d=[],g=0;const w=[],E=[];for(let C=0,L=i._rowCnt,o,r,h,p,b,v;C<L;C++){o=l[C],r=u,b=!1,h=o.cells,v=0;for(let m=0,y,x=h.length,_,S,B;m<x&&(y=h[m],!!y);m++)if(_=y.rowSpan-1,S=y.colSpan-1,s){if(B=m+v,d.length>0){const T=!h[m+1];for(let N=0,M;N<d.length;N++)M=d[N],!(M.row>C)&&(B>=M.index?(v+=M.cs,B=m+v,M.rs-=1,M.row=C+1,M.rs<1&&(d.splice(N,1),N--)):T&&(M.rs-=1,M.row=C+1,M.rs<1&&(d.splice(N,1),N--)))}_>0&&f.push({rs:_,cs:S+1,index:B,row:-1}),B>=r&&B+S<=r+c?w.push(y):B<=r+c&&B+S>=r?y.colSpan-=n.getOverlapRangeAtIndex(u,u+c,B,B+S):_>0&&(B<r||B+S>r+c)&&E.push({cell:y,i:C,rs:C+_}),v+=S}else{if(m>=r)break;if(S>0){if(g<1&&S+m>=r){y.colSpan+=1,r=null,g=_+1;break}r-=S}if(!b){for(let T=0,N;T<d.length;T++)N=d[T],r-=N.cs,N.rs-=1,N.rs<1&&(d.splice(T,1),T--);b=!0}}if(d=d.concat(f).sort(function(m,y){return m.index-y.index}),f=[],!s){if(g>0){g-=1;continue}r!==null&&h.length>0&&(p=this.plugins.table.createCells.call(this,h[0].nodeName,0,!0),p=o.insertBefore(p,h[r]))}}if(s){let C,L;for(let o=0,r=w.length,h;o<r;o++)h=w[o].parentNode,n.removeItem(w[o]),h.cells.length===0&&(C||(C=n.getArrayIndex(l,h)),L=n.getArrayIndex(l,h),n.removeItem(h));for(let o=0,r=E.length,h;o<r;o++)h=E[o],h.cell.rowSpan=n.getOverlapRangeAtIndex(C,L,h.i,h.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(t){const e=this.util,i=t==="vertical",n=this.context.table,s=n._tdElement,a=n._trElements,c=n._trElement,u=n._logical_cellIndex,l=n._rowIndex,f=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){const d=s.colSpan;if(f.rowSpan=s.rowSpan,d>1)f.colSpan=this._w.Math.floor(d/2),s.colSpan=d-f.colSpan,c.insertBefore(f,s.nextElementSibling);else{let g=[],w=[];for(let E=0,C=n._rowCnt,L,o;E<C;E++){L=a[E].cells,o=0;for(let r=0,h=L.length,p,b,v,m;r<h;r++){if(p=L[r],b=p.colSpan-1,v=p.rowSpan-1,m=r+o,w.length>0)for(let y=0,x;y<w.length;y++)x=w[y],!(x.row>E)&&(m>=x.index?(o+=x.cs,m+=x.cs,x.rs-=1,x.row=E+1,x.rs<1&&(w.splice(y,1),y--)):r===h-1&&(x.rs-=1,x.row=E+1,x.rs<1&&(w.splice(y,1),y--)));if(m<=u&&v>0&&g.push({index:m,cs:b+1,rs:v,row:-1}),p!==s&&m<=u&&m+b>=u+d-1){p.colSpan+=1;break}if(m>u)break;o+=b}w=w.concat(g).sort(function(r,h){return r.index-h.index}),g=[]}c.insertBefore(f,s.nextElementSibling)}}else{const d=s.rowSpan;if(f.colSpan=s.colSpan,d>1){f.rowSpan=this._w.Math.floor(d/2);const g=d-f.rowSpan,w=[],E=e.getArrayIndex(a,c)+g;for(let r=0,h,p;r<E;r++){h=a[r].cells,p=0;for(let b=0,v=h.length,m,y,x;b<v&&(x=b+p,!(x>=u));b++)m=h[b],y=m.rowSpan-1,y>0&&y+r>=E&&x<u&&w.push({index:x,cs:m.colSpan}),p+=m.colSpan-1}const C=a[E],L=C.cells;let o=w.shift();for(let r=0,h=L.length,p=0,b,v,m,y;r<h;r++){if(m=r+p,b=L[r],v=b.colSpan-1,y=m+v+1,o&&y>=o.index&&(p+=o.cs,y+=o.cs,o=w.shift()),y>=u||r===h-1){C.insertBefore(f,b.nextElementSibling);break}p+=v}s.rowSpan=g}else{f.rowSpan=s.rowSpan;const g=e.createElement("TR");g.appendChild(f);for(let C=0,L;C<l;C++){if(L=a[C].cells,L.length===0)return;for(let o=0,r=L.length;o<r;o++)C+L[o].rowSpan-1>=l&&(L[o].rowSpan+=1)}const w=n._physical_cellIndex,E=c.cells;for(let C=0,L=E.length;C<L;C++)C!==w&&(E[C].rowSpan+=1);c.parentNode.insertBefore(g,c.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){const t=this.plugins.table,e=this.context.table,i=this.util,n=t._ref,s=t._selectedCells,a=s[0];let c=null,u=null,l=n.ce-n.cs+1,f=n.re-n.rs+1,d="",g=null;for(let w=1,E=s.length,C,L;w<E;w++){C=s[w],g!==C.parentNode&&(g=C.parentNode),L=C.children;for(let o=0,r=L.length;o<r;o++)i.isFormatElement(L[o])&&i.onlyZeroWidthSpace(L[o].textContent)&&i.removeItem(L[o]);d+=C.innerHTML,i.removeItem(C),g.cells.length===0&&(c?u=g:c=g,f-=1)}if(c){const w=e._trElements,E=i.getArrayIndex(w,c),C=i.getArrayIndex(w,u||c),L=[];for(let o=0,r;o<=C;o++){if(r=w[o].cells,r.length===0){L.push(w[o]);continue}for(let h=0,p=r.length,b,v;h<p;h++)b=r[h],v=b.rowSpan-1,v>0&&o+v>=E&&(b.rowSpan-=i.getOverlapRangeAtIndex(E,C,o,o+v))}for(let o=0,r=L.length;o<r;o++)i.removeItem(L[o])}a.innerHTML+=d,a.colSpan=l,a.rowSpan=f,this.controllersOff(),t.setActiveButton.call(this,!0,!1),t.call_controller_tableEdit.call(this,a),i.addClass(a,"se-table-selected-cell"),this.focusEdge(a)},toggleHeader:function(){const t=this.util,e=this.context.table.headerButton,i=t.hasClass(e,"active"),n=this.context.table._element;if(i)t.removeItem(n.querySelector("thead"));else{const s=t.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(s,n.firstElementChild)}t.toggleClass(e,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(t){const e=this.context.table,i=e._element;let n,s,a,c;t.indexOf("width")>-1&&(n=e.resizeButton.firstElementChild,s=e.resizeText,e._maxWidth?(a=e.icons.reduction,c=e.minText,e.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(a=e.icons.expansion,c=e.maxText,e.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,a),this.util.changeTxt(s,c)),t.indexOf("column")>-1&&(e._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(e.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(e.columnFixedButton,"active")))},setActiveButton:function(t,e){const i=this.context.table;/^TH$/i.test(t.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!e||t===e?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(t){this.context.element.wysiwyg.setAttribute("contenteditable",t),t?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(t){t.stopPropagation();const e=this.plugins.table;e._shift?e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null):(e._removeEvents.call(this),e._toggleEditor.call(this,!0)),!(!e._fixedCell||!e._selectedTable)&&(e.setActiveButton.call(this,e._fixedCell,e._selectedCell),e.call_controller_tableEdit.call(this,e._selectedCell||e._fixedCell),e._selectedCells=e._selectedTable.querySelectorAll(".se-table-selected-cell"),e._selectedCell&&e._fixedCell&&this.focusEdge(e._selectedCell),e._shift||(e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null))},_onCellMultiSelect:function(t){this._antiBlur=!0;const e=this.plugins.table,i=this.util.getParentElement(t.target,this.util.isCell);if(e._shift)i===e._fixedCell?e._toggleEditor.call(this,!0):e._toggleEditor.call(this,!1);else if(!e._ref){if(i===e._fixedCell)return;e._toggleEditor.call(this,!1)}!i||i===e._selectedCell||e._fixedCellName!==i.nodeName||e._selectedTable!==this.util.getParentElement(i,"TABLE")||(e._selectedCell=i,e._setMultiCells.call(this,e._fixedCell,i))},_setMultiCells:function(t,e){const i=this.plugins.table,n=i._selectedTable.rows,s=this.util,a=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let d=0,g=a.length;d<g;d++)s.removeClass(a[d],"se-table-selected-cell");if(t===e&&(s.addClass(t,"se-table-selected-cell"),!i._shift))return;let c=!0,u=[],l=[];const f=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let d=0,g=n.length,w,E;d<g;d++){w=n[d].cells,E=0;for(let C=0,L=w.length,o,r,h,p;C<L;C++){if(o=w[C],h=o.colSpan-1,p=o.rowSpan-1,r=C+E,u.length>0)for(let b=0,v;b<u.length;b++)v=u[b],!(v.row>d)&&(r>=v.index?(E+=v.cs,r+=v.cs,v.rs-=1,v.row=d+1,v.rs<1&&(u.splice(b,1),b--)):C===L-1&&(v.rs-=1,v.row=d+1,v.rs<1&&(u.splice(b,1),b--)));if(c){if((o===t||o===e)&&(f.cs=f.cs!==null&&f.cs<r?f.cs:r,f.ce=f.ce!==null&&f.ce>r+h?f.ce:r+h,f.rs=f.rs!==null&&f.rs<d?f.rs:d,f.re=f.re!==null&&f.re>d+p?f.re:d+p,f._i+=1),f._i===2){c=!1,u=[],l=[],d=-1;break}}else if(s.getOverlapRangeAtIndex(f.cs,f.ce,r,r+h)&&s.getOverlapRangeAtIndex(f.rs,f.re,d,d+p)){const b=f.cs<r?f.cs:r,v=f.ce>r+h?f.ce:r+h,m=f.rs<d?f.rs:d,y=f.re>d+p?f.re:d+p;if(f.cs!==b||f.ce!==v||f.rs!==m||f.re!==y){f.cs=b,f.ce=v,f.rs=m,f.re=y,d=-1,u=[],l=[];break}s.addClass(o,"se-table-selected-cell")}p>0&&l.push({index:r,cs:h+1,rs:p,row:-1}),E+=o.colSpan-1}u=u.concat(l).sort(function(C,L){return C.index-L.index}),l=[]}},_removeEvents:function(){const t=this.plugins.table;t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null),t._bindOnSelect&&(this._wd.removeEventListener("mousedown",t._bindOnSelect),this._wd.removeEventListener("mousemove",t._bindOnSelect),t._bindOnSelect=null),t._bindOffSelect&&(this._wd.removeEventListener("mouseup",t._bindOffSelect),t._bindOffSelect=null),t._bindOffShift&&(this._wd.removeEventListener("keyup",t._bindOffShift),t._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(t,e){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=e,i._fixedCell=t,i._fixedCellName=t.nodeName,i._selectedTable=this.util.getParentElement(t,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,a=n.length;s<a;s++)this.util.removeClass(n[s],"se-table-selected-cell");this.util.addClass(t,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),e?(i._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),t,"table"),i._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")?t.target:t.target.parentNode;if(e.getAttribute("disabled"))return;const i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),s=e.getAttribute("data-option"),a=this.plugins.table;if(typeof a._closeSplitMenu=="function"&&(a._closeSplitMenu(),i==="onsplit")||!i)return;t.preventDefault();const c=this.context.table;switch(i){case"insert":case"delete":a.editTable.call(this,n,s);break;case"header":a.toggleHeader.call(this);break;case"onsplit":a.openSplitMenu.call(this);break;case"split":a.splitCells.call(this,n);break;case"merge":a.mergeCells.call(this);break;case"resize":c._maxWidth=!c._maxWidth,a.setTableStyle.call(this,"width"),a.setPositionControllerTop.call(this,c._element),a.setPositionControllerDiv.call(this,c._tdElement,a._shift);break;case"layout":c._fixedColumn=!c._fixedColumn,a.setTableStyle.call(this,"column"),a.setPositionControllerTop.call(this,c._element),a.setPositionControllerDiv.call(this,c._tdElement,a._shift);break;case"remove":const u=c._element.parentNode;this.util.removeItem(c._element),this.controllersOff(),u!==this.context.element.wysiwyg&&this.util.removeItemAllParents(u,function(l){return l.childNodes.length===0},null),this.focus()}this.history.push(!1)}},Ir={name:"formatBlock",display:"submenu",add:function(t,e){const i=t.context;i.formatBlock={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.formatBlock._formatList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.lang.toolbar,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],a=!e.formats||e.formats.length===0?s:e.formats;let c='<div class="se-list-inner"><ul class="se-list-basic">';for(let u=0,l=a.length,f,d,g,w,E,C,L;u<l;u++)f=a[u],typeof f=="string"&&s.indexOf(f)>-1?(d=f.toLowerCase(),g=d==="blockquote"?"range":d==="pre"?"free":"replace",E=/^h/.test(d)?d.match(/\d+/)[0]:"",w=i["tag_"+(E?"h":d)]+E,L="",C=""):(d=f.tag.toLowerCase(),g=f.command,w=f.name||d,L=f.class,C=L?' class="'+L+'"':""),c+='<li><button type="button" class="se-btn-list" data-command="'+g+'" data-value="'+d+'" data-class="'+L+'" title="'+w+'" aria-label="'+w+'"><'+d+C+">"+w+"</"+d+"></button></li>";return c+="</ul></div>",n.innerHTML=c,n},active:function(t){let e=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(!t)this.util.changeTxt(i,e);else if(this.util.isFormatElement(t)){const s=this.context.formatBlock._formatList,a=t.nodeName.toLowerCase(),c=(t.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let u=0,l=s.length,f;u<l;u++)if(f=s[u],a===f.getAttribute("data-value")&&c===f.getAttribute("data-class")){e=f.title;break}return this.util.changeTxt(i,e),i.setAttribute("data-value",a),i.setAttribute("data-class",c),!0}return!1},on:function(){const t=this.context.formatBlock,e=t._formatList,i=t.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==t.currentFormat){for(let s=0,a=e.length,c;s<a;s++)c=e[s],n===c.getAttribute("data-value")+c.getAttribute("data-class")?this.util.addClass(c,"active"):this.util.removeClass(c,"active");t.currentFormat=n}},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null,s=null,a="";for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),a=e.getAttribute("data-class"),i){s=e.firstChild;break}e=e.parentNode}if(i){if(i==="range"){const c=s.cloneNode(!1);this.applyRangeFormatElement(c)}else{let c=this.getRange(),u=this.getSelectedElementsAndComponents(!1);if(u.length===0&&(c=this.getRange_addLine(c,null),u=this.getSelectedElementsAndComponents(!1),u.length===0))return;const l=c.startOffset,f=c.endOffset,d=this.util;let g=u[0],w=u[u.length-1];const E=d.getNodePath(c.startContainer,g,null,null),C=d.getNodePath(c.endContainer,w,null,null),L=this.detachList(u,!1);L.sc&&(g=L.sc),L.ec&&(w=L.ec),this.setRange(d.getNodeFromPath(E,g),l,d.getNodeFromPath(C,w),f);const o=this.getSelectedElementsAndComponents(!1);if(i==="free"){const r=o.length-1;let h=o[r].parentNode,p=s.cloneNode(!1);const b=p;for(let v=r,m,y,x,_,S,B,T=!0;v>=0;v--)if(m=o[v],m!==(o[v+1]?o[v+1].parentNode:null)){if(B=d.isComponent(m),y=B?"":m.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),x=d.getParentElement(m,function(N){return N.parentNode===h}),(h!==m.parentNode||B)&&(d.isFormatElement(h)?(h.parentNode.insertBefore(p,h.nextSibling),h=h.parentNode):(h.insertBefore(p,x?x.nextSibling:null),h=m.parentNode),_=p.nextSibling,_&&p.nodeName===_.nodeName&&d.isSameAttributes(p,_)&&(p.innerHTML+="<BR>"+_.innerHTML,d.removeItem(_)),p=s.cloneNode(!1),T=!0),S=p.innerHTML,p.innerHTML=(T||!y||!S||/<br>$/i.test(y)?y:y+"<BR>")+S,v===0){h.insertBefore(p,m),_=m.nextSibling,_&&p.nodeName===_.nodeName&&d.isSameAttributes(p,_)&&(p.innerHTML+="<BR>"+_.innerHTML,d.removeItem(_));const N=p.previousSibling;N&&p.nodeName===N.nodeName&&d.isSameAttributes(p,N)&&(N.innerHTML+="<BR>"+p.innerHTML,d.removeItem(p))}B||d.removeItem(m),y&&(T=!1)}this.setRange(b,0,b,0)}else{for(let r=0,h=o.length,p,b;r<h;r++)p=o[r],(p.nodeName.toLowerCase()!==n.toLowerCase()||(p.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==a)&&!d.isComponent(p)&&(b=s.cloneNode(!1),d.copyFormatAttributes(b,p),b.innerHTML=p.innerHTML,p.parentNode.replaceChild(b,p)),r===0&&(g=b||p),r===h-1&&(w=b||p),b=null;this.setRange(d.getNodeFromPath(E,g),l,d.getNodeFromPath(C,w),f)}this.history.push(!1)}this.submenuOff()}}},Hr={name:"lineHeight",display:"submenu",add:function(t,e){const i=t.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.lineHeight._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer";const s=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let a='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let c=0,u=s.length,l;c<u;c++)l=s[c],a+='<li><button type="button" class="se-btn-list" data-value="'+l.value+'" title="'+l.text+'" aria-label="'+l.text+'">'+l.text+"</button></li>";return a+="</ul></div>",n.innerHTML=a,n},on:function(){const t=this.context.lineHeight,e=t._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==t.currentSize){for(let s=0,a=e.length;s<a;s++)n===e[s].getAttribute("data-value")?this.util.addClass(e[s],"active"):this.util.removeClass(e[s],"active");t.currentSize=n}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,s=i.length;n<s;n++)i[n].style.lineHeight=e;this.submenuOff(),this.history.push(!1)}},Rr={name:"template",display:"submenu",add:function(t,e){const i=t.context;i.template={selectedIndex:-1};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickup.bind(t)),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options.templates;if(!e||e.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=t.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,a=e.length,c;s<a;s++)c=e[s],n+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+c.name+'" aria-label="'+c.name+'">'+c.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation(),this.context.template.selectedIndex=t.target.getAttribute("data-value")*1;const e=this.options.templates[this.context.template.selectedIndex];if(e.html)this.setContents(e.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Fr={name:"paragraphStyle",display:"submenu",add:function(t,e){const i=t.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.paragraphStyle._classList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=t.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},a=!e.paragraphStyles||e.paragraphStyles.length===0?["spaced","bordered","neon"]:e.paragraphStyles;let c='<div class="se-list-inner"><ul class="se-list-basic">';for(let u=0,l=a.length,f,d,g,w;u<l;u++){if(f=a[u],typeof f=="string"){const E=s[f.toLowerCase()];if(!E)continue;f=E}d=f.name,g=f.class?' class="'+f.class+'"':"",w=f._class,c+='<li><button type="button" class="se-btn-list'+(w?" "+w:"")+'" data-value="'+f.class+'" title="'+d+'" aria-label="'+d+'"><div'+g+">"+d+"</div></button></li>"}return c+="</ul></div>",i.innerHTML=c,i},on:function(){const e=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,s=e.length;n<s;n++)this.util.hasClass(i,e[n].getAttribute("data-value"))?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active")},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!/^UL$/i.test(e.tagName)&&(i=e.getAttribute("data-value"),!i);)e=e.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;const s=this.util.hasClass(e,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let a=0,c=n.length;a<c;a++)s(n[a],i);this.submenuOff(),this.history.push(!1)}},Pr={name:"textStyle",display:"submenu",add:function(t,e){const i=t.context;i.textStyle={_styleList:null};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.textStyle._styleList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:t.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:t.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:t.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=e.textStyles?e.textStyles:t._w.Object.keys(n);let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let c=0,u=s.length,l,f,d,g,w,E,C;c<u;c++){if(l=s[c],g="",E="",w=[],typeof l=="string"){const L=n[l.toLowerCase()];if(!L)continue;l=L}d=l.name,f=l.tag||"span",C=l._class,l.style&&(g+=' style="'+l.style+'"',E+=l.style.replace(/:[^;]+(;|$)\s*/g,","),w.push("style")),l.class&&(g+=' class="'+l.class+'"',E+="."+l.class.trim().replace(/\s+/g,",."),w.push("class")),E=E.replace(/,$/,""),a+='<li><button type="button" class="se-btn-list'+(C?" "+C:"")+'" data-command="'+f+'" data-value="'+E+'" title="'+d+'" aria-label="'+d+'"><'+f+g+">"+d+"</"+f+"></button></li>"}return a+="</ul></div>",i.innerHTML=a,i},on:function(){const t=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let s=0,a=i.length,c,u,l;s<a;s++){c=i[s],u=c.getAttribute("data-value").split(",");for(let f=0,d,g;f<u.length;f++){for(d=n,l=!1;d&&!t.isFormatElement(d)&&!t.isComponent(d);){if(d.nodeName.toLowerCase()===c.getAttribute("data-command").toLowerCase()&&(g=u[f],/^\./.test(g)?t.hasClass(d,g.replace(/^\./,"")):d.style[g])){l=!0;break}d=d.parentNode}if(!l)break}l?t.addClass(c,"active"):t.removeClass(c,"active")}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null;for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),i){n=e.firstChild;break}e=e.parentNode}if(!i)return;const s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();const a=n.classList;for(let l=0,f=a.length;l<f;l++)s.push("."+a[l]);const c=this.util.hasClass(e,"active")?null:n.cloneNode(!1),u=c?null:[n.nodeName];this.nodeChange(c,s,u,!0),this.submenuOff()}};var Gi={exports:{}},Vr=Gi.exports,El;function Ur(){return El||(El=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Vr,function(e,i){const n={name:"dialog",add:function(s){const a=s.context;a.dialog={kind:"",updateModal:!1,_closeSignal:!1};let c=s.util.createElement("DIV");c.className="se-dialog sun-editor-common";let u=s.util.createElement("DIV");u.className="se-dialog-back",u.style.display="none";let l=s.util.createElement("DIV");l.className="se-dialog-inner",l.style.display="none",c.appendChild(u),c.appendChild(l),a.dialog.modalArea=c,a.dialog.back=u,a.dialog.modal=l,a.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(s)),a.dialog.modal.addEventListener("click",this._onClick_dialog.bind(s)),a.element.relative.appendChild(c),c=null,u=null,l=null},_onMouseDown_dialog:function(s){/se-dialog-inner/.test(s.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(s){(/close/.test(s.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(s,a){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(u){/27/.test(u.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=a,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=s,this.modalForm=this.context[s].modal;const c=this.context[s].focusElement;typeof this.plugins[s].on=="function"&&this.plugins[s].on.call(this,a),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",c&&c.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const s=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[s].init=="function"&&this.plugins[s].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Gi)),Gi.exports}var Wr=Ur();const Ei=zt(Wr),Zr={name:"selectMenu",add:function(t){t.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(t,e,i){t.form.innerHTML="<ul>"+i+"</ul>",t.items=e,t.menus=t.form.querySelectorAll("li")},initEvent:function(t,e){const i=e.querySelector(".se-select-list"),n=this.context.selectMenu.caller[t]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:t};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(t){t.preventDefault(),t.stopPropagation()},onMouseMove_list:function(t,e){this.util.addClass(t.form,"__se_select-menu-mouse-move");const i=e.target.getAttribute("data-index");i&&(t.index=i*1)},onClick_list:function(t,e){const i=e.target.getAttribute("data-index");i&&t.clickMethod.call(this,t.items[i])},moveItem:function(t,e){this.util.removeClass(t.form,"__se_select-menu-mouse-move"),e=t.index+e;const i=t.menus,n=i.length,s=t.index=e>=n?0:e<0?n-1:e;for(let a=0;a<n;a++)a===s?this.util.addClass(i[a],"active"):this.util.removeClass(i[a],"active");t.item=t.items[s]},getItem:function(t,e){return e=!e||e<0?t.index:e,t.items[e]},on:function(t,e){const i=this.context.selectMenu.caller[t];this.context.selectMenu.callerContext=i,i.clickMethod=e,i.callerName=t},open:function(t,e){const i=t.form;i.style.visibility="hidden",i.style.display="block",e(i),i.style.visibility=""},close:function(t){t.form.style.display="none",t.items=[],t.menus=[],t.index=-1,t.item=null},init:function(t){t&&(t.items=[],t.menus=[],t.index=-1,t.item=null,t.callerName="",this.context.selectMenu.callerContext=null)}},Bo={name:"anchor",add:function(t){t.addModule([Zr]),t.context.anchor={caller:{},forms:this.setDialogForm(t),host:(t._w.location.origin+t._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(t){const e=t.lang,i=t.options.linkRel,n=(t.options.linkRelDefault.default||"").split(" "),s=t.icons,a=t.util.createElement("DIV");let c='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(t.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+e.dialogBox.linkBox.bookmark+'" aria-label="'+e.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+t.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+e.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){c+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let u=0,l=i.length,f;u<l;u++)f=i[u],c+='<li><button type="button" class="se-btn-list'+(n.indexOf(f)>-1?" se-checked":"")+'" data-command="'+f+'" title="'+f+'" aria-label="'+f+'"><span class="se-svg">'+s.checked+"</span>"+f+"</button></li>";c+="</ul></div></div></div>"}return c+="</div></div>",a.innerHTML=c,a},initEvent:function(t,e){const i=this.plugins.anchor,n=this.context.anchor.caller[t]={modal:e,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:t};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=e.querySelector(".se-input-url"),n.anchorText=e.querySelector("._se_anchor_text"),n.newWindowCheck=e.querySelector("._se_anchor_check"),n.downloadCheck=e.querySelector("._se_anchor_download"),n.download=e.querySelector("._se_anchor_download_icon"),n.preview=e.querySelector(".se-link-preview"),n.bookmark=e.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=e.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,t,e);const s=this.context.selectMenu.caller[t];this.options.linkRel.length>0&&(n.relButton=e.querySelector(".se-anchor-rel-btn"),n.relList=e.querySelector(".se-list-layer"),n.relPreview=e.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(t,e){const i=this.plugins.anchor;if(!e)i.init.call(this,t),t.anchorText.value=this.getSelection().toString().trim(),t.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(t.linkAnchor){this.context.dialog.updateModal=!0;const n=t.linkAnchor.getAttribute("href");t.linkValue=t.preview.textContent=t.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,t.anchorText.value=t.linkAnchor.textContent,t.newWindowCheck.checked=!!/_blank/i.test(t.linkAnchor.target),t.downloadCheck.checked=t.linkAnchor.download}this.context.anchor.callerContext=t,i.setRel.call(this,t,e&&t.linkAnchor?t.linkAnchor.rel:t.defaultRel),i.setLinkPreview.call(this,t,t.linkValue),this.plugins.selectMenu.on.call(this,t.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(t){const e=this._w.location.href.replace(/\/$/,"");return t.indexOf("#")===0||t.indexOf(e)===0&&t.indexOf("#")===(e.indexOf("#")===-1?e.length:e.substr(0,e.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(t,e){if(!e)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const i=t.relButton,n=t.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=(function(s,a,c){c&&(s.relButton.contains(c.target)||s.relList.contains(c.target))||(this.util.removeClass(a,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,t,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(t,e){this.plugins.anchor.toggleRelList.call(this,t,!this.util.hasClass(e.target,"active"))},onClick_relList:function(t,e){const i=e.target,n=i.getAttribute("data-command");if(!n)return;const s=t.currentRel,a=this.util.toggleClass(i,"se-checked"),c=s.indexOf(n);a?c===-1&&s.push(n):c>-1&&s.splice(c,1),t.relPreview.title=t.relPreview.textContent=s.join(" ")},setRel:function(t,e){const i=t.relList,n=t.currentRel=e?e.split(" "):[];if(!i)return;const s=i.querySelectorAll("button");for(let a=0,c=s.length,u;a<c;a++)u=s[a].getAttribute("data-command"),n.indexOf(u)>-1?this.util.addClass(s[a],"se-checked"):this.util.removeClass(s[a],"se-checked");t.relPreview.title=t.relPreview.textContent=n.join(" ")},createHeaderList:function(t,e,i){const n=this.util.getListChildren(this.context.element.wysiwyg,function(u){return/h[1-6]/i.test(u.nodeName)});if(n.length===0)return;const s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),a=[];let c="";for(let u=0,l=n.length,f;u<l;u++)f=n[u],s.test(f.textContent)&&(a.push(f),c+='<li class="se-select-item" data-index="'+u+'">'+f.textContent+"</li>");a.length===0?this.plugins.selectMenu.close.call(this,e):(this.plugins.selectMenu.createList(e,a,c),this.plugins.selectMenu.open.call(this,e,this.plugins.anchor._setMenuListPosition.bind(this,t)))},_setMenuListPosition:function(t,e){e.style.top=t.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(t,e){switch(e.keyCode){case 38:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,-1);break;case 40:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,1);break;case 13:t.index>-1&&(e.preventDefault(),e.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(t,null)));break}},setHeaderBookmark:function(t){const e=this.context.anchor.callerContext,i=t.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");t.id=i,e.urlInput.value="#"+i,(!e.anchorText.value.trim()||!e._change)&&(e.anchorText.value=t.textContent),this.plugins.anchor.setLinkPreview.call(this,e,e.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(t,e){t._change=!!e.target.value.trim()},onChangeUrlInput:function(t,e){const i=e.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,t,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(t,e){const i=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,t,e,i)},onBlurUrlInput:function(t){this.plugins.selectMenu.close.call(this,t)},setLinkPreview:function(t,e){const i=t.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,a=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(e)||e.indexOf(n)===0,c=n?this._w.RegExp("^"+this.util.escapeStringRegexp(e.substr(0,n.length))).test(n):!1;e=t.linkValue=i.textContent=e?s?e:n&&!a&&!c?n+e:a?e:/^www\./.test(e)?"http://"+e:this.context.anchor.host+(/^\//.test(e)?"":"/")+e:"",this.plugins.anchor.selfPathBookmark.call(this,e)?(t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active")):(t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,e)&&t.downloadCheck.checked?t.download.style.display="block":t.download.style.display="none"},setCtx:function(t,e){t&&(e.linkAnchor=t,e.linkValue=t.href,e.currentRel=t.rel.split(" "))},updateAnchor:function(t,e,i,n,s){!this.plugins.anchor.selfPathBookmark.call(this,e)&&n.downloadCheck.checked?t.setAttribute("download",i||e):t.removeAttribute("download"),n.newWindowCheck.checked?t.target="_blank":t.removeAttribute("target");const a=n.currentRel.join(" ");a?t.rel=a:t.removeAttribute("rel"),t.href=e,s?t.children.length===0&&(t.textContent=""):t.textContent=i},createAnchor:function(t,e){if(t.linkValue.length===0)return null;const i=t.linkValue,n=t.anchorText,s=n.value.length===0?i:n.value,a=t.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,a,i,s,t,e),t.linkValue=t.preview.textContent=t.urlInput.value=t.anchorText.value="",a},onClick_bookmarkButton:function(t){let e=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,e)?(e=e.substr(1),t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(e="#"+e,t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active"),t.downloadCheck.checked=!1,t.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,e)),t.urlInput.value=e,this.plugins.anchor.setLinkPreview.call(this,t,e),t.urlInput.focus()},onChange_newWindowCheck:function(t,e){typeof t.linkDefaultRel.check_new_window=="string"&&(e.target.checked?this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(t,e){e.target.checked?(t.download.style.display="block",t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),t.linkValue=t.preview.textContent=t.urlInput.value=t.urlInput.value.replace(/^\#+/,""),typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_bookmark))):(t.download.style.display="none",typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_bookmark)))},_relMerge:function(t,e){const i=t.currentRel;if(!e)return i.join(" ");if(/^only\:/.test(e))return e=e.replace(/^only\:/,"").trim(),t.currentRel=e.split(" "),e;const n=e.split(" ");for(let s=0,a=n.length,c;s<a;s++)c=i.indexOf(n[s]),c===-1&&i.push(n[s]);return i.join(" ")},_relDelete:function(t,e){if(!e)return t.currentRel.join(" ");/^only\:/.test(e)&&(e=e.replace(/^only\:/,"").trim());const i=t.currentRel.join(" ").replace(this._w.RegExp(e+"\\s*"),"");return t.currentRel=i.split(" "),i},init:function(t){t.linkAnchor=null,t.linkValue=t.preview.textContent=t.urlInput.value="",t.anchorText.value="",t.newWindowCheck.checked=!1,t.downloadCheck.checked=!1,t._change=!1,this.plugins.anchor.setRel.call(this,t,t.defaultRel),t.relList&&this.plugins.anchor.toggleRelList.call(this,t,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},$r={name:"link",display:"dialog",add:function(t){t.addModule([Ei,Bo]);const e=t.context,i=e.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(t);i.modal=n;let s=this.setController_LinkButton(t);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),s.addEventListener("click",this.onClick_linkController.bind(t)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),t.plugins.anchor.initEvent.call(t,"link",n),i.focusElement=e.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+"</span></div>"+t.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(e===null)return;if(this.context.dialog.updateModal){const i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.getSelectedElements();if(i.length>1){const n=this.util.createElement(i[0].nodeName);if(n.appendChild(e),!this.insertNode(n,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(t)&&t.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,t),!0;return!1},on:function(t){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,t)},call_controller:function(t){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=t;const e=this.context.link.linkController,i=e.querySelector("a");i.href=t.href,i.title=t.textContent,i.textContent=t.textContent,this.util.addClass(t,"on"),this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");if(e){if(t.preventDefault(),/update/.test(e))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(e)){const i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var Qi={exports:{}},qr=Qi.exports,Tl;function Yr(){return Tl||(Tl=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:qr,function(e,i){const n={name:"component",set_container:function(s,a){const c=this.util.createElement("DIV");return c.className="se-component "+a,c.appendChild(s),c},set_cover:function(s){const a=this.util.createElement("FIGURE");return a.appendChild(s),a},create_caption:function(){const s=this.util.createElement("FIGCAPTION");return s.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",s}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Qi)),Qi.exports}var Xr=Yr();const Vs=zt(Xr);var Ji={exports:{}},jr=Ji.exports,Ll;function Kr(){return Ll||(Ll=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:jr,function(e,i){const n={name:"resizing",add:function(s){const a=s.icons,c=s.context;c.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:a.align_justify,left:a.align_left,right:a.align_right,center:a.align_center}};let u=this.setController_resize(s);c.resizing.resizeContainer=u,c.resizing.resizeDiv=u.querySelector(".se-modal-resize"),c.resizing.resizeDot=u.querySelector(".se-resize-dot"),c.resizing.resizeDisplay=u.querySelector(".se-resize-display");let l=this.setController_button(s);c.resizing.resizeButton=l;let f=c.resizing.resizeHandles=c.resizing.resizeDot.querySelectorAll("span");c.resizing.resizeButtonGroup=l.querySelector("._se_resizing_btn_group"),c.resizing.rotationButtons=l.querySelectorAll("._se_resizing_btn_group ._se_rotation"),c.resizing.percentageButtons=l.querySelectorAll("._se_resizing_btn_group ._se_percentage"),c.resizing.alignMenu=l.querySelector(".se-resizing-align-list"),c.resizing.alignMenuList=c.resizing.alignMenu.querySelectorAll("button"),c.resizing.alignButton=l.querySelector("._se_resizing_align_button"),c.resizing.autoSizeButton=l.querySelector("._se_resizing_btn_group ._se_auto_size"),c.resizing.captionButton=l.querySelector("._se_resizing_caption_button"),u.addEventListener("mousedown",function(d){d.preventDefault()}),f[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),l.addEventListener("click",this.onClick_resizeButton.bind(s)),c.element.relative.appendChild(u),c.element.relative.appendChild(l),u=null,l=null,f=null},setController_resize:function(s){const a=s.util.createElement("DIV");return a.className="se-controller se-resizing-container",a.style.display="none",a.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',a},setController_button:function(s){const a=s.lang,c=s.icons,u=s.util.createElement("DIV");return u.className="se-controller se-controller-resizing",u.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+c.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+c.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+c.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+c.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+c.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+c.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+c.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+c.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+c.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+c.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+c.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+c.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+c.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+c.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+a.controller.remove+"</span></span></button></div>",u},_module_getSizeX:function(s,a,c,u){return a||(a=s._element),c||(c=s._cover),u||(u=s._container),a?/%$/.test(a.style.width)?(u&&this.util.getNumber(u.style.width,2)||100)+"%":a.style.width:""},_module_getSizeY:function(s,a,c,u){return a||(a=s._element),c||(c=s._cover),u||(u=s._container),!u||!c?a&&a.style.height||"":this.util.getNumber(c.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?c.style.height:!/%$/.test(a.style.height)||!/%$/.test(a.style.width)?a.style.height:(u&&this.util.getNumber(u.style.height,2)||100)+"%"},_module_setModifyInputSize:function(s,a){const c=s._onlyPercentage&&this.context.resizing._rotateVertical;s.proportion.checked=s._proportionChecked=s._element.getAttribute("data-proportion")!=="false";let u=c?"":this.plugins.resizing._module_getSizeX.call(this,s);if(u===s._defaultSizeX&&(u=""),s._onlyPercentage&&(u=this.util.getNumber(u,2)),s.inputX.value=u,a.setInputSize.call(this,"x"),!s._onlyPercentage){let l=c?"":this.plugins.resizing._module_getSizeY.call(this,s);l===s._defaultSizeY&&(l=""),s._onlyPercentage&&(l=this.util.getNumber(l,2)),s.inputY.value=l}s.inputX.disabled=!!c,s.inputY.disabled=!!c,s.proportion.disabled=!!c,a.setRatio.call(this)},_module_setInputSize:function(s,a){if(s._onlyPercentage){a==="x"&&s.inputX.value>100&&(s.inputX.value=100);return}if(s.proportion.checked&&s._ratio&&/\d/.test(s.inputX.value)&&/\d/.test(s.inputY.value)){const c=s.inputX.value.replace(/\d+|\./g,"")||s.sizeUnit,u=s.inputY.value.replace(/\d+|\./g,"")||s.sizeUnit;if(c!==u)return;const l=c==="%"?2:0;a==="x"?s.inputY.value=this.util.getNumber(s._ratioY*this.util.getNumber(s.inputX.value,l),l)+u:s.inputX.value=this.util.getNumber(s._ratioX*this.util.getNumber(s.inputY.value,l),l)+c}},_module_setRatio:function(s){const a=s.inputX.value,c=s.inputY.value;if(s.proportion.checked&&/\d+/.test(a)&&/\d+/.test(c)){const u=a.replace(/\d+|\./g,"")||s.sizeUnit,l=c.replace(/\d+|\./g,"")||s.sizeUnit;if(u!==l)s._ratio=!1;else if(!s._ratio){const f=this.util.getNumber(a,0),d=this.util.getNumber(c,0);s._ratio=!0,s._ratioX=f/d,s._ratioY=d/f}}else s._ratio=!1},_module_sizeRevert:function(s){s._onlyPercentage?s.inputX.value=s._origin_w>100?100:s._origin_w:(s.inputX.value=s._origin_w,s.inputY.value=s._origin_h)},_module_saveCurrentSize:function(s){const a=this.plugins.resizing._module_getSizeX.call(this,s),c=this.plugins.resizing._module_getSizeY.call(this,s);s._element.setAttribute("width",a.replace("px","")),s._element.setAttribute("height",c.replace("px","")),s._element.setAttribute("data-size",a+","+c),s._videoRatio&&(s._videoRatio=c)},call_controller_resize:function(s,a){const c=this.context.resizing,u=this.context[a];c._resize_plugin=a;const l=c.resizeContainer,f=c.resizeDiv,d=this.util.getOffset(s,this.context.element.wysiwygFrame),g=c._rotateVertical=/^(90|270)$/.test(Math.abs(s.getAttribute("data-rotate")).toString()),w=g?s.offsetHeight:s.offsetWidth,E=g?s.offsetWidth:s.offsetHeight,C=d.top,L=d.left-this.context.element.wysiwygFrame.scrollLeft;l.style.top=C+"px",l.style.left=L+"px",l.style.width=w+"px",l.style.height=E+"px",f.style.top="0px",f.style.left="0px",f.style.width=w+"px",f.style.height=E+"px";let o=s.getAttribute("data-align")||"basic";o=o==="none"?"basic":o;const r=this.util.getParentElement(s,this.util.isComponent),h=this.util.getParentElement(s,"FIGURE"),p=this.plugins.resizing._module_getSizeX.call(this,u,s,h,r)||"auto",b=u._onlyPercentage&&a==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,u,s,h,r)||"auto");this.util.changeTxt(c.resizeDisplay,this.lang.dialogBox[o]+" ("+p+b+")"),c.resizeButtonGroup.style.display=u._resizing?"":"none";const v=u._resizing&&!u._resizeDotHide&&!u._onlyPercentage?"flex":"none",m=c.resizeHandles;for(let T=0,N=m.length;T<N;T++)m[T].style.display=v;if(u._resizing){const T=c.rotationButtons;T[0].style.display=T[1].style.display=u._rotation?"":"none"}if(u._alignHide)c.alignButton.style.display="none";else{c.alignButton.style.display="";const T=c.alignMenuList;this.util.changeElement(c.alignButton.firstElementChild,c.alignIcons[o]);for(let N=0,M=T.length;N<M;N++)T[N].getAttribute("data-value")===o?this.util.addClass(T[N],"on"):this.util.removeClass(T[N],"on")}const y=c.percentageButtons,x=/%$/.test(s.style.width)&&/%$/.test(r.style.width)?this.util.getNumber(r.style.width,0)/100+"":"";for(let T=0,N=y.length;T<N;T++)y[T].getAttribute("data-value")===x?this.util.addClass(y[T],"active"):this.util.removeClass(y[T],"active");u._captionShow?(c.captionButton.style.display="",this.util.getChildElement(s.parentNode,"figcaption")?(this.util.addClass(c.captionButton,"active"),u._captionChecked=!0):(this.util.removeClass(c.captionButton,"active"),u._captionChecked=!1)):c.captionButton.style.display="none",l.style.display="block";const _={left:0,top:50};this.options.iframe&&(_.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,_.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(c.resizeButton,l,"bottom",_);const S=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(l,c.resizeButton,S.bind(this),s,a),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),c._resize_w=w,c._resize_h=E;const B=(s.getAttribute("origin-size")||"").split(",");return c._origin_w=B[0]||s.naturalWidth,c._origin_h=B[1]||s.naturalHeight,{w,h:E,t:C,l:L}},_closeAlignMenu:null,openAlignMenu:function(){const s=this.context.resizing.alignButton;this.util.addClass(s,"on"),this.context.resizing.alignMenu.style.top=s.offsetTop+s.offsetHeight+"px",this.context.resizing.alignMenu.style.left=s.offsetLeft-s.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(s){s.stopPropagation();const a=s.target,c=a.getAttribute("data-command")||a.parentNode.getAttribute("data-command");if(!c)return;const u=a.getAttribute("data-value")||a.parentNode.getAttribute("data-value"),l=this.context.resizing._resize_plugin,f=this.context[l],d=f._element,g=this.plugins[l];if(s.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),c==="onalign"))){switch(c){case"auto":this.plugins.resizing.resetTransform.call(this,d),g.setAutoSize.call(this),this.selectComponent(d,l);break;case"percent":let w=this.plugins.resizing._module_getSizeY.call(this,f);if(this.context.resizing._rotateVertical){const v=d.getAttribute("data-percentage");v&&(w=v.split(",")[1])}this.plugins.resizing.resetTransform.call(this,d),g.setPercentSize.call(this,u*100,this.util.getNumber(w,0)===null||!/%$/.test(w)?"":w),this.selectComponent(d,l);break;case"mirror":const E=d.getAttribute("data-rotate")||"0";let C=d.getAttribute("data-rotateX")||"",L=d.getAttribute("data-rotateY")||"";u==="h"&&!this.context.resizing._rotateVertical||u==="v"&&this.context.resizing._rotateVertical?L=L?"":"180":C=C?"":"180",d.setAttribute("data-rotateX",C),d.setAttribute("data-rotateY",L),this.plugins.resizing._setTransForm(d,E,C,L);break;case"rotate":const o=this.context.resizing,r=d.getAttribute("data-rotate")*1+u*1,h=this._w.Math.abs(r)>=360?0:r;d.setAttribute("data-rotate",h),o._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(h).toString()),this.plugins.resizing.setTransformSize.call(this,d,null,null),this.selectComponent(d,l);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const p=u==="basic"?"none":u;g.setAlign.call(this,p,null,null,null),this.selectComponent(d,l);break;case"caption":const b=!f._captionChecked;if(g.openModify.call(this,!0),f._captionChecked=f.captionCheckEl.checked=b,g.update_image.call(this,!1,!1,!1),b){const v=this.util.getChildElement(f._caption,function(m){return m.nodeType===3});v?this.setRange(v,0,v,v.textContent.length):f._caption.focus(),this.controllersOff()}else this.selectComponent(d,l),g.openModify.call(this,!0);break;case"revert":g.setOriginSize.call(this),this.selectComponent(d,l);break;case"update":g.openModify.call(this),this.controllersOff();break;case"delete":g.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(s){const a=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,s.style.maxWidth="",s.style.transform="",s.style.transformOrigin="",s.setAttribute("data-rotate",""),s.setAttribute("data-rotateX",""),s.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,a[0]?a[0]:"auto",a[1]?a[1]:"",!0)},setTransformSize:function(s,a,c){let u=s.getAttribute("data-percentage");const l=this.context.resizing._rotateVertical,f=s.getAttribute("data-rotate")*1;let d="";if(u&&!l)u=u.split(","),u[0]==="auto"&&u[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,u[0],u[1]);else{const g=this.util.getParentElement(s,"FIGURE"),w=a||s.offsetWidth,E=c||s.offsetHeight,C=(l?E:w)+"px",L=(l?w:E)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,w+"px",E+"px",!0),g.style.width=C,g.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":L,l){let o=w/2+"px "+w/2+"px 0",r=E/2+"px "+E/2+"px 0";d=f===90||f===-270?r:o}}s.style.transformOrigin=d,this.plugins.resizing._setTransForm(s,f.toString(),s.getAttribute("data-rotateX")||"",s.getAttribute("data-rotateY")||""),l?s.style.maxWidth="none":s.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,s)},_setTransForm:function(s,a,c,u){let l=(s.offsetWidth-s.offsetHeight)*(/-/.test(a)?1:-1),f="";if(/[1-9]/.test(a)&&(c||u))switch(f=c?"Y":"X",a){case"90":f=c&&u?"X":u?f:"";break;case"270":l*=-1,f=c&&u?"Y":c?f:"";break;case"-90":f=c&&u?"Y":c?f:"";break;case"-270":l*=-1,f=c&&u?"X":u?f:"";break;default:f=""}a%180===0&&(s.style.maxWidth=""),s.style.transform="rotate("+a+"deg)"+(c?" rotateX("+c+"deg)":"")+(u?" rotateY("+u+"deg)":"")+(f?" translate"+f+"("+l+"px)":"")},setCaptionPosition:function(s){const a=this.util.getChildElement(this.util.getParentElement(s,"FIGURE"),"FIGCAPTION");a&&(a.style.marginTop=(this.context.resizing._rotateVertical?s.offsetWidth-s.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(s){s.stopPropagation(),s.preventDefault();const a=this.context.resizing,c=a._resize_direction=s.target.classList[0];a._resizeClientX=s.clientX,a._resizeClientY=s.clientY,this.context.element.resizeBackground.style.display="block",a.resizeButton.style.display="none",a.resizeDiv.style.float=/l/.test(c)?"right":/r/.test(c)?"left":"none";const u=(function(d){if(d.type==="keydown"&&d.keyCode!==27)return;const g=a._isChange;a._isChange=!1,this.removeDocEvent("mousemove",l),this.removeDocEvent("mouseup",u),this.removeDocEvent("keydown",u),d.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,c),g&&this.history.push(!1))}).bind(this),l=this.plugins.resizing.resizing_element.bind(this,a,c,this.context[a._resize_plugin]);this.addDocEvent("mousemove",l),this.addDocEvent("mouseup",u),this.addDocEvent("keydown",u)},resizing_element:function(s,a,c,u){const l=u.clientX,f=u.clientY;let d=c._element_w,g=c._element_h;const w=c._element_w+(/r/.test(a)?l-s._resizeClientX:s._resizeClientX-l),E=c._element_h+(/b/.test(a)?f-s._resizeClientY:s._resizeClientY-f),C=c._element_h/c._element_w*w;/t/.test(a)&&(s.resizeDiv.style.top=c._element_h-(/h/.test(a)?E:C)+"px"),/l/.test(a)&&(s.resizeDiv.style.left=c._element_w-w+"px"),/r|l/.test(a)&&(s.resizeDiv.style.width=w+"px",d=w),/^(t|b)[^h]$/.test(a)?(s.resizeDiv.style.height=C+"px",g=C):/^(t|b)h$/.test(a)&&(s.resizeDiv.style.height=E+"px",g=E),s._resize_w=d,s._resize_h=g,this.util.changeTxt(s.resizeDisplay,this._w.Math.round(d)+" x "+this._w.Math.round(g)),s._isChange=!0},cancel_controller_resize:function(s){const a=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let c=this._w.Math.round(a?this.context.resizing._resize_h:this.context.resizing._resize_w),u=this._w.Math.round(a?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!a&&!/%$/.test(c)){const d=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(c,0)>d&&(u=this._w.Math.round(u/c*d),c=d)}const l=this.context.resizing._resize_plugin;this.plugins[l].setSize.call(this,c,u,!1,s),a&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,c,u),this.selectComponent(this.context[l]._element,l)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Ji)),Ji.exports}var Gr=Kr();const Mo=zt(Gr);var en={exports:{}},Qr=en.exports,kl;function Jr(){return kl||(kl=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:Qr,function(e,i){const n={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(s){return/IMG|IFRAME|VIDEO|AUDIO/i.test(s.tagName)?/FIGURE/i.test(s.parentElement.nodeName)||/FIGURE/i.test(s.parentElement.parentElement.nodeName):!0},upload:function(s,a,c,u,l){this.showLoading();const f=this.plugins.fileManager,d=f._xmlHttp=this.util.getXMLHttpRequest();if(d.onreadystatechange=f._callBackUpload.bind(this,d,u,l),d.open("post",s,!0),a!==null&&typeof a=="object"&&this._w.Object.keys(a).length>0)for(let g in a)d.setRequestHeader(g,a[g]);d.send(c)},_callBackUpload:function(s,a,c){if(s.readyState===4)if(s.status===200)try{a(s)}catch(u){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+u.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const u=s.responseText?JSON.parse(s.responseText):s;if(typeof c!="function"||c("",u,this)){const l="[SUNEDITOR.fileManager.upload.serverException] status: "+s.status+", response: "+(u.errorMessage||s.responseText);throw this.functions.noticeOpen(l),Error(l)}}},checkInfo:function(s,a,c,u,l){let f=[];for(let r=0,h=a.length;r<h;r++)f=f.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(a[r]+':not([data-se-embed="true"])')));const d=this.plugins.fileManager,g=this.context[s],w=g._infoList,E=d.setInfo.bind(this);if(f.length===w.length)if(this._componentsInfoReset){for(let r=0,h=f.length;r<h;r++)E(s,f[r],c,null,l);return}else{let r=!1;for(let h=0,p=w.length,b;h<p;h++)if(b=w[h],f.filter(function(v){return b.src===v.src&&b.index.toString()===v.getAttribute("data-index")}).length===0){r=!0;break}if(!r)return}const C=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const L=[],o=[];for(let r=0,h=w.length;r<h;r++)o[r]=w[r].index;for(g.__updateTags=f;f.length>0;){const r=f.shift();!this.util.getParentElement(r,this.util.isMediaComponent)||!d._checkMediaComponent(r)?(L.push(g._infoIndex),u(r)):!r.getAttribute("data-index")||o.indexOf(r.getAttribute("data-index")*1)<0?(L.push(g._infoIndex),r.removeAttribute("data-index"),E(s,r,c,null,l)):L.push(r.getAttribute("data-index")*1)}for(let r=0,h;r<w.length;r++)h=w[r].index,!(L.indexOf(h)>-1)&&(w.splice(r,1),typeof c=="function"&&c(null,h,"delete",null,0,this),r--);l&&(this.context.resizing._resize_plugin=C)},setInfo:function(s,a,c,u,l){const f=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const d=this.plugins[s],g=this.context[s],w=g._infoList;let E=a.getAttribute("data-index"),C=null,L="";if(u||(u={name:a.getAttribute("data-file-name")||(typeof a.src=="string"?a.src.split("/").pop():""),size:a.getAttribute("data-file-size")||0}),!E||this._componentsInfoInit)L="create",E=g._infoIndex++,a.setAttribute("data-index",E),a.setAttribute("data-file-name",u.name),a.setAttribute("data-file-size",u.size),C={src:a.src,index:E*1,name:u.name,size:u.size},w.push(C);else{L="update",E*=1;for(let o=0,r=w.length;o<r;o++)if(E===w[o].index){C=w[o];break}C||(E=g._infoIndex++,C={index:E},w.push(C)),C.src=a.src,C.name=a.getAttribute("data-file-name"),C.size=a.getAttribute("data-file-size")*1}if(C.element=a,C.delete=d.destroy.bind(this,a),C.select=(function(o){o.scrollIntoView(!0),this._w.setTimeout(d.select.bind(this,o))}).bind(this,a),l){if(!a.getAttribute("origin-size")&&a.naturalWidth&&a.setAttribute("origin-size",a.naturalWidth+","+a.naturalHeight),!a.getAttribute("data-origin")){const o=this.util.getParentElement(a,this.util.isMediaComponent),r=this.util.getParentElement(a,"FIGURE"),h=this.plugins.resizing._module_getSizeX.call(this,g,a,r,o),p=this.plugins.resizing._module_getSizeY.call(this,g,a,r,o);a.setAttribute("data-origin",h+","+p),a.setAttribute("data-size",h+","+p)}if(!a.style.width){const o=(a.getAttribute("data-size")||a.getAttribute("data-origin")||"").split(",");d.onModifyMode.call(this,a,null),d.applySize.call(this,o[0],o[1])}this.context.resizing._resize_plugin=f}typeof c=="function"&&c(a,E,L,C,--g._uploadFileLength<0?0:g._uploadFileLength,this)},deleteInfo:function(s,a,c){if(a>=0){const u=this.context[s]._infoList;for(let l=0,f=u.length;l<f;l++)if(a===u[l].index){u.splice(l,1),typeof c=="function"&&c(null,a,"delete",null,0,this);return}}},resetInfo:function(s,a){const c=this.context[s];if(typeof a=="function"){const u=c._infoList;for(let l=0,f=u.length;l<f;l++)a(null,u[l].index,"delete",null,0,this)}c._infoList=[],c._infoIndex=0}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(en)),en.exports}var ec=Jr();const Us=zt(ec),tc={name:"image",display:"dialog",add:function(t){t.addModule([Ei,Bo,Vs,Mo,Us]);const e=t.options,i=t.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:e.imageWidth==="auto"?"":e.imageWidth,_origin_h:e.imageHeight==="auto"?"":e.imageHeight,_proportionChecked:!0,_resizing:e.imageResizing,_resizeDotHide:!e.imageHeightShow,_rotation:e.imageRotation,_alignHide:!e.imageAlignShow,_onlyPercentage:e.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let s=this.setDialog(t);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(t)),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,e.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const a=s.querySelector(".__se__gallery");a&&a.addEventListener("click",this._openGallery.bind(t)),n.proportion={},n.inputX={},n.inputY={},e.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=e.imageWidth,n.inputY.value=e.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),t.plugins.anchor.initEvent.call(t,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=t.context.anchor.caller.image,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(e.imageGalleryUrl&&t.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+t.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const a=e.imageSizeOnlyPercentage,c=a?' style="display: none !important;"':"",u=e.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',a||!e.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(a?' type="number" min="1"':'type="text"')+(a?' max="100"':"")+' /><label class="se-dialog-size-x"'+u+">"+(a?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+c+(a?' max="100"':"")+u+"/><label"+c+u+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+t.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(e.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(t){this.altText.value=t.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=t.getAttribute("data-value")||t.src,this.imgUrlFile.focus()},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(t){this.plugins.image.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"image"))},destroy:function(t){const e=t||this.context.image._element,i=this.util.getParentElement(e,this.util.isMediaComponent)||e,n=e.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const a=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(c){return c.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(t){const e=this.context.image;t?e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=e._origin_h=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,e.anchorCtx,t)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(t){const e=this.context.image.modal,i=t==="init"?e.querySelector("._se_tab_link"):t.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link"),s="_se_tab_content";let a,c,u;for(c=e.getElementsByClassName(s),a=0;a<c.length;a++)c[a].style.display="none";for(u=e.getElementsByClassName("_se_tab_link"),a=0;a<u.length;a++)this.util.removeClass(u[a],"active");return e.querySelector("."+s+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(t){const e=this.context.image,i=this.plugins.image;t.preventDefault(),t.stopPropagation(),e._altText=e.altText.value,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked,e._resizing&&(e._proportionChecked=e.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),e.imgInputFile&&e.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):e.imgUrlFile&&e._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,e._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let u=0,l=t.length;u<l;u++)/image/i.test(t[u].type)&&(i.push(t[u]),e+=t[u].size);const n=this.options.imageUploadSizeLimit;if(n>0){let u=0;const l=this.context.image._infoList;for(let f=0,d=l.length;f<d;f++)u+=l[f].size*1;if(e+u>n){this.closeLoading();const f="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(f,{limitSize:n,currentSize:u,uploadSize:e},this))&&this.functions.noticeOpen(f);return}}const s=this.context.image;s._uploadFileLength=i.length;const c={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){const u=this.functions.onImageUploadBefore(i,c,this,(function(l){l&&this._w.Array.isArray(l.result)?this.plugins.image.register.call(this,c,l):this.plugins.image.upload.call(this,c,l)}).bind(this));if(typeof u>"u")return;if(!u){this.closeLoading();return}this._w.Array.isArray(u)&&u.length>0&&(i=u)}this.plugins.image.upload.call(this,c,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.image.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.image.error.call(this,e,null);return}const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,t),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,e,t.anchor,t.inputWidth,t.inputHeight,t.align,t.alt,n,t.isUpdate)},callBack_imgUpload:function(t,e){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,a;n<s;n++)if(a={name:i[n].name,size:i[n].size},t.isUpdate){this.plugins.image.update_src.call(this,i[n].url,t.element,a);break}else this.plugins.image.create_image.call(this,i[n].url,t.anchor,t.inputWidth,t.inputHeight,t.align,a,t.alt);this.closeLoading()},setup_reader:function(t,e,i,n,s,a,c,u){try{if(c===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=c;const l=this._w.FileReader,f=[c];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let d=0,g,w;d<c;d++)g=new l,w=t[d],g.onload=(function(E,C,L,o,r){f[r]={result:E.result,file:o},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,C,f,L,e,i,n,s,a),this.closeLoading())}).bind(this,g,u,this.context.image._element,w,d),g.readAsDataURL(w)}catch(l){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+l.message+'"')}},onRender_imgBase64:function(t,e,i,n,s,a,c,u){const l=this.plugins.image.update_src,f=this.plugins.image.create_image;for(let d=0,g=e.length;d<g;d++)t?(this.context.image._element.setAttribute("data-file-name",e[d].file.name),this.context.image._element.setAttribute("data-file-size",e[d].file.size),l.call(this,e[d].result,i,e[d].file)):f.call(this,e[d].result,n,s,a,c,e[d].file,u)},onRender_imgUrl:function(t){if(t||(t=this.context.image._v_src._linkValue),!t)return!1;const e=this.context.image;try{const i={name:t.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,t,e._element,i):this.plugins.image.create_image.call(this,t,this.plugins.anchor.createAnchor.call(this,e.anchorCtx,!0),e.inputX.value,e.inputY.value,e._align,i,e._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(t,e){return e?(e.setAttribute("data-image-link","image"),t.setAttribute("data-image-link",e.href),e.appendChild(t),e):t},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,t)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const t=this.plugins.image,e=this.context.image,i=(function(n){t.onModifyMode.call(this,n,null),t.openModify.call(this,!0),e.inputX.value=e._origin_w,e.inputY.value=e._origin_h;const s=this.util.getFormatElement(n);s&&(e._align=s.style.textAlign||s.style.float),this.util.isAnchor(n.parentNode)&&!e.anchorCtx.linkValue&&(e.anchorCtx.linkValue=" "),t.update_image.call(this,!0,!1,!0),t.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(t,e,i,n,s,a,c){const u=this.plugins.image,l=this.context.image;this.context.resizing._resize_plugin="image";let f=this.util.createElement("IMG");f.src=t,f.alt=c,f.setAttribute("data-rotate","0"),e=u.onRender_link.call(this,f,e?e.cloneNode(!1):null),l._resizing&&f.setAttribute("data-proportion",l._proportionChecked);const d=this.plugins.component.set_cover.call(this,e),g=this.plugins.component.set_container.call(this,d,"se-image-container");l._captionChecked&&(l._caption=this.plugins.component.create_caption.call(this),d.appendChild(l._caption)),l._element=f,l._cover=d,l._container=g,u.applySize.call(this,i,n),u.setAlign.call(this,s,f,d,g),f.onload=u._image_create_onload.bind(this,f,l.svgDefaultSize,g),this.insertComponent(g,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",f,this.functions.onImageUpload,a,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(t,e,i){if(t.offsetWidth===0&&this.plugins.image.applySize.call(this,e,""),this.options.mediaAutoSelect)this.selectComponent(t,"image");else{const n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}this.history.push(!1)},update_image:function(t,e,i){const n=this.context.image;let s=n._element,a=n._cover,c=n._container,u=!1;a===null&&(u=!0,s=n._element.cloneNode(!0),a=this.plugins.component.set_cover.call(this,s)),c===null?(a=a.cloneNode(!0),s=a.querySelector("img"),u=!0,c=this.plugins.component.set_container.call(this,a,"se-image-container")):u&&(c.innerHTML="",c.appendChild(a),n._cover=a,n._element=s,u=!1);let l;const f=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,d=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(s.style.width)?l=f!==c.style.width||d!==c.style.height:l=f!==s.style.width||d!==s.style.height,s.alt=n._altText;let g=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),a.appendChild(n._caption),g=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,g=!0);let w=null;const E=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(E)n._linkElement!==E||u&&!c.contains(E)?(n._linkElement=E.cloneNode(!1),a.insertBefore(this.plugins.image.onRender_link.call(this,s,n._linkElement),n._caption),w=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){const L=s;if(L.setAttribute("data-image-link",""),a.contains(n._linkElement)){const o=L.cloneNode(!0);a.removeChild(n._linkElement),a.insertBefore(o,n._caption),n._element=s=o}}let C=null;if(u){const L=n._element.parentNode;if(C=this.util.isRangeFormatElement(L)||this.util.isWysiwygDiv(L)?n._element:L||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))C=w?E:n._element,C.parentNode.replaceChild(c,C);else if(this.util.isListCell(C)){const o=this.util.getParentElement(n._element,function(r){return r.parentNode===C});C.insertBefore(c,o),this.util.removeItem(n._element),this.util.removeEmptyNode(o,null,!0)}else if(this.util.isFormatElement(C)){const o=this.util.getParentElement(n._element,function(r){return r.parentNode===C});C=this.util.splitElement(C,o),C.parentNode.insertBefore(c,C),this.util.removeItem(n._element),this.util.removeEmptyNode(C,null,!0),C.children.length===0&&(C.innerHTML=this.util.htmlRemoveWhiteSpace(C.innerHTML))}else if(this.util.isFormatElement(C.parentNode)){const o=C.parentNode;o.parentNode.insertBefore(c,C.previousSibling?o.nextElementSibling:o),n.__updateTags.map(function(r){return C.contains(r)}).length===0&&this.util.removeItem(C)}else C=this.util.isFigures(C.parentNode)?C.parentNode:C,C.parentNode.replaceChild(c,C);s=c.querySelector("img"),n._element=s,n._cover=a,n._container=c}w&&(u?(this.util.removeItem(w),this.util.getListChildren(E,function(L){return/IMG/i.test(L.tagName)}).length===0&&this.util.removeItem(E)):this.util.removeItem(E)),(g||!n._onlyPercentage&&l)&&!t&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),l&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),t&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),e&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(t,e,i){e.src=t,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",e,this.functions.onImageUpload,i,!0)),this.selectComponent(e,"image")},onModifyMode:function(t,e){if(!t)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(t.parentNode)?t.parentNode:null,i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=t.getAttribute("data-align")||t.style.float||"none",t.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,a;n?(n=n.split(","),s=n[0],a=n[1]):e&&(s=e.w,a=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=a||t.style.height||t.height||""},openModify:function(t){const e=this.context.image;e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=e._element.src),e._altText=e.altText.value=e._element.alt,(e.modal.querySelector('input[name="suneditor_image_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked=!!e._caption,e._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.image),t||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(t,e){const i=this.context.image;return t||(t=i.inputX.value||this.options.imageWidth),e||(e=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&t||/%$/.test(t)?(this.plugins.image.setPercentSize.call(this,t,e),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,t,e,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(t,e,i,n){const s=this.context.image,a=/^(rw|lw)$/.test(n)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(t)?t+s.sizeUnit:t,this.plugins.image.cancelPercentAttr.call(this)),a||(s._element.style.height=this.util.isNumber(e)?e+s.sizeUnit:/%$/.test(e)?"":e),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){const t=this.context.image;t._caption&&(t._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this),t._element.style.maxWidth="",t._element.style.width="",t._element.style.height="",t._cover.style.width="",t._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,t)},setOriginSize:function(){const t=this.context.image;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this);const e=(t._element.getAttribute("data-origin")||"").split(","),i=e[0],n=e[1];e&&(t._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,t))},setPercentSize:function(t,e){const i=this.context.image;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||"";const n=/%$/.test(e);i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?e:"",i._element.style.width="100%",i._element.style.height=n?"":e,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.image;t._cover.style.width="",t._cover.style.height="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.image._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.image;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:!e.style.width||e.style.width==="auto"?"":e.style.width||"100%"),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.image;t.imgInputFile&&(t.imgInputFile.value=""),t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=""),t.imgInputFile&&t.imgUrlFile&&(t.imgUrlFile.removeAttribute("disabled"),t.previewSrc.style.textDecoration=""),t.altText.value="",t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,t.captionCheckEl.checked=!1,t._element=null,this.plugins.image.openTab.call(this,"init"),t._resizing&&(t.inputX.value=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.proportion.checked=!0,t._ratio=!1,t._ratioX=1,t._ratioY=1),this.plugins.anchor.init.call(this,t.anchorCtx)}},ic={name:"video",display:"dialog",add:function(t){t.addModule([Ei,Vs,Mo,Us]);const e=t.options,i=t.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:e.youtubeQuery,_vimeoQuery:e.vimeoQuery,_videoRatio:e.videoRatio*100+"%",_defaultRatio:e.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:e.videoRatio*100+"%",_origin_w:e.videoWidth==="100%"?"":e.videoWidth,_origin_h:e.videoHeight==="56.25%"?"":e.videoHeight,_proportionChecked:!0,_resizing:e.videoResizing,_resizeDotHide:!e.videoHeightShow,_rotation:e.videoRotation,_alignHide:!e.videoAlignShow,_onlyPercentage:e.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let s=this.setDialog(t);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,e.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},e.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=e.videoWidth,n.inputY.value=e.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const a=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],c=e.videoRatio,u=e.videoSizeOnlyPercentage,l=u?' style="display: none !important;"':"",f=e.videoHeightShow?"":' style="display: none !important;"',d=e.videoRatioShow?"":' style="display: none !important;"',g=!u&&!e.videoHeightShow&&!e.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+f+">"+i.dialogBox.height+'</label><label class="size-h"'+d+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(u?' type="number" min="1"':'type="text"')+(u?' max="100"':"")+'/><label class="se-dialog-size-x"'+g+">"+(u?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+e.videoRatio*100+'%"'+(u?' type="number" min="1"':'type="text"')+(u?' max="100"':"")+f+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+d+">",f||(s+='<option value=""> - </option>');for(let w=0,E=a.length;w<E;w++)s+='<option value="'+a[w].value+'"'+(c.toString()===a[w].value.toString()?" selected":"")+">"+a[w].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+l+g+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(e.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(t._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.videoTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createVideoTag:function(){const t=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,t),t},_setIframeAttrs:function(t){t.frameBorder="0",t.allowFullscreen=!0;const e=this.options.videoIframeAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createIframeTag:function(){const t=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,t),t},fileTags:["iframe","video"],select:function(t){this.plugins.video.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"video"))},destroy:function(t){const e=t||this.context.video._element,i=this.context.video._container,n=e.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const a=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),a!==this.context.element.wysiwyg&&this.util.removeItemAllParents(a,function(c){return c.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(t){const e=this.context.video;t?e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=e._origin_h=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.disabled=!0,e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.setAttribute("multiple","multiple")),e._resizing&&this.plugins.video.setVideoRatioSelect.call(this,e._origin_h||e._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(t){const e=this.context.video,i=t.target.options[t.target.selectedIndex].value;e._defaultSizeY=e._videoRatio=i?i*100+"%":e._defaultSizeY,e.inputY.placeholder=i?i*100+"%":"",e.inputY.value=""},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,t),t==="y"&&this.plugins.video.setVideoRatioSelect.call(this,e.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(t){const e=this.context.video,i=this.plugins.video;t.preventDefault(),t.stopPropagation(),e._align=e.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{e.videoInputFile&&e.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):e.videoUrlFile&&e._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,e._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let c=0,u=t.length;c<u;c++)/video/i.test(t[c].type)&&(i.push(t[c]),e+=t[c].size);const n=this.options.videoUploadSizeLimit;if(n>0){let c=0;const u=this.context.video._infoList;for(let l=0,f=u.length;l<f;l++)c+=u[l].size*1;if(e+c>n){this.closeLoading();const l="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(l,{limitSize:n,currentSize:c,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.video;s._uploadFileLength=i.length;const a={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){const c=this.functions.onVideoUploadBefore(i,a,this,(function(u){u&&this._w.Array.isArray(u.result)?this.plugins.video.register.call(this,a,u):this.plugins.video.upload.call(this,a,u)}).bind(this));if(typeof c>"u")return;if(!c){this.closeLoading();return}typeof c=="object"&&c.length>0&&(i=c)}this.plugins.video.upload.call(this,a,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.video.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.video.error.call(this,e,null);return}const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,t),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(t,e){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,t,i)}},register:function(t,e){const i=e.result,n=this.plugins.video.createVideoTag.call(this);for(let s=0,a=i.length,c;s<a;s++)c={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,t.isUpdate?t.element:n.cloneNode(!1),i[s].url,t.inputWidth,t.inputHeight,t.align,c,t.isUpdate);this.closeLoading()},setup_url:function(t){try{const e=this.context.video;if(t||(t=e._linkValue),!t||/^<iframe.*\/iframe>$/.test(t)&&(t=new this._w.DOMParser().parseFromString(t,"text/html").querySelector("iframe").src,t.length===0))return!1;if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._youtubeQuery+"&"+i[1]}else t+="?"+e._youtubeQuery}else if(/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1),e._vimeoQuery.length>0))if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._vimeoQuery+"&"+i[1]}else t+="?"+e._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(t)&&!/vimeo\.com/.test(t)?"createVideoTag":"createIframeTag"].call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(t,e,i,n,s,a,c){this.context.resizing._resize_plugin="video";const u=this.context.video;let l=null,f=null,d=!1;if(c){if(t=u._element,t.src!==e){d=!0;const L=/youtu\.?be/.test(e),o=/vimeo\.com/.test(e);if((L||o)&&!/^iframe$/i.test(t.nodeName)){const r=this.plugins.video.createIframeTag.call(this);r.src=e,t.parentNode.replaceChild(r,t),u._element=t=r}else if(!L&&!o&&!/^video$/i.test(t.nodeName)){const r=this.plugins.video.createVideoTag.call(this);r.src=e,t.parentNode.replaceChild(r,t),u._element=t=r}else t.src=e}f=u._container,l=this.util.getParentElement(t,"FIGURE")}else d=!0,t.src=e,u._element=t,l=this.plugins.component.set_cover.call(this,t),f=this.plugins.component.set_container.call(this,l,"se-video-container");u._cover=l,u._container=f;const g=this.plugins.resizing._module_getSizeX.call(this,u)!==(i||u._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,u)!==(n||u._videoRatio),w=!c||g;u._resizing&&(this.context.video._proportionChecked=u.proportion.checked,t.setAttribute("data-proportion",u._proportionChecked));let E=!1;w&&(E=this.plugins.video.applySize.call(this)),E&&s==="center"||this.plugins.video.setAlign.call(this,null,t,l,f);let C=!0;if(c)u._resizing&&this.context.resizing._rotateVertical&&w&&this.plugins.resizing.setTransformSize.call(this,t,null,null);else if(C=this.insertComponent(f,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const L=this.appendFormatTag(f,null);L&&this.setRange(L,0,L,0)}C&&(d&&this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,a,!0),c&&(this.selectComponent(t,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(t){if(!t)return;const e=this.context.video;/^video$/i.test(t.nodeName)?this.plugins.video._setTagAttrs.call(this,t):this.plugins.video._setIframeAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!0);const a=e._cover=this.plugins.component.set_cover.call(this,t),c=e._container=this.plugins.component.set_container.call(this,a,"se-video-container");try{const u=n.querySelector("figcaption");let l=null;u&&(l=this.util.createElement("DIV"),l.innerHTML=u.innerHTML,this.util.removeItem(u));const f=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,f[0]||s.style.width||s.width||"",f[1]||s.style.height||s.height||"");const d=this.util.getFormatElement(s);if(d&&(e._align=d.style.textAlign||d.style.float),this.plugins.video.setAlign.call(this,null,t,a,c),this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(c,s);else if(this.util.isListCell(n)){const g=this.util.getParentElement(s,function(w){return w.parentNode===n});n.insertBefore(c,g),this.util.removeItem(s),this.util.removeEmptyNode(g,null,!0)}else if(this.util.isFormatElement(n)){const g=this.util.getParentElement(s,function(w){return w.parentNode===n});n=this.util.splitElement(n,g),n.parentNode.insertBefore(c,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(c,n);l&&n.parentNode.insertBefore(l,c.nextElementSibling)}catch(u){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(t,e){const i=this.context.video;i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._align=t.style.float||t.getAttribute("data-align")||"none",t.style.float="",e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,a;n?(n=n.split(","),s=n[0],a=n[1]):e&&(s=e.w,a=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=a||t.style.height||t.height||""},openModify:function(t){const e=this.context.video;if(e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=e._element.src||(e._element.querySelector("source")||"").src||""),(e.modal.querySelector('input[name="suneditor_video_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,e._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.video);const i=e._videoRatio=this.plugins.resizing._module_getSizeY.call(this,e);this.plugins.video.setVideoRatioSelect.call(this,i)||(e.inputY.value=e._onlyPercentage?this.util.getNumber(i,2):i)}t||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(t){let e=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(t)||i._onlyPercentage?t=this.util.getNumber(t,2)/100+"":(!this.util.isNumber(t)||t*1>=1)&&(t=""),i.inputY.placeholder="";for(let s=0,a=n.length;s<a;s++)n[s].value===t?(e=n[s].selected=!0,i.inputY.placeholder=t?t*100+"%":""):n[s].selected=!1;return e},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(t,e){const i=this.context.video;return t||(t=i.inputX.value||this.options.videoWidth),e||(e=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(t)||!t?(this.plugins.video.setPercentSize.call(this,t||"100%",e||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,t,e||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(t,e,i,n){const s=this.context.video,a=/^(rw|lw)$/.test(n),c=/^(th|bh)$/.test(n);c||(t=this.util.getNumber(t,0)),a||(e=this.util.isNumber(e)?e+s.sizeUnit:e||""),t=t?t+s.sizeUnit:"",c||(s._element.style.width=t),a||(s._cover.style.paddingBottom=s._cover.style.height=e),!c&&!/%$/.test(t)&&(s._cover.style.width=t,s._container.style.width=""),!a&&!/%$/.test(e)?s._element.style.height=e:s._element.style.height="",i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(t){const e=this.context.video;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.video.cancelPercentAttr.call(this);const i=((t?e._element.getAttribute("data-size"):"")||e._element.getAttribute("data-origin")||"").split(",");if(i){const n=i[0],s=i[1];e._onlyPercentage||/%$/.test(n)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,n,s):this.plugins.video.setSize.call(this,n,s),this.plugins.resizing._module_saveCurrentSize.call(this,e)}},setPercentSize:function(t,e){const i=this.context.video;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||i._defaultRatio,i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=e,i._cover.style.paddingBottom=e,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.video;t._cover.style.width="",t._cover.style.height="",t._cover.style.paddingBottom="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.video._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.video;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:e.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.video;t.videoInputFile&&(t.videoInputFile.value=""),t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=""),t.videoInputFile&&t.videoUrlFile&&(t.videoUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._origin_w=this.options.videoWidth,t._origin_h=this.options.videoHeight,t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,t._resizing&&(t.inputX.value=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.checked=!0,t.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,t._defaultRatio))}},nc={name:"audio",display:"dialog",add:function(t){t.addModule([Ei,Vs,Us]);const e=t.context,i=e.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.options.audioWidth,_origin_h:t.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(t);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(t);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(t)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),n=null,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_createAudioTag:function(){const t=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,t);const e=this.context.audio._origin_w,i=this.context.audio._origin_h;return t.setAttribute("origin-size",e+","+i),t.style.cssText=(e?"width:"+e+"; ":"")+(i?"height:"+i+";":""),t},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.audioTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(t){this.plugins.audio.onModifyMode.call(this,t)},destroy:function(t){t=t||this.context.audio._element;const e=this.util.getParentElement(t,this.util.isComponent)||t,i=t.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(t,e,i,this)===!1)return;const n=e.previousElementSibling||e.nextElementSibling,s=e.parentNode;this.util.removeItem(e),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(a){return a.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(t){const e=this.context.audio;t?e._element?(this.context.dialog.updateModal=!0,e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src,e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple")):e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(t){const e=this.context.audio;t.preventDefault(),t.stopPropagation();try{e.audioInputFile&&e.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,e.audioInputFile.files)):e.audioUrlFile&&e._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,e._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let c=0,u=t.length;c<u;c++)/audio/i.test(t[c].type)&&(i.push(t[c]),e+=t[c].size);const n=this.options.audioUploadSizeLimit;if(n>0){let c=0;const u=this.context.audio._infoList;for(let l=0,f=u.length;l<f;l++)c+=u[l].size*1;if(e+c>n){this.closeLoading();const l="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(l,{limitSize:n,currentSize:c,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.audio;s._uploadFileLength=i.length;const a={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){const c=this.functions.onAudioUploadBefore(i,a,this,(function(u){u&&this._w.Array.isArray(u.result)?this.plugins.audio.register.call(this,a,u):this.plugins.audio.upload.call(this,a,u)}).bind(this));if(typeof c>"u")return;if(!c){this.closeLoading();return}typeof c=="object"&&c.length>0&&(i=c)}this.plugins.audio.upload.call(this,a,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.audio.exception] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.audio.error.call(this,e,null);return}const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:e.length,s=new FormData;for(let a=0;a<n;a++)s.append("file-"+a,e[a]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,t),this.functions.onAudioUploadError)},callBack_upload:function(t,e){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,a,c;n<s;n++)t.isUpdate?c=t.element:c=this.plugins.audio._createAudioTag.call(this),a={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,c,i[n].url,a,t.isUpdate);this.closeLoading()},setupUrl:function(t){try{if(t.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),t,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(t,e,i,n){const s=this.context.audio;if(n)if(s._element&&(t=s._element),t&&t.src!==e)t.src=e,this.selectComponent(t,"audio");else{this.selectComponent(t,"audio");return}else{t.src=e;const a=this.plugins.component.set_cover.call(this,t),c=this.plugins.component.set_container.call(this,a,"");if(!this.insertComponent(c,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const u=this.appendFormatTag(c,null);u&&this.setRange(u,0,u,0)}}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(t){const e=this.context.audio;this.plugins.audio._setTagAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!1);const a=this.plugins.component.set_cover.call(this,t),c=this.plugins.component.set_container.call(this,a,"se-audio-container");try{if(this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(c,s);else if(this.util.isListCell(n)){const u=this.util.getParentElement(s,function(l){return l.parentNode===n});n.insertBefore(c,u),this.util.removeItem(s),this.util.removeEmptyNode(u,null,!0)}else if(this.util.isFormatElement(n)){const u=this.util.getParentElement(s,function(l){return l.parentNode===n});n=this.util.splitElement(n,u),n.parentNode.insertBefore(c,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(c,n)}catch(u){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",u)}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(t){const e=this.context.audio;this.setControllerPosition(e.controller,t,"bottom",{left:0,top:0}),this.controllersOn(e.controller,t,this.plugins.audio.onControllerOff.bind(this,t),"audio"),this.util.addClass(t,"active"),e._element=t,e._cover=this.util.getParentElement(t,"FIGURE"),e._container=this.util.getParentElement(t,this.util.isComponent)},openModify:function(t){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}t||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(t){this.util.removeClass(t,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const t=this.context.audio;t.audioInputFile&&(t.audioInputFile.value=""),t.audioUrlFile&&(t._linkValue=t.preview.textContent=t.audioUrlFile.value=""),t.audioInputFile&&t.audioUrlFile&&(t.audioUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._element=null}},Nl="https://katex.org/docs/supported.html",sc={name:"math",display:"dialog",add:function(t){t.addModule([Ei]);const e=t.context;e.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(t);e.math.modal=i,e.math.focusElement=i.querySelector(".se-math-exp"),e.math.previewElement=i.querySelector(".se-math-preview"),e.math.fontSizeElement=i.querySelector(".se-math-size"),e.math.focusElement.addEventListener("paste",function(s){typeof t.functions.onPasteMath=="function"&&t.functions.onPasteMath(s,t)},!1),e.math.focusElement.addEventListener(t.util.isIE?"textinput":"input",this._renderMathExp.bind(t,e.math),!1),e.math.fontSizeElement.addEventListener("change",(function(s){this.fontSize=s.target.value}).bind(e.math.previewElement.style),!1);let n=this.setController_MathButton(t);e.math.mathController=n,e.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(t),!1),n.addEventListener("click",this.onClick_mathController.bind(t)),e.math.previewElement.style.fontSize=e.math.defaultFontSize,e.dialog.modal.appendChild(i),e.element.relative.appendChild(n),i=null,n=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.mathFontSize;let s=n[0].value;i.className="se-dialog-content",i.style.display="none";let a='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="'+Nl+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let c=0,u=n.length,l;c<u;c++)l=n[c],l.default&&(s=l.value),a+='<option value="'+l.value+'"'+(l.default?" selected":"")+">"+l.text+"</option>";return a+='</select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t.context.math.defaultFontSize=s,i.innerHTML=a,i},setController_MathButton:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(t){if(!t.getAttribute("data-exp")||!this.options.katex)return;const e=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(t.getAttribute("data-exp"))));t.innerHTML=e.querySelector(".katex").innerHTML,t.setAttribute("contenteditable",!1)}}},_renderer:function(t){let e="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),e=this.options.katex.src.renderToString(t,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),e='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+Nl+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return e},_renderMathExp:function(t,e){t.previewElement.innerHTML=this.plugins.math._renderer.call(this,e.target.value)},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();const e=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const i=this.context.math,n=i.focusElement.value,s=i.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(n)),s.setAttribute("data-font-size",i.fontSizeElement.value),s.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){const a=this.util.getParentElement(i._mathExp,".katex");a.parentNode.replaceChild(s,a),this.setRange(s,0,s,1)}else{const a=this.getSelectedElements();if(a.length>1){const u=this.util.createElement(a[0].nodeName);if(u.appendChild(s),!this.insertNode(u,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;const c=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(c,s.nextSibling),this.setRange(s,0,s,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}).bind(this);try{e()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(t.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(t,0,t,1),this.plugins.math.call_controller.call(this,t)),!0;return!1},on:function(t){if(!t)this.plugins.math.init.call(this);else{const e=this.context.math;if(e._mathExp){const i=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),n=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=i,e.fontSizeElement.value=n,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),e.previewElement.style.fontSize=n}}},call_controller:function(t){this.context.math._mathExp=t;const e=this.context.math.mathController;this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"math")},onClick_mathController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const t=this.context.math;t.mathController.style.display="none",t._mathExp=null,t.focusElement.value="",t.previewElement.innerHTML=""}};var tn={exports:{}},lc=tn.exports,Dl;function oc(){return Dl||(Dl=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:lc,function(e,i){const n={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(s){const a=s.context;a.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let c=s.util.createElement("DIV");c.className="se-file-browser sun-editor-common";let u=s.util.createElement("DIV");u.className="se-file-browser-back";let l=s.util.createElement("DIV");l.className="se-file-browser-inner",l.innerHTML=this.set_browser(s),c.appendChild(u),c.appendChild(l),this._loading=c.querySelector(".se-loading-box"),a.fileBrowser.area=c,a.fileBrowser.header=l.querySelector(".se-file-browser-header"),a.fileBrowser.titleArea=l.querySelector(".se-file-browser-title"),a.fileBrowser.tagArea=l.querySelector(".se-file-browser-tags"),a.fileBrowser.body=l.querySelector(".se-file-browser-body"),a.fileBrowser.list=l.querySelector(".se-file-browser-list"),a.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(s)),a.fileBrowser.list.addEventListener("click",this.onClickFile.bind(s)),l.addEventListener("mousedown",this._onMouseDown_browser.bind(s)),l.addEventListener("click",this._onClick_browser.bind(s)),a.element.relative.appendChild(c),c=null,u=null,l=null},set_browser:function(s){const a=s.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+a.dialogBox.close+'" aria-label="'+a.dialogBox.close+'">'+s.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(s){/se-file-browser-inner/.test(s.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(s){s.stopPropagation(),(/close/.test(s.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(s,a){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(f){/27/.test(f.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const c=this.context.fileBrowser;c.contextPlugin=s,c.selectorHandler=a;const u=this.context[s],l=u.listClass;this.util.hasClass(c.list,l)||(c.list.className="se-file-browser-list "+l),this.options.popupDisplay==="full"?c.area.style.position="fixed":c.area.style.position="absolute",c.titleArea.textContent=u.title,c.area.style.display="block",this.context[s].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[s].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[s].url,this.context[s].header)},_bindClose:null,close:function(){const s=this.plugins.fileBrowser;s._xmlHttp&&s._xmlHttp.abort(),s._bindClose&&(this._d.removeEventListener("keydown",s._bindClose),s._bindClose=null);const a=this.context.fileBrowser;a.area.style.display="none",a.selectorHandler=null,a.selectedTags=[],a.items=[],a.list.innerHTML=a.tagArea.innerHTML=a.titleArea.textContent="",typeof this.plugins[a.contextPlugin].init=="function"&&this.plugins[a.contextPlugin].init.call(this),a.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(s,a){const c=this.plugins.fileBrowser,u=c._xmlHttp=this.util.getXMLHttpRequest();if(u.onreadystatechange=c._callBackGet.bind(this,u),u.open("get",s,!0),a!==null&&typeof a=="object"&&this._w.Object.keys(a).length>0)for(let l in a)u.setRequestHeader(l,a[l]);u.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(s){if(s.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,s.status===200)try{const a=JSON.parse(s.responseText);a.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,a.result,!0):a.nullMessage&&(this.context.fileBrowser.list.innerHTML=a.nullMessage)}catch(a){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+a.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),s.status!==0){const a=s.responseText?JSON.parse(s.responseText):s,c="[SUNEDITOR.fileBrowser.get.serverException] status: "+s.status+", response: "+(a.errorMessage||s.responseText);throw Error(c)}}},_drawListItem:function(s,a){const c=this.context.fileBrowser,u=this.context[c.contextPlugin],l=[],f=s.length,d=u.columnSize||c.columnSize,g=d<=1?1:Math.round(f/d)||1,w=u.itemTemplateHandler;let E="",C='<div class="se-file-item-column">',L=1;for(let o=0,r,h;o<f;o++)if(r=s[o],h=r.tag?typeof r.tag=="string"?r.tag.split(","):r.tag:[],h=r.tag=h.map(function(p){return p.trim()}),C+=w(r),(o+1)%g===0&&L<d&&o+1<f&&(L++,C+='</div><div class="se-file-item-column">'),a&&h.length>0)for(let p=0,b=h.length,v;p<b;p++)v=h[p],v&&l.indexOf(v)===-1&&(l.push(v),E+='<a title="'+v+'" aria-label="'+v+'">'+v+"</a>");C+="</div>",c.list.innerHTML=C,a&&(c.items=s,c.tagArea.innerHTML=E,c.tagElements=c.tagArea.querySelectorAll("A"))},onClickTag:function(s){const a=s.target;if(!this.util.isAnchor(a))return;const c=a.textContent,u=this.plugins.fileBrowser,l=this.context.fileBrowser,f=l.tagArea.querySelector('a[title="'+c+'"]'),d=l.selectedTags,g=d.indexOf(c);g>-1?(d.splice(g,1),this.util.removeClass(f,"on")):(d.push(c),this.util.addClass(f,"on")),u._drawListItem.call(this,d.length===0?l.items:l.items.filter(function(w){return w.tag.some(function(E){return d.indexOf(E)>-1})}),!1)},onClickFile:function(s){s.preventDefault(),s.stopPropagation();const a=this.context.fileBrowser,c=a.list;let u=s.target,l=null;if(u===c)return;for(;c!==u.parentNode&&(l=u.getAttribute("data-command"),!l);)u=u.parentNode;if(!l)return;(a.selectorHandler||this.context[a.contextPlugin].selectorHandler)(u,u.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(tn)),tn.exports}var ac=oc();const rc=zt(ac),cc={name:"imageGallery",add:function(t){t.addModule([rc]);const e=t.context;e.imageGallery={title:t.lang.toolbar.imageGallery,directData:t.options.imageGalleryData,url:t.options.imageGalleryUrl,header:t.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(t),columnSize:4}},open:function(t){this.plugins.fileBrowser.open.call(this,"imageGallery",t)},drawItems:function(t){const e=t.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(t.thumbnail||t.src)+'" alt="'+(t.alt||e)+'" data-command="pick" data-value="'+(t.src||t.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(t.name||e)+"</div></div>"},setImage:function(t,e){this.callPlugin("image",(function(){const i={name:e,size:0};this.plugins.image.create_image.call(this,t.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,t.alt)}).bind(this),null)}},dc={blockquote:Lr,align:kr,font:Nr,fontSize:Dr,fontColor:Ar,hiliteColor:Br,horizontalRule:Mr,list:Or,table:zr,formatBlock:Ir,lineHeight:Hr,template:Rr,paragraphStyle:Fr,textStyle:Pr,link:$r,image:tc,video:ic,audio:nc,math:sc,imageGallery:cc};var nn={exports:{}},uc=nn.exports,Al;function hc(){return Al||(Al=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:uc,function(e,i){const n={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"Schriftgre",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe fr Hervorhebungen",indent:"Einzug vergrern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"Aufzhlung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"Rckgngig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"Zeilenhhe",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie",dir_ltr:"Links nach rechts",dir_rtl:"Rechts nach links",mention:"Erwhnen"},dialogBox:{linkBox:{title:"Link einfgen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen",downloadLinkCheck:"Download-Link",bookmark:"Lesezeichen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"Schriftgre",previewLabel:"Vorschau"},imageBox:{title:"Bild einfgen",file:"Datei auswhlen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video einfgen",file:"Datei auswhlen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio einfgen",file:"Datei auswhlen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"Schlieen",submitButton:"bernehmen",revertButton:"Rckgngig",proportion:"Seitenverhltnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"Hhe",size:"Gre",ratio:"Verhltnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"Lschen",insertRowAbove:"Zeile oberhalb einfgen",insertRowBelow:"Zeile unterhalb einfgen",deleteRow:"Zeile lschen",insertColumnBefore:"Spalte links einfgen",insertColumnAfter:"Spalte rechts einfgen",deleteColumn:"Spalte lschen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische Grenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale Gre",minSize:"Mindestgre",tableHeader:"Tabellenberschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(nn)),nn.exports}var fc=hc();const gc=zt(fc),vs=document.documentElement;function Ws(){document.querySelectorAll("[data-wysiwyg]").forEach(e=>{if(e.wysiwygInited)return;const i=e.nextElementSibling;i?.classList?.contains("sun-editor")&&i.remove(),pc(e)})}function pc(t){const e=t.closest("[data-overlayscrollbars-viewport]"),i=t.closest("form"),n=t.closest("[data-wysiwyg-wrapper]"),s={de:gc},a=vs.lang;i&&i.addEventListener("submit",g=>{if(i.waitWysiwygEditotSaving){g.preventDefault(),console.error("wait for the wysiwyg editor to process and save the data");return}});const c=t.dataset.buttonList,u=+t.dataset.charLimit||null;let l=[["undo","redo"],["formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["align","list"],["link","image"],["fullScreen","showBlocks","codeView"],["removeFormat"]];c&&(l=[],c.split("|").forEach(w=>{l.push(w.split(","))}));const f={plugins:dc,buttonList:l,formats:["p","h2","h3","h4","h5","h6"],maxCharCount:u,width:"auto",height:"auto",minHeight:t.dataset.height||"200px",tagsBlacklist:"span",attributesBlacklist:{all:"style"},attributesWhitelist:{img:"src|srcset|alt|style|width|height|data-.+"},icons:bc(),placeholder:t.getAttribute("placeholder")||null,linkProtocol:"",lang:s[a]},d=Tr.create(t,f);if(t.wysiwygInited=!0,d.onImageUploadBefore=function(g,w,E,C){const L=new FormData;L.append("image",g[0]),axios.post("/admin/upload-image",L,{headers:{"X-CSRF-TOKEN":document.querySelector("meta[name=csrf-token]").content}}).then(o=>{C({result:o.data.result})}).catch(o=>{C({errorMessage:o})})},d.toggleFullScreen=function(g,w){vs.classList.toggle("wysiwyg-full-screen",g),g?Oo(d):e&&(ai(e,d,n),Pi(e,d,n))},d.onPaste=function(g,w,E,C){const L=window.location.origin,o=new RegExp(L,"g");return w=w.replace(/&nbsp;/g," "),w=w.replace(o,""),w},d.onImageUpload=function(g,w,E,C,L,o){o.context.element.wysiwyg.dispatchEvent(new Event("input",{bubbles:!0}))},d.onChange=function(g,w){i&&(i.waitWysiwygEditotSaving=!0,i.classList.add("waiting"));const C=new DOMParser().parseFromString(g,"text/html"),L=C.querySelectorAll(".se-image-container"),o=C.querySelectorAll(".se-video-container");L.forEach(r=>{const h=r.querySelector("img"),p=r.querySelector("figure");if(!h||!p){console.warn("Missing <img> or <figure> in a container. Skipping.");return}const b=C.createElement("picture"),v=r.classList.contains("__se__float-left")?"left":r.classList.contains("__se__float-right")?"right":null;v&&p.classList.add(`float-${v}`),p.insertBefore(b,h),b.appendChild(h),C.body.insertBefore(p,r),r.remove()}),o.forEach(r=>{const h=r.querySelector("iframe"),p=r.querySelector("figure");if(!h||!p){console.warn("Missing <iframe> or <figure> in a container. Skipping.");return}const b=r.classList.contains("__se__float-left")?"left":r.classList.contains("__se__float-right")?"right":null;b&&p.classList.add(`float-${b}`),C.body.insertBefore(p,r),r.remove()}),t.value=mc(C.getElementsByTagName("body")[0].innerHTML),i&&(i.waitWysiwygEditotSaving=!1,i.classList.remove("waiting"))},e){let g=null;ai(e,d,n),e.addEventListener("scroll",()=>{Pi(e,d,n)}),window.addEventListener("resize",()=>{clearTimeout(g),g=setTimeout(()=>{ai(e,d,n),Pi(e,d,n)},150)})}document.addEventListener("togglesidebar",()=>{ai(e,d,n),Pi(e,d,n)})}function mc(t){let e=t.trim();const i=/(?:<p\s*>\s*(?:<br\s*>)?\s*<\/p>\s*)+$/i;return e=e.replace(i,""),e.trim()}function Pi(t,e,i){if(!t)return;const n=e.scrollProps||ai(t,e,i),s=t.scrollTop,a=n.toolbar,c=e.core.context.element.relative;if(n.editor.height>n.scrWrap.height)if(s>=n.editor.top&&!vs.classList.contains("wysiwyg-full-screen")){const u=s>n.maxFixedScroll?n.maxFixedScroll+n.scrWrap.top-s+"px":n.scrWrap.top+"px";a.classList.add("se-toolbar-sticky"),a.style.top=u,a.style.width=n.editor.width-2+"px",c.style.setProperty("--toolbar-height",a.offsetHeight+"px")}else Oo(e)}function Oo(t){const e=t.core.context.element.toolbar;e.classList.remove("se-toolbar-sticky"),e.style=null}function ai(t,e,i){if(!t)return;const n=t.getBoundingClientRect(),s=e.core.context.element.topArea,a=e.core.context.element.toolbar,c=n.top,u=t.offsetHeight,l=i.offsetTop,f=s.offsetWidth,d=s.offsetHeight,g=l+d-300;return e.scrollProps={area:s,toolbar:a,maxFixedScroll:g,scrWrap:{top:c,height:u},editor:{top:l,width:f,height:d}},e.scrollProps}function bc(){return{undo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57s-2.687-1.08-2.687-2.57zM12.5 15h-9v-1h9z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"/></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.333 5.686c0 .31.083.581.27.814H5.166a2.8 2.8 0 0 1-.099-.76c0-1.627 1.436-2.768 3.48-2.768 1.969 0 3.39 1.175 3.445 2.85h-1.23c-.11-1.08-.964-1.743-2.25-1.743-1.23 0-2.18.602-2.18 1.607zm2.194 7.478c-2.153 0-3.589-1.107-3.705-2.81h1.23c.144 1.06 1.129 1.703 2.544 1.703 1.34 0 2.31-.705 2.31-1.675 0-.827-.547-1.374-1.914-1.675L8.046 8.5H1v-1h14v1h-3.504c.468.437.675.994.675 1.697 0 1.826-1.436 2.967-3.644 2.967"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m3.266 12.496.96-2.853H7.76l.96 2.853H10L6.62 3H5.38L2 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm6.132 7.203v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V15h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41-1.23 0-1.795.8-1.795 1.576v.06z"/></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m4.266 12.496.96-2.853H8.76l.96 2.853H11L7.62 3H6.38L3 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm5.132-1.797v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V6h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41C11.565 1 11 1.8 11 2.576v.06z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5"/><path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/><path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"/></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707"/></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707M15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707"/></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6 1v3H1V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm14 12v3h-5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM6 8v7H1V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm14-6v7h-5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0m6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0"/></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"/></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/></svg>'}}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Bl(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function lt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Bl(Object(i),!0).forEach(function(n){vc(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Bl(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function sn(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?sn=function(e){return typeof e}:sn=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(t)}function vc(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gt(){return gt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},gt.apply(this,arguments)}function yc(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,a;for(a=0;a<n.length;a++)s=n[a],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function _c(t,e){if(t==null)return{};var i=yc(t,e),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(s=0;s<a.length;s++)n=a[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var wc="1.15.6";function ht(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var mt=ht(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ti=ht(/Edge/i),Ml=ht(/firefox/i),hi=ht(/safari/i)&&!ht(/chrome/i)&&!ht(/android/i),Zs=ht(/iP(ad|od|hone)/i),zo=ht(/chrome/i)&&ht(/android/i),Io={capture:!1,passive:!1};function de(t,e,i){t.addEventListener(e,i,!mt&&Io)}function re(t,e,i){t.removeEventListener(e,i,!mt&&Io)}function fn(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ho(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function je(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&fn(t,e):fn(t,e))||n&&t===i)return t;if(t===i)break}while(t=Ho(t))}return null}var Ol=/\s+/g;function He(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(Ol," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(Ol," ")}}function ee(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function Yt(t,e){var i="";if(typeof t=="string")i=t;else do{var n=ee(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function Ro(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,a=n.length;if(i)for(;s<a;s++)i(n[s],s);return n}return[]}function nt(){var t=document.scrollingElement;return t||document.documentElement}function Te(t,e,i,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var a,c,u,l,f,d,g;if(t!==window&&t.parentNode&&t!==nt()?(a=t.getBoundingClientRect(),c=a.top,u=a.left,l=a.bottom,f=a.right,d=a.height,g=a.width):(c=0,u=0,l=window.innerHeight,f=window.innerWidth,d=window.innerHeight,g=window.innerWidth),(e||i)&&t!==window&&(s=s||t.parentNode,!mt))do if(s&&s.getBoundingClientRect&&(ee(s,"transform")!=="none"||i&&ee(s,"position")!=="static")){var w=s.getBoundingClientRect();c-=w.top+parseInt(ee(s,"border-top-width")),u-=w.left+parseInt(ee(s,"border-left-width")),l=c+a.height,f=u+a.width;break}while(s=s.parentNode);if(n&&t!==window){var E=Yt(s||t),C=E&&E.a,L=E&&E.d;E&&(c/=L,u/=C,g/=C,d/=L,l=c+d,f=u+g)}return{top:c,left:u,bottom:l,right:f,width:g,height:d}}}function zl(t,e,i){for(var n=Ct(t,!0),s=Te(t)[e];n;){var a=Te(n)[i],c=void 0;if(c=s>=a,!c)return n;if(n===nt())break;n=Ct(n,!1)}return!1}function Kt(t,e,i,n){for(var s=0,a=0,c=t.children;a<c.length;){if(c[a].style.display!=="none"&&c[a]!==te.ghost&&(n||c[a]!==te.dragged)&&je(c[a],i.draggable,t,!1)){if(s===e)return c[a];s++}a++}return null}function $s(t,e){for(var i=t.lastElementChild;i&&(i===te.ghost||ee(i,"display")==="none"||e&&!fn(i,e));)i=i.previousElementSibling;return i||null}function $e(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==te.clone&&(!e||fn(t,e))&&i++;return i}function Il(t){var e=0,i=0,n=nt();if(t)do{var s=Yt(t),a=s.a,c=s.d;e+=t.scrollLeft*a,i+=t.scrollTop*c}while(t!==n&&(t=t.parentNode));return[e,i]}function Cc(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function Ct(t,e){if(!t||!t.getBoundingClientRect)return nt();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=ee(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return nt();if(n||e)return i;n=!0}}while(i=i.parentNode);return nt()}function xc(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Yn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var fi;function Fo(t,e){return function(){if(!fi){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),fi=setTimeout(function(){fi=void 0},e)}}}function Sc(){clearTimeout(fi),fi=void 0}function Po(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Vo(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function Uo(t,e,i){var n={};return Array.from(t.children).forEach(function(s){var a,c,u,l;if(!(!je(s,e.draggable,t,!1)||s.animated||s===i)){var f=Te(s);n.left=Math.min((a=n.left)!==null&&a!==void 0?a:1/0,f.left),n.top=Math.min((c=n.top)!==null&&c!==void 0?c:1/0,f.top),n.right=Math.max((u=n.right)!==null&&u!==void 0?u:-1/0,f.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,f.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var Oe="Sortable"+new Date().getTime();function Ec(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(ee(s,"display")==="none"||s===te.ghost)){t.push({target:s,rect:Te(s)});var a=lt({},t[t.length-1].rect);if(s.thisAnimationDuration){var c=Yt(s,!0);c&&(a.top-=c.f,a.left-=c.e)}s.fromRect=a}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(Cc(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var a=!1,c=0;t.forEach(function(u){var l=0,f=u.target,d=f.fromRect,g=Te(f),w=f.prevFromRect,E=f.prevToRect,C=u.rect,L=Yt(f,!0);L&&(g.top-=L.f,g.left-=L.e),f.toRect=g,f.thisAnimationDuration&&Yn(w,g)&&!Yn(d,g)&&(C.top-g.top)/(C.left-g.left)===(d.top-g.top)/(d.left-g.left)&&(l=Lc(C,w,E,s.options)),Yn(g,d)||(f.prevFromRect=d,f.prevToRect=g,l||(l=s.options.animation),s.animate(f,C,g,l)),l&&(a=!0,c=Math.max(c,l),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},l),f.thisAnimationDuration=l)}),clearTimeout(e),a?e=setTimeout(function(){typeof n=="function"&&n()},c):typeof n=="function"&&n(),t=[]},animate:function(n,s,a,c){if(c){ee(n,"transition",""),ee(n,"transform","");var u=Yt(this.el),l=u&&u.a,f=u&&u.d,d=(s.left-a.left)/(l||1),g=(s.top-a.top)/(f||1);n.animatingX=!!d,n.animatingY=!!g,ee(n,"transform","translate3d("+d+"px,"+g+"px,0)"),this.forRepaintDummy=Tc(n),ee(n,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:"")),ee(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ee(n,"transition",""),ee(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},c)}}}}function Tc(t){return t.offsetWidth}function Lc(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var Ht=[],Xn={initializeByDefault:!0},Li={mount:function(e){for(var i in Xn)Xn.hasOwnProperty(i)&&!(i in e)&&(e[i]=Xn[i]);Ht.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ht.push(e)},pluginEvent:function(e,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var a=e+"Global";Ht.forEach(function(c){i[c.pluginName]&&(i[c.pluginName][a]&&i[c.pluginName][a](lt({sortable:i},n)),i.options[c.pluginName]&&i[c.pluginName][e]&&i[c.pluginName][e](lt({sortable:i},n)))})},initializePlugins:function(e,i,n,s){Ht.forEach(function(u){var l=u.pluginName;if(!(!e.options[l]&&!u.initializeByDefault)){var f=new u(e,i,e.options);f.sortable=e,f.options=e.options,e[l]=f,gt(n,f.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var c=this.modifyOption(e,a,e.options[a]);typeof c<"u"&&(e.options[a]=c)}},getEventProperties:function(e,i){var n={};return Ht.forEach(function(s){typeof s.eventProperties=="function"&&gt(n,s.eventProperties.call(i[s.pluginName],e))}),n},modifyOption:function(e,i,n){var s;return Ht.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[i]=="function"&&(s=a.optionListeners[i].call(e[a.pluginName],n))}),s}};function kc(t){var e=t.sortable,i=t.rootEl,n=t.name,s=t.targetEl,a=t.cloneEl,c=t.toEl,u=t.fromEl,l=t.oldIndex,f=t.newIndex,d=t.oldDraggableIndex,g=t.newDraggableIndex,w=t.originalEvent,E=t.putSortable,C=t.extraEventProperties;if(e=e||i&&i[Oe],!!e){var L,o=e.options,r="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!mt&&!Ti?L=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(L=document.createEvent("Event"),L.initEvent(n,!0,!0)),L.to=c||i,L.from=u||i,L.item=s||i,L.clone=a,L.oldIndex=l,L.newIndex=f,L.oldDraggableIndex=d,L.newDraggableIndex=g,L.originalEvent=w,L.pullMode=E?E.lastPutMode:void 0;var h=lt(lt({},C),Li.getEventProperties(n,e));for(var p in h)L[p]=h[p];i&&i.dispatchEvent(L),o[r]&&o[r].call(e,L)}}var Nc=["evt"],Me=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,a=_c(n,Nc);Li.pluginEvent.bind(te)(e,i,lt({dragEl:X,parentEl:Se,ghostEl:le,rootEl:_e,nextEl:At,lastDownEl:ln,cloneEl:Ce,cloneHidden:wt,dragStarted:ri,putSortable:De,activeSortable:te.active,originalEvent:s,oldIndex:Ut,oldDraggableIndex:gi,newIndex:Re,newDraggableIndex:_t,hideGhostForTarget:qo,unhideGhostForTarget:Yo,cloneNowHidden:function(){wt=!0},cloneNowShown:function(){wt=!1},dispatchSortableEvent:function(u){Be({sortable:i,name:u,originalEvent:s})}},a))};function Be(t){kc(lt({putSortable:De,cloneEl:Ce,targetEl:X,rootEl:_e,oldIndex:Ut,oldDraggableIndex:gi,newIndex:Re,newDraggableIndex:_t},t))}var X,Se,le,_e,At,ln,Ce,wt,Ut,Re,gi,_t,Vi,De,Pt=!1,gn=!1,pn=[],kt,Ye,jn,Kn,Hl,Rl,ri,Rt,pi,mi=!1,Ui=!1,on,Ae,Gn=[],ys=!1,mn=[],Bn=typeof document<"u",Wi=Zs,Fl=Ti||mt?"cssFloat":"float",Dc=Bn&&!zo&&!Zs&&"draggable"in document.createElement("div"),Wo=(function(){if(Bn){if(mt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Zo=function(e,i){var n=ee(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=Kt(e,0,i),c=Kt(e,1,i),u=a&&ee(a),l=c&&ee(c),f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Te(a).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Te(c).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&u.float&&u.float!=="none"){var g=u.float==="left"?"left":"right";return c&&(l.clear==="both"||l.clear===g)?"vertical":"horizontal"}return a&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||f>=s&&n[Fl]==="none"||c&&n[Fl]==="none"&&f+d>s)?"vertical":"horizontal"},Ac=function(e,i,n){var s=n?e.left:e.top,a=n?e.right:e.bottom,c=n?e.width:e.height,u=n?i.left:i.top,l=n?i.right:i.bottom,f=n?i.width:i.height;return s===u||a===l||s+c/2===u+f/2},Bc=function(e,i){var n;return pn.some(function(s){var a=s[Oe].options.emptyInsertThreshold;if(!(!a||$s(s))){var c=Te(s),u=e>=c.left-a&&e<=c.right+a,l=i>=c.top-a&&i<=c.bottom+a;if(u&&l)return n=s}}),n},$o=function(e){function i(a,c){return function(u,l,f,d){var g=u.options.group.name&&l.options.group.name&&u.options.group.name===l.options.group.name;if(a==null&&(c||g))return!0;if(a==null||a===!1)return!1;if(c&&a==="clone")return a;if(typeof a=="function")return i(a(u,l,f,d),c)(u,l,f,d);var w=(c?u:l).options.group.name;return a===!0||typeof a=="string"&&a===w||a.join&&a.indexOf(w)>-1}}var n={},s=e.group;(!s||sn(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,e.group=n},qo=function(){!Wo&&le&&ee(le,"display","none")},Yo=function(){!Wo&&le&&ee(le,"display","")};Bn&&!zo&&document.addEventListener("click",function(t){if(gn)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),gn=!1,!1},!0);var Nt=function(e){if(X){e=e.touches?e.touches[0]:e;var i=Bc(e.clientX,e.clientY);if(i){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[Oe]._onDragOver(n)}}},Mc=function(e){X&&X.parentNode[Oe]._isOutsideThisEl(e.target)};function te(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=gt({},e),t[Oe]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Zo(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(c,u){c.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:te.supportPointer!==!1&&"PointerEvent"in window&&(!hi||Zs),emptyInsertThreshold:5};Li.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);$o(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:Dc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?de(t,"pointerdown",this._onTapStart):(de(t,"mousedown",this._onTapStart),de(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(de(t,"dragover",this),de(t,"dragenter",this)),pn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),gt(this,Ec())}te.prototype={constructor:te,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Rt=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,X):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,s=this.options,a=s.preventOnFilter,c=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(u||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,d=s.filter;if(Vc(n),!X&&!(/mousedown|pointerdown/.test(c)&&e.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&hi&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=je(l,s.draggable,n,!1),!(l&&l.animated)&&ln!==l)){if(Ut=$e(l),gi=$e(l,s.draggable),typeof d=="function"){if(d.call(this,e,l,this)){Be({sortable:i,rootEl:f,name:"filter",targetEl:l,toEl:n,fromEl:n}),Me("filter",i,{evt:e}),a&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(g){if(g=je(f,g.trim(),n,!1),g)return Be({sortable:i,rootEl:g,name:"filter",targetEl:l,fromEl:n,toEl:n}),Me("filter",i,{evt:e}),!0}),d)){a&&e.preventDefault();return}s.handle&&!je(f,s.handle,n,!1)||this._prepareDragStart(e,u,l)}}},_prepareDragStart:function(e,i,n){var s=this,a=s.el,c=s.options,u=a.ownerDocument,l;if(n&&!X&&n.parentNode===a){var f=Te(n);if(_e=a,X=n,Se=X.parentNode,At=X.nextSibling,ln=n,Vi=c.group,te.dragged=X,kt={target:X,clientX:(i||e).clientX,clientY:(i||e).clientY},Hl=kt.clientX-f.left,Rl=kt.clientY-f.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,X.style["will-change"]="all",l=function(){if(Me("delayEnded",s,{evt:e}),te.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!Ml&&s.nativeDraggable&&(X.draggable=!0),s._triggerDragStart(e,i),Be({sortable:s,name:"choose",originalEvent:e}),He(X,c.chosenClass,!0)},c.ignore.split(",").forEach(function(d){Ro(X,d.trim(),Qn)}),de(u,"dragover",Nt),de(u,"mousemove",Nt),de(u,"touchmove",Nt),c.supportPointer?(de(u,"pointerup",s._onDrop),!this.nativeDraggable&&de(u,"pointercancel",s._onDrop)):(de(u,"mouseup",s._onDrop),de(u,"touchend",s._onDrop),de(u,"touchcancel",s._onDrop)),Ml&&this.nativeDraggable&&(this.options.touchStartThreshold=4,X.draggable=!0),Me("delayStart",this,{evt:e}),c.delay&&(!c.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(Ti||mt))){if(te.eventCanceled){this._onDrop();return}c.supportPointer?(de(u,"pointerup",s._disableDelayedDrag),de(u,"pointercancel",s._disableDelayedDrag)):(de(u,"mouseup",s._disableDelayedDrag),de(u,"touchend",s._disableDelayedDrag),de(u,"touchcancel",s._disableDelayedDrag)),de(u,"mousemove",s._delayedDragTouchMoveHandler),de(u,"touchmove",s._delayedDragTouchMoveHandler),c.supportPointer&&de(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,c.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){X&&Qn(X),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;re(e,"mouseup",this._disableDelayedDrag),re(e,"touchend",this._disableDelayedDrag),re(e,"touchcancel",this._disableDelayedDrag),re(e,"pointerup",this._disableDelayedDrag),re(e,"pointercancel",this._disableDelayedDrag),re(e,"mousemove",this._delayedDragTouchMoveHandler),re(e,"touchmove",this._delayedDragTouchMoveHandler),re(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?de(document,"pointermove",this._onTouchMove):i?de(document,"touchmove",this._onTouchMove):de(document,"mousemove",this._onTouchMove):(de(X,"dragend",this),de(_e,"dragstart",this._onDragStart));try{document.selection?an(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Pt=!1,_e&&X){Me("dragStarted",this,{evt:i}),this.nativeDraggable&&de(document,"dragover",Mc);var n=this.options;!e&&He(X,n.dragClass,!1),He(X,n.ghostClass,!0),te.active=this,e&&this._appendGhost(),Be({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Ye){this._lastX=Ye.clientX,this._lastY=Ye.clientY,qo();for(var e=document.elementFromPoint(Ye.clientX,Ye.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ye.clientX,Ye.clientY),e!==i);)i=e;if(X.parentNode[Oe]._isOutsideThisEl(e),i)do{if(i[Oe]){var n=void 0;if(n=i[Oe]._onDragOver({clientX:Ye.clientX,clientY:Ye.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=Ho(i));Yo()}},_onTouchMove:function(e){if(kt){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,a=e.touches?e.touches[0]:e,c=le&&Yt(le,!0),u=le&&c&&c.a,l=le&&c&&c.d,f=Wi&&Ae&&Il(Ae),d=(a.clientX-kt.clientX+s.x)/(u||1)+(f?f[0]-Gn[0]:0)/(u||1),g=(a.clientY-kt.clientY+s.y)/(l||1)+(f?f[1]-Gn[1]:0)/(l||1);if(!te.active&&!Pt){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(le){c?(c.e+=d-(jn||0),c.f+=g-(Kn||0)):c={a:1,b:0,c:0,d:1,e:d,f:g};var w="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");ee(le,"webkitTransform",w),ee(le,"mozTransform",w),ee(le,"msTransform",w),ee(le,"transform",w),jn=d,Kn=g,Ye=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!le){var e=this.options.fallbackOnBody?document.body:_e,i=Te(X,!0,Wi,!0,e),n=this.options;if(Wi){for(Ae=e;ee(Ae,"position")==="static"&&ee(Ae,"transform")==="none"&&Ae!==document;)Ae=Ae.parentNode;Ae!==document.body&&Ae!==document.documentElement?(Ae===document&&(Ae=nt()),i.top+=Ae.scrollTop,i.left+=Ae.scrollLeft):Ae=nt(),Gn=Il(Ae)}le=X.cloneNode(!0),He(le,n.ghostClass,!1),He(le,n.fallbackClass,!0),He(le,n.dragClass,!0),ee(le,"transition",""),ee(le,"transform",""),ee(le,"box-sizing","border-box"),ee(le,"margin",0),ee(le,"top",i.top),ee(le,"left",i.left),ee(le,"width",i.width),ee(le,"height",i.height),ee(le,"opacity","0.8"),ee(le,"position",Wi?"absolute":"fixed"),ee(le,"zIndex","100000"),ee(le,"pointerEvents","none"),te.ghost=le,e.appendChild(le),ee(le,"transform-origin",Hl/parseInt(le.style.width)*100+"% "+Rl/parseInt(le.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,s=e.dataTransfer,a=n.options;if(Me("dragStart",this,{evt:e}),te.eventCanceled){this._onDrop();return}Me("setupClone",this),te.eventCanceled||(Ce=Vo(X),Ce.removeAttribute("id"),Ce.draggable=!1,Ce.style["will-change"]="",this._hideClone(),He(Ce,this.options.chosenClass,!1),te.clone=Ce),n.cloneId=an(function(){Me("clone",n),!te.eventCanceled&&(n.options.removeCloneOnHide||_e.insertBefore(Ce,X),n._hideClone(),Be({sortable:n,name:"clone"}))}),!i&&He(X,a.dragClass,!0),i?(gn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(re(document,"mouseup",n._onDrop),re(document,"touchend",n._onDrop),re(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",a.setData&&a.setData.call(n,s,X)),de(document,"drop",n),ee(X,"transform","translateZ(0)")),Pt=!0,n._dragStartId=an(n._dragStarted.bind(n,i,e)),de(document,"selectstart",n),ri=!0,window.getSelection().removeAllRanges(),hi&&ee(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,s,a,c,u=this.options,l=u.group,f=te.active,d=Vi===l,g=u.sort,w=De||f,E,C=this,L=!1;if(ys)return;function o(H,F){Me(H,C,lt({evt:e,isOwner:d,axis:E?"vertical":"horizontal",revert:c,dragRect:s,targetRect:a,canSort:g,fromSortable:w,target:n,completed:h,onMove:function(I,D){return Zi(_e,i,X,s,I,Te(I),e,D)},changed:p},F))}function r(){o("dragOverAnimationCapture"),C.captureAnimationState(),C!==w&&w.captureAnimationState()}function h(H){return o("dragOverCompleted",{insertion:H}),H&&(d?f._hideClone():f._showClone(C),C!==w&&(He(X,De?De.options.ghostClass:f.options.ghostClass,!1),He(X,u.ghostClass,!0)),De!==C&&C!==te.active?De=C:C===te.active&&De&&(De=null),w===C&&(C._ignoreWhileAnimating=n),C.animateAll(function(){o("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==w&&(w.animateAll(),w._ignoreWhileAnimating=null)),(n===X&&!X.animated||n===i&&!n.animated)&&(Rt=null),!u.dragoverBubble&&!e.rootEl&&n!==document&&(X.parentNode[Oe]._isOutsideThisEl(e.target),!H&&Nt(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),L=!0}function p(){Re=$e(X),_t=$e(X,u.draggable),Be({sortable:C,name:"change",toEl:i,newIndex:Re,newDraggableIndex:_t,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=je(n,u.draggable,i,!0),o("dragOver"),te.eventCanceled)return L;if(X.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||C._ignoreWhileAnimating===n)return h(!1);if(gn=!1,f&&!u.disabled&&(d?g||(c=Se!==_e):De===this||(this.lastPutMode=Vi.checkPull(this,f,X,e))&&l.checkPut(this,f,X,e))){if(E=this._getDirection(e,n)==="vertical",s=Te(X),o("dragOverValid"),te.eventCanceled)return L;if(c)return Se=_e,r(),this._hideClone(),o("revert"),te.eventCanceled||(At?_e.insertBefore(X,At):_e.appendChild(X)),h(!0);var b=$s(i,u.draggable);if(!b||Hc(e,E,this)&&!b.animated){if(b===X)return h(!1);if(b&&i===e.target&&(n=b),n&&(a=Te(n)),Zi(_e,i,X,s,n,a,e,!!n)!==!1)return r(),b&&b.nextSibling?i.insertBefore(X,b.nextSibling):i.appendChild(X),Se=i,p(),h(!0)}else if(b&&Ic(e,E,this)){var v=Kt(i,0,u,!0);if(v===X)return h(!1);if(n=v,a=Te(n),Zi(_e,i,X,s,n,a,e,!1)!==!1)return r(),i.insertBefore(X,v),Se=i,p(),h(!0)}else if(n.parentNode===i){a=Te(n);var m=0,y,x=X.parentNode!==i,_=!Ac(X.animated&&X.toRect||s,n.animated&&n.toRect||a,E),S=E?"top":"left",B=zl(n,"top","top")||zl(X,"top","top"),T=B?B.scrollTop:void 0;Rt!==n&&(y=a[S],mi=!1,Ui=!_&&u.invertSwap||x),m=Rc(e,n,a,E,_?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Ui,Rt===n);var N;if(m!==0){var M=$e(X);do M-=m,N=Se.children[M];while(N&&(ee(N,"display")==="none"||N===le))}if(m===0||N===n)return h(!1);Rt=n,pi=m;var U=n.nextElementSibling,W=!1;W=m===1;var R=Zi(_e,i,X,s,n,a,e,W);if(R!==!1)return(R===1||R===-1)&&(W=R===1),ys=!0,setTimeout(zc,30),r(),W&&!U?i.appendChild(X):n.parentNode.insertBefore(X,W?U:n),B&&Po(B,0,T-B.scrollTop),Se=X.parentNode,y!==void 0&&!Ui&&(on=Math.abs(y-Te(n)[S])),p(),h(!0)}if(i.contains(X))return h(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){re(document,"mousemove",this._onTouchMove),re(document,"touchmove",this._onTouchMove),re(document,"pointermove",this._onTouchMove),re(document,"dragover",Nt),re(document,"mousemove",Nt),re(document,"touchmove",Nt)},_offUpEvents:function(){var e=this.el.ownerDocument;re(e,"mouseup",this._onDrop),re(e,"touchend",this._onDrop),re(e,"pointerup",this._onDrop),re(e,"pointercancel",this._onDrop),re(e,"touchcancel",this._onDrop),re(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(Re=$e(X),_t=$e(X,n.draggable),Me("drop",this,{evt:e}),Se=X&&X.parentNode,Re=$e(X),_t=$e(X,n.draggable),te.eventCanceled){this._nulling();return}Pt=!1,Ui=!1,mi=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),_s(this.cloneId),_s(this._dragStartId),this.nativeDraggable&&(re(document,"drop",this),re(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),hi&&ee(document.body,"user-select",""),ee(X,"transform",""),e&&(ri&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),le&&le.parentNode&&le.parentNode.removeChild(le),(_e===Se||De&&De.lastPutMode!=="clone")&&Ce&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),X&&(this.nativeDraggable&&re(X,"dragend",this),Qn(X),X.style["will-change"]="",ri&&!Pt&&He(X,De?De.options.ghostClass:this.options.ghostClass,!1),He(X,this.options.chosenClass,!1),Be({sortable:this,name:"unchoose",toEl:Se,newIndex:null,newDraggableIndex:null,originalEvent:e}),_e!==Se?(Re>=0&&(Be({rootEl:Se,name:"add",toEl:Se,fromEl:_e,originalEvent:e}),Be({sortable:this,name:"remove",toEl:Se,originalEvent:e}),Be({rootEl:Se,name:"sort",toEl:Se,fromEl:_e,originalEvent:e}),Be({sortable:this,name:"sort",toEl:Se,originalEvent:e})),De&&De.save()):Re!==Ut&&Re>=0&&(Be({sortable:this,name:"update",toEl:Se,originalEvent:e}),Be({sortable:this,name:"sort",toEl:Se,originalEvent:e})),te.active&&((Re==null||Re===-1)&&(Re=Ut,_t=gi),Be({sortable:this,name:"end",toEl:Se,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Me("nulling",this),_e=X=Se=le=At=Ce=ln=wt=kt=Ye=ri=Re=_t=Ut=gi=Rt=pi=De=Vi=te.dragged=te.ghost=te.clone=te.active=null,mn.forEach(function(e){e.checked=!0}),mn.length=jn=Kn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":X&&(this._onDragOver(e),Oc(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,s=0,a=n.length,c=this.options;s<a;s++)i=n[s],je(i,c.draggable,this.el,!1)&&e.push(i.getAttribute(c.dataIdAttr)||Pc(i));return e},sort:function(e,i){var n={},s=this.el;this.toArray().forEach(function(a,c){var u=s.children[c];je(u,this.options.draggable,s,!1)&&(n[a]=u)},this),i&&this.captureAnimationState(),e.forEach(function(a){n[a]&&(s.removeChild(n[a]),s.appendChild(n[a]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return je(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var s=Li.modifyOption(this,e,i);typeof s<"u"?n[e]=s:n[e]=i,e==="group"&&$o(n)},destroy:function(){Me("destroy",this);var e=this.el;e[Oe]=null,re(e,"mousedown",this._onTapStart),re(e,"touchstart",this._onTapStart),re(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(re(e,"dragover",this),re(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),pn.splice(pn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!wt){if(Me("hideClone",this),te.eventCanceled)return;ee(Ce,"display","none"),this.options.removeCloneOnHide&&Ce.parentNode&&Ce.parentNode.removeChild(Ce),wt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(wt){if(Me("showClone",this),te.eventCanceled)return;X.parentNode==_e&&!this.options.group.revertClone?_e.insertBefore(Ce,X):At?_e.insertBefore(Ce,At):_e.appendChild(Ce),this.options.group.revertClone&&this.animate(X,Ce),ee(Ce,"display",""),wt=!1}}};function Oc(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Zi(t,e,i,n,s,a,c,u){var l,f=t[Oe],d=f.options.onMove,g;return window.CustomEvent&&!mt&&!Ti?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=s||e,l.relatedRect=a||Te(e),l.willInsertAfter=u,l.originalEvent=c,t.dispatchEvent(l),d&&(g=d.call(f,l,c)),g}function Qn(t){t.draggable=!1}function zc(){ys=!1}function Ic(t,e,i){var n=Te(Kt(i.el,0,i.options,!0)),s=Uo(i.el,i.options,le),a=10;return e?t.clientX<s.left-a||t.clientY<n.top&&t.clientX<n.right:t.clientY<s.top-a||t.clientY<n.bottom&&t.clientX<n.left}function Hc(t,e,i){var n=Te($s(i.el,i.options.draggable)),s=Uo(i.el,i.options,le),a=10;return e?t.clientX>s.right+a||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>s.bottom+a||t.clientX>n.right&&t.clientY>n.top}function Rc(t,e,i,n,s,a,c,u){var l=n?t.clientY:t.clientX,f=n?i.height:i.width,d=n?i.top:i.left,g=n?i.bottom:i.right,w=!1;if(!c){if(u&&on<f*s){if(!mi&&(pi===1?l>d+f*a/2:l<g-f*a/2)&&(mi=!0),mi)w=!0;else if(pi===1?l<d+on:l>g-on)return-pi}else if(l>d+f*(1-s)/2&&l<g-f*(1-s)/2)return Fc(e)}return w=w||c,w&&(l<d+f*a/2||l>g-f*a/2)?l>d+f/2?1:-1:0}function Fc(t){return $e(X)<$e(t)?1:-1}function Pc(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function Vc(t){mn.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&mn.push(n)}}function an(t){return setTimeout(t,0)}function _s(t){return clearTimeout(t)}Bn&&de(document,"touchmove",function(t){(te.active||Pt)&&t.cancelable&&t.preventDefault()});te.utils={on:de,off:re,css:ee,find:Ro,is:function(e,i){return!!je(e,i,e,!1)},extend:xc,throttle:Fo,closest:je,toggleClass:He,clone:Vo,index:$e,nextTick:an,cancelNextTick:_s,detectDirection:Zo,getChild:Kt,expando:Oe};te.get=function(t){return t[Oe]};te.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(te.utils=lt(lt({},te.utils),n.utils)),Li.mount(n)})};te.create=function(t,e){return new te(t,e)};te.version=wc;var Ee=[],ci,ws,Cs=!1,Jn,es,bn,di;function Uc(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?de(document,"dragover",this._handleAutoScroll):this.options.supportPointer?de(document,"pointermove",this._handleFallbackAutoScroll):n.touches?de(document,"touchmove",this._handleFallbackAutoScroll):de(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?re(document,"dragover",this._handleAutoScroll):(re(document,"pointermove",this._handleFallbackAutoScroll),re(document,"touchmove",this._handleFallbackAutoScroll),re(document,"mousemove",this._handleFallbackAutoScroll)),Pl(),rn(),Sc()},nulling:function(){bn=ws=ci=Cs=di=Jn=es=null,Ee.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,a=(i.touches?i.touches[0]:i).clientX,c=(i.touches?i.touches[0]:i).clientY,u=document.elementFromPoint(a,c);if(bn=i,n||this.options.forceAutoScrollFallback||Ti||mt||hi){ts(i,this.options,u,n);var l=Ct(u,!0);Cs&&(!di||a!==Jn||c!==es)&&(di&&Pl(),di=setInterval(function(){var f=Ct(document.elementFromPoint(a,c),!0);f!==l&&(l=f,rn()),ts(i,s.options,f,n)},10),Jn=a,es=c)}else{if(!this.options.bubbleScroll||Ct(u,!0)===nt()){rn();return}ts(i,this.options,Ct(u,!1),!1)}}},gt(t,{pluginName:"scroll",initializeByDefault:!0})}function rn(){Ee.forEach(function(t){clearInterval(t.pid)}),Ee=[]}function Pl(){clearInterval(di)}var ts=Fo(function(t,e,i,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,c=e.scrollSensitivity,u=e.scrollSpeed,l=nt(),f=!1,d;ws!==i&&(ws=i,rn(),ci=e.scroll,d=e.scrollFn,ci===!0&&(ci=Ct(i,!0)));var g=0,w=ci;do{var E=w,C=Te(E),L=C.top,o=C.bottom,r=C.left,h=C.right,p=C.width,b=C.height,v=void 0,m=void 0,y=E.scrollWidth,x=E.scrollHeight,_=ee(E),S=E.scrollLeft,B=E.scrollTop;E===l?(v=p<y&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),m=b<x&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(v=p<y&&(_.overflowX==="auto"||_.overflowX==="scroll"),m=b<x&&(_.overflowY==="auto"||_.overflowY==="scroll"));var T=v&&(Math.abs(h-s)<=c&&S+p<y)-(Math.abs(r-s)<=c&&!!S),N=m&&(Math.abs(o-a)<=c&&B+b<x)-(Math.abs(L-a)<=c&&!!B);if(!Ee[g])for(var M=0;M<=g;M++)Ee[M]||(Ee[M]={});(Ee[g].vx!=T||Ee[g].vy!=N||Ee[g].el!==E)&&(Ee[g].el=E,Ee[g].vx=T,Ee[g].vy=N,clearInterval(Ee[g].pid),(T!=0||N!=0)&&(f=!0,Ee[g].pid=setInterval((function(){n&&this.layer===0&&te.active._onTouchMove(bn);var U=Ee[this.layer].vy?Ee[this.layer].vy*u:0,W=Ee[this.layer].vx?Ee[this.layer].vx*u:0;typeof d=="function"&&d.call(te.dragged.parentNode[Oe],W,U,t,bn,Ee[this.layer].el)!=="continue"||Po(Ee[this.layer].el,W,U)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&w!==l&&(w=Ct(w,!1)));Cs=f}},30),Xo=function(e){var i=e.originalEvent,n=e.putSortable,s=e.dragEl,a=e.activeSortable,c=e.dispatchSortableEvent,u=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var f=n||a;u();var d=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,g=document.elementFromPoint(d.clientX,d.clientY);l(),f&&!f.el.contains(g)&&(c("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function qs(){}qs.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=Kt(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:Xo};gt(qs,{pluginName:"revertOnSpill"});function Ys(){}Ys.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:Xo};gt(Ys,{pluginName:"removeOnSpill"});te.mount(new Uc);te.mount(Ys,qs);const yt={wrapper:"[data-dynamic-fields-wrapper]",sortable:"[data-sortable-wrapper]",group:"[data-dynamic-fields-group]",move:"[data-dynamic-fields-move]",minus:"[data-dynamic-fields-minus]",plus:"[data-dynamic-fields-plus]"};let Vl=!1;function Wc(){document.querySelectorAll(`${yt.wrapper}${yt.sortable}`).forEach(e=>{e.isSortableInited||(new te(e,{draggable:yt.group,handle:yt.move,onEnd:function(){Ul(e)}}),e.isSortableInited=!0)}),!Vl&&(document.addEventListener("click",e=>{const i=e?.target?.closest(yt.minus),n=e?.target?.closest(yt.plus);if(!i&&!n)return;const s=i||n,a=s.closest(yt.wrapper),c=s.closest(yt.group),u=new CustomEvent("dynamicFieldsUpdated",{bubbles:!0,detail:{wrapper:a}});if(n){const f=n.closest("[data-dynamic-fields]")?.querySelector("[data-dynamic-fields-template]");if(!f)return;c.insertAdjacentHTML("afterend",f.innerHTML.trim()),u.detail.action="add",document.dispatchEvent(u)}i&&(a?a.querySelectorAll("[data-dynamic-fields-group]"):[]).length>1&&(c?.remove(),u.detail.action="remove",document.dispatchEvent(u)),Ul(a),Zc()}),Vl=!0)}function Ul(t){const e=t.querySelectorAll("[data-dynamic-fields-group]"),i=t.dataset.regexpType==="simple"?/\[\d+\]/:/\[\d+\]/g;e.forEach((n,s)=>{n.querySelectorAll("[name], [id], [for]").forEach(c=>{["name","id","for"].forEach(u=>{const l=c?.base_updated_attrs?.[`_${u}`]||c.getAttribute(u);if(!l)return;let f=l;u==="name"&&(f=l.replace(i,`[${s}]`)),(u==="id"||u==="for")&&(f=l+`_${s}`),c?.base_updated_attrs?c?.base_updated_attrs?.[`_${u}`]||(c.base_updated_attrs[`_${u}`]=l):(c.base_updated_attrs={},c.base_updated_attrs[`_${u}`]=l),c.setAttribute(u,f)})})})}function Zc(){Xs(),Ps(),Ws()}let Wl=!1;function $c(){Wl||(document.addEventListener("click",t=>{const e=t?.target?.closest("[data-form-control-clear-button]");if(!e)return;const i=e?.parentElement?.querySelector("input");i&&(i.value="",ps(i))}),Wl=!0)}function Xs(){or(),ar(),rr(),dr(),Wc(),$c()}function qc(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-modal-button]");if(!e)return;const i=document.getElementById(e.dataset.modal);let n=e.dataset.action;Rs(t,{submitter:e,url:n,method:"get",successHandler:s=>{Yc(),Xc(i,s.data)},errorHandler:s=>{console.log(s)}})})}function Yc(){document.querySelectorAll(".modal.show").forEach(e=>{const i=st.getInstance(e);i?i.hide():new st(e).hide()})}function Xc(t,e=null){if(!t||!e)return;t.innerHTML=e,jc();let i=st.getInstance(t);if(i?.show){i.show();return}i=new st(t),i.show()}function jc(){Ps(),Xs(),Ws()}function Kc(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-delete-modal-button]");if(!e)return;const i=document.getElementById("confirm-delete-modal"),n=+e.dataset.withHideModals;let s=e.dataset.action;Rs(t,{submitter:e,url:s,method:"get",params:{subtitle:e.dataset.subtitle,delete_action:e.dataset.deleteAction,update_id_section:e.dataset.updateIdSection},successHandler:a=>{n&&Gc(),Qc(i,a.data)},errorHandler:a=>{console.log(a)}})})}function Gc(){document.querySelectorAll(".modal.show").forEach(e=>{const i=st.getInstance(e);i?i.hide():new st(e).hide()})}function Qc(t,e=null){if(!t||!e)return;t.innerHTML=e;let i=st.getInstance(t);if(i?.show){i.show();return}i=new st(t),i.show()}function Jc(){document.addEventListener("submit",t=>{const e=t?.target?.closest("[data-ajax-with-update-from-view]");if(!e)return;const i=document.getElementById(e.dataset.updateIdSection);Rs(t,{form:e,successHandler:n=>{ed(),i.innerHTML=n.data?.html},errorHandler:n=>{console.error(n)}})})}function ed(){document.querySelectorAll(".modal.show").forEach(e=>{const i=st.getInstance(e);i?i.hide():new st(e).hide()})}/*!
 * OverlayScrollbars
 * Version: 2.12.0
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const Fe=(t,e)=>{const{o:i,i:n,u:s}=t;let a=i,c;const u=(d,g)=>{const w=a,E=d,C=g||(n?!n(w,E):w!==E);return(C||s)&&(a=E,c=w),[a,C,c]};return[e?d=>u(e(a,c),d):u,d=>[a,!!d,c]]},td=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,Ie=td?window:{},jo=Math.max,id=Math.min,xs=Math.round,vn=Math.abs,Zl=Math.sign,Ko=Ie.cancelAnimationFrame,js=Ie.requestAnimationFrame,Ks=Ie.setTimeout,Go=Ie.clearTimeout,Mn=t=>typeof Ie[t]<"u"?Ie[t]:void 0,nd=Mn("MutationObserver"),$l=Mn("IntersectionObserver"),Wt=Mn("ResizeObserver"),ui=Mn("ScrollTimeline"),Gs=t=>t===void 0,On=t=>t===null,ft=t=>typeof t=="number",ki=t=>typeof t=="string",zn=t=>typeof t=="boolean",Je=t=>typeof t=="function",Ge=t=>Array.isArray(t),yn=t=>typeof t=="object"&&!Ge(t)&&!On(t),Qs=t=>{const e=!!t&&t.length,i=ft(e)&&e>-1&&e%1==0;return Ge(t)||!Je(t)&&i?e>0&&yn(t)?e-1 in t:!0:!1},_n=t=>!!t&&t.constructor===Object,wn=t=>t instanceof HTMLElement,In=t=>t instanceof Element;function be(t,e){if(Qs(t))for(let i=0;i<t.length&&e(t[i],i,t)!==!1;i++);else t&&be(Object.keys(t),(i=>e(t[i],i,t)));return t}const Qo=(t,e)=>t.indexOf(e)>=0,yi=(t,e)=>t.concat(e),xe=(t,e,i)=>(!ki(e)&&Qs(e)?Array.prototype.push.apply(t,e):t.push(e),t),Tt=t=>Array.from(t||[]),Js=t=>Ge(t)?t:!ki(t)&&Qs(t)?Tt(t):[t],Cn=t=>!!t&&!t.length,Ss=t=>Tt(new Set(t)),Ve=(t,e,i)=>{be(t,s=>s?s.apply(void 0,e||[]):!0),i||(t.length=0)},Jo="paddingTop",ea="paddingRight",ta="paddingLeft",ia="paddingBottom",na="marginLeft",sa="marginRight",la="marginBottom",el="overflowX",tl="overflowY",Hn="width",Rn="height",ut="visible",Ke="hidden",Gt="scroll",sd=t=>{const e=String(t||"");return e?e[0].toUpperCase()+e.slice(1):""},Fn=(t,e,i,n)=>{if(t&&e){let s=!0;return be(i,(a=>{const c=t[a],u=e[a];c!==u&&(s=!1)})),s}return!1},oa=(t,e)=>Fn(t,e,["w","h"]),cn=(t,e)=>Fn(t,e,["x","y"]),ld=(t,e)=>Fn(t,e,["t","r","b","l"]),ne=(t,...e)=>t.bind(0,...e),Zt=t=>{let e;const i=t?Ks:js,n=t?Go:Ko;return[s=>{n(e),e=i((()=>s()),Je(t)?t():t)},()=>n(e)]},ql=t=>{const e=Je(t)?t():t;if(ft(e)){const i=e?Ks:js,n=e?Go:Ko;return s=>{const a=i((()=>s()),e);return()=>{n(a)}}}return e&&e._},xn=(t,e)=>{const{p:i,v:n,S:s,m:a}=e||{};let c,u,l,f;const d=function(L){u&&u(),c&&c(),f=u=c=l=void 0,t.apply(this,L)},g=C=>a&&l?a(l,C):C,w=()=>{u&&l&&d(g(l)||l)},E=function(){const L=Tt(arguments),o=ql(i);if(o){const r=ql(n),p=g(L)||L,b=d.bind(0,p);u&&u(),s&&!f?(b(),f=!0,u=o((()=>f=void 0))):(u=o(b),r&&!c&&(c=r(w))),l=p}else d(L)};return E.O=w,E},aa=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Qe=t=>t?Object.keys(t):[],fe=(t,e,i,n,s,a,c)=>{const u=[e,i,n,s,a,c];return(typeof t!="object"||On(t))&&!Je(t)&&(t={}),be(u,(l=>{be(l,((f,d)=>{const g=l[d];if(t===g)return!0;const w=Ge(g);if(g&&_n(g)){const E=t[d];let C=E;w&&!Ge(E)?C=[]:!w&&!_n(E)&&(C={}),t[d]=fe(C,g)}else t[d]=w?g.slice():g}))})),t},ra=(t,e)=>be(fe({},t),((i,n,s)=>{i===void 0?delete s[n]:i&&_n(i)&&(s[n]=ra(i))})),il=t=>!Qe(t).length,_i=()=>{},ca=(t,e,i)=>jo(t,id(e,i)),Bt=t=>Ss((Ge(t)?t:(t||"").split(" ")).filter((e=>e))),nl=(t,e)=>t&&t.getAttribute(e),Yl=(t,e)=>t&&t.hasAttribute(e),ct=(t,e,i)=>{be(Bt(e),(n=>{t&&t.setAttribute(n,String(i||""))}))},tt=(t,e)=>{be(Bt(e),(i=>t&&t.removeAttribute(i)))},Pn=(t,e)=>{const i=Bt(nl(t,e)),n=ne(ct,t,e),s=(a,c)=>{const u=new Set(i);return be(Bt(a),(l=>{u[c](l)})),Tt(u).join(" ")};return{C:a=>n(s(a,"delete")),$:a=>n(s(a,"add")),H:a=>{const c=Bt(a);return c.reduce(((u,l)=>u&&i.includes(l)),c.length>0)}}},da=(t,e,i)=>(Pn(t,e).C(i),ne(sl,t,e,i)),sl=(t,e,i)=>(Pn(t,e).$(i),ne(da,t,e,i)),Sn=(t,e,i,n)=>(n?sl:da)(t,e,i),ll=(t,e,i)=>Pn(t,e).H(i),ua=t=>Pn(t,"class"),ha=(t,e)=>{ua(t).C(e)},ol=(t,e)=>(ua(t).$(e),ne(ha,t,e)),fa=(t,e)=>{const i=e?In(e)&&e:document;return i?Tt(i.querySelectorAll(t)):[]},od=(t,e)=>{const i=e?In(e)&&e:document;return i&&i.querySelector(t)},Es=(t,e)=>In(t)&&t.matches(e),ga=t=>Es(t,"body"),Ts=t=>t?Tt(t.childNodes):[],wi=t=>t&&t.parentElement,$t=(t,e)=>In(t)&&t.closest(e),Ls=t=>document.activeElement,ad=(t,e,i)=>{const n=$t(t,e),s=t&&od(i,n),a=$t(s,e)===n;return n&&s?n===t||s===t||a&&$t($t(t,i),e)!==n:!1},Qt=t=>{be(Js(t),(e=>{const i=wi(e);e&&i&&i.removeChild(e)}))},ze=(t,e)=>ne(Qt,t&&e&&be(Js(e),(i=>{i&&t.appendChild(i)})));let pa;const rd=()=>pa,cd=t=>{pa=t},Xt=t=>{const e=document.createElement("div");return ct(e,"class",t),e},ma=t=>{const e=Xt(),i=rd(),n=t.trim();return e.innerHTML=i?i.createHTML(n):n,be(Ts(e),(s=>Qt(s)))},Xl=(t,e)=>t.getPropertyValue(e)||t[e]||"",ba=t=>{const e=t||0;return isFinite(e)?e:0},$i=t=>ba(parseFloat(t||"")),ks=t=>Math.round(t*1e4)/1e4,va=t=>`${ks(ba(t))}px`;function Ci(t,e){t&&e&&be(e,((i,n)=>{try{const s=t.style,a=On(i)||zn(i)?"":ft(i)?va(i):i;n.indexOf("--")===0?s.setProperty(n,a):s[n]=a}catch{}}))}function ot(t,e,i){const n=ki(e);let s=n?"":{};if(t){const a=Ie.getComputedStyle(t,i)||t.style;s=n?Xl(a,e):Tt(e).reduce(((c,u)=>(c[u]=Xl(a,u),c)),s)}return s}const jl=(t,e,i)=>{const n=e?`${e}-`:"",s=i?`-${i}`:"",a=`${n}top${s}`,c=`${n}right${s}`,u=`${n}bottom${s}`,l=`${n}left${s}`,f=ot(t,[a,c,u,l]);return{t:$i(f[a]),r:$i(f[c]),b:$i(f[u]),l:$i(f[l])}},is=(t,e)=>`translate${yn(t)?`(${t.x},${t.y})`:`${e?"X":"Y"}(${t})`}`,dd=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),ud={w:0,h:0},Vn=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:ud,hd=t=>Vn("inner",t||Ie),jt=ne(Vn,"offset"),ya=ne(Vn,"client"),En=ne(Vn,"scroll"),al=t=>{const e=parseFloat(ot(t,Hn))||0,i=parseFloat(ot(t,Rn))||0;return{w:e-xs(e),h:i-xs(i)}},ns=t=>t.getBoundingClientRect(),fd=t=>!!t&&dd(t),Ns=t=>!!(t&&(t[Rn]||t[Hn])),_a=(t,e)=>{const i=Ns(t);return!Ns(e)&&i},Kl=(t,e,i,n)=>{be(Bt(e),(s=>{t&&t.removeEventListener(s,i,n)}))},ve=(t,e,i,n)=>{var s;const a=(s=n&&n.T)!=null?s:!0,c=n&&n.I||!1,u=n&&n.A||!1,l={passive:a,capture:c};return ne(Ve,Bt(e).map((f=>{const d=u?g=>{Kl(t,f,d,c),i&&i(g)}:i;return t&&t.addEventListener(f,d,l),ne(Kl,t,f,d,c)})))},wa=t=>t.stopPropagation(),Ds=t=>t.preventDefault(),Ca=t=>wa(t)||Ds(t),it=(t,e)=>{const{x:i,y:n}=ft(e)?{x:e,y:e}:e||{};ft(i)&&(t.scrollLeft=i),ft(n)&&(t.scrollTop=n)},Pe=t=>({x:t.scrollLeft,y:t.scrollTop}),xa=()=>({D:{x:0,y:0},M:{x:0,y:0}}),gd=(t,e)=>{const{D:i,M:n}=t,{w:s,h:a}=e,c=(g,w,E)=>{let C=Zl(g)*E,L=Zl(w)*E;if(C===L){const o=vn(g),r=vn(w);L=o>r?0:L,C=o<r?0:C}return C=C===L?0:C,[C+0,L+0]},[u,l]=c(i.x,n.x,s),[f,d]=c(i.y,n.y,a);return{D:{x:u,y:f},M:{x:l,y:d}}},ss=({D:t,M:e})=>{const i=(n,s)=>n===0&&n<=s;return{x:i(t.x,e.x),y:i(t.y,e.y)}},Gl=({D:t,M:e},i)=>{const n=(s,a,c)=>ca(0,1,(s-c)/(s-a)||0);return{x:n(t.x,e.x,i.x),y:n(t.y,e.y,i.y)}},As=t=>{t&&t.focus&&t.focus({preventScroll:!0})},Ql=(t,e)=>{be(Js(e),t)},Bs=t=>{const e=new Map,i=(a,c)=>{if(a){const u=e.get(a);Ql((l=>{u&&u[l?"delete":"clear"](l)}),c)}else e.forEach((u=>{u.clear()})),e.clear()},n=(a,c)=>{if(ki(a)){const f=e.get(a)||new Set;return e.set(a,f),Ql((d=>{Je(d)&&f.add(d)}),c),ne(i,a,c)}zn(c)&&c&&i();const u=Qe(a),l=[];return be(u,(f=>{const d=a[f];d&&xe(l,n(f,d))})),ne(Ve,l)},s=(a,c)=>{be(Tt(e.get(a)),(u=>{c&&!Cn(c)?u.apply(0,c):u()}))};return n(t||{}),[n,i,s]},Sa={},Ea={},pd=t=>{be(t,(e=>be(e,((i,n)=>{Sa[n]=e[n]}))))},Ta=(t,e,i)=>Qe(t).map((n=>{const{static:s,instance:a}=t[n],[c,u,l]=i||[],f=i?a:s;if(f){const d=i?f(c,u,e):f(e);return(l||Ea)[n]=d}})),ti=t=>Ea[t],md="__osOptionsValidationPlugin",ii="data-overlayscrollbars",dn="os-environment",qi=`${dn}-scrollbar-hidden`,ls=`${ii}-initialize`,un="noClipping",Jl=`${ii}-body`,xt=ii,bd="host",dt=`${ii}-viewport`,vd=el,yd=tl,_d="arrange",La="measuring",wd="scrolling",ka="scrollbarHidden",Cd="noContent",Ms=`${ii}-padding`,eo=`${ii}-content`,rl="os-size-observer",xd=`${rl}-appear`,Sd=`${rl}-listener`,Ed="os-trinsic-observer",Td="os-theme-none",Ue="os-scrollbar",Ld=`${Ue}-rtl`,kd=`${Ue}-horizontal`,Nd=`${Ue}-vertical`,Na=`${Ue}-track`,cl=`${Ue}-handle`,Dd=`${Ue}-visible`,Ad=`${Ue}-cornerless`,to=`${Ue}-interaction`,io=`${Ue}-unusable`,Os=`${Ue}-auto-hide`,no=`${Os}-hidden`,so=`${Ue}-wheel`,Bd=`${Na}-interactive`,Md=`${cl}-interactive`,Od="__osSizeObserverPlugin",zd=(t,e)=>{const{k:i}=e,[n,s]=t("showNativeOverlaidScrollbars");return[n&&i.x&&i.y,s]},qt=t=>t.indexOf(ut)===0,Id=t=>t.replace(`${ut}-`,""),zs=(t,e)=>{if(t==="auto")return e?Gt:Ke;const i=t||Ke;return[Ke,Gt,ut].includes(i)?i:Ke},Hd=(t,e)=>{const{overflowX:i,overflowY:n}=ot(t,[el,tl]);return{x:zs(i,e.x),y:zs(n,e.y)}},dl="__osScrollbarsHidingPlugin",Rd="__osClickScrollPlugin",lo=t=>JSON.stringify(t,((e,i)=>{if(Je(i))throw 0;return i})),oo=(t,e)=>t?`${e}`.split(".").reduce(((i,n)=>i&&aa(i,n)?i[n]:void 0),t):void 0,Fd={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Da=(t,e)=>{const i={},n=yi(Qe(e),Qe(t));return be(n,(s=>{const a=t[s],c=e[s];if(yn(a)&&yn(c))fe(i[s]={},Da(a,c)),il(i[s])&&delete i[s];else if(aa(e,s)&&c!==a){let u=!0;if(Ge(a)||Ge(c))try{lo(a)===lo(c)&&(u=!1)}catch{}u&&(i[s]=c)}})),i},ao=(t,e,i)=>n=>[oo(t,n),i||oo(e,n)!==void 0];let Aa;const Pd=()=>Aa,Vd=t=>{Aa=t};let os;const Ud=()=>{const t=(b,v,m)=>{ze(document.body,b),ze(document.body,b);const y=ya(b),x=jt(b),_=al(v);return m&&Qt(b),{x:x.h-y.h+_.h,y:x.w-y.w+_.w}},e=b=>{let v=!1;const m=ol(b,qi);try{v=ot(b,"scrollbar-width")==="none"||ot(b,"display","::-webkit-scrollbar")==="none"}catch{}return m(),v},i=`.${dn}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${dn} div{width:200%;height:200%;margin:10px 0}.${qi}{scrollbar-width:none!important}.${qi}::-webkit-scrollbar,.${qi}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,s=ma(`<div class="${dn}"><div></div><style>${i}</style></div>`)[0],a=s.firstChild,c=s.lastChild,u=Pd();u&&(c.nonce=u);const[l,,f]=Bs(),[d,g]=Fe({o:t(s,a),i:cn},ne(t,s,a,!0)),[w]=g(),E=e(s),C={x:w.x===0,y:w.y===0},L={elements:{host:null,padding:!E,viewport:b=>E&&ga(b)&&b,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},o=fe({},Fd),r=ne(fe,{},o),h=ne(fe,{},L),p={P:w,k:C,U:E,J:!!ui,G:ne(l,"r"),K:h,Z:b=>fe(L,b)&&h(),tt:r,nt:b=>fe(o,b)&&r(),ot:fe({},L),st:fe({},o)};if(tt(s,"style"),Qt(s),ve(Ie,"resize",(()=>{f("r",[])})),Je(Ie.matchMedia)&&!E&&(!C.x||!C.y)){const b=v=>{const m=Ie.matchMedia(`(resolution: ${Ie.devicePixelRatio}dppx)`);ve(m,"change",(()=>{v(),b(v)}),{A:!0})};b((()=>{const[v,m]=d();fe(p.P,v),f("r",[m])}))}return p},at=()=>(os||(os=Ud()),os),Wd=(t,e,i)=>{let n=!1;const s=i?new WeakMap:!1,a=()=>{n=!0},c=u=>{if(s&&i){const l=i.map((f=>{const[d,g]=f||[];return[g&&d?(u||fa)(d,t):[],g]}));be(l,(f=>be(f[0],(d=>{const g=f[1],w=s.get(d)||[];if(t.contains(d)&&g){const C=ve(d,g,(L=>{n?(C(),s.delete(d)):e(L)}));s.set(d,xe(w,C))}else Ve(w),s.delete(d)}))))}};return c(),[a,c]},ro=(t,e,i,n)=>{let s=!1;const{et:a,ct:c,rt:u,it:l,lt:f,ut:d}=n||{},g=xn((()=>s&&i(!0)),{p:33,v:99}),[w,E]=Wd(t,g,u),C=a||[],L=c||[],o=yi(C,L),r=(p,b)=>{if(!Cn(b)){const v=f||_i,m=d||_i,y=[],x=[];let _=!1,S=!1;if(be(b,(B=>{const{attributeName:T,target:N,type:M,oldValue:U,addedNodes:W,removedNodes:R}=B,H=M==="attributes",F=M==="childList",z=t===N,I=H&&T,D=I&&nl(N,T||""),O=ki(D)?D:null,k=I&&U!==O,A=Qo(L,T)&&k;if(e&&(F||!z)){const P=H&&k,V=P&&l&&Es(N,l),Z=(V?!v(N,T,U,O):!H||P)&&!m(B,!!V,t,n);be(W,(q=>xe(y,q))),be(R,(q=>xe(y,q))),S=S||Z}!e&&z&&k&&!v(N,T,U,O)&&(xe(x,T),_=_||A)})),E((B=>Ss(y).reduce(((T,N)=>(xe(T,fa(B,N)),Es(N,B)?xe(T,N):T)),[]))),e)return!p&&S&&i(!1),[!1];if(!Cn(x)||_){const B=[Ss(x),_];return p||i.apply(0,B),B}}},h=new nd(ne(r,!1));return[()=>(h.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:o,subtree:e,childList:e,characterData:e}),s=!0,()=>{s&&(w(),h.disconnect(),s=!1)}),()=>{if(s)return g.O(),r(!0,h.takeRecords())}]};let Dt=null;const Ba=(t,e,i)=>{const{ft:n}=i||{},s=ti(Od),[a]=Fe({o:!1,u:!0});return()=>{const c=[],l=ma(`<div class="${rl}"><div class="${Sd}"></div></div>`)[0],f=l.firstChild,d=g=>{const w=Ge(g)&&!Cn(g);let E=!1,C=!1;if(w){const L=g[0],[o,,r]=a(L.contentRect),h=Ns(o);C=_a(o,r),E=!C&&!h}else C=g===!0;E||e({_t:!0,ft:C})};if(Wt){if(!zn(Dt)){const C=new Wt(_i);C.observe(t,{get box(){Dt=!0}}),Dt=Dt||!1,C.disconnect()}const g=xn(d,{p:0,v:0}),w=C=>g(C),E=new Wt(w);if(E.observe(Dt?t:f),xe(c,[()=>{E.disconnect()},!Dt&&ze(t,l)]),Dt){const C=new Wt(w);C.observe(t,{box:"border-box"}),xe(c,(()=>C.disconnect()))}}else if(s){const[g,w]=s(f,d,n);xe(c,yi([ol(l,xd),ve(l,"animationstart",g),ze(t,l)],w))}else return _i;return ne(Ve,c)}},Zd=(t,e)=>{let i;const n=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,s=Xt(Ed),[a]=Fe({o:!1}),c=(l,f)=>{if(l){const d=a(n(l)),[,g]=d;return g&&!f&&e(d)&&[d]}},u=(l,f)=>c(f.pop(),l);return[()=>{const l=[];if($l)i=new $l(ne(u,!1),{root:t}),i.observe(s),xe(l,(()=>{i.disconnect()}));else{const f=()=>{const d=jt(s);c(d)};xe(l,Ba(s,f)()),f()}return ne(Ve,xe(l,ze(t,s)))},()=>i&&u(!0,i.takeRecords())]},$d=(t,e,i,n)=>{let s,a,c,u,l,f;const d=`[${xt}]`,g=`[${dt}]`,w=["id","class","style","open","wrap","cols","rows"],{dt:E,vt:C,L,gt:o,ht:r,V:h,bt:p,wt:b,yt:v,St:m}=t,y=A=>ot(A,"direction")==="rtl",x={Ot:!1,B:y(E)},_=at(),S=ti(dl),[B]=Fe({i:oa,o:{w:0,h:0}},(()=>{const A=S&&S.R(t,e,x,_,i).Y,V=!(p&&h)&&ll(C,xt,un),$=!h&&b(_d),Z=$&&Pe(o),q=Z&&m(),Y=v(La,V),K=$&&A&&A(),G=En(L),j=al(L);return K&&K(),it(o,Z),q&&q(),V&&Y(),{w:G.w+j.w,h:G.h+j.h}})),T=xn(n,{p:()=>s,v:()=>a,m(A,P){const[V]=A,[$]=P;return[yi(Qe(V),Qe($)).reduce(((Z,q)=>(Z[q]=V[q]||$[q],Z)),{})]}}),N=A=>{const P=y(E);fe(A,{Ct:f!==P}),fe(x,{B:P}),f=P},M=(A,P)=>{const[V,$]=A,Z={$t:$};return fe(x,{Ot:V}),P||n(Z),Z},U=({_t:A,ft:P})=>{const $=!(A&&!P)&&_.U?T:n,Z={_t:A||P,ft:P};N(Z),$(Z)},W=(A,P)=>{const[,V]=B(),$={xt:V};return N($),V&&!P&&(A?n:T)($),$},R=(A,P,V)=>{const $={Ht:P};return N($),P&&!V&&T($),$},[H,F]=r?Zd(C,M):[],z=!h&&Ba(C,U,{ft:!0}),[I,D]=ro(C,!1,R,{ct:w,et:w}),O=h&&Wt&&new Wt((A=>{const P=A[A.length-1].contentRect;U({_t:!0,ft:_a(P,l)}),l=P})),k=xn((()=>{const[,A]=B();n({xt:A,_t:p})}),{p:222,S:!0});return[()=>{O&&O.observe(C);const A=z&&z(),P=H&&H(),V=I(),$=_.G((Z=>{Z?T({Et:Z}):k()}));return()=>{O&&O.disconnect(),A&&A(),P&&P(),u&&u(),V(),$()}},({zt:A,Tt:P,It:V})=>{const $={},[Z]=A("update.ignoreMutation"),[q,Y]=A("update.attributes"),[K,G]=A("update.elementEvents"),[j,Q]=A("update.debounce"),ce=G||Y,he=P||V,se=oe=>Je(Z)&&Z(oe);if(ce){c&&c(),u&&u();const[oe,ie]=ro(r||L,!0,W,{et:yi(w,q||[]),rt:K,it:d,ut:(ge,ae)=>{const{target:me,attributeName:pe}=ge;return(!ae&&pe&&!h?ad(me,d,g):!1)||!!$t(me,`.${Ue}`)||!!se(ge)}});u=oe(),c=ie}if(Q)if(T.O(),Ge(j)){const oe=j[0],ie=j[1];s=ft(oe)&&oe,a=ft(ie)&&ie}else ft(j)?(s=j,a=!1):(s=!1,a=!1);if(he){const oe=D(),ie=F&&F(),ge=c&&c();oe&&fe($,R(oe[0],oe[1],he)),ie&&fe($,M(ie[0],he)),ge&&fe($,W(ge[0],he))}return N($),$},x]},Ma=(t,e)=>Je(e)?e.apply(0,t):e,qd=(t,e,i,n)=>{const s=Gs(n)?i:n;return Ma(t,s)||e.apply(0,t)},Oa=(t,e,i,n)=>{const s=Gs(n)?i:n,a=Ma(t,s);return!!a&&(wn(a)?a:e.apply(0,t))},Yd=(t,e)=>{const{nativeScrollbarsOverlaid:i,body:n}=e||{},{k:s,U:a,K:c}=at(),{nativeScrollbarsOverlaid:u,body:l}=c().cancel,f=i??u,d=Gs(n)?l:n,g=(s.x||s.y)&&f,w=t&&(On(d)?!a:d);return!!g||!!w},Xd=(t,e,i,n)=>{const s="--os-viewport-percent",a="--os-scroll-percent",c="--os-scroll-direction",{K:u}=at(),{scrollbars:l}=u(),{slot:f}=l,{dt:d,vt:g,L:w,At:E,gt:C,bt:L,V:o}=e,{scrollbars:r}=E?{}:t,{slot:h}=r||{},p=[],b=[],v=[],m=Oa([d,g,w],(()=>o&&L?d:g),f,h),y=I=>{if(ui){let D=null,O=[];const k=new ui({source:C,axis:I}),A=()=>{D&&D.cancel(),D=null};return{kt:V=>{const{Dt:$}=i,Z=ss($)[I],q=I==="x",Y=[is(0,q),is(`calc(100cq${q?"w":"h"} + -100%)`,q)],K=Z?Y:Y.reverse();return O[0]===K[0]&&O[1]===K[1]||(A(),O=K,D=V.Mt.animate({clear:["left"],transform:K},{timeline:k})),A}}}},x={x:y("x"),y:y("y")},_=()=>{const{Rt:I,Vt:D}=i,O=(k,A)=>ca(0,1,k/(k+A)||0);return{x:O(D.x,I.x),y:O(D.y,I.y)}},S=(I,D,O)=>{const k=O?ol:ha;be(I,(A=>{k(A.Lt,D)}))},B=(I,D)=>{be(I,(O=>{const[k,A]=D(O);Ci(k,A)}))},T=(I,D,O)=>{const k=zn(O),A=k?O:!0,P=k?!O:!0;A&&S(b,I,D),P&&S(v,I,D)},N=()=>{const I=_(),D=O=>k=>[k.Lt,{[s]:ks(O)+""}];B(b,D(I.x)),B(v,D(I.y))},M=()=>{if(!ui){const{Dt:I}=i,D=Gl(I,Pe(C)),O=k=>A=>[A.Lt,{[a]:ks(k)+""}];B(b,O(D.x)),B(v,O(D.y))}},U=()=>{const{Dt:I}=i,D=ss(I),O=k=>A=>[A.Lt,{[c]:k?"0":"1"}];B(b,O(D.x)),B(v,O(D.y)),ui&&(b.forEach(x.x.kt),v.forEach(x.y.kt))},W=()=>{if(o&&!L){const{Rt:I,Dt:D}=i,O=ss(D),k=Gl(D,Pe(C)),A=P=>{const{Lt:V}=P,$=wi(V)===w&&V,Z=(q,Y,K)=>{const G=Y*q;return va(K?G:-G)};return[$,$&&{transform:is({x:Z(k.x,I.x,O.x),y:Z(k.y,I.y,O.y)})}]};B(b,A),B(v,A)}},R=I=>{const D=I?"x":"y",k=Xt(`${Ue} ${I?kd:Nd}`),A=Xt(Na),P=Xt(cl),V={Lt:k,Ut:A,Mt:P},$=x[D];return xe(I?b:v,V),xe(p,[ze(k,A),ze(A,P),ne(Qt,k),$&&$.kt(V),n(V,T,I)]),V},H=ne(R,!0),F=ne(R,!1),z=()=>(ze(m,b[0].Lt),ze(m,v[0].Lt),ne(Ve,p));return H(),F(),[{Pt:N,Nt:M,qt:U,Bt:W,Ft:T,jt:{Xt:b,Yt:H,Wt:ne(B,b)},Jt:{Xt:v,Yt:F,Wt:ne(B,v)}},z]},jd=(t,e,i,n)=>(s,a,c)=>{const{vt:u,L:l,V:f,gt:d,Gt:g,St:w}=e,{Lt:E,Ut:C,Mt:L}=s,[o,r]=Zt(333),[h,p]=Zt(444),b=y=>{Je(d.scrollBy)&&d.scrollBy({behavior:"smooth",left:y.x,top:y.y})},v=()=>{const y="pointerup pointercancel lostpointercapture",x=`client${c?"X":"Y"}`,_=c?Hn:Rn,S=c?"left":"top",B=c?"w":"h",T=c?"x":"y",N=(U,W)=>R=>{const{Rt:H}=i,F=jt(C)[B]-jt(L)[B],I=W*R/F*H[T];it(d,{[T]:U+I})},M=[];return ve(C,"pointerdown",(U=>{const W=$t(U.target,`.${cl}`)===L,R=W?L:C,H=t.scrollbars,F=H[W?"dragScroll":"clickScroll"],{button:z,isPrimary:I,pointerType:D}=U,{pointers:O}=H;if(z===0&&I&&F&&(O||[]).includes(D)){Ve(M),p();const A=!W&&(U.shiftKey||F==="instant"),P=ne(ns,L),V=ne(ns,C),$=(ae,me)=>(ae||P())[S]-(me||V())[S],Z=xs(ns(d)[_])/jt(d)[B]||1,q=N(Pe(d)[T],1/Z),Y=U[x],K=P(),G=V(),j=K[_],Q=$(K,G)+j/2,ce=Y-G[S],he=W?0:ce-Q,se=ae=>{Ve(ge),R.releasePointerCapture(ae.pointerId)},oe=W||A,ie=w(),ge=[ve(g,y,se),ve(g,"selectstart",(ae=>Ds(ae)),{T:!1}),ve(C,y,se),oe&&ve(C,"pointermove",(ae=>q(he+(ae[x]-Y)))),oe&&(()=>{const ae=Pe(d);ie();const me=Pe(d),pe={x:me.x-ae.x,y:me.y-ae.y};(vn(pe.x)>3||vn(pe.y)>3)&&(w(),it(d,ae),b(pe),h(ie))})];if(R.setPointerCapture(U.pointerId),A)q(he);else if(!W){const ae=ti(Rd);if(ae){const me=ae(q,he,j,(pe=>{pe?ie():xe(ge,ie)}));xe(ge,me),xe(M,ne(me,!0))}}}}))};let m=!0;return ne(Ve,[ve(L,"pointermove pointerleave",n),ve(E,"pointerenter",(()=>{a(to,!0)})),ve(E,"pointerleave pointercancel",(()=>{a(to,!1)})),!f&&ve(E,"mousedown",(()=>{const y=Ls();(Yl(y,dt)||Yl(y,xt)||y===document.body)&&Ks(ne(As,l),25)})),ve(E,"wheel",(y=>{const{deltaX:x,deltaY:_,deltaMode:S}=y;m&&S===0&&wi(E)===u&&b({x,y:_}),m=!1,a(so,!0),o((()=>{m=!0,a(so)})),Ds(y)}),{T:!1,I:!0}),ve(E,"pointerdown",(()=>{const y=ve(g,"click",(_=>{x(),Ca(_)}),{A:!0,I:!0,T:!1}),x=ve(g,"pointerup pointercancel",(()=>{x(),setTimeout(y,150)}),{I:!0,T:!0})}),{I:!0,T:!0}),v(),r,p])},Kd=(t,e,i,n,s,a)=>{let c,u,l,f,d,g=_i,w=0;const E=["mouse","pen"],C=O=>E.includes(O.pointerType),[L,o]=Zt(),[r,h]=Zt(100),[p,b]=Zt(100),[v,m]=Zt((()=>w)),[y,x]=Xd(t,s,n,jd(e,s,n,(O=>C(O)&&H()))),{vt:_,Kt:S,bt:B}=s,{Ft:T,Pt:N,Nt:M,qt:U,Bt:W}=y,R=(O,k)=>{if(m(),O)T(no);else{const A=ne(T,no,!0);w>0&&!k?v(A):A()}},H=()=>{(l?!c:!f)&&(R(!0),r((()=>{R(!1)})))},F=O=>{T(Os,O,!0),T(Os,O,!1)},z=O=>{C(O)&&(c=l,l&&R(!0))},I=[m,h,b,o,()=>g(),ve(_,"pointerover",z,{A:!0}),ve(_,"pointerenter",z),ve(_,"pointerleave",(O=>{C(O)&&(c=!1,l&&R(!1))})),ve(_,"pointermove",(O=>{C(O)&&u&&H()})),ve(S,"scroll",(O=>{L((()=>{M(),H()})),a(O),W()}))],D=ti(dl);return[()=>ne(Ve,xe(I,x())),({zt:O,It:k,Qt:A,Zt:P})=>{const{tn:V,nn:$,sn:Z,en:q}=P||{},{Ct:Y,ft:K}=A||{},{B:G}=i,{k:j,U:Q}=at(),{cn:ce,j:he}=n,[se,oe]=O("showNativeOverlaidScrollbars"),[ie,ge]=O("scrollbars.theme"),[ae,me]=O("scrollbars.visibility"),[pe,ue]=O("scrollbars.autoHide"),[bt,We]=O("scrollbars.autoHideSuspend"),[Ne]=O("scrollbars.autoHideDelay"),[ye,Le]=O("scrollbars.dragScroll"),[we,et]=O("scrollbars.clickScroll"),[rt,Ze]=O("overflow"),Lt=K&&!k,Wn=he.x||he.y,qe=V||$||q||Y||k,Zn=Z||me||Ze,Ai=se&&j.x&&j.y,Bi=!Q&&!D,$n=Ai||Bi,Mi=(ni,si,Oi)=>{const vt=ni.includes(Gt)&&(ae===ut||ae==="auto"&&si===Gt);return T(Dd,vt,Oi),vt};if(w=Ne,Lt&&(bt&&Wn?(F(!1),g(),p((()=>{g=ve(S,"scroll",ne(F,!0),{A:!0})}))):F(!0)),(oe||Bi)&&T(Td,$n),ge&&(T(d),T(ie,!0),d=ie),We&&!bt&&F(!0),ue&&(u=pe==="move",l=pe==="leave",f=pe==="never",R(f,!0)),Le&&T(Md,ye),et&&T(Bd,!!we),Zn){const ni=Mi(rt.x,ce.x,!0),si=Mi(rt.y,ce.y,!1);T(Ad,!(ni&&si))}qe&&(M(),N(),W(),q&&U(),T(io,!he.x,!0),T(io,!he.y,!1),T(Ld,G&&!B))},{},y]},Gd=t=>{const e=at(),{K:i,U:n}=e,{elements:s}=i(),{padding:a,viewport:c,content:u}=s,l=wn(t),f=l?{}:t,{elements:d}=f,{padding:g,viewport:w,content:E}=d||{},C=l?t:f.target,L=ga(C),o=C.ownerDocument,r=o.documentElement,h=()=>o.defaultView||Ie,p=ne(qd,[C]),b=ne(Oa,[C]),v=ne(Xt,""),m=ne(p,v,c),y=ne(b,v,u),x=j=>{const Q=jt(j),ce=En(j),he=ot(j,el),se=ot(j,tl);return ce.w-Q.w>0&&!qt(he)||ce.h-Q.h>0&&!qt(se)},_=m(w),S=_===C,B=S&&L,T=!S&&y(E),N=!S&&_===T,M=B?r:_,U=B?M:C,W=!S&&b(v,a,g),R=!N&&T,H=[R,M,W,U].map((j=>wn(j)&&!wi(j)&&j)),F=j=>j&&Qo(H,j),z=!F(M)&&x(M)?M:C,I=B?r:M,O={dt:C,vt:U,L:M,rn:W,ht:R,gt:I,Kt:B?o:M,ln:L?r:z,Gt:o,bt:L,At:l,V:S,an:h,wt:j=>ll(M,dt,j),yt:(j,Q)=>Sn(M,dt,j,Q),St:()=>Sn(I,dt,wd,!0)},{dt:k,vt:A,rn:P,L:V,ht:$}=O,Z=[()=>{tt(A,[xt,ls]),tt(k,ls),L&&tt(r,[ls,xt])}];let q=Ts([$,V,P,A,k].find((j=>j&&!F(j))));const Y=B?k:$||V,K=ne(Ve,Z);return[O,()=>{const j=h(),Q=Ls(),ce=ge=>{ze(wi(ge),Ts(ge)),Qt(ge)},he=ge=>ve(ge,"focusin focusout focus blur",Ca,{I:!0,T:!1}),se="tabindex",oe=nl(V,se),ie=he(Q);return ct(A,xt,S?"":bd),ct(P,Ms,""),ct(V,dt,""),ct($,eo,""),S||(ct(V,se,oe||"-1"),L&&ct(r,Jl,"")),ze(Y,q),ze(A,P),ze(P||A,!S&&V),ze(V,$),xe(Z,[ie,()=>{const ge=Ls(),ae=F(V),me=ae&&ge===V?k:ge,pe=he(me);tt(P,Ms),tt($,eo),tt(V,dt),L&&tt(r,Jl),oe?ct(V,se,oe):tt(V,se),F($)&&ce($),ae&&ce(V),F(P)&&ce(P),As(me),pe()}]),n&&!S&&(sl(V,dt,ka),xe(Z,ne(tt,V,dt))),As(!S&&L&&Q===k&&j.top===j?V:Q),ie(),q=0,K},K]},Qd=({ht:t})=>({Qt:e,un:i,It:n})=>{const{$t:s}=e||{},{Ot:a}=i;t&&(s||n)&&Ci(t,{[Rn]:a&&"100%"})},Jd=({vt:t,rn:e,L:i,V:n},s)=>{const[a,c]=Fe({i:ld,o:jl()},ne(jl,t,"padding",""));return({zt:u,Qt:l,un:f,It:d})=>{let[g,w]=c(d);const{U:E}=at(),{_t:C,xt:L,Ct:o}=l||{},{B:r}=f,[h,p]=u("paddingAbsolute");(C||w||(d||L))&&([g,w]=a(d));const v=!n&&(p||o||w);if(v){const m=!h||!e&&!E,y=g.r+g.l,x=g.t+g.b,_={[sa]:m&&!r?-y:0,[la]:m?-x:0,[na]:m&&r?-y:0,top:m?-g.t:0,right:m?r?-g.r:"auto":0,left:m?r?"auto":-g.l:0,[Hn]:m&&`calc(100% + ${y}px)`},S={[Jo]:m?g.t:0,[ea]:m?g.r:0,[ia]:m?g.b:0,[ta]:m?g.l:0};Ci(e||i,_),Ci(i,S),fe(s,{rn:g,fn:!m,F:e?S:fe({},_,S)})}return{_n:v}}},eu=(t,e)=>{const i=at(),{vt:n,rn:s,L:a,V:c,Kt:u,gt:l,bt:f,yt:d,an:g}=t,{U:w}=i,E=f&&c,C=ne(jo,0),L={display:()=>!1,direction:O=>O!=="ltr",flexDirection:O=>O.endsWith("-reverse"),writingMode:O=>O!=="horizontal-tb"},o=Qe(L),r={i:oa,o:{w:0,h:0}},h={i:cn,o:{}},p=O=>{d(La,!E&&O)},b=O=>{if(!o.some((K=>{const G=O[K];return G&&L[K](G)})))return{D:{x:0,y:0},M:{x:1,y:1}};p(!0);const A=Pe(l),P=d(Cd,!0),V=ve(u,Gt,(K=>{const G=Pe(l);K.isTrusted&&G.x===A.x&&G.y===A.y&&wa(K)}),{I:!0,A:!0});it(l,{x:0,y:0}),P();const $=Pe(l),Z=En(l);it(l,{x:Z.w,y:Z.h});const q=Pe(l);it(l,{x:q.x-$.x<1&&-Z.w,y:q.y-$.y<1&&-Z.h});const Y=Pe(l);return it(l,A),js((()=>V())),{D:$,M:Y}},v=(O,k)=>{const A=Ie.devicePixelRatio%1!==0?1:0,P={w:C(O.w-k.w),h:C(O.h-k.h)};return{w:P.w>A?P.w:0,h:P.h>A?P.h:0}},m=(O,k)=>{const A=(P,V,$,Z)=>{const q=P===ut?Ke:Id(P),Y=qt(P),K=qt($);return!V&&!Z?Ke:Y&&K?ut:Y?V&&Z?q:V?ut:Ke:V?q:K&&Z?ut:Ke};return{x:A(k.x,O.x,k.y,O.y),y:A(k.y,O.y,k.x,O.x)}},y=O=>{const k=P=>[ut,Ke,Gt].map((V=>D(zs(V),P))),A=k(!0).concat(k()).join(" ");d(A),d(Qe(O).map((P=>D(O[P],P==="x"))).join(" "),!0)},[x,_]=Fe(r,ne(al,a)),[S,B]=Fe(r,ne(En,a)),[T,N]=Fe(r),[M]=Fe(h),[U,W]=Fe(r),[R]=Fe(h),[H]=Fe({i:(O,k)=>Fn(O,k,o),o:{}},(()=>fd(a)?ot(a,o):{})),[F,z]=Fe({i:(O,k)=>cn(O.D,k.D)&&cn(O.M,k.M),o:xa()}),I=ti(dl),D=(O,k)=>`${k?vd:yd}${sd(O)}`;return({zt:O,Qt:k,un:A,It:P},{_n:V})=>{const{_t:$,Ht:Z,xt:q,Ct:Y,ft:K,Et:G}=k||{},j=I&&I.R(t,e,A,i,O),{X:Q,Y:ce,W:he}=j||{},[se,oe]=zd(O,i),[ie,ge]=O("overflow"),ae=qt(ie.x),me=qt(ie.y),pe=$||V||q||Y||G||oe;let ue=_(P),bt=B(P),We=N(P),Ne=W(P);if(oe&&w&&d(ka,!se),pe){ll(n,xt,un)&&p(!0);const vl=ce&&ce(),[zi]=ue=x(P),[Ii]=bt=S(P),Hi=ya(a),Ri=E&&hd(g()),ir={w:C(Ii.w+zi.w),h:C(Ii.h+zi.h)},yl={w:C((Ri?Ri.w:Hi.w+C(Hi.w-Ii.w))+zi.w),h:C((Ri?Ri.h:Hi.h+C(Hi.h-Ii.h))+zi.h)};vl&&vl(),Ne=U(yl),We=T(v(ir,yl),P)}const[ye,Le]=Ne,[we,et]=We,[rt,Ze]=bt,[Lt,Wn]=ue,[qe,Zn]=M({x:we.w>0,y:we.h>0}),Ai=ae&&me&&(qe.x||qe.y)||ae&&qe.x&&!qe.y||me&&qe.y&&!qe.x,Bi=V||Y||G||Wn||Ze||Le||et||ge||oe||pe||Z&&E,[$n,Mi]=H(P),ni=Y||K||Mi||Zn||P,[si,Oi]=ni?F(b($n),P):z();let vt=m(qe,ie);p(!1),Bi&&(y(vt),vt=Hd(a,qe),he&&Q&&(Q(vt,rt,Lt),Ci(a,he(vt))));const[er,tr]=R(vt);return Sn(n,xt,un,Ai),Sn(s,Ms,un,Ai),fe(e,{cn:er,Vt:{x:ye.w,y:ye.h},Rt:{x:we.w,y:we.h},j:qe,Dt:gd(si,we)}),{sn:tr,tn:Le,nn:et,en:Oi||et}}},tu=t=>{const[e,i,n]=Gd(t),s={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[sa]:0,[la]:0,[na]:0,[Jo]:0,[ea]:0,[ia]:0,[ta]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:Ke,y:Ke},j:{x:!1,y:!1},Dt:xa()},{dt:a,gt:c,V:u,St:l}=e,{U:f,k:d}=at(),g=!f&&(d.x||d.y),w=[Qd(e),Jd(e,s),eu(e,s)];return[i,E=>{const C={},o=g&&Pe(c),r=o&&l();return be(w,(h=>{fe(C,h(E,C)||{})})),it(c,o),r&&r(),u||it(a,0),C},s,e,n]},iu=(t,e,i,n,s)=>{let a=!1;const c=ao(e,{}),[u,l,f,d,g]=tu(t),[w,E,C]=$d(d,f,c,(b=>{p({},b)})),[L,o,,r]=Kd(t,e,C,f,d,s),h=b=>Qe(b).some((v=>!!b[v])),p=(b,v)=>{if(i())return!1;const{dn:m,It:y,Tt:x,pn:_}=b,S=m||{},B=!!y||!a,T={zt:ao(e,S,B),dn:S,It:B};if(_)return o(T),!1;const N=v||E(fe({},T,{Tt:x})),M=l(fe({},T,{un:C,Qt:N}));o(fe({},T,{Qt:N,Zt:M}));const U=h(N),W=h(M),R=U||W||!il(S)||B;return a=!0,R&&n(b,{Qt:N,Zt:M}),R};return[()=>{const{ln:b,gt:v,St:m}=d,y=Pe(b),x=[w(),u(),L()],_=m();return it(v,y),_(),ne(Ve,x)},p,()=>({vn:C,gn:f}),{hn:d,bn:r},g]},ul=new WeakMap,nu=(t,e)=>{ul.set(t,e)},su=t=>{ul.delete(t)},za=t=>ul.get(t),Et=(t,e,i)=>{const{tt:n}=at(),s=wn(t),a=s?t:t.target,c=za(a);if(e&&!c){let u=!1;const l=[],f={},d=S=>{const B=ra(S),T=ti(md);return T?T(B,!0):B},g=fe({},n(),d(e)),[w,E,C]=Bs(),[L,o,r]=Bs(i),h=(S,B)=>{r(S,B),C(S,B)},[p,b,v,m,y]=iu(t,g,(()=>u),(({dn:S,It:B},{Qt:T,Zt:N})=>{const{_t:M,Ct:U,$t:W,xt:R,Ht:H,ft:F}=T,{tn:z,nn:I,sn:D,en:O}=N;h("updated",[_,{updateHints:{sizeChanged:!!M,directionChanged:!!U,heightIntrinsicChanged:!!W,overflowEdgeChanged:!!z,overflowAmountChanged:!!I,overflowStyleChanged:!!D,scrollCoordinatesChanged:!!O,contentMutation:!!R,hostMutation:!!H,appear:!!F},changedOptions:S||{},force:!!B}])}),(S=>h("scroll",[_,S]))),x=S=>{su(a),Ve(l),u=!0,h("destroyed",[_,S]),E(),o()},_={options(S,B){if(S){const T=B?n():{},N=Da(g,fe(T,d(S)));il(N)||(fe(g,N),b({dn:N}))}return fe({},g)},on:L,off:(S,B)=>{S&&B&&o(S,B)},state(){const{vn:S,gn:B}=v(),{B:T}=S,{Vt:N,Rt:M,cn:U,j:W,rn:R,fn:H,Dt:F}=B;return fe({},{overflowEdge:N,overflowAmount:M,overflowStyle:U,hasOverflow:W,scrollCoordinates:{start:F.D,end:F.M},padding:R,paddingAbsolute:H,directionRTL:T,destroyed:u})},elements(){const{dt:S,vt:B,rn:T,L:N,ht:M,gt:U,Kt:W}=m.hn,{jt:R,Jt:H}=m.bn,F=I=>{const{Mt:D,Ut:O,Lt:k}=I;return{scrollbar:k,track:O,handle:D}},z=I=>{const{Xt:D,Yt:O}=I,k=F(D[0]);return fe({},k,{clone:()=>{const A=F(O());return b({pn:!0}),A}})};return fe({},{target:S,host:B,padding:T||N,viewport:N,content:M||N,scrollOffsetElement:U,scrollEventElement:W,scrollbarHorizontal:z(R),scrollbarVertical:z(H)})},update:S=>b({It:S,Tt:!0}),destroy:ne(x,!1),plugin:S=>f[Qe(S)[0]]};return xe(l,[y]),nu(a,_),Ta(Sa,Et,[_,w,f]),Yd(m.hn.bt,!s&&t.cancel)?(x(!0),_):(xe(l,p()),h("initialized",[_]),_.update(),_)}return c};Et.plugin=t=>{const e=Ge(t),i=e?t:[t],n=i.map((s=>Ta(s,Et)[0]));return pd(i),e?n:n[0]};Et.valid=t=>{const e=t&&t.elements,i=Je(e)&&e();return _n(i)&&!!za(i.target)};Et.env=()=>{const{P:t,k:e,U:i,J:n,ot:s,st:a,K:c,Z:u,tt:l,nt:f}=at();return fe({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:i,scrollTimeline:n,staticDefaultInitialization:s,staticDefaultOptions:a,getDefaultInitialization:c,setDefaultInitialization:u,getDefaultOptions:l,setDefaultOptions:f})};Et.nonce=Vd;Et.trustedTypePolicy=cd;function lu(){document.querySelectorAll("[data-overlayscrollbars-initialize]").forEach(e=>{Et(e,{overflow:{x:"hidden"},scrollbars:{theme:"os-theme-admin",autoHide:"leave",autoHideDelay:500}})})}const hn=document.getElementById("adminSidebar"),co=document.getElementById("adminSidebarToggler"),ou=1200;let uo=null;function au(){!hn||!co||(co.addEventListener("click",as),window.addEventListener("resize",as),as())}function as(t=null){clearTimeout(uo),uo=setTimeout(()=>{hn.classList.toggle("active",!t||t?.type==="resize"?window.innerWidth>=ou:void 0),setTimeout(()=>{hn.dispatchEvent(new CustomEvent("togglesidebar",{detail:{active:hn.classList.contains("active")},bubbles:!0,cancelable:!0}))},250)},t?.type==="resize"?150:0)}let rs=!1;function ru(){document.addEventListener("submit",t=>{const e=t?.target,i=e?.isFormSending;if(!e||e?.tagName!=="FORM"||i){i&&t.preventDefault();return}const n=e.id,s=n?document.querySelector(`[data-submit-loader][form="${n}"]`):null;e.isFormSending=!0,e.classList.add("sending"),s?.classList?.add("sending"),setTimeout(()=>{const a=document.getElementById("waitRequestProcessedMessage");if(!a)return;new nr(a).show()},3e3)}),document.addEventListener("invalid",t=>{if(rs)return;const e=t?.target;e&&(rs=!0);const i=e.closest("[data-overlayscrollbars-viewport]"),n=e.closest(".accordion-collapse"),s=document.querySelector(`[data-bs-target="#${n?.id}"]`);cu(e),s?.classList?.contains("collapsed")&&s?.click(),setTimeout(()=>{rs=!1},50),i&&setTimeout(()=>{i.scroll({top:i.scrollTop+e.offsetHeight+16,behavior:"smooth"})},200)},!0)}function cu(t){const e=document.querySelectorAll(".tab-pane"),i=`[name="${t.name}"]`;e.forEach(n=>{if(n.querySelector(i)){const a=document.querySelector(`[data-bs-toggle][data-bs-target="#${n.id}"]`);Do.getOrCreateInstance(a).show()}})}function hl(t){return t[t.length-1]}function Ni(t,...e){return e.forEach(i=>{t.includes(i)||t.push(i)}),t}function ho(t,e){return t?t.split(e):[]}function fl(t,e,i){const n=e===void 0||t>=e,s=i===void 0||t<=i;return n&&s}function Ia(t,e,i){return t<e?e:t>i?i:t}function Jt(t,e,i={},n=0,s=""){const a=Object.keys(i).reduce((u,l)=>{let f=i[l];return typeof f=="function"&&(f=f(n)),`${u} ${l}="${f}"`},t);s+=`<${a}></${t}>`;const c=n+1;return c<e?Jt(t,e,i,c,s):s}function gl(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function Is(t){return new Date(t).setHours(0,0,0,0)}function It(){return new Date().setHours(0,0,0,0)}function ei(...t){switch(t.length){case 0:return It();case 1:return Is(t[0])}const e=new Date(0);return e.setFullYear(...t),e.setHours(0,0,0,0)}function xi(t,e){const i=new Date(t);return i.setDate(i.getDate()+e)}function du(t,e){return xi(t,e*7)}function Tn(t,e){const i=new Date(t),n=i.getMonth()+e;let s=n%12;s<0&&(s+=12);const a=i.setMonth(n);return i.getMonth()!==s?i.setDate(0):a}function Si(t,e){const i=new Date(t),n=i.getMonth(),s=i.setFullYear(i.getFullYear()+e);return n===1&&i.getMonth()===2?i.setDate(0):s}function fo(t,e){return(t-e+7)%7}function Mt(t,e,i=0){const n=new Date(t).getDay();return xi(t,fo(e,i)-fo(n,i))}function Ha(t,e){return Math.round((t-e)/6048e5)+1}function uu(t){const e=Mt(t,4,1),i=Mt(new Date(e).setMonth(0,4),4,1);return Ha(e,i)}function Ra(t,e){const i=Mt(new Date(t).setMonth(0,1),e,e),n=Mt(t,e,e),s=Ha(n,i);if(s<53)return s;const a=Mt(new Date(t).setDate(32),e,e);return n===a?1:s}function hu(t){return Ra(t,0)}function fu(t){return Ra(t,6)}function Ft(t,e){const i=new Date(t).getFullYear();return Math.floor(i/e)*e}function St(t,e,i){if(e!==1&&e!==2)return t;const n=new Date(t);return e===1?i?n.setMonth(n.getMonth()+1,0):n.setDate(1):i?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}const Hs=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,gu=/[\s!-/:-@[-`{-~]+/;let cs={};const go={y(t,e){return new Date(t).setFullYear(parseInt(e,10))},m(t,e,i){const n=new Date(t);let s=parseInt(e,10)-1;if(isNaN(s)){if(!e)return NaN;const a=e.toLowerCase(),c=u=>u.toLowerCase().startsWith(a);if(s=i.monthsShort.findIndex(c),s<0&&(s=i.months.findIndex(c)),s<0)return NaN}return n.setMonth(s),n.getMonth()!==Fa(s)?n.setDate(0):n.getTime()},d(t,e){return new Date(t).setDate(parseInt(e,10))}},pu={d(t){return t.getDate()},dd(t){return Yi(t.getDate(),2)},D(t,e){return e.daysShort[t.getDay()]},DD(t,e){return e.days[t.getDay()]},m(t){return t.getMonth()+1},mm(t){return Yi(t.getMonth()+1,2)},M(t,e){return e.monthsShort[t.getMonth()]},MM(t,e){return e.months[t.getMonth()]},y(t){return t.getFullYear()},yy(t){return Yi(t.getFullYear(),2).slice(-2)},yyyy(t){return Yi(t.getFullYear(),4)}};function Fa(t){return t>-1?t%12:Fa(t+12)}function Yi(t,e){return t.toString().padStart(e,"0")}function Pa(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in cs)return cs[t];const e=t.split(Hs),i=t.match(new RegExp(Hs,"g"));if(e.length===0||!i)throw new Error("Invalid date format.");const n=i.map(a=>pu[a]),s=Object.keys(go).reduce((a,c)=>(i.find(l=>l[0]!=="D"&&l[0].toLowerCase()===c)&&a.push(c),a),[]);return cs[t]={parser(a,c){const u=a.split(gu).reduce((l,f,d)=>{if(f.length>0&&i[d]){const g=i[d][0];g==="M"?l.m=f:g!=="D"&&(l[g]=f)}return l},{});return s.reduce((l,f)=>{const d=go[f](l,u[f],c);return isNaN(d)?l:d},It())},formatter(a,c){let u=n.reduce((l,f,d)=>l+=`${e[d]}${f(a,c)}`,"");return u+=hl(e)}}}function Ot(t,e,i){if(t instanceof Date||typeof t=="number"){const n=Is(t);return isNaN(n)?void 0:n}if(t){if(t==="today")return It();if(e&&e.toValue){const n=e.toValue(t,e,i);return isNaN(n)?void 0:Is(n)}return Pa(e).parser(t,i)}}function Di(t,e,i){if(isNaN(t)||!t&&t!==0)return"";const n=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):Pa(e).formatter(n,i)}const mu=document.createRange();function pt(t){return mu.createContextualFragment(t)}function Va(t){return t.parentElement||(t.parentNode instanceof ShadowRoot?t.parentNode.host:void 0)}function Un(t){return t.getRootNode().activeElement===t}function bi(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function vi(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function Ln(t){t.firstChild&&(t.removeChild(t.firstChild),Ln(t))}function bu(t,e){Ln(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(pt(e)):typeof e.forEach=="function"&&e.forEach(i=>{t.appendChild(i)})}const kn=new WeakMap,{addEventListener:vu,removeEventListener:yu}=EventTarget.prototype;function Nn(t,e){let i=kn.get(t);i||(i=[],kn.set(t,i)),e.forEach(n=>{vu.call(...n),i.push(n)})}function Ua(t){let e=kn.get(t);e&&(e.forEach(i=>{yu.call(...i)}),kn.delete(t))}if(!Event.prototype.composedPath){const t=(e,i=[])=>{i.push(e);let n;return e.parentNode?n=e.parentNode:e.host?n=e.host:e.defaultView&&(n=e.defaultView),n?t(n,i):i};Event.prototype.composedPath=function(){return t(this.target)}}function Wa(t,e,i){const[n,...s]=t;if(e(n))return n;if(!(n===i||n.tagName==="HTML"||s.length===0))return Wa(s,e,i)}function Za(t,e){const i=typeof e=="function"?e:n=>n instanceof Element&&n.matches(e);return Wa(t.composedPath(),i,t.currentTarget)}const li={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},pl={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"",orientation:"auto",pickLevel:0,prevArrow:"",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:ds,format:_u,weekStart:wu}=pl;function po(t,e){return t.length<6&&e>=0&&e<7?Ni(t,e):t}function $a(t,e){switch(t===4?e===6?3:!e+1:t){case 1:return uu;case 2:return hu;case 3:return fu}}function mo(t,e,i){return e.weekStart=t,e.weekEnd=(t+6)%7,i===4&&(e.getWeekNumber=$a(4,t)),t}function bo(t,e,i,n){const s=Ot(t,e,i);return s!==void 0?s:n}function us(t,e,i=3){const n=parseInt(t,10);return n>=0&&n<=i?n:e}function Xi(t,e,i,n=void 0){e in t&&(i in t||(t[i]=n?n(t[e]):t[e]),delete t[e])}function hs(t,e){const i=Object.assign({},t),n={},s=e.constructor.locales,a=!!e.rangeSideIndex;let{datesDisabled:c,format:u,language:l,locale:f,maxDate:d,maxView:g,minDate:w,pickLevel:E,startView:C,weekNumbers:L,weekStart:o}=e.config||{};if(Xi(i,"calendarWeeks","weekNumbers",m=>m?1:0),Xi(i,"clearBtn","clearButton"),Xi(i,"todayBtn","todayButton"),Xi(i,"todayBtnMode","todayButtonMode"),i.language){let m;if(i.language!==l&&(s[i.language]?m=i.language:(m=i.language.split("-")[0],s[m]||(m=!1))),delete i.language,m){l=n.language=m;const y=f||s[ds];f=Object.assign({format:_u,weekStart:wu},s[ds]),l!==ds&&Object.assign(f,s[l]),n.locale=f,u===y.format&&(u=n.format=f.format),o===y.weekStart&&(o=mo(f.weekStart,n,L))}}if(i.format){const m=typeof i.format.toDisplay=="function",y=typeof i.format.toValue=="function",x=Hs.test(i.format);(m&&y||x)&&(u=n.format=i.format),delete i.format}let r=E;"pickLevel"in i&&(r=us(i.pickLevel,E,2),delete i.pickLevel),r!==E&&(r>E&&("minDate"in i||(i.minDate=w),"maxDate"in i||(i.maxDate=d)),c&&!i.datesDisabled&&(i.datesDisabled=[]),E=n.pickLevel=r);let h=w,p=d;if("minDate"in i){const m=ei(0,0,1);h=i.minDate===null?m:bo(i.minDate,u,f,h),h!==m&&(h=St(h,E,!1)),delete i.minDate}if("maxDate"in i&&(p=i.maxDate===null?void 0:bo(i.maxDate,u,f,p),p!==void 0&&(p=St(p,E,!0)),delete i.maxDate),p<h?(w=n.minDate=p,d=n.maxDate=h):(w!==h&&(w=n.minDate=h),d!==p&&(d=n.maxDate=p)),i.datesDisabled){const m=i.datesDisabled;if(typeof m=="function")n.datesDisabled=null,n.checkDisabled=(y,x)=>m(new Date(y),x,a);else{const y=n.datesDisabled=m.reduce((x,_)=>{const S=Ot(_,u,f);return S!==void 0?Ni(x,St(S,E,a)):x},[]);n.checkDisabled=x=>y.includes(x)}delete i.datesDisabled}if("defaultViewDate"in i){const m=Ot(i.defaultViewDate,u,f);m!==void 0&&(n.defaultViewDate=m),delete i.defaultViewDate}if("weekStart"in i){const m=Number(i.weekStart)%7;isNaN(m)||(o=mo(m,n,L)),delete i.weekStart}if(i.daysOfWeekDisabled&&(n.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(po,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(po,[]),delete i.daysOfWeekHighlighted),"weekNumbers"in i){let m=i.weekNumbers;if(m){const y=typeof m=="function"?(x,_)=>m(new Date(x),_):$a(m=parseInt(m,10),o);y&&(L=n.weekNumbers=m,n.getWeekNumber=y)}else L=n.weekNumbers=0,n.getWeekNumber=null;delete i.weekNumbers}if("maxNumberOfDates"in i){const m=parseInt(i.maxNumberOfDates,10);m>=0&&(n.maxNumberOfDates=m,n.multidate=m!==1),delete i.maxNumberOfDates}i.dateDelimiter&&(n.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);let b=g;"maxView"in i&&(b=us(i.maxView,g),delete i.maxView),b=E>b?E:b,b!==g&&(g=n.maxView=b);let v=C;if("startView"in i&&(v=us(i.startView,v),delete i.startView),v<E?v=E:v>g&&(v=g),v!==C&&(n.startView=v),i.prevArrow){const m=pt(i.prevArrow);m.childNodes.length>0&&(n.prevArrow=m.childNodes),delete i.prevArrow}if(i.nextArrow){const m=pt(i.nextArrow);m.childNodes.length>0&&(n.nextArrow=m.childNodes),delete i.nextArrow}if("disableTouchKeyboard"in i&&(n.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){const m=i.orientation.toLowerCase().split(/\s+/g);n.orientation={x:m.find(y=>y==="left"||y==="right")||"auto",y:m.find(y=>y==="top"||y==="bottom")||"auto"},delete i.orientation}if("todayButtonMode"in i){switch(i.todayButtonMode){case 0:case 1:n.todayButtonMode=i.todayButtonMode}delete i.todayButtonMode}return Object.entries(i).forEach(([m,y])=>{y!==void 0&&m in pl&&(n[m]=y)}),n}const vo={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function Cu(t){return Object.keys(vo).reduce((e,i)=>{const n=t[i]===void 0?vo[i]:t[i],s=n&&n.key;if(!s||typeof s!="string")return e;const a={key:s,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};return s.length>1&&(a.altKey=!!n.altKey,a.shiftKey=!!n.shiftKey),e[i]=a,e},{})}const yo=t=>t.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),xu=gl(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${yo(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${yo(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),Su=gl(`<div class="days">
  <div class="days-of-week">${Jt("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${Jt("span",42)}</div>
</div>`),Eu=gl(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${Jt("span",6,{class:"week"})}</div>
</div>`);class ml{constructor(e,i){Object.assign(this,i,{picker:e,element:pt('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,i,n){this.disabled=[];const s=this.picker;s.setViewSwitchLabel(e),s.setPrevButtonDisabled(i),s.setNextButtonDisabled(n)}setDisabled(e,i){i.add("disabled"),Ni(this.disabled,e)}performBeforeHook(e,i){let n=this.beforeShow(new Date(i));switch(typeof n){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){const s=e.classList;if(n.enabled===!1&&this.setDisabled(i,s),n.classes){const a=n.classes.split(/\s+/);s.add(...a),a.includes("disabled")&&this.setDisabled(i,s)}n.content&&bu(e,n.content)}}renderCell(e,i,n,s,{selected:a,range:c},u,l=[]){e.textContent=i,this.isMinView&&(e.dataset.date=s);const f=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,n<this.first?f.add("prev"):n>this.last&&f.add("next"),f.add(...l),(u||this.checkDisabled(s,this.id))&&this.setDisabled(s,f),c){const[d,g]=c;n>d&&n<g&&f.add("range"),n===d&&f.add("range-start"),n===g&&f.add("range-end")}a.includes(n)&&f.add("selected"),n===this.focused&&f.add("focused"),this.beforeShow&&this.performBeforeHook(e,s)}refreshCell(e,i,n,[s,a]){const c=e.classList;c.remove("range","range-start","range-end","selected","focused"),i>s&&i<a&&c.add("range"),i===s&&c.add("range-start"),i===a&&c.add("range-end"),n.includes(i)&&c.add("selected"),i===this.focused&&c.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(i=>{i.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class Tu extends ml{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,i=!0){if(i){const n=pt(Su).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}super.init(e)}setOptions(e){let i;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,i=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,i=!0),e.locale){const n=this.locale=e.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,i=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const n=pt(Eu).firstChild;this.weekNumbers={element:n,dow:n.firstChild,weeks:n.lastChild},this.element.insertBefore(n,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(vi(this.dow),this.weekNumbers&&vi(this.weekNumbers.dow)):(bi(this.dow),this.weekNumbers&&bi(this.weekNumbers.dow))),i&&Array.from(this.dow.children).forEach((n,s)=>{const a=(this.weekStart+s)%7;n.textContent=this.dayNames[a],n.className=this.daysOfWeekDisabled.includes(a)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),i=e.getFullYear(),n=e.getMonth(),s=ei(i,n,1),a=Mt(s,this.weekStart,this.weekStart);this.first=s,this.last=ei(i,n+1,0),this.start=a,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e,i&&(this.range=i.dates)}render(){if(this.today=this.todayHighlight?It():void 0,this.prepareForRender(Di(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,i=Mt(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((n,s)=>{const a=du(i,s);n.textContent=this.getWeekNumber(a,e),s>3&&n.classList[a>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,i)=>{const n=xi(this.start,i),s=new Date(n),a=s.getDay(),c=[];this.today===n&&c.push("today"),this.daysOfWeekHighlighted.includes(a)&&c.push("highlighted"),this.renderCell(e,s.getDate(),n,n,this,n<this.minDate||n>this.maxDate||this.daysOfWeekDisabled.includes(a),c)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function _o(t,e){if(!t||!t[0]||!t[1])return;const[[i,n],[s,a]]=t;if(!(i>e||s<e))return[i===e?n:-1,s===e?a:12]}class Lu extends ml{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,i=!0){i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(pt(Jt("span",12,{"data-month":n=>n}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const i=new Date(e.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const i=new Date(e.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=ei(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>{const a=new Date(s),c=a.getFullYear(),u=a.getMonth();return n[c]===void 0?n[c]=[u]:Ni(n[c],u),n},{}),i&&i.dates&&(this.range=i.dates.map(n=>{const s=new Date(n);return isNaN(s)?void 0:[s.getFullYear(),s.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,s=this.year===this.maxYear,a=_o(this.range,this.year);Array.from(this.grid.children).forEach((c,u)=>{const l=St(new Date(this.year,u,1),1,this.isRangeEnd);this.renderCell(c,this.monthNames[u],u,l,{selected:e,range:a},i||n&&u<this.minMonth||s&&u>this.maxMonth)})}refresh(){const e=this.selected[this.year]||[],i=_o(this.range,this.year)||[];Array.from(this.grid.children).forEach((n,s)=>{this.refreshCell(n,s,e,i)})}refreshFocus(){this.changeFocusedCell(this.focused)}}function ku(t){return[...t].reduce((e,i,n)=>e+=n?i:i.toUpperCase(),"")}class wo extends ml{constructor(e,i){super(e,i)}init(e,i=!0){i&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${ku(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(pt(Jt("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Ft(e.minDate,this.step),this.minDate=ei(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Ft(e.maxDate,this.step),this.maxDate=ei(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){const i=e[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),i=Ft(e,this.navStep),n=i+9*this.step;this.first=i,this.last=n,this.start=i-this.step,this.focused=Ft(e,this.step)}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>Ni(n,Ft(s,this.step)),[]),i&&i.dates&&(this.range=i.dates.map(n=>{if(n!==void 0)return Ft(n,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,i)=>{const n=this.start+i*this.step,s=St(new Date(n,0,1),2,this.isRangeEnd);e.dataset.year=n,this.renderCell(e,n,n,s,this,n<this.minYear||n>this.maxYear)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Vt(t,e){const i={bubbles:!0,cancelable:!0,detail:{date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t}};t.element.dispatchEvent(new CustomEvent(e,i))}function Dn(t,e){const{config:i,picker:n}=t,{currentView:s,viewDate:a}=n;let c;switch(s.id){case 0:c=Tn(a,e);break;case 1:c=Si(a,e);break;default:c=Si(a,e*s.navStep)}c=Ia(c,i.minDate,i.maxDate),n.changeFocus(c).render()}function qa(t){const e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function Ya(t){t.setDate({clear:!0})}function Xa(t){const e=It();t.config.todayButtonMode===1?t.setDate(e,{forceRefresh:!0,viewDate:e}):t.setFocusedDate(e,!0)}function ja(t){const e=()=>{t.config.updateOnBlur?t.update({revert:!0}):t.refresh("input"),t.hide()},i=t.element;Un(i)?i.addEventListener("blur",e,{once:!0}):e()}function Co(t,e){const i=t.picker,n=new Date(i.viewDate),s=i.currentView.id,a=s===1?Tn(n,e-n.getMonth()):Si(n,e-n.getFullYear());i.changeFocus(a).changeView(s-1).render()}function Nu(t){qa(t)}function Du(t){Dn(t,-1)}function Au(t){Dn(t,1)}function Bu(t,e){const i=Za(e,".datepicker-cell");if(!i||i.classList.contains("disabled"))return;const{id:n,isMinView:s}=t.picker.currentView,a=i.dataset;s?t.setDate(Number(a.date)):n===1?Co(t,Number(a.month)):Co(t,Number(a.year))}function Mu(t){t.preventDefault()}const fs=["left","top","right","bottom"].reduce((t,e)=>(t[e]=`datepicker-orient-${e}`,t),{}),xo=t=>t&&`${t}px`;function So(t,e){if("title"in e&&(e.title?(t.controls.title.textContent=e.title,vi(t.controls.title)):(t.controls.title.textContent="",bi(t.controls.title))),e.prevArrow){const i=t.controls.prevButton;Ln(i),e.prevArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.nextArrow){const i=t.controls.nextButton;Ln(i),e.nextArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.locale&&(t.controls.todayButton.textContent=e.locale.today,t.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?vi(t.controls.todayButton):bi(t.controls.todayButton)),"minDate"in e||"maxDate"in e){const{minDate:i,maxDate:n}=t.datepicker.config;t.controls.todayButton.disabled=!fl(It(),i,n)}"clearButton"in e&&(e.clearButton?vi(t.controls.clearButton):bi(t.controls.clearButton))}function Eo(t){const{dates:e,config:i,rangeSideIndex:n}=t,s=e.length>0?hl(e):St(i.defaultViewDate,i.pickLevel,n);return Ia(s,i.minDate,i.maxDate)}function To(t,e){!("_oldViewDate"in t)&&e!==t.viewDate&&(t._oldViewDate=t.viewDate),t.viewDate=e;const{id:i,year:n,first:s,last:a}=t.currentView,c=new Date(e).getFullYear();switch(i){case 0:return e<s||e>a;case 1:return c!==n;default:return c<s||c>a}}function gs(t){return window.getComputedStyle(t).direction}function Ka(t){const e=Va(t);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:Ka(e)}class Ou{constructor(e){const{config:i,inputField:n}=this.datepicker=e,s=xu.replace(/%buttonClass%/g,i.buttonClass),a=this.element=pt(s).firstChild,[c,u,l]=a.firstChild.children,f=c.firstElementChild,[d,g,w]=c.lastElementChild.children,[E,C]=l.firstChild.children,L={title:f,prevButton:d,viewSwitch:g,nextButton:w,todayButton:E,clearButton:C};this.main=u,this.controls=L;const o=n?"dropdown":"inline";a.classList.add(`datepicker-${o}`),So(this,i),this.viewDate=Eo(e),Nn(e,[[a,"mousedown",Mu],[u,"click",Bu.bind(null,e)],[L.viewSwitch,"click",Nu.bind(null,e)],[L.prevButton,"click",Du.bind(null,e)],[L.nextButton,"click",Au.bind(null,e)],[L.todayButton,"click",Xa.bind(null,e)],[L.clearButton,"click",Ya.bind(null,e)]]),this.views=[new Tu(this),new Lu(this),new wo(this,{id:2,name:"years",cellClass:"year",step:1}),new wo(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[i.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),i.container?i.container.appendChild(this.element):n.after(this.element)}setOptions(e){So(this,e),this.views.forEach(i=>{i.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:i}=this,n=e.inputField;if(n){const s=gs(n);s!==gs(Va(i))?i.dir=s:i.dir&&i.removeAttribute("dir"),this.place(),i.classList.add("active"),e.config.disableTouchKeyboard&&n.blur()}else i.classList.add("active");this.active=!0,Vt(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Vt(this.datepicker,"hide"))}place(){const{classList:e,style:i}=this.element;i.display="block";const{width:n,height:s}=this.element.getBoundingClientRect(),a=this.element.offsetParent;i.display="";const{config:c,inputField:u}=this.datepicker,{left:l,top:f,right:d,bottom:g,width:w,height:E}=u.getBoundingClientRect();let{x:C,y:L}=c.orientation,o=l,r=f;if(a===document.body||!a)o+=window.scrollX,r+=window.scrollY;else{const x=a.getBoundingClientRect();o-=x.left-a.scrollLeft,r-=x.top-a.scrollTop}const h=Ka(u);let p=0,b=0,{clientWidth:v,clientHeight:m}=document.documentElement;if(h){const x=h.getBoundingClientRect();x.top>0&&(b=x.top),x.left>0&&(p=x.left),x.right<v&&(v=x.right),x.bottom<m&&(m=x.bottom)}let y=0;C==="auto"&&(l<p?(C="left",y=p-l):l+n>v?(C="right",v<d&&(y=v-d)):gs(u)==="rtl"?C=d-n<p?"left":"right":C="left"),C==="right"&&(o+=w-n),o+=y,L==="auto"&&(f-s>b?L=g+s>m?"top":"bottom":L="bottom"),L==="top"?r-=s:r+=E,e.remove(...Object.values(fs)),e.add(fs[C],fs[L]),i.left=xo(o),i.top=xo(r)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const i=this.currentView;return e!==i.id&&(this._oldView||(this._oldView=i),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=To(this,e)?"render":"refreshFocus",this.views.forEach(i=>{i.updateFocus()}),this}update(e=void 0){const i=e===void 0?Eo(this.datepicker):e;return this._renderMethod=To(this,i)?"render":"refresh",this.views.forEach(n=>{n.updateFocus(),n.updateSelection()}),this}render(e=!0){const{currentView:i,datepicker:n,_oldView:s}=this,a=new Date(this._oldViewDate),c=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,i[c](),s&&(this.main.replaceChild(i.element,s.element),Vt(n,"changeView")),!isNaN(a)){const u=new Date(this.viewDate);u.getFullYear()!==a.getFullYear()&&Vt(n,"changeYear"),u.getMonth()!==a.getMonth()&&Vt(n,"changeMonth")}}}function Ga(t,e,i,n,s,a){if(fl(t,s,a)){if(n(t)){const c=e(t,i);return Ga(c,e,i,n,s,a)}return t}}function zu(t,e,i){const n=t.picker,s=n.currentView,a=s.step||1;let c=n.viewDate,u;switch(s.id){case 0:c=xi(c,i?e*7:e),u=xi;break;case 1:c=Tn(c,i?e*4:e),u=Tn;break;default:c=Si(c,e*(i?4:1)*a),u=Si}c=Ga(c,u,e<0?-a:a,l=>s.disabled.includes(l),s.minDate,s.maxDate),c!==void 0&&n.changeFocus(c).render()}function Iu(t,e){const{config:i,picker:n,editMode:s}=t,a=n.active,{key:c,altKey:u,shiftKey:l}=e,f=e.ctrlKey||e.metaKey,d=()=>{e.preventDefault(),e.stopPropagation()};if(c==="Tab"){ja(t);return}if(c==="Enter"){if(!a)t.update();else if(s)t.exitEditMode({update:!0,autohide:i.autohide});else{const L=n.currentView;L.isMinView?t.setDate(n.viewDate):(n.changeView(L.id-1).render(),d())}return}const g=i.shortcutKeys,w={key:c,ctrlOrMetaKey:f,altKey:u,shiftKey:l},E=Object.keys(g).find(L=>{const o=g[L];return!Object.keys(o).find(r=>o[r]!==w[r])});if(E){let L;if(E==="toggle"?L=E:s?E==="exitEditMode"&&(L=E):a?E==="hide"?L=E:E==="prevButton"?L=[Dn,[t,-1]]:E==="nextButton"?L=[Dn,[t,1]]:E==="viewSwitch"?L=[qa,[t]]:i.clearButton&&E==="clearButton"?L=[Ya,[t]]:i.todayButton&&E==="todayButton"&&(L=[Xa,[t]]):E==="show"&&(L=E),L){Array.isArray(L)?L[0].apply(null,L[1]):t[L](),d();return}}if(!a||s)return;const C=(L,o)=>{l||f||u?t.enterEditMode():(zu(t,L,o),e.preventDefault())};c==="ArrowLeft"?C(-1,!1):c==="ArrowRight"?C(1,!1):c==="ArrowUp"?C(-1,!0):c==="ArrowDown"?C(1,!0):(c==="Backspace"||c==="Delete"||c&&c.length===1&&!f)&&t.enterEditMode()}function Hu(t){t.config.showOnFocus&&!t._showing&&t.show()}function Ru(t,e){const i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=Un(i),i._clicking=setTimeout(()=>{delete i._active,delete i._clicking},2e3))}function Fu(t,e){const i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function Pu(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function Vu(t,e){const{element:i,picker:n}=t;if(!n.active&&!Un(i))return;const s=n.element;Za(e,a=>a===i||a===s)||ja(t)}function Qa(t,e){return t.map(i=>Di(i,e.format,e.locale)).join(e.dateDelimiter)}function Ja(t,e,i=!1){if(e.length===0)return i?[]:void 0;const{config:n,dates:s,rangeSideIndex:a}=t,{pickLevel:c,maxNumberOfDates:u}=n;let l=e.reduce((f,d)=>{let g=Ot(d,n.format,n.locale);return g===void 0||(g=St(g,c,a),fl(g,n.minDate,n.maxDate)&&!f.includes(g)&&!n.checkDisabled(g,c)&&(c>0||!n.daysOfWeekDisabled.includes(new Date(g).getDay()))&&f.push(g)),f},[]);if(l.length!==0)return n.multidate&&!i&&(l=l.reduce((f,d)=>(s.includes(d)||f.push(d),f),s.filter(f=>!l.includes(f)))),u&&l.length>u?l.slice(u*-1):l}function An(t,e=3,i=!0,n=void 0){const{config:s,picker:a,inputField:c}=t;if(e&2){const u=a.active?s.pickLevel:s.startView;a.update(n).changeView(u).render(i)}e&1&&c&&(c.value=Qa(t.dates,s))}function Lo(t,e,i){const n=t.config;let{clear:s,render:a,autohide:c,revert:u,forceRefresh:l,viewDate:f}=i;a===void 0&&(a=!0),a?c===void 0&&(c=n.autohide):c=l=!1,f=Ot(f,n.format,n.locale);const d=Ja(t,e,s);!d&&!u||(d&&d.toString()!==t.dates.toString()?(t.dates=d,An(t,a?3:1,!0,f),Vt(t,"changeDate")):An(t,l?3:1,!0,f),c&&t.hide())}function ko(t,e){return e?i=>Di(i,e,t.config.locale):i=>new Date(i)}class bl{constructor(e,i={},n=void 0){e.datepicker=this,this.element=e,this.dates=[];const s=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:null,defaultViewDate:It(),maxDate:void 0,minDate:void 0},hs(pl,this));let a;if(e.tagName==="INPUT"?(a=this.inputField=e,a.classList.add("datepicker-input"),i.container&&(s.container=i.container instanceof HTMLElement?i.container:document.querySelector(i.container))):s.container=e,n){const d=n.inputs.indexOf(a),g=n.datepickers;if(d<0||d>1||!Array.isArray(g))throw Error("Invalid rangepicker object.");g[d]=this,this.rangepicker=n,this.rangeSideIndex=d}this._options=i,Object.assign(s,hs(i,this)),s.shortcutKeys=Cu(i.shortcutKeys||{});const c=ho(e.value||e.dataset.date,s.dateDelimiter);delete e.dataset.date;const u=Ja(this,c);u&&u.length>0&&(this.dates=u),a&&(a.value=Qa(this.dates,s));const l=this.picker=new Ou(this),f=[e,"keydown",Iu.bind(null,this)];a?Nn(this,[f,[a,"focus",Hu.bind(null,this)],[a,"mousedown",Ru.bind(null,this)],[a,"click",Fu.bind(null,this)],[a,"paste",Pu.bind(null,this)],[document,"mousedown",Vu.bind(null,this)],[window,"resize",l.place.bind(l)]]):(Nn(this,[f]),this.show())}static formatDate(e,i,n){return Di(e,i,n&&li[n]||li.en)}static parseDate(e,i,n){return Ot(e,i,n&&li[n]||li.en)}static get locales(){return li}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const i=hs(e,this);Object.assign(this._options,e),Object.assign(this.config,i),this.picker.setOptions(i),An(this,3)}show(){if(this.inputField){const{config:e,inputField:i}=this;if(i.disabled||i.readOnly&&!e.enableOnReadonly)return;!Un(i)&&!e.disableTouchKeyboard&&(this._showing=!0,i.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),Ua(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){const i=ko(this,e);if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}setDate(...e){const i=[...e],n={},s=hl(e);s&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&Object.assign(n,i.pop());const a=Array.isArray(i[0])?i[0]:i;Lo(this,a,n)}update(e=void 0){if(!this.inputField)return;const i=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),n=ho(this.inputField.value,this.config.dateDelimiter);Lo(this,n,i)}getFocusedDate(e=void 0){return ko(this,e)(this.picker.viewDate)}setFocusedDate(e,i=!1){const{config:n,picker:s,active:a,rangeSideIndex:c}=this,u=n.pickLevel,l=Ot(e,n.format,n.locale);l!==void 0&&(s.changeFocus(St(l,u,c)),a&&i&&s.changeView(u),s.render())}refresh(e=void 0,i=!1){e&&typeof e!="string"&&(i=e,e=void 0);let n;e==="picker"?n=2:e==="input"?n=1:n=3,An(this,n,!i)}enterEditMode(){const e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;const i=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),i.update&&this.update(i)}}function No(t){const e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function Uu(t,e,i,n){Nn(t,[[i,"changeDate",e]]),new bl(i,n,t)}function oi(t,e){if(t._updating)return;t._updating=!0;const i=e.target;if(i.datepicker===void 0)return;const n=t.datepickers,[s,a]=n,c={render:!1},u=t.inputs.indexOf(i),l=u===0?1:0,f=n[u].dates[0],d=n[l].dates[0];f!==void 0&&d!==void 0?u===0&&f>d?(s.setDate(d,c),a.setDate(f,c)):u===1&&f<d&&(s.setDate(f,c),a.setDate(d,c)):t.allowOneSidedRange||(f!==void 0||d!==void 0)&&(c.clear=!0,n[l].setDate(n[u].dates,c)),n.forEach(g=>{g.picker.update().render()}),delete t._updating}class Wu{constructor(e,i={}){let n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(n.length<2)return;e.rangepicker=this,this.element=e,this.inputs=n=n.slice(0,2),Object.freeze(n),this.allowOneSidedRange=!!i.allowOneSidedRange;const s=oi.bind(null,this),a=No(i),c=this.datepickers=[];n.forEach(u=>{Uu(this,s,u,a)}),Object.freeze(c),Object.defineProperty(this,"dates",{get(){return c.map(u=>u.dates[0])}}),c[0].dates.length>0?oi(this,{target:n[0]}):c[1].dates.length>0&&oi(this,{target:n[1]})}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const i=No(e);this.datepickers.forEach(n=>{n.setOptions(i)})}destroy(){this.datepickers.forEach(e=>{e.destroy()}),Ua(this),delete this.element.rangepicker}getDates(e=void 0){const i=e?n=>Di(n,e,this.datepickers[0].config.locale):n=>new Date(n);return this.dates.map(n=>n===void 0?n:i(n))}setDates(e,i){const{datepickers:[n,s],inputs:[a,c],dates:[u,l]}=this;this._updating=!0,n.setDate(e),s.setDate(i),delete this._updating,s.dates[0]!==l?oi(this,{target:c}):n.dates[0]!==u&&oi(this,{target:a})}}const Zu={uk:{days:["","","","","","'",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1}},$u={de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Lschen",weekStart:1,format:"dd.mm.yyyy"}};Object.assign(bl.locales,Zu,$u);function qu(){document.querySelectorAll("[data-datepicker]").forEach(e=>{Yu(e)})}function Yu(t){const e=t.dataset.type,i=t.dataset.format||"dd.mm.yyyy",n=t.dataset.minDate?t.dataset.minDate==="now"?new Date:t.dataset.minDate:null,s=t.dataset.maxDate?t.dataset.maxDate==="now"?new Date:t.dataset.maxDate:null,a=document.documentElement.lang,c={buttonClass:"btn",format:i,minDate:n,maxDate:s,clearButton:!0,todayButton:!0,allowOneSidedRange:!0,autohide:!0,prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/></svg>',nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto me-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/></svg>',language:a};e!=="range"?new bl(t,c):new Wu(t,c),t.addEventListener("changeDate",u=>{u?.target?.dispatchEvent(new Event("input",{bubbles:!0}))})}function Xu(){document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector('input[type="hidden"][name="active_tab_param"]'),e=document.querySelector("[data-active-tab-param]");if(!t&&!e)return;const i=document.querySelectorAll('[data-bs-toggle="pill"]');if(!i.length)return;const n=window.location.hash;i.forEach(a=>{const c=a.getAttribute("data-bs-target");n===c&&(new Do(a).show(),s(c)),a.addEventListener("shown.bs.tab",function(u){s(c)})});function s(a){const c=a.replace("#","");t&&(t.value=c),ju(e,"active_tab_param",c)}})}function ju(t,e,i){if(!t)return;let n=new URL(t.href);n.searchParams.set(e,i),t.href=n.toString()}function Ku(){const t=document.getElementById("preloader");t&&setTimeout(()=>{t.classList.remove("active"),setTimeout(()=>{t.remove(),sr()},300)},500)}Xs();qc();Kc();Jc();lu();au();ru();Ws();lr();qu();Ps();Xu();Ku();console.log("all js inited");
