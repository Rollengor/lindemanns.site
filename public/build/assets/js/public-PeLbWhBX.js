import{a as E}from"./ajax-DD5av5sJ.js";let f=0,h=0,p=!1;function S(){document.addEventListener("DOMContentLoaded",L),window.addEventListener("scroll",()=>{const t=window.scrollY,e=window.innerHeight;p=t>f;let n=p&&t>e;p?h=t:n=!(h-t>e/3||t<e),f=t,document.documentElement.classList.toggle("is-header-hide",n),L()})}function L(){const t=window.innerHeight,e=window.scrollY,n=e>0;let o=e>t||document.documentElement.classList.contains("is-header-fixed");document.documentElement.classList.toggle("is-page-scrolled",n),e===0&&(o=!1),document.documentElement.classList.toggle("is-header-fixed",o)}const y=document.documentElement;function b(){const t=document.getElementById("extended-menu-toggle-button");if(!t)return;const e="is-opened-extended-menu";v(),window.addEventListener("resize",v),t.addEventListener("click",()=>{y.classList.toggle(e)})}function v(){const t=window.innerWidth-document.documentElement.clientWidth;y.style.setProperty("--compensate-scrollbar",`${t}px`)}function x(){document.querySelectorAll("[data-form-field]").forEach(e=>{if(e?.formControlInited)return;const n=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";w(e),e.addEventListener(n,()=>{w(e)}),e.formControlInited=!0})}function w(t){const e=t.type,n=e==="file"?!!t.files[0]:!!t.value?.trim();!n&&e!=="file"&&(t.value=""),t.classList.toggle("is-filled",n)}function B(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-accordion-target]");if(!e)return;const n=e.closest("[data-accordion]"),o=e.closest("[data-accordion-item]"),r=n.querySelector("[data-accordion-item].is-active"),c=o.querySelector("[data-accordion-content]");r?.classList.remove("is-active"),o!==r&&(o.style.setProperty("--content-scroll-height",`${c.scrollHeight+1}px`),o.classList.add("is-active"))})}const s={updating:"is-news-updating",active:"is-active"};function k(){const t=document.getElementById("news-categories-tabs"),e=t?.querySelectorAll("[data-category]"),n=t?.dataset.updateUrl;if(!e||!e?.length||!n)return;const o=document.documentElement,r=document.getElementById(t.dataset.anchorSectionId),c=document.getElementById(t.dataset.updateListId),i=document.getElementById(t.dataset.updatePaginationId),a=t.dataset.limitArticles;if(!c)return;e.forEach(l=>{const d=l.dataset.id;d&&l.addEventListener("click",()=>{o.classList.contains(s.updating)||l.classList.contains(s.active)||g(d)})});function g(l){E(null,{url:n,method:"get",params:{category_id:l,limit_articles:+a?+a:null},beforeHandler:()=>{o.classList.add(s.updating)},successHandler:d=>{const{articles_list_html:m,pagination_html:u,category_id:H}=d.data;c.innerHTML=m,i&&u&&(i.innerHTML=u),I(H),r?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{o.classList.remove(s.updating)}})}function I(l){const d=[...e].find(u=>u.classList.contains(s.active)),m=[...e].find(u=>u.dataset.id==l);d!==m&&(d?.classList.remove(s.active),m?.classList.add(s.active))}}function C(){const t=document.getElementById("news-pagination");if(!t)return;const e=document.documentElement,n=document.getElementById(t.dataset.anchorSectionId),o=document.getElementById(t.dataset.updateListId);if(!o)return;t.addEventListener("click",c=>{const i=c?.target?.closest("a");if(!i||(c.preventDefault(),e.classList.contains(s.updating)||i.classList.contains(s.active)))return;const a=i.href;a&&r(a)});function r(c){E(null,{url:c,method:"get",beforeHandler:()=>{e.classList.add(s.updating)},successHandler:i=>{const{articles_list_html:a,pagination_html:g}=i.data;o.innerHTML=a,t.innerHTML=g,n?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{e.classList.remove(s.updating)}})}}S();b();x();B();k();C();console.log("all scripts inited");
