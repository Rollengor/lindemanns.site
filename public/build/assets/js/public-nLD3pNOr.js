import{a as h}from"./ajax-DD5av5sJ.js";function I(){document.addEventListener("DOMContentLoaded",p),window.addEventListener("scroll",p)}function p(){document.documentElement.classList.toggle("is-page-scrolled",window.scrollY>0)}const v=document.documentElement;function w(){const t=document.getElementById("extended-menu-toggle-button");if(!t)return;const e="is-opened-extended-menu";f(),window.addEventListener("resize",f),t.addEventListener("click",()=>{v.classList.toggle(e)})}function f(){const t=window.innerWidth-document.documentElement.clientWidth;v.style.setProperty("--compensate-scrollbar",`${t}px`)}function b(){document.querySelectorAll("[data-form-field]").forEach(e=>{if(e?.formControlInited)return;const n=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";L(e),e.addEventListener(n,()=>{L(e)}),e.formControlInited=!0})}function L(t){const e=t.type,n=e==="file"?!!t.files[0]:!!t.value?.trim();!n&&e!=="file"&&(t.value=""),t.classList.toggle("is-filled",n)}function H(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-accordion-target]");if(!e)return;const n=e.closest("[data-accordion]"),o=e.closest("[data-accordion-item]"),l=n.querySelector("[data-accordion-item].is-active"),c=o.querySelector("[data-accordion-content]");l?.classList.remove("is-active"),o!==l&&(o.style.setProperty("--content-scroll-height",`${c.scrollHeight+1}px`),o.classList.add("is-active"))})}const a={updating:"is-news-updating",active:"is-active"};function S(){const t=document.getElementById("news-categories-tabs"),e=t?.querySelectorAll("[data-category]"),n=t?.dataset.updateUrl;if(!e||!e?.length||!n)return;const o=document.documentElement,l=document.getElementById(t.dataset.anchorSectionId),c=document.getElementById(t.dataset.updateListId),s=document.getElementById(t.dataset.updatePaginationId),i=t.dataset.limitArticles;if(!c)return;e.forEach(r=>{const d=r.dataset.id;d&&r.addEventListener("click",()=>{o.classList.contains(a.updating)||r.classList.contains(a.active)||g(d)})});function g(r){h(null,{url:n,method:"get",params:{category_id:r,limit_articles:+i?+i:null},beforeHandler:()=>{o.classList.add(a.updating)},successHandler:d=>{const{articles_list_html:m,pagination_html:u,category_id:E}=d.data;c.innerHTML=m,s&&u&&(s.innerHTML=u),y(E),l?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{o.classList.remove(a.updating)}})}function y(r){const d=[...e].find(u=>u.classList.contains(a.active)),m=[...e].find(u=>u.dataset.id==r);d!==m&&(d?.classList.remove(a.active),m?.classList.add(a.active))}}function B(){const t=document.getElementById("news-pagination");if(!t)return;const e=document.documentElement,n=document.getElementById(t.dataset.anchorSectionId),o=document.getElementById(t.dataset.updateListId);if(!o)return;t.addEventListener("click",c=>{const s=c?.target?.closest("a");if(!s||(c.preventDefault(),e.classList.contains(a.updating)||s.classList.contains(a.active)))return;const i=s.href;i&&l(i)});function l(c){h(null,{url:c,method:"get",beforeHandler:()=>{e.classList.add(a.updating)},successHandler:s=>{const{articles_list_html:i,pagination_html:g}=s.data;o.innerHTML=i,t.innerHTML=g,n?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{e.classList.remove(a.updating)}})}}I();w();b();H();S();B();console.log("all scripts inited");
