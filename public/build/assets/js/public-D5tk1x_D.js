import{a as y}from"./ajax-DD5av5sJ.js";let f=0,h=0,p=!1;function S(){document.addEventListener("DOMContentLoaded",L),window.addEventListener("scroll",()=>{const t=window.scrollY,e=window.innerHeight;p=t>f;let n=p&&t>e;p?h=t:n=!(h-t>e/3||t<e),f=t,document.documentElement.classList.toggle("is-header-hide",n),L()})}function L(){document.documentElement.classList.toggle("is-page-scrolled",window.scrollY>0)}const w=document.documentElement;function b(){const t=document.getElementById("extended-menu-toggle-button");if(!t)return;const e="is-opened-extended-menu";v(),window.addEventListener("resize",v),t.addEventListener("click",()=>{w.classList.toggle(e)})}function v(){const t=window.innerWidth-document.documentElement.clientWidth;w.style.setProperty("--compensate-scrollbar",`${t}px`)}function B(){document.querySelectorAll("[data-form-field]").forEach(e=>{if(e?.formControlInited)return;const n=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";E(e),e.addEventListener(n,()=>{E(e)}),e.formControlInited=!0})}function E(t){const e=t.type,n=e==="file"?!!t.files[0]:!!t.value?.trim();!n&&e!=="file"&&(t.value=""),t.classList.toggle("is-filled",n)}function k(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-accordion-target]");if(!e)return;const n=e.closest("[data-accordion]"),o=e.closest("[data-accordion-item]"),d=n.querySelector("[data-accordion-item].is-active"),s=o.querySelector("[data-accordion-content]");d?.classList.remove("is-active"),o!==d&&(o.style.setProperty("--content-scroll-height",`${s.scrollHeight+1}px`),o.classList.add("is-active"))})}const c={updating:"is-news-updating",active:"is-active"};function C(){const t=document.getElementById("news-categories-tabs"),e=t?.querySelectorAll("[data-category]"),n=t?.dataset.updateUrl;if(!e||!e?.length||!n)return;const o=document.documentElement,d=document.getElementById(t.dataset.anchorSectionId),s=document.getElementById(t.dataset.updateListId),a=document.getElementById(t.dataset.updatePaginationId),i=t.dataset.limitArticles;if(!s)return;e.forEach(l=>{const r=l.dataset.id;r&&l.addEventListener("click",()=>{o.classList.contains(c.updating)||l.classList.contains(c.active)||g(r)})});function g(l){y(null,{url:n,method:"get",params:{category_id:l,limit_articles:+i?+i:null},beforeHandler:()=>{o.classList.add(c.updating)},successHandler:r=>{const{articles_list_html:m,pagination_html:u,category_id:H}=r.data;s.innerHTML=m,a&&u&&(a.innerHTML=u),I(H),d?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{o.classList.remove(c.updating)}})}function I(l){const r=[...e].find(u=>u.classList.contains(c.active)),m=[...e].find(u=>u.dataset.id==l);r!==m&&(r?.classList.remove(c.active),m?.classList.add(c.active))}}function T(){const t=document.getElementById("news-pagination");if(!t)return;const e=document.documentElement,n=document.getElementById(t.dataset.anchorSectionId),o=document.getElementById(t.dataset.updateListId);if(!o)return;t.addEventListener("click",s=>{const a=s?.target?.closest("a");if(!a||(s.preventDefault(),e.classList.contains(c.updating)||a.classList.contains(c.active)))return;const i=a.href;i&&d(i)});function d(s){y(null,{url:s,method:"get",beforeHandler:()=>{e.classList.add(c.updating)},successHandler:a=>{const{articles_list_html:i,pagination_html:g}=a.data;o.innerHTML=i,t.innerHTML=g,n?.scrollIntoView({behavior:"smooth",block:"start"})},completeHandler:()=>{e.classList.remove(c.updating)}})}}S();b();B();k();C();T();console.log("all scripts inited");
