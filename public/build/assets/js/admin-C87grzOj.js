import"./bootstrap-Bj43h_rG.js";function h0(){document.querySelectorAll("[data-form-control]").forEach(e=>{if(e?.formControlInited)return;const i=["file","checkbox","radio"].includes(e.type)||e.nodeName==="SELECT"?"change":"input";Ya(e),e.addEventListener(i,()=>{Ya(e)}),e.formControlInited=!0})}function Ya(t){const e=t.type,i=e==="file"?!!t.files[0]:!!t.value?.trim();!i&&e!=="file"&&(t.value=""),t.classList.toggle("filled",i)}function f0(){document.querySelectorAll("[data-ssp-field]").forEach(e=>{if(e?.switchShowPasswordInited)return;const i=e.closest("[data-switch-show-password]"),n=i?.querySelector("[data-ssp-switcher]");!i||!n||(n.addEventListener("click",()=>{const s=e.getAttribute("type")==="password"?"text":"password";e.setAttribute("type",s),n.classList.toggle("active")}),e.switchShowPasswordInited=!0)})}function p0(){document.querySelectorAll("[data-pif-field]").forEach(e=>{if(e?.previewImageFileInit)return;const i=e.closest("[data-preview-image-file]"),n=i?.querySelector("[data-pif-picture]"),s=i?.querySelector("[data-pif-dropzone]"),o=i?.querySelector("[data-pif-image]");if(!(!i||!o||o?.tagName!=="IMG")){if(e.isFieldClearable){const a=n.offsetWidth,d=n.offsetHeight;o.src="/img/default"+(a<d?"-vertical":"")+".svg",e.isFieldClearable=!1}if(e.previewImageFileCurrentData={url:o.src,class:o.getAttribute("class"),hasImage:e.hasAttribute("data-pif-has-image")},s){let a=function(d){const l=["bg-white","border-opacity-25"],f=["bg-primary","bg-opacity-10","border-opacity-50"];if(d==="replace"){s.classList.remove(...l),s.classList.add(...f);return}s.classList.add(...l),s.classList.remove(...f)};s.addEventListener("dragover",d=>{d.preventDefault(),a("replace")}),s.addEventListener("dragleave",()=>{a()}),s.addEventListener("drop",d=>{d.preventDefault(),a();const l=d.dataTransfer.files;l.length>0&&(e.files=l,e.dispatchEvent(new Event("change",{bubbles:!0})))})}e.addEventListener("change",()=>{const a=e?.files[0],d=g0(a),l=o.dataset.pifViewClasses,f=e.previewImageFileCurrentData;if(o.src=d||f.url,o.setAttribute("class",d&&l?l:f.class),f.hasImage)return;const u=["border-dashed","p-4"],p=["border-solid","p-3"];d?(n.classList.remove(...u),n.classList.add(...p)):(n.classList.add(...u),n.classList.remove(...p))}),e.previewImageFileInit=!0}})}function g0(t){if(!t?.type?.includes("image/"))return!1;let e=URL.createObjectURL(t);const i=document.createElement("img");return i.src=e,i.onload=function(){URL.revokeObjectURL(this.src)},e}function m0(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-preset-value]"),n=e?.closest("[data-preset-wrapper]")?.querySelector("[data-form-control]"),s=e?.dataset.presetValue;!n||!s||(n.value=s,n.dispatchEvent(new Event("input",{bubbles:!0})))})}function Vr(){h0(),f0(),p0(),m0()}class v0{constructor(e){e||(e={}),this.main=e.main||"ss-main",this.placeholder=e.placeholder||"ss-placeholder",this.values=e.values||"ss-values",this.single=e.single||"ss-single",this.max=e.max||"ss-max",this.value=e.value||"ss-value",this.valueText=e.valueText||"ss-value-text",this.valueDelete=e.valueDelete||"ss-value-delete",this.valueOut=e.valueOut||"ss-value-out",this.deselect=e.deselect||"ss-deselect",this.deselectPath=e.deselectPath||"M10,10 L90,90 M10,90 L90,10",this.arrow=e.arrow||"ss-arrow",this.arrowClose=e.arrowClose||"M10,30 L50,70 L90,30",this.arrowOpen=e.arrowOpen||"M10,70 L50,30 L90,70",this.content=e.content||"ss-content",this.openAbove=e.openAbove||"ss-open-above",this.openBelow=e.openBelow||"ss-open-below",this.search=e.search||"ss-search",this.searchHighlighter=e.searchHighlighter||"ss-search-highlight",this.searching=e.searching||"ss-searching",this.addable=e.addable||"ss-addable",this.addablePath=e.addablePath||"M50,10 L50,90 M10,50 L90,50",this.list=e.list||"ss-list",this.optgroup=e.optgroup||"ss-optgroup",this.optgroupLabel=e.optgroupLabel||"ss-optgroup-label",this.optgroupLabelText=e.optgroupLabelText||"ss-optgroup-label-text",this.optgroupActions=e.optgroupActions||"ss-optgroup-actions",this.optgroupSelectAll=e.optgroupSelectAll||"ss-selectall",this.optgroupSelectAllBox=e.optgroupSelectAllBox||"M60,10 L10,10 L10,90 L90,90 L90,50",this.optgroupSelectAllCheck=e.optgroupSelectAllCheck||"M30,45 L50,70 L90,10",this.optgroupClosable=e.optgroupClosable||"ss-closable",this.option=e.option||"ss-option",this.optionDelete=e.optionDelete||"M10,10 L90,90 M10,90 L90,10",this.highlighted=e.highlighted||"ss-highlighted",this.open=e.open||"ss-open",this.close=e.close||"ss-close",this.selected=e.selected||"ss-selected",this.error=e.error||"ss-error",this.disabled=e.disabled||"ss-disabled",this.hide=e.hide||"ss-hide"}}function $r(){return Math.random().toString(36).substring(2,10)}function b0(t,e){function i(s,o){return o&&s&&s.classList&&s.classList.contains(o)||o&&s&&s.dataset&&s.dataset.id&&s.dataset.id===e?s:null}function n(s,o){return!s||s===document?null:i(s,o)?s:n(s.parentNode,o)}return i(t,e)||n(t,e)}function ws(t,e=50,i=!1){let n;return function(...s){const o=self,a=()=>{n=null,i||t.apply(o,s)},d=i&&!n;clearTimeout(n),n=setTimeout(a,e),d&&t.apply(o,s)}}function Bl(t,e){return JSON.stringify(t)===JSON.stringify(e)}function y0(t){const e=t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,i=>"-"+i.toLowerCase());return t[0]===t[0].toUpperCase()?e.substring(1):e}class Ct{constructor(e){if(this.id=!e.id||e.id===""?$r():e.id,this.label=e.label||"",this.selectAll=e.selectAll===void 0?!1:e.selectAll,this.selectAllText=e.selectAllText||"Select All",this.closable=e.closable||"off",this.options=[],e.options)for(const i of e.options)this.options.push(new Pe(i))}}class Pe{constructor(e){this.id=!e.id||e.id===""?$r():e.id,this.value=e.value===void 0?e.text:e.value,this.text=e.text||"",this.html=e.html||"",this.defaultSelected=e.defaultSelected!==void 0?e.defaultSelected:!1,this.selected=e.selected!==void 0?e.selected:!1,this.display=e.display!==void 0?e.display:!0,this.disabled=e.disabled!==void 0?e.disabled:!1,this.mandatory=e.mandatory!==void 0?e.mandatory:!1,this.placeholder=e.placeholder!==void 0?e.placeholder:!1,this.class=e.class||"",this.style=e.style||"",this.data=e.data||{}}}class _0{constructor(e,i){this.selectType="single",this.data=[],this.selectedOrder=[],this.selectType=e,this.setData(i)}validateDataArray(e){if(!Array.isArray(e))return new Error("Data must be an array");for(let i of e)if(i instanceof Ct||"label"in i){if(!("label"in i))return new Error("Optgroup must have a label");if("options"in i&&i.options)for(let n of i.options){const s=this.validateOption(n);if(s)return s}}else if(i instanceof Pe||"text"in i){const n=this.validateOption(i);if(n)return n}else return new Error("Data object must be a valid optgroup or option");return null}validateOption(e){return"text"in e?null:new Error("Option must have a text")}partialToFullData(e){let i=[];return e.forEach(n=>{if(n instanceof Ct||"label"in n){let s=[];"options"in n&&n.options&&n.options.forEach(o=>{s.push(new Pe(o))}),s.length>0&&i.push(new Ct(n))}(n instanceof Pe||"text"in n)&&i.push(new Pe(n))}),i}setData(e){this.data=this.partialToFullData(e),this.selectType==="single"&&this.setSelectedBy("id",this.getSelected())}getData(){return this.filter(null,!0)}getDataOptions(){return this.filter(null,!1)}addOption(e,i=!1){if(i){let n=[new Pe(e)];this.setData(n.concat(this.getData()))}else this.setData(this.getData().concat(new Pe(e)))}setSelectedBy(e,i){let n=null,s=!1;const o=[];for(let d of this.data){if(d instanceof Ct)for(let l of d.options)n||(n=l),l.selected=s?!1:i.includes(l[e]),l.selected&&(o.push(l),this.selectType==="single"&&(s=!0));d instanceof Pe&&(n||(n=d),d.selected=s?!1:i.includes(d[e]),d.selected&&(o.push(d),this.selectType==="single"&&(s=!0)))}this.selectType==="single"&&n&&!s&&(n.selected=!0,o.push(n));const a=i.map(d=>{var l;return((l=o.find(f=>f[e]===d))===null||l===void 0?void 0:l.id)||""});this.selectedOrder=a}getSelected(){return this.getSelectedOptions().map(e=>e.id)}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}getSelectedOptions(){return this.filter(e=>e.selected,!1)}getOptgroupByID(e){for(let i of this.data)if(i instanceof Ct&&i.id===e)return i;return null}getOptionByID(e){let i=this.filter(n=>n.id===e,!1);return i.length?i[0]:null}getSelectType(){return this.selectType}getFirstOption(){let e=null;for(let i of this.data)if(i instanceof Ct?e=i.options[0]:i instanceof Pe&&(e=i),e)break;return e}search(e,i){return e=e.trim(),e===""?this.getData():this.filter(n=>i(n,e),!0)}filter(e,i){const n=[];return this.data.forEach(s=>{if(s instanceof Ct){let o=[];if(s.options.forEach(a=>{(!e||e(a))&&(i?o.push(new Pe(a)):n.push(new Pe(a)))}),o.length>0){let a=new Ct(s);a.options=o,n.push(a)}}s instanceof Pe&&(!e||e(s))&&n.push(new Pe(s))}),n}selectedOrderOptions(e){const i=[];return this.selectedOrder.forEach(n=>{const s=e.find(o=>o.id===n);s&&i.push(s)}),e.forEach(n=>{let s=!1;i.forEach(o=>{if(n.id===o.id){s=!0;return}}),s||i.push(n)}),i}}class w0{constructor(e,i,n,s){this.store=n,this.settings=e,this.classes=i,this.callbacks=s,this.lastSelectedOption=null,this.main=this.mainDiv(),this.content=this.contentDiv(),this.updateClassStyles(),this.updateAriaAttributes(),this.settings.contentLocation&&this.settings.contentLocation.appendChild(this.content.main)}enable(){this.main.main.classList.remove(this.classes.disabled),this.content.search.input.disabled=!1}disable(){this.main.main.classList.add(this.classes.disabled),this.content.search.input.disabled=!0}open(){this.main.arrow.path.setAttribute("d",this.classes.arrowOpen),this.main.main.classList.add(this.settings.openPosition==="up"?this.classes.openAbove:this.classes.openBelow),this.main.main.setAttribute("aria-expanded","true"),this.moveContent();const e=this.store.getSelectedOptions();if(e.length){const i=e[e.length-1].id,n=this.content.list.querySelector('[data-id="'+i+'"]');n&&this.ensureElementInView(this.content.list,n)}}close(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.remove(this.classes.openBelow),this.main.main.setAttribute("aria-expanded","false"),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.main.arrow.path.setAttribute("d",this.classes.arrowClose)}updateClassStyles(){if(this.main.main.className="",this.main.main.removeAttribute("style"),this.content.main.className="",this.content.main.removeAttribute("style"),this.main.main.classList.add(this.classes.main),this.content.main.classList.add(this.classes.content),this.settings.style!==""&&(this.main.main.style.cssText=this.settings.style,this.content.main.style.cssText=this.settings.style),this.settings.class.length)for(const e of this.settings.class)e.trim()!==""&&(this.main.main.classList.add(e.trim()),this.content.main.classList.add(e.trim()));(this.settings.contentPosition==="relative"||this.settings.contentPosition==="fixed")&&this.content.main.classList.add("ss-"+this.settings.contentPosition)}updateAriaAttributes(){var e;this.main.main.role="combobox",this.main.main.setAttribute("aria-haspopup","listbox"),this.main.main.setAttribute("aria-controls",(e=this.content.main.dataset.id)!==null&&e!==void 0?e:""),this.main.main.setAttribute("aria-expanded","false"),this.content.main.setAttribute("role","listbox")}mainDiv(){var e;const i=document.createElement("div");i.dataset.id=this.settings.id,i.setAttribute("aria-label",this.settings.ariaLabel),i.tabIndex=0,i.onkeydown=u=>{switch(u.key){case"ArrowUp":case"ArrowDown":return this.callbacks.open(),u.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Enter":case" ":this.callbacks.open();const p=this.content.list.querySelector("."+this.classes.highlighted);return p&&p.click(),!1;case"Escape":return this.callbacks.close(),!1}return u.key.length===1&&this.callbacks.open(),!0},i.onclick=u=>{this.settings.disabled||(this.settings.isOpen?this.callbacks.close():this.callbacks.open())};const n=document.createElement("div");n.classList.add(this.classes.values),i.appendChild(n);const s=document.createElement("div");s.classList.add(this.classes.deselect);const o=(e=this.store)===null||e===void 0?void 0:e.getSelectedOptions();!this.settings.allowDeselect||this.settings.isMultiple&&o&&o.length<=0?s.classList.add(this.classes.hide):s.classList.remove(this.classes.hide),s.onclick=u=>{if(u.stopPropagation(),this.settings.disabled)return;let p=!0;const C=this.store.getSelectedOptions(),w=[];if(this.callbacks.beforeChange&&(p=this.callbacks.beforeChange(w,C)===!0),p){if(this.settings.isMultiple)this.callbacks.setSelected([],!1),this.updateDeselectAll();else{const E=this.store.getFirstOption(),T=E?E.id:"";this.callbacks.setSelected(T,!1)}this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(this.store.getSelectedOptions())}};const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox","0 0 100 100");const d=document.createElementNS("http://www.w3.org/2000/svg","path");d.setAttribute("d",this.classes.deselectPath),a.appendChild(d),s.appendChild(a),i.appendChild(s);const l=document.createElementNS("http://www.w3.org/2000/svg","svg");l.classList.add(this.classes.arrow),l.setAttribute("viewBox","0 0 100 100");const f=document.createElementNS("http://www.w3.org/2000/svg","path");return f.setAttribute("d",this.classes.arrowClose),this.settings.alwaysOpen&&l.classList.add(this.classes.hide),l.appendChild(f),i.appendChild(l),{main:i,values:n,deselect:{main:s,svg:a,path:d},arrow:{main:l,path:f}}}mainFocus(e){e!=="click"&&this.main.main.focus({preventScroll:!0})}placeholder(){const e=this.store.filter(s=>s.placeholder,!1);let i=this.settings.placeholderText;e.length&&(e[0].html!==""?i=e[0].html:e[0].text!==""&&(i=e[0].text));const n=document.createElement("div");return n.classList.add(this.classes.placeholder),n.innerHTML=i,n}renderValues(){if(!this.settings.isMultiple){this.renderSingleValue();return}this.renderMultipleValues(),this.updateDeselectAll()}renderSingleValue(){const e=this.store.filter(n=>n.selected&&!n.placeholder,!1),i=e.length>0?e[0]:null;if(!i)this.main.values.innerHTML=this.placeholder().outerHTML;else{const n=document.createElement("div");n.classList.add(this.classes.single),i.html?n.innerHTML=i.html:n.innerText=i.text,this.main.values.innerHTML=n.outerHTML}!this.settings.allowDeselect||!e.length?this.main.deselect.main.classList.add(this.classes.hide):this.main.deselect.main.classList.remove(this.classes.hide)}renderMultipleValues(){let e=this.main.values.childNodes,i=this.store.filter(s=>s.selected&&s.display,!1);if(i.length===0){this.main.values.innerHTML=this.placeholder().outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.placeholder);s&&s.remove()}if(i.length>this.settings.maxValuesShown){const s=document.createElement("div");s.classList.add(this.classes.max),s.textContent=this.settings.maxValuesMessage.replace("{number}",i.length.toString()),this.main.values.innerHTML=s.outerHTML;return}else{const s=this.main.values.querySelector("."+this.classes.max);s&&s.remove()}this.settings.keepOrder&&(i=this.store.selectedOrderOptions(i));let n=[];for(let s=0;s<e.length;s++){const o=e[s],a=o.getAttribute("data-id");a&&(i.filter(l=>l.id===a,!1).length||n.push(o))}for(const s of n)s.classList.add(this.classes.valueOut),setTimeout(()=>{this.main.values.hasChildNodes()&&this.main.values.contains(s)&&this.main.values.removeChild(s)},100);e=this.main.values.childNodes;for(let s=0;s<i.length;s++){let o=!0;for(let a=0;a<e.length;a++)i[s].id===String(e[a].dataset.id)&&(o=!1);o&&(this.settings.keepOrder?this.main.values.appendChild(this.multipleValue(i[s])):e.length===0?this.main.values.appendChild(this.multipleValue(i[s])):s===0?this.main.values.insertBefore(this.multipleValue(i[s]),e[s]):e[s-1].insertAdjacentElement("afterend",this.multipleValue(i[s])))}}multipleValue(e){const i=document.createElement("div");i.classList.add(this.classes.value),i.dataset.id=e.id;const n=document.createElement("div");if(n.classList.add(this.classes.valueText),n.textContent=e.text,i.appendChild(n),!e.mandatory){const s=document.createElement("div");s.classList.add(this.classes.valueDelete),s.setAttribute("tabindex","0"),s.onclick=d=>{if(d.preventDefault(),d.stopPropagation(),this.settings.disabled)return;let l=!0;const f=this.store.getSelectedOptions(),u=f.filter(p=>p.selected&&p.id!==e.id,!0);if(!(this.settings.minSelected&&u.length<this.settings.minSelected)&&(this.callbacks.beforeChange&&(l=this.callbacks.beforeChange(u,f)===!0),l)){let p=[];for(const C of u){if(C instanceof Ct)for(const w of C.options)p.push(w.id);C instanceof Pe&&p.push(C.id)}this.callbacks.setSelected(p,!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(u),this.updateDeselectAll()}};const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.classes.optionDelete),o.appendChild(a),s.appendChild(o),i.appendChild(s),s.onkeydown=d=>{d.key==="Enter"&&s.click()}}return i}contentDiv(){const e=document.createElement("div");e.dataset.id=this.settings.id;const i=this.searchDiv();e.appendChild(i.main);const n=this.listDiv();return e.appendChild(n),{main:e,search:i,list:n}}moveContent(){if(this.settings.contentPosition==="relative"){this.moveContentBelow();return}if(this.settings.openPosition==="down"){this.moveContentBelow();return}else if(this.settings.openPosition==="up"){this.moveContentAbove();return}this.putContent()==="up"?this.moveContentAbove():this.moveContentBelow()}searchDiv(){const e=document.createElement("div"),i=document.createElement("input"),n=document.createElement("div");e.classList.add(this.classes.search);const s={main:e,input:i};if(this.settings.showSearch||(e.classList.add(this.classes.hide),i.readOnly=!0),i.type="search",i.placeholder=this.settings.searchPlaceholder,i.tabIndex=-1,i.setAttribute("aria-label",this.settings.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.oninput=ws(o=>{this.callbacks.search(o.target.value)},100),i.onkeydown=o=>{switch(o.key){case"ArrowUp":case"ArrowDown":return o.key==="ArrowDown"?this.highlight("down"):this.highlight("up"),!1;case"Tab":return this.callbacks.close(),!0;case"Escape":return this.callbacks.close(),!1;case" ":const a=this.content.list.querySelector("."+this.classes.highlighted);return a?(a.click(),!1):!0;case"Enter":if(this.callbacks.addable)return n.click(),!1;{const d=this.content.list.querySelector("."+this.classes.highlighted);if(d)return d.click(),!1}return!0}return!0},e.appendChild(i),this.callbacks.addable){n.classList.add(this.classes.addable);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("viewBox","0 0 100 100");const a=document.createElementNS("http://www.w3.org/2000/svg","path");a.setAttribute("d",this.classes.addablePath),o.appendChild(a),n.appendChild(o),n.onclick=d=>{if(d.preventDefault(),d.stopPropagation(),!this.callbacks.addable)return;const l=this.content.search.input.value.trim();if(l===""){this.content.search.input.focus();return}const f=p=>{let C=new Pe(p);if(this.callbacks.addOption(C),this.settings.isMultiple){let w=this.store.getSelected();w.push(C.id),this.callbacks.setSelected(w,!0)}else this.callbacks.setSelected([C.id],!0);this.callbacks.search(""),this.settings.closeOnSelect&&setTimeout(()=>{this.callbacks.close()},100)},u=this.callbacks.addable(l);u===!1||u===void 0||u===null||(u instanceof Promise?u.then(p=>{typeof p=="string"?f({text:p,value:p}):u instanceof Error?this.renderError(u.message):f(p)}):typeof u=="string"?f({text:u,value:u}):u instanceof Error?this.renderError(u.message):f(u))},e.appendChild(n),s.addable={main:n,svg:o,path:a}}return s}searchFocus(){this.content.search.input.focus()}getOptions(e=!1,i=!1,n=!1){let s="."+this.classes.option;return e&&(s+=":not(."+this.classes.placeholder+")"),i&&(s+=":not(."+this.classes.disabled+")"),n&&(s+=":not(."+this.classes.hide+")"),Array.from(this.content.list.querySelectorAll(s))}highlight(e){const i=this.getOptions(!0,!0,!0);if(i.length===0)return;if(i.length===1&&!i[0].classList.contains(this.classes.highlighted)){i[0].classList.add(this.classes.highlighted);return}let n=!1;for(const s of i)s.classList.contains(this.classes.highlighted)&&(n=!0);if(!n){for(const s of i)if(s.classList.contains(this.classes.selected)){s.classList.add(this.classes.highlighted);break}}for(let s=0;s<i.length;s++)if(i[s].classList.contains(this.classes.highlighted)){const o=i[s];o.classList.remove(this.classes.highlighted);const a=o.parentElement;if(a&&a.classList.contains(this.classes.open)){const f=a.querySelector("."+this.classes.optgroupLabel);f&&f.click()}let d=i[e==="down"?s+1<i.length?s+1:0:s-1>=0?s-1:i.length-1];d.classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,d);const l=d.parentElement;if(l&&l.classList.contains(this.classes.close)){const f=l.querySelector("."+this.classes.optgroupLabel);f&&f.click()}return}i[e==="down"?0:i.length-1].classList.add(this.classes.highlighted),this.ensureElementInView(this.content.list,i[e==="down"?0:i.length-1])}listDiv(){const e=document.createElement("div");return e.classList.add(this.classes.list),e}renderError(e){this.content.list.innerHTML="";const i=document.createElement("div");i.classList.add(this.classes.error),i.textContent=e,this.content.list.appendChild(i)}renderSearching(){this.content.list.innerHTML="";const e=document.createElement("div");e.classList.add(this.classes.searching),e.textContent=this.settings.searchingText,this.content.list.appendChild(e)}renderOptions(e){if(this.content.list.innerHTML="",e.length===0){const n=document.createElement("div");n.classList.add(this.classes.search),this.callbacks.addable?n.innerHTML=this.settings.addableText.replace("{value}",this.content.search.input.value):n.innerHTML=this.settings.searchText,this.content.list.appendChild(n);return}this.settings.allowDeselect&&!this.settings.isMultiple&&(this.store.filter(s=>s.placeholder,!1).length||this.store.addOption(new Pe({text:"",value:"",selected:!1,placeholder:!0}),!0));const i=document.createDocumentFragment();for(const n of e){if(n instanceof Ct){const s=document.createElement("div");s.classList.add(this.classes.optgroup);const o=document.createElement("div");o.classList.add(this.classes.optgroupLabel),s.appendChild(o);const a=document.createElement("div");a.classList.add(this.classes.optgroupLabelText),a.textContent=n.label,o.appendChild(a);const d=document.createElement("div");if(d.classList.add(this.classes.optgroupActions),o.appendChild(d),this.settings.isMultiple&&n.selectAll){const l=document.createElement("div");l.classList.add(this.classes.optgroupSelectAll);let f=!0;for(const E of n.options)if(!E.selected){f=!1;break}f&&l.classList.add(this.classes.selected);const u=document.createElement("span");u.textContent=n.selectAllText,l.appendChild(u);const p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("viewBox","0 0 100 100"),l.appendChild(p);const C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d",this.classes.optgroupSelectAllBox),p.appendChild(C);const w=document.createElementNS("http://www.w3.org/2000/svg","path");w.setAttribute("d",this.classes.optgroupSelectAllCheck),p.appendChild(w),l.addEventListener("click",E=>{E.preventDefault(),E.stopPropagation();const T=this.store.getSelected();if(f){const r=T.filter(c=>{for(const h of n.options)if(c===h.id)return!1;return!0});this.callbacks.setSelected(r,!0);return}else{const r=T.concat(n.options.map(c=>c.id));for(const c of n.options)this.store.getOptionByID(c.id)||this.callbacks.addOption(c);this.callbacks.setSelected(r,!0);return}}),d.appendChild(l)}if(n.closable!=="off"){const l=document.createElement("div");l.classList.add(this.classes.optgroupClosable);const f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("viewBox","0 0 100 100"),f.classList.add(this.classes.arrow),l.appendChild(f);const u=document.createElementNS("http://www.w3.org/2000/svg","path");f.appendChild(u),n.options.some(p=>p.selected)||this.content.search.input.value.trim()!==""?(l.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):n.closable==="open"?(s.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):n.closable==="close"&&(s.classList.add(this.classes.close),u.setAttribute("d",this.classes.arrowClose)),o.addEventListener("click",p=>{p.preventDefault(),p.stopPropagation(),s.classList.contains(this.classes.close)?(s.classList.remove(this.classes.close),s.classList.add(this.classes.open),u.setAttribute("d",this.classes.arrowOpen)):(s.classList.remove(this.classes.open),s.classList.add(this.classes.close),u.setAttribute("d",this.classes.arrowClose))}),d.appendChild(l)}s.appendChild(o);for(const l of n.options)s.appendChild(this.option(l)),i.appendChild(s)}n instanceof Pe&&i.appendChild(this.option(n))}this.content.list.appendChild(i)}option(e){if(e.placeholder){const n=document.createElement("div");return n.classList.add(this.classes.option),n.classList.add(this.classes.hide),n}const i=document.createElement("div");return i.dataset.id=e.id,i.classList.add(this.classes.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.style&&(i.style.cssText=e.style),this.settings.searchHighlight&&this.content.search.input.value.trim()!==""?i.innerHTML=this.highlightText(e.html!==""?e.html:e.text,this.content.search.input.value,this.classes.searchHighlighter):e.html!==""?i.innerHTML=e.html:i.textContent=e.text,this.settings.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent),e.display||i.classList.add(this.classes.hide),e.disabled&&i.classList.add(this.classes.disabled),e.selected&&this.settings.hideSelected&&i.classList.add(this.classes.hide),e.selected?(i.classList.add(this.classes.selected),i.setAttribute("aria-selected","true"),this.main.main.setAttribute("aria-activedescendant",i.id)):(i.classList.remove(this.classes.selected),i.setAttribute("aria-selected","false")),i.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation();const s=this.store.getSelected(),o=n.currentTarget,a=String(o.dataset.id);if(e.disabled||e.selected&&!this.settings.allowDeselect||this.settings.isMultiple&&this.settings.maxSelected<=s.length&&!e.selected||this.settings.isMultiple&&this.settings.minSelected>=s.length&&e.selected)return;let d=!1;const l=this.store.getSelectedOptions();let f=[];if(this.settings.isMultiple){if(e.selected)f=l.filter(u=>u.id!==a);else if(f=l.concat(e),!this.settings.closeOnSelect)if(n.shiftKey&&this.lastSelectedOption){const u=this.store.getDataOptions();let p=u.findIndex(w=>w.id===this.lastSelectedOption.id),C=u.findIndex(w=>w.id===e.id);if(p>=0&&C>=0){const w=Math.min(p,C),E=Math.max(p,C),T=u.slice(w,E+1);T.length>0&&T.length<this.settings.maxSelected&&(f=l.concat(T.filter(r=>!l.find(c=>c.id===r.id))))}}else e.selected||(this.lastSelectedOption=e)}this.settings.isMultiple||(e.selected?f=[]:f=[e]),this.callbacks.beforeChange||(d=!0),this.callbacks.beforeChange&&(this.callbacks.beforeChange(f,l)===!1?d=!1:d=!0),d&&(this.store.getOptionByID(a)||this.callbacks.addOption(e),this.callbacks.setSelected(f.map(u=>u.id),!1),this.settings.closeOnSelect&&this.callbacks.close(),this.callbacks.afterChange&&this.callbacks.afterChange(f))}),i}destroy(){this.main.main.remove(),this.content.main.remove()}highlightText(e,i,n){let s=e;const o=new RegExp("(?![^<]*>)("+i.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(o))return e;const a=e.match(o).index,d=a+e.match(o)[0].toString().length,l=e.substring(a,d);return s=s.replace(o,`<mark class="${n}">${l}</mark>`),s}moveContentAbove(){const e=this.main.main.offsetHeight,i=this.content.main.offsetHeight;this.main.main.classList.remove(this.classes.openBelow),this.main.main.classList.add(this.classes.openAbove),this.content.main.classList.remove(this.classes.openBelow),this.content.main.classList.add(this.classes.openAbove);const n=this.main.main.getBoundingClientRect();this.content.main.style.margin="-"+(e+i-1)+"px 0px 0px 0px",this.content.main.style.top=n.top+n.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=n.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=n.width+"px"}moveContentBelow(){this.main.main.classList.remove(this.classes.openAbove),this.main.main.classList.add(this.classes.openBelow),this.content.main.classList.remove(this.classes.openAbove),this.content.main.classList.add(this.classes.openBelow);const e=this.main.main.getBoundingClientRect();this.content.main.style.margin="-1px 0px 0px 0px",this.settings.contentPosition!=="relative"&&(this.content.main.style.top=e.top+e.height+(this.settings.contentPosition==="fixed"?0:window.scrollY)+"px",this.content.main.style.left=e.left+(this.settings.contentPosition==="fixed"?0:window.scrollX)+"px",this.content.main.style.width=e.width+"px")}ensureElementInView(e,i){const n=e.scrollTop+e.offsetTop,s=n+e.clientHeight,o=i.offsetTop,a=o+i.clientHeight;o<n?e.scrollTop-=n-o:a>s&&(e.scrollTop+=a-s)}putContent(){const e=this.main.main.offsetHeight,i=this.main.main.getBoundingClientRect(),n=this.content.main.offsetHeight;return window.innerHeight-(i.top+e)<=n&&i.top>n?"up":"down"}updateDeselectAll(){if(!this.store||!this.settings)return;const e=this.store.getSelectedOptions(),i=e&&e.length>0,n=this.settings.isMultiple,s=this.settings.allowDeselect,o=this.main.deselect.main,a=this.classes.hide;s&&!(n&&!i)?o.classList.remove(a):o.classList.add(a)}}class C0{constructor(e){this.listen=!1,this.observer=null,this.select=e,this.valueChange=this.valueChange.bind(this),this.select.addEventListener("change",this.valueChange,{passive:!0}),this.observer=new MutationObserver(this.observeCall.bind(this)),this.changeListen(!0)}enable(){this.select.disabled=!1}disable(){this.select.disabled=!0}hideUI(){this.select.tabIndex=-1,this.select.style.display="none",this.select.setAttribute("aria-hidden","true")}showUI(){this.select.removeAttribute("tabindex"),this.select.style.display="",this.select.removeAttribute("aria-hidden")}changeListen(e){this.listen=e,e&&this.observer&&this.observer.observe(this.select,{subtree:!0,childList:!0,attributes:!0}),e||this.observer&&this.observer.disconnect()}valueChange(e){return this.listen&&this.onValueChange&&this.onValueChange(this.getSelectedOptions()),!0}observeCall(e){if(!this.listen)return;let i=!1,n=!1,s=!1;for(const o of e){if(o.target===this.select&&(o.attributeName==="disabled"&&(n=!0),o.attributeName==="class"&&(i=!0),o.type==="childList")){for(const a of o.addedNodes)if(a.nodeName==="OPTION"&&a.value===this.select.value){this.select.dispatchEvent(new Event("change"));break}s=!0}(o.target.nodeName==="OPTGROUP"||o.target.nodeName==="OPTION")&&(s=!0)}i&&this.onClassChange&&this.onClassChange(this.select.className.split(" ")),n&&this.onDisabledChange&&(this.changeListen(!1),this.onDisabledChange(this.select.disabled),this.changeListen(!0)),s&&this.onOptionsChange&&(this.changeListen(!1),this.onOptionsChange(this.getData()),this.changeListen(!0))}getData(){let e=[];const i=this.select.childNodes;for(const n of i)n.nodeName==="OPTGROUP"&&e.push(this.getDataFromOptgroup(n)),n.nodeName==="OPTION"&&e.push(this.getDataFromOption(n));return e}getDataFromOptgroup(e){let i={id:e.id,label:e.label,selectAll:e.dataset?e.dataset.selectall==="true":!1,selectAllText:e.dataset?e.dataset.selectalltext:"Select all",closable:e.dataset?e.dataset.closable:"off",options:[]};const n=e.childNodes;for(const s of n)s.nodeName==="OPTION"&&i.options.push(this.getDataFromOption(s));return i}getDataFromOption(e){return{id:e.id,value:e.value,text:e.text,html:e.dataset&&e.dataset.html?e.dataset.html:"",defaultSelected:e.defaultSelected,selected:e.selected,display:e.style.display!=="none",disabled:e.disabled,mandatory:e.dataset?e.dataset.mandatory==="true":!1,placeholder:e.dataset.placeholder==="true",class:e.className,style:e.style.cssText,data:e.dataset}}getSelectedOptions(){let e=[];const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const s=n.childNodes;for(const o of s)if(o.nodeName==="OPTION"){const a=o;a.selected&&e.push(this.getDataFromOption(a))}}if(n.nodeName==="OPTION"){const s=n;s.selected&&e.push(this.getDataFromOption(s))}}return e}getSelectedValues(){return this.getSelectedOptions().map(e=>e.value)}setSelected(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const o=n.childNodes;for(const a of o)if(a.nodeName==="OPTION"){const d=a;d.selected=e.includes(d.id)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.id)}}this.changeListen(!0)}setSelectedByValue(e){this.changeListen(!1);const i=this.select.childNodes;for(const n of i){if(n.nodeName==="OPTGROUP"){const o=n.childNodes;for(const a of o)if(a.nodeName==="OPTION"){const d=a;d.selected=e.includes(d.value)}}if(n.nodeName==="OPTION"){const s=n;s.selected=e.includes(s.value)}}this.changeListen(!0)}updateSelect(e,i,n){this.changeListen(!1),e&&(this.select.dataset.id=e),i&&(this.select.style.cssText=i),n&&(this.select.className="",n.forEach(s=>{s.trim()!==""&&this.select.classList.add(s.trim())})),this.changeListen(!0)}updateOptions(e){this.changeListen(!1),this.select.innerHTML="";for(const i of e)i instanceof Ct&&this.select.appendChild(this.createOptgroup(i)),i instanceof Pe&&this.select.appendChild(this.createOption(i));this.select.dispatchEvent(new Event("change",{bubbles:!0})),this.changeListen(!0)}createOptgroup(e){const i=document.createElement("optgroup");if(i.id=e.id,i.label=e.label,e.selectAll&&(i.dataset.selectAll="true"),e.closable!=="off"&&(i.dataset.closable=e.closable),e.options)for(const n of e.options)i.appendChild(this.createOption(n));return i}createOption(e){const i=document.createElement("option");return i.id=e.id,i.value=e.value,i.textContent=e.text,e.html!==""&&i.setAttribute("data-html",e.html),i.defaultSelected=e.defaultSelected,i.selected=e.selected,e.disabled&&(i.disabled=!0),e.display||(i.style.display="none"),e.placeholder&&i.setAttribute("data-placeholder","true"),e.mandatory&&i.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach(n=>{i.classList.add(n)}),e.data&&typeof e.data=="object"&&Object.keys(e.data).forEach(n=>{i.setAttribute("data-"+y0(n),e.data[n])}),i}destroy(){this.changeListen(!1),this.select.removeEventListener("change",this.valueChange),this.observer&&(this.observer.disconnect(),this.observer=null),delete this.select.dataset.id,this.showUI()}}class E0{constructor(e){this.id="",this.style="",this.class=[],this.isMultiple=!1,this.isOpen=!1,this.isFullOpen=!1,this.intervalMove=null,e||(e={}),this.id="ss-"+$r(),this.style=e.style||"",this.class=e.class||[],this.disabled=e.disabled!==void 0?e.disabled:!1,this.alwaysOpen=e.alwaysOpen!==void 0?e.alwaysOpen:!1,this.showSearch=e.showSearch!==void 0?e.showSearch:!0,this.focusSearch=e.focusSearch!==void 0?e.focusSearch:!0,this.ariaLabel=e.ariaLabel||"Combobox",this.searchPlaceholder=e.searchPlaceholder||"Search",this.searchText=e.searchText||"No Results",this.searchingText=e.searchingText||"Searching...",this.searchHighlight=e.searchHighlight!==void 0?e.searchHighlight:!1,this.closeOnSelect=e.closeOnSelect!==void 0?e.closeOnSelect:!0,this.contentLocation=e.contentLocation||document.body,this.contentPosition=e.contentPosition||"absolute",this.openPosition=e.openPosition||"auto",this.placeholderText=e.placeholderText!==void 0?e.placeholderText:"Select Value",this.allowDeselect=e.allowDeselect!==void 0?e.allowDeselect:!1,this.hideSelected=e.hideSelected!==void 0?e.hideSelected:!1,this.keepOrder=e.keepOrder!==void 0?e.keepOrder:!1,this.showOptionTooltips=e.showOptionTooltips!==void 0?e.showOptionTooltips:!1,this.minSelected=e.minSelected||0,this.maxSelected=e.maxSelected||1e3,this.timeoutDelay=e.timeoutDelay||200,this.maxValuesShown=e.maxValuesShown||20,this.maxValuesMessage=e.maxValuesMessage||"{number} selected",this.addableText=e.addableText||'Press "Enter" to add {value}'}}class S0{constructor(e){var i;if(this.events={search:void 0,searchFilter:(d,l)=>d.text.toLowerCase().indexOf(l.toLowerCase())!==-1,addable:void 0,beforeChange:void 0,afterChange:void 0,beforeOpen:void 0,afterOpen:void 0,beforeClose:void 0,afterClose:void 0},this.windowResize=ws(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.windowScroll=ws(()=>{!this.settings.isOpen&&!this.settings.isFullOpen||this.render.moveContent()}),this.documentClick=d=>{this.settings.isOpen&&d.target&&!b0(d.target,this.settings.id)&&this.close(d.type)},this.windowVisibilityChange=()=>{document.hidden&&this.close()},this.selectEl=typeof e.select=="string"?document.querySelector(e.select):e.select,!this.selectEl){e.events&&e.events.error&&e.events.error(new Error("Could not find select element"));return}if(this.selectEl.tagName!=="SELECT"){e.events&&e.events.error&&e.events.error(new Error("Element isnt of type select"));return}this.selectEl.dataset.ssid&&this.destroy(),this.settings=new E0(e.settings),this.cssClasses=new v0(e.cssClasses);const n=["afterChange","beforeOpen","afterOpen","beforeClose","afterClose"];for(const d in e.events)e.events.hasOwnProperty(d)&&(n.indexOf(d)!==-1?this.events[d]=ws(e.events[d],100):this.events[d]=e.events[d]);this.settings.disabled=!((i=e.settings)===null||i===void 0)&&i.disabled?e.settings.disabled:this.selectEl.disabled,this.settings.isMultiple=this.selectEl.multiple,this.settings.style=this.selectEl.style.cssText,this.settings.class=this.selectEl.className.split(" "),this.select=new C0(this.selectEl),this.select.updateSelect(this.settings.id,this.settings.style,this.settings.class),this.select.hideUI(),this.select.onValueChange=d=>{this.setSelected(d.map(l=>l.id))},this.select.onClassChange=d=>{this.settings.class=d,this.render.updateClassStyles()},this.select.onDisabledChange=d=>{d?this.disable():this.enable()},this.select.onOptionsChange=d=>{this.setData(d)},this.store=new _0(this.settings.isMultiple?"multiple":"single",e.data?e.data:this.select.getData()),e.data&&this.select.updateOptions(this.store.getData());const s={open:this.open.bind(this),close:this.close.bind(this),addable:this.events.addable?this.events.addable:void 0,setSelected:this.setSelected.bind(this),addOption:this.addOption.bind(this),search:this.search.bind(this),beforeChange:this.events.beforeChange,afterChange:this.events.afterChange};this.render=new w0(this.settings,this.cssClasses,this.store,s),this.render.renderValues(),this.render.renderOptions(this.store.getData());const o=this.selectEl.getAttribute("aria-label"),a=this.selectEl.getAttribute("aria-labelledby");o?this.render.main.main.setAttribute("aria-label",o):a&&this.render.main.main.setAttribute("aria-labelledby",a),this.selectEl.parentNode&&this.selectEl.parentNode.insertBefore(this.render.main.main,this.selectEl.nextSibling),window.addEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),document.addEventListener("visibilitychange",this.windowVisibilityChange),this.settings.disabled&&this.disable(),this.settings.alwaysOpen&&this.open(),this.selectEl.slim=this}enable(){this.settings.disabled=!1,this.select.enable(),this.render.enable()}disable(){this.settings.disabled=!0,this.select.disable(),this.render.disable()}getData(){return this.store.getData()}setData(e){const i=this.store.getSelected(),n=this.store.validateDataArray(e);if(n){this.events.error&&this.events.error(n);return}this.store.setData(e);const s=this.store.getData();this.select.updateOptions(s),this.render.renderValues(),this.render.renderOptions(s),this.events.afterChange&&!Bl(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}getSelected(){let e=this.store.getSelectedOptions();return this.settings.keepOrder&&(e=this.store.selectedOrderOptions(e)),e.map(i=>i.value)}setSelected(e,i=!0){const n=this.store.getSelected(),s=this.store.getDataOptions();e=Array.isArray(e)?e:[e];const o=[];for(const d of e){if(s.find(l=>l.id==d)){o.push(d);continue}for(const l of s.filter(f=>f.value==d))o.push(l.id)}this.store.setSelectedBy("id",o);const a=this.store.getData();this.select.updateOptions(a),this.render.renderValues(),this.render.content.search.input.value!==""?this.search(this.render.content.search.input.value):this.render.renderOptions(a),i&&this.events.afterChange&&!Bl(n,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}addOption(e){const i=this.store.getSelected();this.store.getDataOptions().some(s=>{var o;return s.value===((o=e.value)!==null&&o!==void 0?o:e.text)})||this.store.addOption(e);const n=this.store.getData();this.select.updateOptions(n),this.render.renderValues(),this.render.renderOptions(n),this.events.afterChange&&!Bl(i,this.store.getSelected())&&this.events.afterChange(this.store.getSelectedOptions())}open(){this.settings.disabled||this.settings.isOpen||(this.events.beforeOpen&&this.events.beforeOpen(),this.render.open(),this.settings.showSearch&&this.settings.focusSearch&&this.render.searchFocus(),this.settings.isOpen=!0,setTimeout(()=>{this.events.afterOpen&&this.events.afterOpen(),this.settings.isOpen&&(this.settings.isFullOpen=!0),document.addEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.contentPosition==="absolute"&&(this.settings.intervalMove&&clearInterval(this.settings.intervalMove),this.settings.intervalMove=setInterval(this.render.moveContent.bind(this.render),500)))}close(e=null){!this.settings.isOpen||this.settings.alwaysOpen||(this.events.beforeClose&&this.events.beforeClose(),this.render.close(),this.render.content.search.input.value!==""&&this.search(""),this.render.mainFocus(e),this.settings.isOpen=!1,this.settings.isFullOpen=!1,setTimeout(()=>{this.events.afterClose&&this.events.afterClose(),document.removeEventListener("click",this.documentClick)},this.settings.timeoutDelay),this.settings.intervalMove&&clearInterval(this.settings.intervalMove))}search(e){if(this.render.content.search.input.value!==e&&(this.render.content.search.input.value=e),!this.events.search){this.render.renderOptions(e===""?this.store.getData():this.store.search(e,this.events.searchFilter));return}this.render.renderSearching();const i=this.events.search(e,this.store.getSelectedOptions());if(i instanceof Promise){i.then(n=>{this.render.renderOptions(this.store.partialToFullData(n))}).catch(n=>{this.render.renderError(typeof n=="string"?n:n.message)});return}else Array.isArray(i)?this.render.renderOptions(this.store.partialToFullData(i)):this.render.renderError("Search event must return a promise or an array of data")}destroy(){document.removeEventListener("click",this.documentClick),window.removeEventListener("resize",this.windowResize,!1),this.settings.openPosition==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),document.removeEventListener("visibilitychange",this.windowVisibilityChange),this.store.setData([]),this.render.destroy(),this.select.destroy()}}function x0(){return window.matchMedia("(hover: none)").matches||window.matchMedia("(pointer: coarse)").matches}let ss=!1,ja,Ka;function Wr(){document.querySelectorAll("[data-form-select]").forEach(e=>{if(e?.customSelectInit)return;if(e.isFieldClearable&&e.hasAttribute("data-id")){const s=e.parentElement,o=e.dataset.id,a=s.querySelector(`div[data-id="${o}"]`);e.removeAttribute("style"),a?.remove()}const i=new S0({select:e,settings:{placeholderText:"",showSearch:e.hasAttribute("data-show-search"),closeOnSelect:!e.hasAttribute("multiple")}});if(!i.render.settings.isMultiple||x0())return;const n=i.render.main.values;n.addEventListener("mousedown",s=>{ss=!0,ja=s.pageX-n.offsetLeft,Ka=n.scrollLeft}),n.addEventListener("mouseleave",()=>{ss=!1}),n.addEventListener("mouseup",()=>{ss=!1}),n.addEventListener("mousemove",s=>{if(!ss)return;s.preventDefault();const a=(s.pageX-n.offsetLeft-ja)*1;n.scrollLeft=Ka-a}),e.customSelectInit=!0})}const Ga={rtl:{italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.5 15.8" xml:space="preserve"><g><path d="M0.3,0.1c0.3,0,0.5,0,0.7,0c1,0.1,1.7,0.1,2.2,0.1H4L7.2,0l0.2,1.1H7c-0.5,0-1,0.1-1.5,0.3v0.4l0.3,1.9L6,4.4L6.3,6 l0.1,0.4l0.1,0.5c0.1,0.2,0.1,0.4,0.2,0.7s0.1,0.6,0.2,0.9L7,9.1l0.6,2.8l0.3,1.4c0.1,0.4,0.2,0.7,0.4,1c0.4,0.2,0.8,0.3,1.2,0.4 l0.8,0.2l0.2,0.9l-1.1,0c-0.9-0.1-1.5-0.1-1.8-0.1h-2c-0.9,0.1-1.4,0.2-1.5,0.2c-0.1,0-0.2,0-0.3,0H3.4c-0.1,0-0.2,0-0.2,0 l-0.1-0.4c0-0.2-0.1-0.4-0.1-0.6l0.7-0.1c0.4,0,0.8-0.1,1.2-0.2c0-0.1,0-0.2,0-0.3l-0.1-0.5l-0.4-2.4L4,9.6L3.4,6.4 C3.2,5.7,3,4.7,2.7,3.3c0-0.3-0.1-0.5-0.1-0.8C2.5,2.1,2.4,1.9,2.3,1.6C2,1.4,1.6,1.3,1.3,1.2C0.9,1.2,0.5,1.1,0.2,0.9L0,0.4L0,0 L0.3,0.1L0.3,0.1z"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M13.1,3.5L15.7,6c0.1,0.1,0.1,0.3,0,0.4l-2.5,2.5C13.1,9,13,9,12.9,9c-0.1,0-0.1,0-0.2-0.1c-0.1-0.1-0.1-0.1-0.1-0.2V3.7 c0-0.1,0-0.2,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C13,3.4,13.1,3.4,13.1,3.5z"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><g><path d="M15.5,10.1L15.5,10.1c0.1,0,0.3,0.1,0.3,0.3v1.7c0,0.1,0,0.1-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1l-15.2,0 c-0.1,0-0.1,0-0.2-0.1C0,12.2,0,12.2,0,12.1l0-1.7c0-0.1,0-0.1,0.1-0.2c0.1-0.1,0.1-0.1,0.2-0.1C0.3,10.1,15.5,10.1,15.5,10.1z M9.8,6.7c0.1,0,0.1,0,0.2,0.1C10.1,6.9,10.1,7,10.1,7v1.7c0,0.1,0,0.2-0.1,0.2C10,9,9.9,9,9.8,9L0.3,9C0.2,9,0.1,9,0.1,8.9 C0,8.9,0,8.8,0,8.7V7C0,7,0,6.9,0.1,6.8c0.1-0.1,0.1-0.1,0.2-0.1C0.3,6.7,9.8,6.7,9.8,6.7z M0.3,3.4h9.6h0c0.1,0,0.3,0.1,0.3,0.3 v1.7v0c0,0.1-0.1,0.3-0.3,0.3H0.3c-0.1,0-0.1,0-0.2-0.1C0,5.5,0,5.4,0,5.3V3.6c0-0.1,0-0.1,0.1-0.2C0.1,3.4,0.2,3.4,0.3,3.4 L0.3,3.4z M0.3,0l15.2,0c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2V2c0,0.1,0,0.2-0.1,0.2c-0.1,0.1-0.1,0.1-0.2,0.1H0.3 c-0.1,0-0.1,0-0.2-0.1C0,2.1,0,2,0,2l0-1.7c0-0.1,0-0.1,0.1-0.2C0.1,0,0.2,0,0.3,0z"/></g><path d="M15.5,3.4c0.1,0,0.1,0,0.2,0.1c0.1,0.1,0.1,0.1,0.1,0.2v5.1c0,0.1,0,0.1-0.1,0.2C15.6,9,15.5,9,15.5,9 c-0.1,0-0.1,0-0.2-0.1l-2.5-2.5c-0.1-0.1-0.1-0.3,0-0.4l2.5-2.5C15.3,3.4,15.4,3.4,15.5,3.4z"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 12.4" xml:space="preserve"><g><path d="M12.4,10.7c0,0.9,0.8,1.7,1.7,1.7c0.9,0,1.7-0.8,1.7-1.7C15.7,9.8,15,9,14.1,9c-0.4,0-0.9,0.2-1.2,0.5 C12.5,9.8,12.4,10.2,12.4,10.7C12.4,10.7,12.4,10.7,12.4,10.7z M12.4,6.2c0,0.9,0.8,1.7,1.7,1.7c0.4,0,0.9-0.2,1.2-0.5 c0.3-0.3,0.4-0.7,0.4-1.1c0-0.9-0.7-1.7-1.6-1.7C13.1,4.6,12.4,5.3,12.4,6.2C12.4,6.2,12.4,6.2,12.4,6.2z M0,9.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1l10.7,0c0,0,0,0,0,0c0.1,0,0.3-0.1,0.3-0.3V9.8c0-0.1,0-0.1-0.1-0.2 C11.1,9.6,11,9.6,11,9.6l-10.7,0c-0.1,0-0.1,0-0.2,0.1C0,9.7,0,9.8,0,9.8L0,9.8z M12.9,2.9c0.3,0.3,0.7,0.5,1.2,0.5 c0.4,0,0.9-0.2,1.2-0.5c0.7-0.7,0.7-1.7,0-2.4C14.9,0.2,14.5,0,14.1,0c-0.4,0-0.9,0.2-1.2,0.5c-0.3,0.3-0.5,0.7-0.5,1.2 C12.4,2.1,12.5,2.6,12.9,2.9z M0,5.3V7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.1,0,0.2-0.1 c0.1-0.1,0.1-0.1,0.1-0.2V5.3c0,0,0,0,0,0c0-0.1-0.1-0.3-0.3-0.3H0.3c-0.1,0-0.1,0-0.2,0.1C0,5.2,0,5.3,0,5.3L0,5.3z M0,0.8v1.7 c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1h10.7c0.1,0,0.1,0,0.2-0.1c0,0,0.1-0.1,0.1-0.2V0.8c0-0.1,0-0.1-0.1-0.2 c0-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.1,0-0.2,0.1C0,0.7,0,0.8,0,0.8L0,0.8z"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M0,11.5l0,1.7c0,0.1,0,0.1,0.1,0.2c0.1,0.1,0.1,0.1,0.2,0.1H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2v-1.7 c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1H0.3c-0.1,0-0.2,0-0.2,0.1C0,11.4,0,11.4,0,11.5L0,11.5z M0,8.7c0,0.1,0,0.1,0.1,0.2 C0.1,8.9,0.2,9,0.3,9H11c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V7c0-0.1,0-0.1-0.1-0.2c-0.1-0.1-0.1-0.1-0.2-0.1l-10.7,0 c-0.1,0-0.2,0-0.2,0.1C0,6.8,0,6.9,0,7C0,7,0,8.7,0,8.7z M0,2.5v1.7c0,0.1,0,0.1,0.1,0.2c0,0,0.1,0.1,0.2,0.1l10.7,0 c0.1,0,0.2,0,0.2-0.1c0.1-0.1,0.1-0.1,0.1-0.2V2.4c0-0.1,0-0.1-0.1-0.2c-0.1,0-0.1,0-0.2,0H0.3c-0.1,0-0.1,0-0.2,0 C0,2.3,0,2.4,0,2.5L0,2.5z"/></g><path d="M15.6,14.2c0-0.3-0.1-0.6-0.3-0.8c-0.2-0.2-0.4-0.4-0.7-0.4l0.9-1v-0.8h-2.9v1.3h0.9v-0.5h0.9l0,0c-0.1,0.1-0.2,0.2-0.3,0.3 s-0.2,0.3-0.4,0.5l-0.3,0.3l0.2,0.5c0.6,0,0.9,0.1,0.9,0.5c0,0.1-0.1,0.3-0.2,0.4c-0.1,0.1-0.3,0.1-0.4,0.1c-0.3,0-0.7-0.1-0.9-0.3 l-0.5,0.8c0.4,0.4,0.9,0.6,1.5,0.6c0.4,0,0.9-0.1,1.2-0.4C15.5,15.1,15.6,14.7,15.6,14.2z"/><path d="M15.6,8.7h-0.9v0.5h-1.1c0-0.2,0.2-0.4,0.4-0.5c0.2-0.2,0.4-0.3,0.7-0.4c0.3-0.2,0.5-0.3,0.7-0.6c0.2-0.2,0.3-0.5,0.3-0.8 c0-0.4-0.2-0.8-0.5-1c-0.6-0.4-1.4-0.5-2-0.1c-0.3,0.2-0.5,0.4-0.6,0.7L13.3,7c0.1-0.3,0.4-0.5,0.7-0.5c0.1,0,0.3,0,0.3,0.1 c0.1,0.1,0.1,0.2,0.1,0.3c0,0.2-0.1,0.3-0.2,0.4c-0.2,0.1-0.3,0.3-0.5,0.4c-0.2,0.1-0.4,0.3-0.6,0.4c-0.2,0.2-0.4,0.4-0.5,0.6 c-0.1,0.2-0.2,0.5-0.2,0.8c0,0.2,0,0.3,0,0.5h3.2L15.6,8.7L15.6,8.7z"/><path d="M15.6,3.6h-1V0h-0.9l-1.2,1.1l0.6,0.7c0.2-0.1,0.3-0.3,0.4-0.5l0,0v2.2h-0.9v0.9h3L15.6,3.6L15.6,3.6z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M7.4,9.9l3.1,3.1c0.3,0.3,0.8,0.5,1.3,0.5c0.5,0,0.9-0.2,1.3-0.5c0,0,0,0,0,0c0.7-0.7,0.7-1.9,0-2.6L9.9,7.3 c0-0.1,0-0.2,0-0.3C9.9,7,10,7,10.1,7l2.2-0.2c0.1,0,0.1,0,0.2,0.1l2.1,2.1c0.4,0.4,0.7,0.8,0.9,1.3c0.2,0.5,0.3,1,0.3,1.5 c0,0.5-0.1,1-0.3,1.5c-0.8,2-3.2,3-5.2,2.2c-0.5-0.2-0.9-0.5-1.3-0.9l-2.1-2.1c-0.1,0-0.1-0.1-0.1-0.2L7,10.1C7,10,7,9.9,7.1,9.9 C7.2,9.8,7.3,9.9,7.4,9.9z M1.2,1.1C1.6,0.7,2,0.4,2.5,0.3c1-0.4,2.1-0.4,3.1,0C6,0.4,6.5,0.7,6.8,1.1L9,3.2C9,3.3,9.1,3.3,9,3.4 L8.8,5.6c0,0.1-0.1,0.2-0.2,0.2c-0.1,0.1-0.2,0.1-0.3,0L5.3,2.7C5,2.3,4.5,2.1,4,2.1c-0.5,0-0.9,0.2-1.3,0.5c0,0,0,0,0,0 C2,3.4,2,4.5,2.7,5.2l3.1,3.2c0.1,0.1,0.1,0.2,0,0.3c0,0.1-0.1,0.1-0.2,0.1L3.5,9C3.4,9,3.4,9,3.3,8.9L1.2,6.8c0,0,0,0,0,0 C-0.4,5.2-0.4,2.7,1.2,1.1L1.2,1.1z M14.3,6h-2.6c0,0,0,0,0,0c-0.1,0-0.2-0.1-0.2-0.2c0-0.1,0-0.2,0.1-0.3l2.5-0.7 c0.1,0,0.1,0,0.2,0c0.1,0,0.1,0.1,0.1,0.2l0.1,0.8c0,0.1,0,0.1-0.1,0.2C14.5,6,14.4,6,14.3,6L14.3,6z M10.2,4.1 c0,0.1-0.1,0.2-0.2,0.2l0,0c0,0,0,0,0,0C9.8,4.2,9.7,4.1,9.8,4L9.7,1.4c0-0.1,0-0.1,0.1-0.2c0.1,0,0.1,0,0.2,0h0.8 c0.1,0,0.1,0,0.2,0.1c0,0.1,0,0.1,0,0.2L10.2,4.1L10.2,4.1z M1.5,9.7h1.3h1.3c0.1,0,0.2,0.1,0.2,0.2c0,0.1,0,0.2-0.1,0.3l-2.5,0.6 H1.6c0,0-0.1,0-0.1,0c-0.1,0-0.1-0.1-0.1-0.2L1.2,9.9c0-0.1,0-0.1,0.1-0.2c0-0.1,0.1-0.1,0.2-0.1L1.5,9.7z M5.6,11.6 C5.6,11.6,5.6,11.6,5.6,11.6c0-0.1,0.1-0.2,0.3-0.1c0,0,0,0,0,0c0.1,0,0.2,0.1,0.2,0.2v2.6c0,0.1,0,0.1-0.1,0.2 c0,0-0.1,0.1-0.2,0.1L5,14.5c-0.1,0-0.1,0-0.2-0.1c0-0.1,0-0.1,0-0.2L5.6,11.6L5.6,11.6z"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.7" xml:space="preserve"><g><path d="M14.6,14.6c1.6-1.6,1.6-4.1,0-5.7l0,0l-3.1-3.1l-1.2,1.6l2.9,2.9c0.4,0.4,0.6,0.9,0.6,1.5c0,1.1-0.9,2.1-2.1,2.1l0,0 c-0.6,0-1.1-0.2-1.5-0.6l-0.4-0.4l-1.7,1l0.8,0.8C10.4,16.2,13,16.2,14.6,14.6L14.6,14.6L14.6,14.6z M3.6,6C3,5.9,2.6,5.5,2.3,5 S1.9,4,2.1,3.4C2.3,2.9,2.6,2.5,3,2.2C3.5,2,4.1,1.9,4.6,2l3.3,1.4l0.5-2L5.1,0.1C4-0.1,2.9,0,2,0.5C1.1,1.1,0.4,1.9,0.2,3 C-0.1,4,0,5.1,0.6,6C1.1,6.9,1.9,7.6,3,7.8l5.4,2l0.5-2L6.2,6.9L3.6,6z"/></g></svg>'},redo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M11.58,18.48a6.84,6.84,0,1,1,6.85-6.85s0,.26,0,.67a8,8,0,0,1-.22,1.44l.91-.55a.51.51,0,0,1,.36,0,.45.45,0,0,1,.29.22.47.47,0,0,1,.06.36.45.45,0,0,1-.22.29L17.42,15.3l-.12,0h-.25l-.12-.06-.09-.09-.06-.07,0-.06-.87-2.12a.43.43,0,0,1,0-.37.49.49,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26l.44,1.09a6.51,6.51,0,0,0,.24-1.36,4.58,4.58,0,0,0,0-.64,5.83,5.83,0,0,0-1.73-4.17,5.88,5.88,0,0,0-8.34,0,5.9,5.9,0,0,0,4.17,10.06.51.51,0,0,1,.33.15.48.48,0,0,1,0,.68.53.53,0,0,1-.33.12Z" transform="translate(-4.48 -4.54)"/></g></svg>',undo:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.59 14.18"><g><path d="M5,14a.43.43,0,0,1-.22-.29.46.46,0,0,1,.06-.36.43.43,0,0,1,.29-.22.56.56,0,0,1,.36,0l.91.55a8.27,8.27,0,0,1-.22-1.45,5.07,5.07,0,0,1,0-.67A6.85,6.85,0,1,1,13,18.47a.44.44,0,0,1-.33-.13.48.48,0,0,1,0-.68.51.51,0,0,1,.33-.15A5.89,5.89,0,0,0,17.15,7.45a5.88,5.88,0,0,0-8.33,0,5.84,5.84,0,0,0-1.73,4.17s0,.25,0,.65a6.49,6.49,0,0,0,.24,1.37l.44-1.09a.57.57,0,0,1,.27-.26.41.41,0,0,1,.36,0,.53.53,0,0,1,.27.26.43.43,0,0,1,0,.37L7.82,15l0,.09-.09.09-.1.07-.06,0H7.28l-.13,0-1.09-.63c-.65-.36-1-.57-1.1-.63Z" transform="translate(-4.49 -4.53)"/></g></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.76 15.75"><g><path d="M6.4,3.76V19.5h6.76a5.55,5.55,0,0,0,2-.32,4.93,4.93,0,0,0,1.52-1,4.27,4.27,0,0,0,1.48-3.34,3.87,3.87,0,0,0-.69-2.37,5.74,5.74,0,0,0-.71-.83,3.44,3.44,0,0,0-1.1-.65,3.6,3.6,0,0,0,1.58-1.36,3.66,3.66,0,0,0,.53-1.93,3.7,3.7,0,0,0-1.21-2.87,4.65,4.65,0,0,0-3.25-1.1H6.4Zm2.46,6.65V5.57h3.52a4.91,4.91,0,0,1,1.36.15,2.3,2.3,0,0,1,.85.45,2.06,2.06,0,0,1,.74,1.71,2.3,2.3,0,0,1-.78,1.92,2.54,2.54,0,0,1-.86.46,4.7,4.7,0,0,1-1.32.15H8.86Zm0,7.27V12.15H12.7a4.56,4.56,0,0,1,1.38.17,3.43,3.43,0,0,1,.95.49,2.29,2.29,0,0,1,.92,2,2.73,2.73,0,0,1-.83,2.1,2.66,2.66,0,0,1-.83.58,3.25,3.25,0,0,1-1.26.2H8.86Z" transform="translate(-6.4 -3.75)"/></g></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9.78 15.74"><g><path d="M14.64,3.76h2.52v7.72a4.51,4.51,0,0,1-.59,2.31,3.76,3.76,0,0,1-1.71,1.53,6.12,6.12,0,0,1-2.64.53,5,5,0,0,1-3.57-1.18,4.17,4.17,0,0,1-1.27-3.24V3.76H9.9v7.3a3,3,0,0,0,.55,2,2.3,2.3,0,0,0,1.83.65,2.26,2.26,0,0,0,1.8-.65,3.09,3.09,0,0,0,.55-2V3.76Zm2.52,13.31V19.5H7.39V17.08h9.77Z" transform="translate(-7.38 -3.76)"/></g></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10.49 15.76"><g><path d="M17.16,3.79l.37,0-.06.38-.14.52A10,10,0,0,1,16.21,5a9.37,9.37,0,0,0-1,.32,6.68,6.68,0,0,0-.25.89c-.06.31-.11.59-.14.85-.3,1.36-.52,2.41-.68,3.14l-.61,3.18L13.1,15l-.43,2.4-.12.46a.62.62,0,0,0,0,.28c.44.1.85.17,1.23.22l.68.11a4.51,4.51,0,0,1-.08.6l-.09.42a.92.92,0,0,0-.23,0l-.43,0a1.37,1.37,0,0,1-.29,0c-.13,0-.63-.08-1.49-.16l-2,0c-.28,0-.87,0-1.78.12L7,19.5l.17-.88.8-.2A6.61,6.61,0,0,0,9.19,18,2.62,2.62,0,0,0,9.61,17l.28-1.41.58-2.75.12-.66c.05-.3.11-.58.17-.86s.12-.51.17-.69l.12-.48.12-.43.31-1.6.15-.65.31-1.91V5.14a3.86,3.86,0,0,0-1.48-.29l-.38,0,.2-1.06,3.24.14.75,0c.45,0,1.18,0,2.18-.09.23,0,.46,0,.71,0Z" transform="translate(-7.04 -3.76)"/></g></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.9"><g><path d="M12.94,13a4.27,4.27,0,0,1,1.32.58,1.46,1.46,0,0,1,.55,1.2,1.87,1.87,0,0,1-.88,1.64,4.17,4.17,0,0,1-2.35.59,4.44,4.44,0,0,1-2.74-.71,2.72,2.72,0,0,1-1-2.17H5.57a4.56,4.56,0,0,0,1.55,3.7,7,7,0,0,0,4.47,1.23,6,6,0,0,0,4.07-1.3,4.24,4.24,0,0,0,1.52-3.37,4,4,0,0,0-.26-1.4h-4ZM6.37,10.24A3.27,3.27,0,0,1,6,8.68a4,4,0,0,1,1.48-3.3,5.92,5.92,0,0,1,3.88-1.21,5.58,5.58,0,0,1,3.91,1.24,4.36,4.36,0,0,1,1.45,3.17H14.44a2.12,2.12,0,0,0-.91-1.81,4.45,4.45,0,0,0-2.44-.55,3.69,3.69,0,0,0-2,.51A1.64,1.64,0,0,0,8.3,8.22a1.3,1.3,0,0,0,.48,1.11,7,7,0,0,0,2.1.78l.28.06.28.08H6.37Zm13.09.68a.73.73,0,0,1,.49.21.66.66,0,0,1,.2.48.64.64,0,0,1-.2.48.71.71,0,0,1-.49.19H5.1a.67.67,0,0,1-.49-.19.66.66,0,0,1-.2-.48.64.64,0,0,1,.2-.48.73.73,0,0,1,.49-.21H19.46Z" transform="translate(-4.41 -4.17)"/></g></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 14.61"><g><path d="M15.38,4.33H12.74L11.19,7c-.28.46-.51.87-.69,1.21L10.07,9h0l-.44-.8c-.22-.4-.45-.81-.71-1.23L7.34,4.33H4.68L8.26,10,4.4,16.08H7.1l1.69-2.83c.38-.63.72-1.22,1-1.78l.25-.46h0l.49.92c.24.45.48.89.74,1.32L13,16.08h2.61L11.84,10l1.77-2.84,1.77-2.85Zm4.77,13.75H17v-.15c0-.4.05-.64.16-.72a4.42,4.42,0,0,1,1.16-.31,3.3,3.3,0,0,0,1.54-.56A1.84,1.84,0,0,0,20.15,15a1.78,1.78,0,0,0-.44-1.41A2.8,2.8,0,0,0,18,13.25a2.71,2.71,0,0,0-1.69.37,1.83,1.83,0,0,0-.44,1.43v.23H17v-.23q0-.63.18-.78a1.62,1.62,0,0,1,.88-.15,1.59,1.59,0,0,1,.88.15q.18.15.18.75t-.18.75a3.58,3.58,0,0,1-1.18.33,3.33,3.33,0,0,0-1.52.51,1.57,1.57,0,0,0-.32,1.18v1.15h4.27v-.86Z" transform="translate(-4.4 -4.33)"/></g></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.42"><g><path d="M12,13.14l3.61-5.81H12.94L11.33,10c-.28.46-.51.88-.69,1.25l-.45.83h0l-.45-.85c-.22-.41-.45-.82-.71-1.24L7.4,7.33H4.68l3.66,5.81L4.4,19.33H7.14l1.74-2.87q.58-1,1-1.83l.25-.48h0l.51.94.75,1.37,1.72,2.87h2.67l-1.92-3.09c-1.12-1.8-1.76-2.83-1.92-3.1Zm4.84-4.41h0l0,.15h3.27v.86H15.77V8.58a1.66,1.66,0,0,1,.33-1.22,3.51,3.51,0,0,1,1.56-.51,3.68,3.68,0,0,0,1.21-.34c.13-.1.19-.36.19-.77S19,5.07,18.87,5A1.63,1.63,0,0,0,18,4.8a1.58,1.58,0,0,0-.91.17c-.13.11-.19.38-.19.8V6H15.78V5.76a1.87,1.87,0,0,1,.45-1.47A2.84,2.84,0,0,1,18,3.91a2.8,2.8,0,0,1,1.72.38,1.84,1.84,0,0,1,.45,1.44,1.91,1.91,0,0,1-.34,1.35,3.24,3.24,0,0,1-1.58.57A3.69,3.69,0,0,0,17,8c-.12.1-.17.35-.17.76Z" transform="translate(-4.4 -3.91)"/></g></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.76"><g><path d="M13.69,17.2h6.46v1.31H8.56L4.41,14.37,14,4.75l6.06,6.06L16.89,14l-3.2,3.19Zm-4.61,0h2.77L14.09,15,9.88,10.75,6.25,14.38l1.41,1.41c.84.82,1.31,1.29,1.42,1.41Z" transform="translate(-4.41 -4.75)"/></g></svg>',indent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M4.68,14.45a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V9.1a.27.27,0,0,1,.08-.19.28.28,0,0,1,.2-.08.25.25,0,0,1,.19.07l2.54,2.54a.29.29,0,0,1,0,.4L4.88,14.36a.24.24,0,0,1-.2.09Zm15.19,1.12a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87Zm0-3.38a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm0-3.37a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm.2-3.29a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',outdent:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.36"><g><path d="M19.87,15.57a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.25.25,0,0,1-.08-.19V15.84a.27.27,0,0,1,.27-.27H19.87ZM7.5,14.45a.25.25,0,0,1-.2-.09L4.76,11.84a.29.29,0,0,1,0-.4L7.3,8.9a.29.29,0,0,1,.4,0,.31.31,0,0,1,.07.2v5.06a.32.32,0,0,1-.08.21.26.26,0,0,1-.19.08ZM19.87,8.82a.27.27,0,0,1,.19.08.25.25,0,0,1,.08.19v1.69a.27.27,0,0,1-.08.19.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.27-.27V9.1a.27.27,0,0,1,.27-.27h9.56Zm0,3.37a.27.27,0,0,1,.19.08.28.28,0,0,1,.08.21v1.68a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H10.31a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V12.48a.32.32,0,0,1,.08-.21.24.24,0,0,1,.19-.08h9.56Zm.2-6.66a.28.28,0,0,1,.08.2V7.41a.32.32,0,0,1-.08.21.25.25,0,0,1-.19.08H4.68a.27.27,0,0,1-.19-.08.3.3,0,0,1-.08-.21V5.73a.32.32,0,0,1,.08-.21.25.25,0,0,1,.19-.08H19.87a.28.28,0,0,1,.2.09Z" transform="translate(-4.41 -5.44)"/></g></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M11.8,13.06l-5.1,5.1H9.51V19.5H4.41V14.4H5.75v2.81L8.3,14.66q2.25-2.23,2.55-2.55Zm8.35-9.3v5.1H18.81V6.05l-5.1,5.1-1-1,5.1-5.1H15.05V3.76Z" transform="translate(-4.41 -3.76)"/></g></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.91,10h2.87v1.38H12.55V6.12h1.38V9l5.24-5.24.48.49.49.48ZM6.77,11.92H12v5.23H10.62V14.26L5.37,19.5l-1-1L9.63,13.3H6.77Z" transform="translate(-4.4 -3.76)"/></g></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 11.8"><g><path d="M8.09,7.94a.76.76,0,0,1,.53.22.72.72,0,0,1,.21.52.76.76,0,0,1-.22.54L6.18,11.63l2.43,2.44a.69.69,0,0,1,.2.51.66.66,0,0,1-.21.51.75.75,0,0,1-.51.22.63.63,0,0,1-.51-.21h0L4.63,12.15a.7.7,0,0,1-.22-.53.67.67,0,0,1,.25-.55L7.57,8.16a.82.82,0,0,1,.52-.22Zm12.05,3.69a.7.7,0,0,1-.23.52L17,15.1h0a.66.66,0,0,1-.51.21.73.73,0,0,1-.51-.22.75.75,0,0,1-.22-.51.63.63,0,0,1,.21-.51l2.43-2.44L15.92,9.22a.73.73,0,0,1-.22-.53A.74.74,0,0,1,17,8.18h0l2.91,2.91a.67.67,0,0,1,.27.54Zm-5.9-5.9a.73.73,0,0,1,.61.32.71.71,0,0,1,.07.68L11,17a1,1,0,0,1-.22.32.6.6,0,0,1-.35.16.75.75,0,0,1-.69-.26.69.69,0,0,1-.12-.72L13.56,6.23a.75.75,0,0,1,.26-.35.74.74,0,0,1,.42-.15Z" transform="translate(-4.41 -5.73)"/></g></svg>',preview:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.65 15.66"><g><path d="M16.19,14.43l2.49,2.49a.73.73,0,0,1,.21.52.67.67,0,0,1-.22.51.7.7,0,0,1-.52.22.69.69,0,0,1-.51-.21l-2.49-2.48a5.17,5.17,0,0,1-1.34.69,4.64,4.64,0,0,1-1.48.24,4.78,4.78,0,1,1,0-9.56,4.79,4.79,0,0,1,1.84.36,4.9,4.9,0,0,1,1.56,1,4.77,4.77,0,0,1,.46,6.18ZM10,14a3.3,3.3,0,0,0,2.34.93A3.37,3.37,0,0,0,14.7,14a3.3,3.3,0,0,0-1.08-5.41,3.47,3.47,0,0,0-2.56,0A3,3,0,0,0,10,9.28,3.31,3.31,0,0,0,10,14ZM16,4a3.86,3.86,0,0,1,2.77,1.14A3.9,3.9,0,0,1,20,7.85v4a.77.77,0,0,1-.22.53.7.7,0,0,1-.52.21.72.72,0,0,1-.74-.74v-4a2.46,2.46,0,0,0-.72-1.73A2.37,2.37,0,0,0,16,5.45H8.53A2.42,2.42,0,0,0,6.08,7.89v7.52a2.41,2.41,0,0,0,.71,1.73,2.46,2.46,0,0,0,1.74.72h4.08a.73.73,0,0,1,0,1.46H8.53a3.85,3.85,0,0,1-2.78-1.14A3.93,3.93,0,0,1,4.6,15.4V7.87A3.94,3.94,0,0,1,5.76,5.09,3.88,3.88,0,0,1,8.54,4H16Z" transform="translate(-4.45 -3.8)"/></g></svg>',print:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16.05 16.04"><g><path d="M19.76,15.84a1.29,1.29,0,0,0,.39-.92V8.35A2.05,2.05,0,0,0,19.57,7a1.93,1.93,0,0,0-1.38-.57H6.37a1.95,1.95,0,0,0-2,2v6.56a1.23,1.23,0,0,0,.38.92,1.35,1.35,0,0,0,.93.38h2V14.9l-2,0V8.35a.67.67,0,0,1,.18-.47.62.62,0,0,1,.48-.19H18.18a.6.6,0,0,1,.46.19.66.66,0,0,1,.18.47V14.9h-2v1.32h2A1.35,1.35,0,0,0,19.76,15.84ZM17.52,7.69V5.06a1.31,1.31,0,0,0-.38-.92,1.34,1.34,0,0,0-.94-.38H8.34A1.3,1.3,0,0,0,7,5.06V7.69H8.34V5.06h7.87V7.69h1.31ZM8.34,12.93h7.87l0,5.26H8.34V12.93Zm7.87,5.26v0Zm.65,1.31a.6.6,0,0,0,.46-.19.72.72,0,0,0,.2-.47V12.29a.74.74,0,0,0-.2-.47.6.6,0,0,0-.46-.19H7.68a.6.6,0,0,0-.46.19.72.72,0,0,0-.2.47v6.55a.74.74,0,0,0,.2.47.6.6,0,0,0,.46.19h9.18ZM16.67,9.28a.7.7,0,0,0-.94,0,.63.63,0,0,0-.18.46.67.67,0,0,0,.18.47.68.68,0,0,0,.94,0,.66.66,0,0,0,.18-.47A.58.58,0,0,0,16.67,9.28Z" transform="translate(-4.25 -3.61)"/></g></svg>',template:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.27 15.64"><g><path d="M18.18,19.16a1,1,0,0,0,1-1V5.73a1,1,0,0,0-1-1h-2v1h2V18.19H6.37V5.73h2v-1h-2A.94.94,0,0,0,5.68,5a1,1,0,0,0-.29.7V18.18a.94.94,0,0,0,.29.69,1,1,0,0,0,.69.29H18.18ZM9.82,10.31h4.92a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H9.82a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15Zm5.9,4.92H8.83a.49.49,0,0,0-.35.15.47.47,0,0,0-.15.35.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h6.89a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.51.51,0,0,0-.5-.5ZM7.36,12.77a.49.49,0,0,0,.15.35.47.47,0,0,0,.35.15h8.85a.49.49,0,0,0,.35-.15.47.47,0,0,0,.15-.35.49.49,0,0,0-.15-.35.47.47,0,0,0-.35-.15H7.85a.49.49,0,0,0-.35.15.52.52,0,0,0-.14.35Z" transform="translate(-5.14 -3.77)"/><path d="M14.24,6.71a1,1,0,0,0,1-1,1,1,0,0,0-1-1,1,1,0,0,0-1-1h-2a.94.94,0,0,0-.69.28,1,1,0,0,0-.29.7A.94.94,0,0,0,9.62,5a.91.91,0,0,0-.29.69,1,1,0,0,0,.29.7,1,1,0,0,0,.69.29h3.93Z" transform="translate(-5.14 -3.77)"/></g></svg>',line_height:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 13.56"><g><path d="M4.4,4.88V8.26a2,2,0,0,0,.5.39s.1,0,.18-.12a.62.62,0,0,0,.17-.28c.06-.19.13-.44.21-.74s.14-.52.19-.66a.58.58,0,0,1,.21-.3,2.41,2.41,0,0,1,.63-.21,3.83,3.83,0,0,1,.88-.12,9.15,9.15,0,0,1,1.31.06.16.16,0,0,1,.11,0,.26.26,0,0,1,.06.14,4,4,0,0,1,0,.49v2l.05,3.77c0,1.41,0,2.68-.05,3.81a1.79,1.79,0,0,1-.11.49,10.68,10.68,0,0,1-1.4.45,1.12,1.12,0,0,0-.69.43v.31l0,.22.61,0c.85-.08,1.54-.12,2.06-.12a19.76,19.76,0,0,1,2.09.08,15.08,15.08,0,0,0,1.64.08,1.4,1.4,0,0,0,.29,0,1.58,1.58,0,0,0,0-.26l-.05-.43a2.26,2.26,0,0,0-.43-.17l-.77-.22-.15,0a2.55,2.55,0,0,1-.78-.28,2.56,2.56,0,0,1-.11-.75l0-1.29,0-3.15V7.53a10.51,10.51,0,0,1,.06-1.2,3.83,3.83,0,0,1,.6,0l1.88,0a2.18,2.18,0,0,1,.38,0,.45.45,0,0,1,.23.17.9.9,0,0,1,.05.25c0,.16.06.35.1.58a3.33,3.33,0,0,0,.14.55A6.39,6.39,0,0,0,15,9a2.91,2.91,0,0,0,.6-.15,2.77,2.77,0,0,0,0-.46l0-.51,0-2.95-.25,0-.38,0L15,4.94a.71.71,0,0,1-.18.15.45.45,0,0,1-.25.07l-.29,0H8.75l-.15,0H7.45a17,17,0,0,1-1.86,0L5.36,5l-.25-.13ZM19.75,16.14h-.69v-9h.69A.4.4,0,0,0,20.13,7c.06-.11,0-.24-.1-.39L18.92,5.15a.52.52,0,0,0-.86,0L17,6.58c-.12.15-.16.28-.1.39s.18.16.38.16h.69v9h-.69a.4.4,0,0,0-.38.16c-.06.11,0,.24.1.39l1.11,1.43a.52.52,0,0,0,.86,0L20,16.69c.12-.15.16-.28.1-.39a.4.4,0,0,0-.38-.16Z" transform="translate(-4.4 -4.86)"/></g></svg>',paragraph_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.74"><g><path d="M18.18,3.76v2h-2V19.5h-2V5.73h-2V19.5h-2V11.63a3.94,3.94,0,0,1,0-7.87h7.87Z" transform="translate(-6.37 -3.76)"/></g></svg>',text_style:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.76 15.74"><g><path d="M17.68,6.71a2.22,2.22,0,0,0,1.06-.22.74.74,0,0,0,.42-.7.73.73,0,0,0-.08-.33.67.67,0,0,0-.17-.22,1,1,0,0,0-.31-.15L18.26,5l-.45-.09A15.27,15.27,0,0,0,13.26,5V4.74c0-.66-.63-1-1.92-1-.24,0-.43.15-.59.46a4,4,0,0,0-.36,1.14h0v0a26.45,26.45,0,0,1-3.5.35A2,2,0,0,0,5.77,6a.84.84,0,0,0-.37.79,2.14,2.14,0,0,0,.41,1.29,1.23,1.23,0,0,0,1.05.63,16.62,16.62,0,0,0,3.29-.45l-.34,3.35c-.16,1.61-.29,2.9-.37,3.86s-.12,1.66-.12,2.09l0,.65a5.15,5.15,0,0,0,.05.6,1.28,1.28,0,0,0,.16.54.34.34,0,0,0,.28.18,1.16,1.16,0,0,0,.79-.46,3.66,3.66,0,0,0,.68-1,22.08,22.08,0,0,0,1-4.33q.49-3.1.78-6.15a24.69,24.69,0,0,1,4.62-.84Z" transform="translate(-5.4 -3.76)"/></g></svg>',save:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M18.53,19.5l.2-.05A1.78,1.78,0,0,0,20.13,18l0-.09V7.14a2,2,0,0,0-.28-.64A3.18,3.18,0,0,0,19.43,6c-.5-.52-1-1-1.55-1.54A2.59,2.59,0,0,0,17.37,4a1.83,1.83,0,0,0-.61-.25H6l-.21,0a1.78,1.78,0,0,0-1.4,1.49l0,.1V17.87a2.49,2.49,0,0,0,.09.37,1.79,1.79,0,0,0,1.44,1.23l.09,0Zm-6.25-.6H6.92a.61.61,0,0,1-.68-.48.78.78,0,0,1,0-.22V12.3a.62.62,0,0,1,.69-.68H17.64a.62.62,0,0,1,.69.69V18.2a.64.64,0,0,1-.71.69H12.28ZM12,9.81H8.15a.63.63,0,0,1-.72-.71v-4a.64.64,0,0,1,.72-.72h7.66a.64.64,0,0,1,.72.72v4a.65.65,0,0,1-.74.72ZM13.5,5V9.18h1.78V5Z" transform="translate(-4.41 -3.76)"/></g></svg>',blockquote:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 475.082 475.081"><g><path d="M164.45,219.27h-63.954c-7.614,0-14.087-2.664-19.417-7.994c-5.327-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.416-51.678c14.276-14.272,31.503-21.411,51.678-21.411h18.271c4.948,0,9.229-1.809,12.847-5.424c3.616-3.617,5.424-7.898,5.424-12.847V54.819c0-4.948-1.809-9.233-5.424-12.85c-3.617-3.612-7.898-5.424-12.847-5.424h-18.271c-19.797,0-38.684,3.858-56.673,11.563c-17.987,7.71-33.545,18.132-46.68,31.267c-13.134,13.129-23.553,28.688-31.262,46.677C3.855,144.039,0,162.931,0,182.726v200.991c0,15.235,5.327,28.171,15.986,38.834c10.66,10.657,23.606,15.985,38.832,15.985h109.639c15.225,0,28.167-5.328,38.828-15.985c10.657-10.663,15.987-23.599,15.987-38.834V274.088c0-15.232-5.33-28.168-15.994-38.832C192.622,224.6,179.675,219.27,164.45,219.27z"/><path d="M459.103,235.256c-10.656-10.656-23.599-15.986-38.828-15.986h-63.953c-7.61,0-14.089-2.664-19.41-7.994c-5.332-5.33-7.994-11.801-7.994-19.417v-9.132c0-20.177,7.139-37.401,21.409-51.678c14.271-14.272,31.497-21.411,51.682-21.411h18.267c4.949,0,9.233-1.809,12.848-5.424c3.613-3.617,5.428-7.898,5.428-12.847V54.819c0-4.948-1.814-9.233-5.428-12.85c-3.614-3.612-7.898-5.424-12.848-5.424h-18.267c-19.808,0-38.691,3.858-56.685,11.563c-17.984,7.71-33.537,18.132-46.672,31.267c-13.135,13.129-23.559,28.688-31.265,46.677c-7.707,17.987-11.567,36.879-11.567,56.674v200.991c0,15.235,5.332,28.171,15.988,38.834c10.657,10.657,23.6,15.985,38.828,15.985h109.633c15.229,0,28.171-5.328,38.827-15.985c10.664-10.663,15.985-23.599,15.985-38.834V274.088C475.082,258.855,469.76,245.92,459.103,235.256z"/></g></svg>',arrow_down:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 8.67"><g><path d="M18.79,7.52a.8.8,0,0,1,.56-.23.82.82,0,0,1,.79.79.8.8,0,0,1-.23.56l-7.07,7.07a.79.79,0,0,1-.57.25.77.77,0,0,1-.57-.25h0L4.64,8.65a.8.8,0,0,1-.23-.57.82.82,0,0,1,.79-.79.8.8,0,0,1,.56.23L12.28,14l3.26-3.26,3.25-3.26Z" transform="translate(-4.41 -7.29)"/></g></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm0,5.9H20.15v-2H4.41v2Zm0,3.94H20.15v-2H4.41v2Zm0,3.93h7.87v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm11.8,3.94H4.41v2H16.22v-2Zm-11.8,5.9H18.18v-2H4.41v2Zm0,3.93h9.84v-2H4.41v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm3.93,5.9H20.15v-2H8.34v2Zm-2,3.94H20.14v-2H6.37v2Zm3.94,3.93h9.84v-2H10.31v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.77"><g><path d="M4.41,4.74v2H20.15v-2H4.41Zm2,3.94v2H18.18v-2H6.37Zm-1,5.9H19.16v-2H5.39v2Zm2,3.93H17.2v-2H7.36v2Z" transform="translate(-4.41 -4.74)"/></g></svg>',font_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.61"><g><path d="M18.5,15.57,14.28,4.32h-3.4L6.65,15.57h3l.8-2.26h4.23l.8,2.26h3ZM14,11.07H11.14L12.54,7,13.25,9c.41,1.18.64,1.86.7,2ZM4.41,16.69v2.24H20.15V16.69H4.41Z" transform="translate(-4.41 -4.32)"/></g></svg>',highlight_color:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.74"><g><path d="M12.32,9.31,13.38,13H11.21l.52-1.83q.46-1.61.54-1.83ZM4.44,3.76H20.1V19.5H4.44V3.76ZM14.71,17.32h2.63L13.7,6H10.89L7.26,17.32H9.89l.63-2.24h3.55l.32,1.12c.18.65.29,1,.32,1.12Z" transform="translate(-4.44 -3.76)"/></g></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 12.37"><g><path d="M7.77,16.12a1.59,1.59,0,0,0-.49-1.18,1.62,1.62,0,0,0-1.19-.49,1.68,1.68,0,1,0,0,3.36,1.67,1.67,0,0,0,1.68-1.69Zm0-4.48A1.67,1.67,0,0,0,6.09,10,1.68,1.68,0,0,0,4.9,12.82a1.62,1.62,0,0,0,1.19.49,1.67,1.67,0,0,0,1.68-1.67Zm12.38,3.64a.27.27,0,0,0-.08-.19.28.28,0,0,0-.2-.09H9.19a.28.28,0,0,0-.2.08.29.29,0,0,0-.08.19V17a.27.27,0,0,0,.28.28H19.87a.27.27,0,0,0,.19-.08.24.24,0,0,0,.08-.2V15.28ZM7.77,7.13a1.63,1.63,0,0,0-.49-1.2,1.61,1.61,0,0,0-1.19-.49,1.61,1.61,0,0,0-1.19.49,1.71,1.71,0,0,0,0,2.4,1.62,1.62,0,0,0,1.19.49,1.61,1.61,0,0,0,1.19-.49,1.63,1.63,0,0,0,.49-1.2Zm12.38,3.66a.28.28,0,0,0-.08-.2.29.29,0,0,0-.19-.08H9.19a.27.27,0,0,0-.28.28v1.69a.27.27,0,0,0,.08.19.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08.25.25,0,0,0,.08-.19V10.79Zm0-4.5a.27.27,0,0,0-.08-.19A.25.25,0,0,0,19.88,6H9.19A.28.28,0,0,0,9,6.1a.26.26,0,0,0-.08.19V8A.27.27,0,0,0,9,8.17a.24.24,0,0,0,.2.08H19.87a.27.27,0,0,0,.19-.08A.25.25,0,0,0,20.14,8V6.29Z" transform="translate(-4.41 -5.44)"/></g></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.69 15.74"><g><path d="M7.66,18a1.24,1.24,0,0,0-.26-.78,1.17,1.17,0,0,0-.72-.42l.85-1V15H4.58v1.34h.94v-.46l.85,0h0c-.11.11-.22.23-.32.35s-.23.27-.37.47L5.39,17l.23.51c.61-.05.92.11.92.49a.42.42,0,0,1-.18.37.79.79,0,0,1-.45.12A1.41,1.41,0,0,1,5,18.15l-.51.77A2.06,2.06,0,0,0,6,19.5a1.8,1.8,0,0,0,1.2-.41A1.38,1.38,0,0,0,7.66,18Zm0-5.54H6.75V13H5.63A.72.72,0,0,1,6,12.51a5.45,5.45,0,0,1,.66-.45,2.71,2.71,0,0,0,.67-.57,1.19,1.19,0,0,0,.31-.81,1.29,1.29,0,0,0-.45-1,1.86,1.86,0,0,0-2-.11,1.51,1.51,0,0,0-.62.7l.74.52A.87.87,0,0,1,6,10.28a.51.51,0,0,1,.35.12.42.42,0,0,1,.13.33.55.55,0,0,1-.21.4,3,3,0,0,1-.5.38c-.19.13-.39.27-.58.42a2,2,0,0,0-.5.6,1.63,1.63,0,0,0-.21.81,3.89,3.89,0,0,0,.05.48h3.2V12.44Zm12.45,2.82a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2V17a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V15.26ZM7.69,7.32h-1V3.76H5.8L4.6,4.88l.63.68a1.85,1.85,0,0,0,.43-.48h0l0,2.24H4.74V8.2h3V7.32Zm12.43,3.42a.27.27,0,0,0-.08-.19.28.28,0,0,0-.21-.08H9.1a.32.32,0,0,0-.21.08.24.24,0,0,0-.08.2v1.71a.27.27,0,0,0,.08.19.3.3,0,0,0,.21.08H19.83a.32.32,0,0,0,.21-.08.25.25,0,0,0,.08-.19V10.74Zm0-4.52A.27.27,0,0,0,20,6,.28.28,0,0,0,19.83,6H9.1A.32.32,0,0,0,8.89,6a.24.24,0,0,0-.08.19V7.93a.27.27,0,0,0,.08.19.32.32,0,0,0,.21.08H19.83A.32.32,0,0,0,20,8.12a.26.26,0,0,0,.08-.2V6.22Z" transform="translate(-4.43 -3.76)"/></g></svg>',table:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M4.41,8.05V3.76H8.7V8.05H4.41Zm5.71,0V3.76h4.3V8.05h-4.3Zm5.74-4.29h4.29V8.05H15.86V3.76Zm-11.45,10V9.48H8.7v4.3H4.41Zm5.71,0V9.48h4.3v4.3h-4.3Zm5.74,0V9.48h4.29v4.3H15.86ZM4.41,19.5V15.21H8.7V19.5H4.41Zm5.71,0V15.21h4.3V19.5h-4.3Zm5.74,0V15.21h4.29V19.5H15.86Z" transform="translate(-4.41 -3.76)"/></g></svg>',horizontal_rule:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 2.24"><g><path d="M20.15,12.75V10.51H4.41v2.24H20.15Z" transform="translate(-4.41 -10.51)"/></g></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.66 15.67"><g><path d="M19.72,5.58a1.64,1.64,0,0,0-1.64-1.64H6.23a1.62,1.62,0,0,0-1.16.48,1.63,1.63,0,0,0-.48,1.16V9.63a1.6,1.6,0,0,0,.48,1.16,1.62,1.62,0,0,0,1.16.47H18.09a1.67,1.67,0,0,0,1.16-.47,1.62,1.62,0,0,0,.48-1.16V5.58Zm-.94,4.05a.68.68,0,0,1-.7.7H6.23a.66.66,0,0,1-.48-.2.74.74,0,0,1-.21-.5V5.58a.66.66,0,0,1,.2-.48.71.71,0,0,1,.48-.21H18.08a.74.74,0,0,1,.5.21.66.66,0,0,1,.2.48ZM6.48,7.72a.21.21,0,0,0,.17-.07.22.22,0,0,0,.07-.17V7.06a1.27,1.27,0,0,1,.11-.52.37.37,0,0,1,.36-.23H8.77A.25.25,0,0,0,9,6.17a.19.19,0,0,0,0-.23.27.27,0,0,0-.2-.12H7.19a.88.88,0,0,0-.72.39,1.51,1.51,0,0,0-.23.85v.42a.24.24,0,0,0,.24.24Zm-.19.81a.21.21,0,0,0,.17-.07.26.26,0,0,0,.07-.17.24.24,0,0,0-.24-.24.2.2,0,0,0-.16.09.2.2,0,0,0-.07.16.22.22,0,0,0,.07.17.23.23,0,0,0,.16.06Zm8.46,5.1a1.63,1.63,0,0,0-.47-1.16A1.61,1.61,0,0,0,13.12,12H6.23a1.6,1.6,0,0,0-1.16.46,1.62,1.62,0,0,0-.48,1.16v4.05a1.64,1.64,0,0,0,1.64,1.64h6.89a1.6,1.6,0,0,0,1.16-.48,1.62,1.62,0,0,0,.47-1.16Zm-.94,4a.7.7,0,0,1-.2.49.65.65,0,0,1-.5.2H6.23a.66.66,0,0,1-.48-.2.75.75,0,0,1-.21-.49v-4a.74.74,0,0,1,.21-.5.66.66,0,0,1,.48-.2h6.89a.68.68,0,0,1,.7.7v4Zm6.15,0v-4a1.6,1.6,0,0,0-.48-1.16A1.67,1.67,0,0,0,18.32,12H17.1a1.63,1.63,0,0,0-1.16.47,1.61,1.61,0,0,0-.47,1.16v4a1.67,1.67,0,0,0,.47,1.16,1.62,1.62,0,0,0,1.16.48h1.22A1.64,1.64,0,0,0,20,17.68Zm-.94-4v4a.75.75,0,0,1-.21.49.62.62,0,0,1-.48.2H17.11a.69.69,0,0,1-.5-.2.7.7,0,0,1-.2-.49v-4a.68.68,0,0,1,.7-.7h1.22a.66.66,0,0,1,.48.2.72.72,0,0,1,.21.5Z" transform="translate(-4.44 -3.79)"/></g></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M14.15,11.63l5.61,5.61a1.29,1.29,0,0,1,.38.93,1.27,1.27,0,0,1-.4.93,1.25,1.25,0,0,1-.92.4,1.31,1.31,0,0,1-.94-.4l-5.61-5.61L6.67,19.1a1.31,1.31,0,0,1-.94.4,1.24,1.24,0,0,1-.92-.4,1.27,1.27,0,0,1-.4-.93,1.33,1.33,0,0,1,.38-.93l5.61-5.63L4.79,6a1.26,1.26,0,0,1-.38-.93,1.22,1.22,0,0,1,.4-.92,1.28,1.28,0,0,1,.92-.39,1.38,1.38,0,0,1,.94.38l5.61,5.61,5.61-5.61a1.33,1.33,0,0,1,.94-.38,1.26,1.26,0,0,1,.92.39,1.24,1.24,0,0,1,.4.92,1.29,1.29,0,0,1-.39.93L17,8.81l-2.8,2.82Z" transform="translate(-4.41 -3.76)"/></g></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.77"><g><path d="M8.77,8.72a.88.88,0,0,1-.61-.27.82.82,0,0,1-.25-.61.89.89,0,0,1,.25-.62A.82.82,0,0,1,8.77,7a.81.81,0,0,1,.61.25.83.83,0,0,1,.27.62.81.81,0,0,1-.25.61.91.91,0,0,1-.63.27Zm9.62-5a1.74,1.74,0,0,1,1.76,1.76V17.76a1.74,1.74,0,0,1-1.76,1.76H6.16A1.74,1.74,0,0,1,4.4,17.76V5.51A1.74,1.74,0,0,1,6.16,3.75H18.39Zm0,1.75H6.16v8L8.53,11.8a.94.94,0,0,1,.54-.17.86.86,0,0,1,.54.2L11.09,13l3.64-4.55a.78.78,0,0,1,.34-.25.85.85,0,0,1,.42-.07.89.89,0,0,1,.39.12.78.78,0,0,1,.28.29l2.24,3.67V5.51Zm0,12.24V15.6L15.3,10.53,11.89,14.8a.89.89,0,0,1-.59.32.82.82,0,0,1-.64-.18L9,13.62,6.16,15.74v2Z" transform="translate(-4.4 -3.75)"/></g></svg>',video:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.55"><g><path d="M20.15,10.26V18.9l-3.94-1.57v1.2H4.41V10.66H16.22v1.23l2-.81,2-.82ZM14.64,17h0V12.54h0v-.31H6V17h8.67Zm3.94-.37v-4l-2.37,1v2l1.18.48,1.19.48ZM7.94,9.86A2.77,2.77,0,0,1,5.19,7.11a2.76,2.76,0,0,1,5.51,0A2.78,2.78,0,0,1,7.94,9.86Zm0-3.93a1.21,1.21,0,0,0-.83.35,1.15,1.15,0,0,0-.34.84A1.09,1.09,0,0,0,7.11,8,1.15,1.15,0,0,0,8,8.28,1.13,1.13,0,0,0,9.11,7.12,1.16,1.16,0,0,0,7.94,5.93Zm5.9,3.93a2.34,2.34,0,0,1-1.67-.68,2.3,2.3,0,0,1-.68-1.67,2.35,2.35,0,0,1,4-1.67,2.37,2.37,0,0,1,0,3.34,2.33,2.33,0,0,1-1.68.68Zm0-3.14a.75.75,0,1,0,.55.22.73.73,0,0,0-.55-.22Z" transform="translate(-4.41 -4.35)"/></g></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M13.05,13.63a.24.24,0,0,1,.15.22L13.42,16a.19.19,0,0,1-.08.18l-2.12,2.14a4.08,4.08,0,0,1-1.29.85A4,4,0,0,1,4.71,17a3.92,3.92,0,0,1-.3-1.52A4,4,0,0,1,4.71,14a3.91,3.91,0,0,1,.87-1.3L7.7,10.56a.25.25,0,0,1,.2-.06l2.17.22a.21.21,0,0,1,.19.15.24.24,0,0,1,0,.25L7.12,14.23a1.81,1.81,0,0,0,0,2.58,1.78,1.78,0,0,0,1.29.52,1.74,1.74,0,0,0,1.28-.52L12.8,13.7a.24.24,0,0,1,.25-.07ZM19,4.92a4,4,0,0,1,0,5.66L16.86,12.7a.25.25,0,0,1-.17.08l-2.2-.23a.21.21,0,0,1-.19-.15.22.22,0,0,1,0-.25L17.44,9a1.81,1.81,0,0,0,0-2.58,1.78,1.78,0,0,0-1.29-.52,1.74,1.74,0,0,0-1.28.52L11.76,9.57a.21.21,0,0,1-.25,0,.24.24,0,0,1-.16-.21l-.22-2.17a.19.19,0,0,1,.08-.18l2.12-2.14a4.08,4.08,0,0,1,1.29-.85,4.05,4.05,0,0,1,3.06,0,3.85,3.85,0,0,1,1.3.85ZM5.84,9.82a.25.25,0,0,1-.18-.08.19.19,0,0,1-.07-.19l.11-.77a.2.2,0,0,1,.11-.17.24.24,0,0,1,.2,0l2.5.72a.25.25,0,0,1,.15.27.22.22,0,0,1-.23.21l-2.59,0Zm4.12-2-.73-2.5a.27.27,0,0,1,0-.2A.21.21,0,0,1,9.41,5L10.19,5a.25.25,0,0,1,.19,0,.23.23,0,0,1,.08.18l-.05,2.61a.2.2,0,0,1-.19.23h0A.22.22,0,0,1,10,7.85Zm8.76,5.58a.25.25,0,0,1,.18.08.23.23,0,0,1,.06.2l-.11.77a.25.25,0,0,1-.11.17.21.21,0,0,1-.12,0l-.08,0L16,14a.25.25,0,0,1-.15-.27.22.22,0,0,1,.22-.21l1.29,0,1.33,0Zm-4.12,2,.74,2.51a.28.28,0,0,1,0,.2.23.23,0,0,1-.18.11l-.8.11a.23.23,0,0,1-.17-.07.25.25,0,0,1-.08-.18l0-2.61a.22.22,0,0,1,.22-.22.21.21,0,0,1,.26.15Z" transform="translate(-4.41 -3.77)"/></g></svg>',math:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.81 15.73"><g><path d="M17.19,5.73a1,1,0,0,0,.71-.29,1,1,0,0,0,.28-.7,1,1,0,0,0-1-1H7.35a1,1,0,0,0-1,1,.77.77,0,0,0,.13.47h0l4.58,6.43L6.68,17.81a1.25,1.25,0,0,0-.29.71.94.94,0,0,0,.28.7.92.92,0,0,0,.69.28H17.2a1,1,0,0,0,.71-.28,1,1,0,0,0,0-1.39.92.92,0,0,0-.71-.29H9.26l3.87-5.43a.86.86,0,0,0,0-.95L9.26,5.73h7.93Z" transform="translate(-6.38 -3.77)"/></g></svg>',unlink:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.72"><g><path d="M19,18.32a4,4,0,0,0,0-5.68L15.85,9.5l-1.17,1.55L17.57,14a2,2,0,0,1,.61,1.47,2.08,2.08,0,0,1-2.09,2.09,2,2,0,0,1-1.47-.61l-.38-.37-1.74,1,.8.78a4,4,0,0,0,5.68,0ZM8,9.77a2,2,0,0,1-1.27-1,1.89,1.89,0,0,1-.21-1.57A2.1,2.1,0,0,1,7.45,6,2,2,0,0,1,9,5.76L12.27,7.2l.49-2L9.48,3.9a4,4,0,0,0-3.06.41A3.82,3.82,0,0,0,4.56,6.73a3.8,3.8,0,0,0,.4,3A3.78,3.78,0,0,0,7.39,11.6l5.38,2,.49-2-2.64-.94L8,9.77Z" transform="translate(-4.41 -3.76)"/></g></svg>',table_header:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M17,19.5v-.78H15.5v.78H17Zm-3,0v-.78H12.5v.78H14Zm-3,0v-.78H9.53v.78H11Zm-3,0v-.78H6.53v.78H8Zm10.55,0a1.73,1.73,0,0,0,.85-.35,1.67,1.67,0,0,0,.56-.76l-.71-.31a1.21,1.21,0,0,1-.35.4,1.34,1.34,0,0,1-.53.23l.08.38c.06.24.09.38.1.41Zm-13.7-.63.55-.55A.77.77,0,0,1,5.25,18a1.31,1.31,0,0,1-.06-.38v-.38H4.41v.38a2,2,0,0,0,.12.68,1.6,1.6,0,0,0,.35.57Zm15.27-2.12V15.26h-.78v1.49h.78Zm-15-1V14.23H4.41v1.49h.78Zm15-2V12.26h-.78v1.49h.78Zm-15-1V11.22H4.41v1.51h.78Zm15-2V9.26h-.78v1.51h.78Zm-15-1V8.17H4.41V9.74h.78Zm15-2V6.28h-.78V7.77h.78Zm-15-1.11V5.33L4.48,5.1a.77.77,0,0,0-.07.27,2.72,2.72,0,0,0,0,.28v1h.79ZM19.21,5l.63-.4A1.62,1.62,0,0,0,19.16,4a1.94,1.94,0,0,0-.91-.22v.78a1.31,1.31,0,0,1,.56.12.88.88,0,0,1,.4.36ZM6,4.54H7.78V3.76H6a.82.82,0,0,0-.28.06l.12.35c.07.21.1.33.11.36Zm10.8,0V3.76H15.28v.78h1.49Zm-3,0V3.76H12.28v.78h1.49Zm-3,0V3.76H9.28v.78h1.51ZM6,10.84h12.6V6.91H6Z" transform="translate(-4.4 -3.76)"/></g></svg>',merge_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 15.74"><g><path d="M18.92,13.5h1.23v4.15A1.84,1.84,0,0,1,18.3,19.5H14V18.27H18.3a.6.6,0,0,0,.44-.18.59.59,0,0,0,.18-.44V13.5ZM18.3,3.76a1.84,1.84,0,0,1,1.85,1.85V9.82H18.92V5.6a.6.6,0,0,0-.18-.44A.59.59,0,0,0,18.3,5H14V3.76H18.3Zm1.85,8.51H15.6L17.26,14l-.86.86-3.14-3.17L16.4,8.51l.86.86L15.62,11h4.54v1.24Zm-13.9,6h4.27V19.5H6.25A1.84,1.84,0,0,1,4.4,17.65V13.5H5.63v4.15a.61.61,0,0,0,.62.62Zm0-14.51h4.27V5H6.25a.6.6,0,0,0-.44.18.57.57,0,0,0-.17.43V9.81H4.41V5.6A1.83,1.83,0,0,1,6.25,3.76Zm5,7.9L8.15,14.83,7.3,14,9,12.27H4.41V11H8.94L7.3,9.38,7.73,9l.43-.43Z" transform="translate(-4.4 -3.76)"/></g></svg>',split_cell:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 15.74"><g><path d="M10.37,12.25H6.74L8.4,13.94l-.87.86L4.41,11.63,7.53,8.5l.87.86L6.74,11h3.62v1.23Zm9.78-.61L17,14.81,16.13,14l1.66-1.69H14.16V11h3.63L16.13,9.37l.43-.43A5.24,5.24,0,0,1,17,8.51ZM18.9,8.22V5.61a.57.57,0,0,0-.18-.43A.65.65,0,0,0,18.29,5H12.88V18.28h5.41a.7.7,0,0,0,.44-.18.57.57,0,0,0,.18-.43V15h1.23v2.64a1.84,1.84,0,0,1-1.85,1.83h-12A1.84,1.84,0,0,1,4.94,19a1.81,1.81,0,0,1-.54-1.29V15H5.63v2.64a.57.57,0,0,0,.18.43.67.67,0,0,0,.44.18h5.41V5H6.25a.7.7,0,0,0-.44.18.56.56,0,0,0-.17.43V8.22H4.41V5.61A1.8,1.8,0,0,1,5,4.31a1.91,1.91,0,0,1,1.31-.55h12a1.89,1.89,0,0,1,1.31.55,1.8,1.8,0,0,1,.54,1.3V8.23H18.9Z" transform="translate(-4.4 -3.76)"/></g></svg>',caption:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 13.79"><g><path d="M4.41,18.52H20.15v-2H4.41ZM20,4.73H18.07V6h.65v.65H20V4.73ZM17,6V4.73H14.55V6H17ZM13.49,6V4.73H11V6h2.47ZM10,6V4.73H7.5V6H10ZM5.79,6h.65V4.73H4.5V6.67H5.8V6ZM4.5,11.34H5.79V8.48H4.5ZM6.44,13.8H5.79v-.65H4.5v1.94H6.44ZM17,15.09V13.8H14.55v1.29H17Zm-3.52,0V13.8H11v1.29h2.47Zm-3.53,0V13.8H7.5v1.29H10ZM20,13.16H18.72v.65h-.65V15.1H20Zm-1.29-1.82H20V8.48h-1.3v2.86Z" transform="translate(-4.41 -4.73)"/></g></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.73"><g><path d="M7.51,5.68h6l1.52-1.57H6.94a2.4,2.4,0,0,0-1.79.82A2.8,2.8,0,0,0,4.41,6.8V17a2.55,2.55,0,0,0,.75,1.8A2.48,2.48,0,0,0,7,19.5H17.22a2.57,2.57,0,0,0,1.83-.74,2.52,2.52,0,0,0,.77-1.8V8.83l-1.58,1.54v6a1.54,1.54,0,0,1-1.53,1.53H7.51A1.54,1.54,0,0,1,6,16.41V7.21A1.52,1.52,0,0,1,7.51,5.68Zm5.63,7.47h0L10.7,10.74l-1,3.38,1.71-.48,1.7-.49Zm.34-.34h0l5.36-5.32L16.4,5.08,11,10.4l1.23,1.21,1.21,1.2ZM19.93,6.4a.82.82,0,0,0,.22-.48A.54.54,0,0,0,20,5.47L18.45,4A.67.67,0,0,0,18,3.77a.7.7,0,0,0-.48.21l-.74.72,2.44,2.43.37-.37.35-.36Z" transform="translate(-4.41 -3.77)"/></g></svg>',delete:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.74"><g><path d="M19.16,6.71a.94.94,0,0,0,.69-.28.91.91,0,0,0,.29-.68A1,1,0,0,0,19.85,5a.93.93,0,0,0-.69-.3H14.24A.94.94,0,0,0,14,4.06a.92.92,0,0,0-.7-.3h-2a1,1,0,0,0-.7.3.93.93,0,0,0-.28.68H5.39A.92.92,0,0,0,4.7,5a1,1,0,0,0-.29.71.91.91,0,0,0,.29.68,1,1,0,0,0,.69.28H19.16Zm-12.79,1a1,1,0,0,0-.7.3.94.94,0,0,0-.28.69v8.85A1.88,1.88,0,0,0,6,18.93a1.9,1.9,0,0,0,1.39.57H17.2a1.87,1.87,0,0,0,1.39-.58,1.91,1.91,0,0,0,.58-1.39V8.68A1,1,0,0,0,18.88,8a.89.89,0,0,0-.7-.29,1,1,0,0,0-.69.29.92.92,0,0,0-.29.68v7.87a1,1,0,0,1-1,1H8.34a.94.94,0,0,1-.69-.28,1,1,0,0,1-.29-.71V8.68a1,1,0,0,0-1-1Z" transform="translate(-4.41 -3.76)"/></g></svg>',modify:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.7 15.74"><g><path d="M19.79,15.23a.66.66,0,0,1,.3.38.59.59,0,0,1-.07.48l-.8,1.38a.66.66,0,0,1-.38.3.59.59,0,0,1-.48-.07l-.68-.38a4.55,4.55,0,0,1-1.34.77v.78a.64.64,0,0,1-.18.45.61.61,0,0,1-.45.18h-1.6a.6.6,0,0,1-.44-.18.66.66,0,0,1-.19-.45v-.78a4.36,4.36,0,0,1-1.32-.77l-.69.38a.58.58,0,0,1-.48.07.66.66,0,0,1-.38-.3l-.38-.66h.83a1.77,1.77,0,0,0,1.23-.52,1.72,1.72,0,0,0,.51-1.23v-.18a3,3,0,0,0,.49-.28l.15.09a1.83,1.83,0,0,0,.88.23A1.75,1.75,0,0,0,15.84,14l.88-1.52a1.7,1.7,0,0,0,.17-1.32,1.66,1.66,0,0,0-.3-.61,1.84,1.84,0,0,0-.51-.45l-.15-.09,0-.29,0-.28.15-.09a1,1,0,0,0,.26-.18l0,.06v.78a4.34,4.34,0,0,1,1.34.77l.68-.38a.68.68,0,0,1,.48-.06.64.64,0,0,1,.38.29l.8,1.38a.58.58,0,0,1,.07.48.63.63,0,0,1-.3.38l-.68.4a3.84,3.84,0,0,1,.08.76,4.13,4.13,0,0,1-.08.78l.34.18.32.2ZM10.17,7.86a1.9,1.9,0,0,1,1.35,3.23,1.85,1.85,0,0,1-1.35.55A1.9,1.9,0,0,1,8.83,8.41a1.92,1.92,0,0,1,1.34-.55Zm1.58,7.2a.73.73,0,0,1-.21.49.66.66,0,0,1-.48.2H9.29a.68.68,0,0,1-.69-.69V14.2a4.75,4.75,0,0,1-1.48-.86l-.75.45a.73.73,0,0,1-.7,0,.63.63,0,0,1-.25-.26L4.54,12a.67.67,0,0,1-.08-.53.71.71,0,0,1,.32-.42l.75-.43a4.8,4.8,0,0,1-.08-.85,4.71,4.71,0,0,1,.08-.85l-.74-.44a.71.71,0,0,1-.32-.42.65.65,0,0,1,.07-.54L5.42,6a.66.66,0,0,1,.42-.32l.18,0a.73.73,0,0,1,.35.09l.75.43A4.68,4.68,0,0,1,8.6,5.33V4.45a.68.68,0,0,1,.69-.69h1.77a.64.64,0,0,1,.48.2.73.73,0,0,1,.21.49v.88a4.75,4.75,0,0,1,1.48.85L14,5.75a.67.67,0,0,1,.34-.09l.18,0a.71.71,0,0,1,.42.32l.89,1.54a.67.67,0,0,1,.06.52.73.73,0,0,1-.32.43l-.75.42a4.8,4.8,0,0,1,.08.85,4.71,4.71,0,0,1-.08.85l.75.43a.66.66,0,0,1,.32.42.73.73,0,0,1-.06.54l-.89,1.52a.69.69,0,0,1-.25.26.7.7,0,0,1-.35.09.64.64,0,0,1-.34-.09l-.75-.45a4.87,4.87,0,0,1-1.48.86v.87ZM7.23,9.75a3,3,0,0,0,.86,2.08,2.94,2.94,0,1,0,4.16-4.16,3,3,0,0,0-2.08-.85A2.94,2.94,0,0,0,7.23,9.75Z" transform="translate(-4.44 -3.76)"/></g></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 14.69"><g><path d="M18.26,15V12.3l1.89-2V15a2.58,2.58,0,0,1-.24,1c-.2.58-.75.92-1.65,1H7.56v2L4.41,15.63,7.56,13v2h10.7ZM6.3,8.28V11L4.41,13V8.28a2.58,2.58,0,0,1,.24-1c.2-.58.75-.92,1.65-1H17v-2l3.15,3.34L17,10.3v-2H6.3Z" transform="translate(-4.4 -4.28)"/></g></svg>',auto_size:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 15.74"><g><path d="M6.71,17.19,6.89,16l1.21-.15A6,6,0,0,1,6.81,13.9a5.78,5.78,0,0,1-.45-2.27A6,6,0,0,1,8.1,7.45a5.83,5.83,0,0,1,4.17-1.73l1-1-1-1A7.89,7.89,0,0,0,5,14.64a7.73,7.73,0,0,0,1.71,2.55Zm5.57,2.31h0A7.86,7.86,0,0,0,17.85,6.07L17.67,7.3l-1.21.15a5.9,5.9,0,0,1,1.29,1.92,5.81,5.81,0,0,1,.45,2.26,5.91,5.91,0,0,1-5.9,5.9l-1,1,.49.49.47.5Z" transform="translate(-4.41 -3.76)"/></g></svg>',insert_row_below:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M15.7,1.3c-0.1-0.1-0.1-0.2-0.2-0.2L15.3,1H0.4L0.3,1.1c0,0-0.1,0.1-0.1,0.1c0,0-0.1,0.1-0.1,0.1L0,1.4v7.7l0.1,0.1c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h2.3V9.3l0.1-0.5L3,8.5l0.1-0.2c-0.1,0-0.2,0-0.3,0H1.2v-6h13.3v6h-1.6c-0.1,0-0.2,0-0.3,0l0.1,0.2l0.2,0.4C12.9,9,13,9.2,13,9.3v0.1h2.3l0.2-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1V1.4L15.7,1.3z"/><path d="M10.5,7.5C9.9,7.1,9.3,6.8,8.6,6.7c-0.2,0-0.5-0.1-0.7,0c-0.2,0-0.5,0-0.7,0C6.6,6.7,6.1,6.9,5.6,7.3C5.2,7.6,4.7,8,4.4,8.4C4.3,8.6,4.2,8.8,4.2,8.9C4.1,9.1,4,9.3,3.9,9.4C3.9,9.6,3.8,9.7,3.8,9.9c0,0.2-0.1,0.3-0.1,0.5v-0.1c-0.1,0.8,0.1,1.6,0.5,2.4c0.4,0.7,1,1.3,1.7,1.7c0.3,0.2,0.6,0.3,0.9,0.3c0.3,0.1,0.7,0.1,1,0.1c0.3,0,0.7,0,1-0.1c0.3-0.1,0.6-0.2,0.9-0.3c0.5-0.3,0.9-0.6,1.3-1c0.3-0.4,0.6-0.8,0.8-1.3c0.1-0.4,0.2-0.9,0.2-1.4c0-0.5-0.1-1-0.3-1.4C11.5,8.6,11.1,8,10.5,7.5z M10.1,11.3H8.5v1.6H8H7.9H7.3v0v-0.1v-1.4H5.7v-0.4v-0.2v-0.6h0h1.5V8.5h1.2v1.6h1.6V11.3z"/></g></svg>',insert_row_above:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.1,14.5c0.1,0.1,0.1,0.2,0.2,0.2l0.1,0.1h14.9l0.1-0.1c0,0,0.1-0.1,0.1-0.1c0,0,0.1-0.1,0.1-0.1l0.1-0.1V6.7l-0.1-0.1c0-0.1-0.1-0.1-0.2-0.2l-0.1-0.1h-2.3v0.1l-0.1,0.5l-0.2,0.4l-0.1,0.2c0.1,0,0.2,0,0.3,0h1.6v6H1.3v-6h1.6c0.1,0,0.2,0,0.3,0L3.1,7.3L2.9,6.9C2.8,6.8,2.8,6.6,2.7,6.5V6.3H0.4L0.3,6.4c-0.1,0-0.1,0.1-0.2,0.2L0,6.7v7.7L0.1,14.5z"/><path d="M5.3,8.3c0.6,0.5,1.2,0.8,1.9,0.9c0.2,0,0.5,0.1,0.7,0c0.2,0,0.5,0,0.7,0c0.6-0.1,1.1-0.3,1.6-0.6c0.5-0.3,0.9-0.7,1.2-1.2c0.1-0.2,0.2-0.3,0.3-0.5c0.1-0.2,0.2-0.4,0.2-0.5c0.1-0.1,0.1-0.3,0.1-0.4C12,5.8,12,5.6,12,5.4v0.1c0.1-0.8-0.1-1.6-0.5-2.4c-0.4-0.7-1-1.3-1.7-1.7C9.5,1.3,9.2,1.2,8.9,1.1C8.5,1,8.2,1,7.9,1c-0.3,0-0.7,0-1,0.1C6.6,1.2,6.3,1.3,6,1.4C5.5,1.7,5.1,2,4.7,2.4C4.4,2.8,4.1,3.3,3.9,3.8C3.8,4.2,3.7,4.7,3.7,5.2c0,0.5,0.1,1,0.3,1.4C4.3,7.2,4.7,7.8,5.3,8.3z M5.7,4.5h1.6V2.9h0.5h0.1h0.6v0v0.1v1.4H10v0.4v0.2v0.6h0H8.5v1.6H7.3V5.7H5.7V4.5z"/></g></svg>',insert_column_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M14.5,15.7c0.1-0.1,0.2-0.1,0.2-0.2l0.1-0.1V0.4l-0.1-0.1c0,0-0.1-0.1-0.1-0.1c0,0-0.1-0.1-0.1-0.1L14.4,0H6.7L6.6,0.1c-0.1,0-0.1,0.1-0.2,0.2L6.3,0.4v2.3h0.1l0.5,0.1L7.3,3l0.2,0.1c0-0.1,0-0.2,0-0.3V1.2h6v13.3h-6v-1.6c0-0.1,0-0.2,0-0.3l-0.2,0.1l-0.4,0.2C6.7,12.9,6.6,13,6.4,13H6.3v2.3l0.1,0.2c0,0.1,0.1,0.1,0.2,0.2l0.1,0.1h7.7L14.5,15.7z"/><path d="M8.3,10.5C8.7,10,9,9.3,9.1,8.6c0-0.2,0.1-0.5,0-0.7c0-0.2,0-0.5,0-0.7C9,6.7,8.8,6.1,8.5,5.7C8.2,5.2,7.8,4.8,7.3,4.5C7.2,4.4,7,4.3,6.9,4.2C6.7,4.1,6.5,4,6.4,4C6.2,3.9,6.1,3.9,5.9,3.8c-0.2,0-0.3-0.1-0.5-0.1h0.1C4.7,3.7,3.8,3.9,3.1,4.3C2.4,4.7,1.8,5.3,1.4,6C1.3,6.3,1.2,6.6,1.1,6.9C1,7.2,1,7.6,1,7.9c0,0.3,0,0.7,0.1,1c0.1,0.3,0.2,0.6,0.3,0.9c0.3,0.5,0.6,0.9,1,1.3c0.4,0.3,0.8,0.6,1.3,0.8C4.2,12,4.7,12.1,5.1,12c0.5,0,1-0.1,1.4-0.3C7.2,11.5,7.8,11.1,8.3,10.5zM4.5,10.1V8.5H2.9V8V7.9V7.3h0H3h1.4V5.7h0.4h0.2h0.6v0v1.5h1.6v1.2H5.7v1.6H4.5z"/></g></svg>',insert_column_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M1.3,0.1C1.2,0.2,1.1,0.2,1.1,0.3L1,0.4v14.9l0.1,0.1c0,0,0.1,0.1,0.1,0.1c0,0,0.1,0.1,0.1,0.1l0.1,0.1h7.7l0.1-0.1c0.1,0,0.1-0.1,0.2-0.2l0.1-0.1v-2.3H9.3l-0.5-0.1l-0.4-0.2l-0.2-0.1c0,0.1,0,0.2,0,0.3v1.6h-6V1.3h6v1.6c0,0.1,0,0.2,0,0.3l0.2-0.1l0.4-0.2C9,2.9,9.2,2.8,9.3,2.8h0.1V0.5L9.4,0.3c0-0.1-0.1-0.1-0.2-0.2L9.1,0H1.4L1.3,0.1z"/><path d="M7.5,5.3C7,5.8,6.7,6.5,6.6,7.2c0,0.2-0.1,0.5,0,0.7c0,0.2,0,0.5,0,0.7c0.1,0.6,0.3,1.1,0.6,1.6c0.3,0.5,0.7,0.9,1.2,1.2c0.2,0.1,0.3,0.2,0.5,0.3c0.2,0.1,0.4,0.2,0.5,0.2c0.1,0.1,0.3,0.1,0.4,0.1c0.2,0,0.3,0.1,0.5,0.1h-0.1c0.8,0.1,1.6-0.1,2.4-0.5c0.7-0.4,1.3-1,1.7-1.7c0.2-0.3,0.3-0.6,0.3-0.9c0.1-0.3,0.1-0.7,0.1-1c0-0.3,0-0.7-0.1-1c-0.1-0.3-0.2-0.6-0.3-0.9c-0.3-0.5-0.6-0.9-1-1.3C13,4.4,12.5,4.2,12,4c-0.4-0.1-0.9-0.2-1.4-0.2c-0.5,0-1,0.1-1.4,0.2C8.5,4.3,7.9,4.7,7.5,5.3z M11.3,5.7v1.6h1.6v0.5v0.1v0.6h0h-0.1h-1.4v1.6h-0.4h-0.2h-0.6v0V8.5H8.5V7.3h1.6V5.7H11.3z"/></g></svg>',delete_row:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 13.83"><g><path d="M4.7,18.46l.12.08H19.73l.12-.08a.58.58,0,0,0,.22-.22l.08-.12,0-7.69-.08-.11a.77.77,0,0,0-.18-.18l-.11-.08-2.31,0-.08.28-.1.29a1.58,1.58,0,0,1-.12.29l-.14.34s0,0,.18,0H18.9v6H5.64v-6H7.35c.14,0,.2,0,.18,0l-.14-.34a2.85,2.85,0,0,1-.12-.29l-.1-.29-.07-.27-2.31,0-.11.08a.77.77,0,0,0-.18.18l-.08.11,0,7.69.08.12a.47.47,0,0,0,.09.12l.13.09ZM12.11,13a4,4,0,0,0,1.46-.21,4.51,4.51,0,0,0,1.31-.71A4,4,0,0,0,16.26,10a4.32,4.32,0,0,0-.08-2.54,4.34,4.34,0,0,0-1-1.52,4.15,4.15,0,0,0-1.54-1,4.34,4.34,0,0,0-1.35-.22A4.07,4.07,0,0,0,11,4.93,3.94,3.94,0,0,0,9.24,6.07,3.92,3.92,0,0,0,8.15,8.88a3.91,3.91,0,0,0,.12.95A4.16,4.16,0,0,0,12.11,13Zm2.35-4.14v.58H10.09V8.27h4.37v.58Z" transform="translate(-4.4 -4.71)"/></g></svg>',delete_column:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13.81 15.74"><g><path d="M5.66,19.42l.12.08,7.69,0,.11-.08a.77.77,0,0,0,.18-.18l.08-.11,0-2.32-.15,0-.45-.15-.42-.18-.17-.07a1,1,0,0,0,0,.27v1.63h-6V5h6V6.62a.9.9,0,0,0,0,.26l.17-.07.42-.17a3.91,3.91,0,0,1,.45-.15l.15,0,0-2.32L13.75,4a.77.77,0,0,0-.18-.18l-.11-.08H5.79l-.13.07a.63.63,0,0,0-.21.22l-.08.12V19.08l.08.12a.47.47,0,0,0,.09.12.35.35,0,0,0,.12.1Zm9-3.67a4.16,4.16,0,0,0,2.36-.51,4.08,4.08,0,0,0,1.67-1.72,4,4,0,0,0,.35-.91,3.79,3.79,0,0,0,.1-1,4.71,4.71,0,0,0-.11-1,5,5,0,0,0-.3-.87,4.25,4.25,0,0,0-1-1.25,4.49,4.49,0,0,0-1.34-.81A4.26,4.26,0,0,0,15,7.48a3.88,3.88,0,0,0-1.41.25A4.32,4.32,0,0,0,11.86,9,4,4,0,0,0,11,10.94a4.4,4.4,0,0,0-.05.68,4.5,4.5,0,0,0,.05.68,3.93,3.93,0,0,0,.61,1.57,4.22,4.22,0,0,0,1.18,1.2,4.59,4.59,0,0,0,.48.27c.2.1.37.17.5.22a2.44,2.44,0,0,0,.45.12,4.61,4.61,0,0,0,.5.07Zm2.54-4.12v.58H12.87V11h4.37v.59Z" transform="translate(-5.37 -3.76)"/></g></svg>',fixed_column_width:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6,5H18A1,1 0 0,1 19,6A1,1 0 0,1 18,7H6A1,1 0 0,1 5,6A1,1 0 0,1 6,5M21,2V4H3V2H21M15,8H17V22H15V8M7,8H9V22H7V8M11,8H13V22H11V8Z" /></svg>',rotate_left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M0.5,10.2c0,0.1,0,0.2,0,0.3v0.2l0,0c0.1,0.3,0.3,0.6,0.4,0.9l0,0C1,11.8,1.3,12,1.5,11.9h0.1h0.2h0.1c0.1-0.1,0.3-0.3,0.4-0.5v-0.2c0-0.1,0-0.2-0.1-0.3l0,0c-0.2-0.2-0.3-0.4-0.3-0.7l0,0C1.8,10,1.7,9.9,1.5,9.8c-0.1,0-0.2,0-0.3,0H0.9C0.7,9.9,0.6,10,0.5,10.2L0.5,10.2z"/><path d="M2.2,11.5L2.2,11.5L2.2,11.5z"/><path d="M5.9,3.6L5.9,3.6L5.9,3.6z"/><path d="M0.1,7.9c0,0.3,0,0.6,0,0.9l0,0l0,0l0,0l0,0c0,0.2,0.1,0.3,0.2,0.4l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0l0,0c0.2,0,0.4-0.1,0.5-0.3l0,0c0-0.1,0.1-0.3,0.1-0.4V8.6l0,0c0-0.2,0-0.5,0-0.7l0,0c0-0.2-0.1-0.4-0.2-0.5C1.1,7.3,0.9,7.2,0.7,7.2S0.3,7.3,0.2,7.4C0.1,7.5,0,7.7,0.1,7.9z"/><path d="M1.9,12.7L1.9,12.7c0,0.2,0,0.4,0.2,0.5l0,0l0.2,0.3l0,0c0.2,0.1,0.3,0.2,0.5,0.4l0,0l0,0l0,0l0,0C2.9,14,3,14.1,3.2,14.1s0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5v-0.1c0-0.2-0.1-0.4-0.2-0.5l0,0l-0.4-0.4l-0.2-0.2l0,0C3,12.1,2.8,12,2.6,12l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0C2,12.3,1.9,12.5,1.9,12.7z"/><path d="M6.6,15c0,0.2,0.1,0.4,0.2,0.5c0.1,0.1,0.2,0.2,0.4,0.3l0,0c0.3,0,0.5,0,0.7,0h0.3l0,0c0.2,0,0.4-0.1,0.5-0.2c0.1-0.2,0.2-0.3,0.2-0.5l0,0l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0H7.9c-0.1,0-0.3,0-0.5,0l0,0H7.3c-0.2-0.1-0.3,0-0.5,0.1l0,0C6.7,14.6,6.6,14.8,6.6,15L6.6,15L6.6,15L6.6,15z"/><path d="M4.2,7.4C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.1,0.1,0.3,0.2,0.5,0.2s0.3-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0C11.5,7.3,11,6.7,10,5.8l0,0L8.4,4.2l0,0C8.3,4.1,8.1,4,7.9,4S7.5,4.1,7.4,4.2L4.2,7.4L4.2,7.4z M6.8,9L5.7,7.9l2.2-2.2l2.3,2.2l-2.3,2.2C7.7,9.9,7.3,9.5,6.8,9L6.8,9z"/><path d="M4.1,14.1C4,14.2,4,14.3,4,14.4v0.2l0,0c0.1,0.1,0.2,0.3,0.4,0.4l0,0c0.3,0.1,0.6,0.2,0.9,0.4h0.1h0.1l0,0c0.2,0,0.3-0.1,0.5-0.1l0,0c0.2-0.1,0.3-0.3,0.3-0.4l0,0l0,0l0,0l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3l0,0C6.1,14.2,6,14.1,5.8,14l0,0c-0.3-0.1-0.5-0.2-0.8-0.2l0,0c-0.1-0.1-0.2-0.1-0.3-0.1H4.5C4.3,13.7,4.2,13.9,4.1,14.1z"/><path d="M9.3,14.4c0,0.1-0.1,0.3,0,0.4V15l0,0c0,0.1,0.1,0.3,0.5,0.4c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1l0,0c0.3-0.1,0.6-0.2,0.9-0.3l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0.1-0.3c0-0.1-0.1-0.2-0.1-0.3l0,0c-0.1-0.2-0.2-0.3-0.4-0.4l0,0h-0.3c-0.1,0-0.2,0-0.3,0l0,0c-0.2,0.1-0.5,0.2-0.8,0.3l0,0C9.5,14.1,9.4,14.2,9.3,14.4L9.3,14.4z"/><path d="M11.4,14.7L11.4,14.7L11.4,14.7z"/><path d="M9.5,15.3L9.5,15.3L9.5,15.3z"/><path d="M15.9,7.9c0-1-0.2-2-0.6-3l0,0c-0.4-1-1-1.9-1.7-2.6C12.8,1.6,12,1,11,0.6l0,0C10.1,0.2,9,0,8,0C7.3,0,6.5,0.1,5.8,0.3l0,0C5.2,0.5,4.6,0.8,4,1.1L3.1,0.2l0,0C2.9,0.1,2.8,0,2.6,0H2.4l0,0C2.2,0,2,0.2,1.9,0.4l0,0L0.1,4.9l0,0C0,5,0,5.1,0,5.2c0,0.2,0.1,0.4,0.2,0.5l0,0c0.2,0.1,0.3,0.2,0.5,0.2h0.1H1l0,0l4.7-1.8l0,0C5.9,4,6.1,3.8,6.1,3.6V3.4C6.1,3.2,6,3,5.9,2.9l0,0L5.1,2.1c0.4-0.2,0.8-0.4,1.3-0.5c0.5-0.1,1.1-0.2,1.7-0.2c0.9,0,1.7,0.2,2.5,0.5l0,0c0.8,0.3,1.5,0.8,2.1,1.4c0.6,0.6,1.1,1.3,1.4,2.1l0,0c0.3,0.8,0.5,1.6,0.5,2.5s-0.2,1.7-0.5,2.5l0,0c-0.3,0.8-0.8,1.5-1.4,2.1c-0.2,0.2-0.4,0.3-0.6,0.5l0,0c-0.2,0.1-0.3,0.3-0.3,0.5v0.1c0,0.1,0,0.3,0.1,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0c0.1,0,0.3-0.1,0.4-0.2l0,0l0,0l0,0l0,0c0.2-0.2,0.5-0.4,0.7-0.6l0,0l0,0l0,0l0,0c0.7-0.8,1.3-1.6,1.7-2.6C15.6,10,15.8,9,15.9,7.9z M1.9,4C2,3.8,2.1,3.5,2.3,3.1l0,0L2.7,2l1.2,1.2L1.9,4z"/><path d="M6.8,15.5L6.8,15.5L6.8,15.5z"/></g></svg>',rotate_right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.8 15.8"><g><path d="M9.9,15.3L9.9,15.3L9.9,15.3z"/><path d="M6.9,15.1L6.9,15.1c0,0.1,0.1,0.3,0.2,0.4l0,0c0.1,0.2,0.3,0.3,0.5,0.3l0,0h0.3c0.2,0,0.4,0,0.7,0l0,0c0.2-0.1,0.3-0.2,0.4-0.3c0.1-0.1,0.2-0.2,0.2-0.4V15c0-0.2-0.1-0.4-0.2-0.4c-0.2-0.1-0.3-0.2-0.5-0.2H8.4l0,0c-0.1,0-0.3,0-0.5,0H7.6l0,0c-0.2,0-0.4,0.1-0.5,0.2C7,14.7,6.9,14.9,6.9,15.1z"/><path d="M6.5,14.4L6.5,14.4L6.5,14.4z"/><path d="M5.8,5.8L5.8,5.8c-1,0.9-1.5,1.5-1.7,1.6l0,0C4,7.5,4,7.7,4,7.9c0,0.2,0,0.4,0.2,0.5l0,0l3.2,3.2l0,0c0.2,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l3.2-3.2l0,0c0.1-0.1,0.2-0.3,0.2-0.5c0-0.2-0.1-0.4-0.2-0.5l0,0L8.4,4.2C8.3,4.1,8.1,4,7.9,4C7.7,4,7.5,4.1,7.4,4.2l0,0L5.8,5.8z M5.6,7.9l2.3-2.2l2.2,2.2L9,9l0,0l0,0l0,0l0,0c-0.5,0.6-0.9,0.9-1.1,1.1L5.6,7.9z"/><path d="M9,15.5L9,15.5L9,15.5z"/><path d="M9.6,14.7v0.2l0,0l0,0l0,0l0,0c0.1,0.2,0.1,0.3,0.3,0.3c0.1,0.1,0.3,0.1,0.4,0.1l0,0h0.1h0.1c0.3-0.1,0.6-0.3,0.9-0.4l0,0c0.1-0.1,0.2-0.2,0.3-0.4l0,0v-0.2c0-0.1,0-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4H11c-0.1,0-0.2,0.1-0.3,0.1l0,0c-0.2,0.1-0.4,0.2-0.7,0.3l0,0l0,0c-0.1,0.1-0.3,0.2-0.4,0.4C9.6,14.5,9.6,14.6,9.6,14.7z"/><path d="M9,14.5L9,14.5L9,14.5z"/><path d="M9.6,14.4L9.6,14.4L9.6,14.4z"/><path d="M11.7,14L11.7,14L11.7,14z"/><path d="M15.6,7.4L15.6,7.4L15.6,7.4z"/><path d="M15,9.4c0.2,0,0.4,0,0.6-0.2l0,0c0.1-0.1,0.2-0.2,0.2-0.4l0,0l0,0l0,0l0,0c0-0.3,0-0.6,0-0.9c0-0.2-0.1-0.4-0.2-0.5c-0.1-0.1-0.3-0.2-0.5-0.2s-0.4,0.1-0.5,0.2c-0.1,0.1-0.2,0.3-0.2,0.5l0,0c0,0.2,0,0.4,0,0.7l0,0v0.1c0,0.1,0,0.3,0.1,0.4l0,0C14.6,9.3,14.8,9.4,15,9.4L15,9.4L15,9.4z"/><path d="M14,12h0.1h0.2h0.1c0.2,0,0.5-0.2,0.6-0.4l0,0c0.2-0.3,0.3-0.6,0.4-0.9l0,0v-0.2c0-0.1-0.1-0.2-0.1-0.3c-0.1-0.2-0.2-0.3-0.4-0.4h-0.3c-0.1,0-0.2,0-0.3,0C14.2,9.9,14,10,14,10.3l0,0c-0.1,0.2-0.2,0.5-0.3,0.7l0,0c-0.1,0.1-0.1,0.2-0.1,0.3v0.2l0,0l0,0C13.6,11.6,13.8,11.8,14,12z"/><path d="M14.6,7.4L14.6,7.4L14.6,7.4z"/><path d="M4.4,14.2c-0.1,0.1-0.1,0.2-0.1,0.3l0.1,0.2c0,0.2,0.2,0.3,0.3,0.4l0,0c0.3,0.1,0.6,0.3,1.1,0.4l0,0h0.1l0,0c0.1,0,0.2-0.1,0.4-0.2c0.1,0,0.2-0.2,0.3-0.3l0,0v-0.2c0-0.1-0.1-0.3-0.2-0.4c-0.1-0.1-0.2-0.2-0.4-0.3l0,0c-0.2-0.1-0.5-0.2-0.7-0.3l0,0c-0.1,0-0.2,0-0.3,0H4.7l0,0C4.6,13.9,4.4,14,4.4,14.2L4.4,14.2z"/><path d="M11.9,13.3c0,0.2,0.1,0.4,0.2,0.6c0.1,0.1,0.3,0.2,0.5,0.2s0.4-0.1,0.5-0.2l0,0l0,0l0,0l0,0c0.1-0.1,0.3-0.3,0.4-0.4l0,0l0.2-0.3l0,0c0.1-0.2,0.2-0.3,0.2-0.5l0,0c0-0.2-0.1-0.4-0.2-0.5l0,0c-0.1-0.1-0.3-0.2-0.5-0.2l0,0c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.2,0.2l-0.4,0.4l0,0C12,13,11.9,13.1,11.9,13.3L11.9,13.3z"/><path d="M12.1,13.8L12.1,13.8L12.1,13.8z"/><path d="M11.9,13.3L11.9,13.3L11.9,13.3z"/><path d="M15.9,5.2c0-0.1-0.1-0.2-0.1-0.3l0,0L14,0.4l0,0C13.9,0.2,13.7,0,13.5,0l0,0l0,0h-0.2c-0.2,0-0.4,0.1-0.5,0.2l0,0l-0.9,0.9c-0.5-0.3-1.1-0.6-1.8-0.8l0,0C9.4,0.1,8.7,0,7.9,0c-1,0-2,0.2-3,0.6S3,1.6,2.3,2.3C1.6,3.1,1,3.9,0.6,4.9l0,0C0.2,5.8,0,6.8,0,7.9c0,1,0.2,2,0.6,3s0.9,1.8,1.7,2.6l0,0l0,0l0,0l0,0c0.2,0.2,0.5,0.4,0.7,0.6l0,0l0,0l0,0l0,0c0.2,0.1,0.3,0.2,0.5,0.2l0,0c0.2,0,0.4-0.1,0.6-0.3l0,0c0.1-0.1,0.1-0.3,0.1-0.4v-0.1l0,0C4.1,13.3,4,13.1,3.9,13l0,0c-0.2-0.1-0.4-0.3-0.6-0.5c-0.6-0.6-1.1-1.3-1.4-2.1l0,0C1.6,9.6,1.4,8.8,1.4,7.9s0.2-1.7,0.5-2.5l0,0c0.3-0.8,0.8-1.5,1.4-2.1c0.6-0.6,1.3-1.1,2.1-1.4l0,0C6.2,1.6,7,1.4,7.9,1.4c0.6,0,1.1,0.1,1.7,0.2c0.5,0.1,0.9,0.3,1.3,0.5l-0.8,0.8l0,0C10,3.1,9.9,3.2,9.9,3.4v0.2l0,0l0,0c0,0.2,0.2,0.4,0.4,0.5l0,0l4.5,1.8l0,0H15h0.1c0.2,0,0.4-0.1,0.5-0.2l0,0C15.7,5.6,15.8,5.4,15.9,5.2z M11.8,3.2L13,2l0.4,1.1l0,0c0.2,0.4,0.3,0.7,0.4,0.9L11.8,3.2z"/></g></svg>',mirror_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 14.75 15.74"><g><path d="M13.75,3.76l5.9,15.74h-5.9V3.76ZM4.9,19.5,10.8,3.76V19.5H4.9Z" transform="translate(-4.9 -3.76)"/></g></svg>',mirror_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.74 14.75"><g><path d="M20.15,13.1,4.41,19V13.1H20.15ZM4.41,4.25l15.74,5.9H4.41V4.25Z" transform="translate(-4.41 -4.25)"/></g></svg>',checked:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.75 12.1"><g><path d="M4.59,12.23l.12.18L9.43,17.5a.58.58,0,0,0,.84,0L20,7.45h0a.58.58,0,0,0,0-.84l-.85-.85a.58.58,0,0,0-.84,0H18.2l-8.12,8.41a.29.29,0,0,1-.42,0l-3.4-3.63a.58.58,0,0,0-.84,0l-.85.85a.6.6,0,0,0-.14.21.51.51,0,0,0,0,.44c.05.06.1.13.16.19Z" transform="translate(-4.38 -5.58)"/></g></svg>',line_break:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6a1,1,0,0,0-1,1v4a1,1,0,0,1-1,1H7.41l1.3-1.29A1,1,0,0,0,7.29,9.29l-3,3a1,1,0,0,0-.21.33,1,1,0,0,0,0,.76,1,1,0,0,0,.21.33l3,3a1,1,0,0,0,1.42,0,1,1,0,0,0,0-1.42L7.41,14H17a3,3,0,0,0,3-3V7A1,1,0,0,0,19,6Z"/></svg>',audio:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z" /></svg>',image_gallery:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="30 30 150 150"><g><path d="M152.775,120.548V51.651c0-12.271-9.984-22.254-22.254-22.254H43.727c-12.271,0-22.254,9.983-22.254,22.254v68.896c0,12.27,9.983,22.254,22.254,22.254h86.795C142.791,142.802,152.775,132.817,152.775,120.548z M36.394,51.651c0-4.042,3.291-7.333,7.333-7.333h86.795c4.042,0,7.332,3.291,7.332,7.333v23.917l-14.938-17.767c-1.41-1.678-3.487-2.649-5.68-2.658h-0.029c-2.184,0-4.255,0.954-5.674,2.613L76.709,98.519l-9.096-9.398c-1.427-1.474-3.392-2.291-5.448-2.273c-2.052,0.025-4.004,0.893-5.396,2.4L36.394,111.32V51.651z M41.684,127.585l20.697-22.416l9.312,9.622c1.461,1.511,3.489,2.334,5.592,2.27c2.101-0.066,4.075-1.013,5.44-2.612l34.436-40.308l20.693,24.613v21.794c0,4.042-3.29,7.332-7.332,7.332H43.727C43.018,127.88,42.334,127.775,41.684,127.585z M182.616,152.5V75.657c0-4.12-3.34-7.46-7.461-7.46c-4.119,0-7.46,3.34-7.46,7.46V152.5c0,4.112-3.347,7.46-7.461,7.46h-94c-4.119,0-7.46,3.339-7.46,7.459c0,4.123,3.341,7.462,7.46,7.462h94C172.576,174.881,182.616,164.841,182.616,152.5z"/></g></svg>',bookmark:'<svg viewBox="0 0 24 24"><path d="M17,3H7A2,2 0 0,0 5,5V21L12,18L19,21V5C19,3.89 18.1,3 17,3Z" /></svg>',download:'<svg viewBox="0 0 24 24"><path d="M2 12H4V17H20V12H22V17C22 18.11 21.11 19 20 19H4C2.9 19 2 18.11 2 17V12M12 15L17.55 9.54L16.13 8.13L13 11.25V2H11V11.25L7.88 8.13L6.46 9.55L12 15Z" /></svg>',dir_ltr:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2H9C6.79 2 5 3.79 5 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zm0 12v3H5v2h12v3l4-4-4-4z"/></svg>',dir_rtl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M10 4v4c-1.1 0-2-.9-2-2s.9-2 2-2m8-2h-8C7.79 2 6 3.79 6 6s1.79 4 4 4v5h2V4h2v11h2V4h2V2zM8 14l-4 4 4 4v-3h12v-2H8v-3z"/></svg>',alert_outline:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z" /></svg>',more_text:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M49.711,142.188h49.027c2.328,0.002,4.394,1.492,5.129,3.699l9.742,29.252c0.363,1.092,1.385,1.828,2.537,1.83l15.883,0.01c0.859,0,1.667-0.412,2.17-1.109s0.641-1.594,0.37-2.41l-16.625-50.045L86.503,28.953c-0.36-1.097-1.383-1.839-2.537-1.842H64.532c-1.153-0.001-2.178,0.736-2.542,1.831L13.847,173.457c-0.271,0.816-0.135,1.713,0.369,2.412c0.503,0.697,1.311,1.109,2.171,1.109h15.872c1.151,0,2.173-0.736,2.537-1.828l9.793-29.287C45.325,143.66,47.39,142.18,49.711,142.188L49.711,142.188z M53.493,119.098l15.607-46.9c0.744-2.196,2.806-3.674,5.125-3.674s4.381,1.478,5.125,3.674l15.607,46.904c0.537,1.621,0.263,3.402-0.736,4.789c-1.018,1.408-2.649,2.24-4.386,2.24H58.615c-1.736,0-3.368-0.832-4.386-2.24C53.23,122.504,52.956,120.721,53.493,119.098L53.493,119.098z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_paragraph:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="10 10 180 180"><g><path d="M128.39,28.499H63.493c-25.558,0-46.354,20.796-46.354,46.354c0,25.559,20.796,46.353,46.354,46.353h9.271v55.625h18.542V47.04h9.271V176.83h18.543V47.04h9.271V28.499z M72.764,102.664h-9.271c-15.337,0-27.813-12.475-27.813-27.812c0-15.336,12.476-27.813,27.813-27.813h9.271V102.664z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.633,190.465,66.178,190.465,63.32L190.465,63.32z M190.465,101.994c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.887,1.026,5.352,3.056,7.395c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.994L190.465,101.994z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_plus:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="35 30 140 140"><g><path d="M137.215,102.045c0,3.498-2.835,6.332-6.333,6.332H24.549c-3.498,0-6.334-2.834-6.334-6.332l0,0c0-3.498,2.836-6.333,6.334-6.333h106.333C134.38,95.711,137.215,98.547,137.215,102.045L137.215,102.045z M77.715,161.545c-3.498,0-6.333-2.836-6.333-6.334V48.878c0-3.498,2.836-6.333,6.333-6.333l0,0c3.498,0,6.334,2.835,6.334,6.333v106.333C84.049,158.709,81.213,161.545,77.715,161.545L77.715,161.545z M190.465,63.32c0-2.919-1.015-5.396-3.059-7.428c-2.029-2.031-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.016-7.388,3.047c-2.029,2.032-3.056,4.498-3.056,7.386c0,2.889,1.026,5.354,3.056,7.385c2.032,2.032,4.499,3.059,7.388,3.059c2.887,0,5.354-1.026,7.383-3.059C189.45,68.632,190.465,66.177,190.465,63.32L190.465,63.32z M190.465,101.993c0-2.858-1.015-5.313-3.059-7.333c-2.029-2.042-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.005-7.388,3.047c-2.029,2.021-3.056,4.486-3.056,7.376c0,2.888,1.026,5.353,3.056,7.396c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,107.389,190.465,104.914,190.465,101.993L190.465,101.993z M190.465,140.76c0-2.918-1.015-5.395-3.059-7.438c-2.029-2.041-4.496-3.047-7.383-3.047c-2.889,0-5.355,1.006-7.388,3.047c-2.029,2.043-3.056,4.52-3.056,7.438c0,2.922,1.026,5.398,3.056,7.439c2.032,2.021,4.499,3.047,7.388,3.047c2.887,0,5.354-1.025,7.383-3.047C189.45,146.158,190.465,143.682,190.465,140.76L190.465,140.76z"/></g></svg>',more_horizontal:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.76 3.58"><g><path d="M4.64,10.73a1.84,1.84,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0A1.79,1.79,0,0,1,8,11.63a1.84,1.84,0,0,1-.25.9,1.69,1.69,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2.08,2.08,0,0,1,4.64,10.73Zm6.09,0a1.84,1.84,0,0,1,.65-.65,1.78,1.78,0,0,1,2.67,1.55,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.76,1.76,0,0,1-1.79,0,1.79,1.79,0,0,1-.64-2.44Zm6.08,0a1.69,1.69,0,0,1,.65-.65,1.76,1.76,0,0,1,1.79,0,1.79,1.79,0,0,1,.9,1.54,1.73,1.73,0,0,1-.24.9,1.84,1.84,0,0,1-.65.65,1.8,1.8,0,0,1-2.69-1.55A2,2,0,0,1,16.81,10.73Z" transform="translate(-4.39 -9.84)"/></g></svg>',more_vertical:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 3.94 15.75"><g><path d="M12.28,7.69a1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,2,2,0,0,1,1.39-.58,1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58Zm0,2a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39A1.92,1.92,0,0,1,13.67,13a2,2,0,0,1-1.39.58A1.92,1.92,0,0,1,10.89,13a2,2,0,0,1-.58-1.39,2,2,0,0,1,2-2Zm0,5.9a1.92,1.92,0,0,1,1.39.58,2,2,0,0,1,.58,1.39,1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39,1.92,1.92,0,0,1,.58-1.39,1.94,1.94,0,0,1,1.39-.58Z" transform="translate(-10.31 -3.75)"/></g></svg>',attachment:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8.38 15.68"><g><path d="M15.23,6h1v9.78a3.88,3.88,0,0,1-1.31,2.45,4,4,0,0,1-6.57-2.45V7A3,3,0,0,1,9.2,4.89a3,3,0,0,1,5,2.09v8.31a1.92,1.92,0,0,1-.58,1.39,2,2,0,0,1-1.39.58,1.92,1.92,0,0,1-1.39-.58,2,2,0,0,1-.58-1.39V8h1v7.32a1,1,0,0,0,.29.69,1,1,0,0,0,.69.28A.9.9,0,0,0,13,16a1,1,0,0,0,.29-.69V7a1.92,1.92,0,0,0-.58-1.39A2,2,0,0,0,11.27,5a1.92,1.92,0,0,0-1.39.58A2,2,0,0,0,9.33,7v8.31a3,3,0,1,0,5.9,0V6Z" transform="translate(-8.08 -3.78)"/></g></svg>',map:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11.7 15.62"><g><path d="M12.05,12.42a2.93,2.93,0,1,1,2.07-5A2.88,2.88,0,0,1,15,9.49a3,3,0,0,1-.86,2.07,2.89,2.89,0,0,1-2.07.86Zm0-5.36a2.43,2.43,0,0,0-1.72,4.16,2.48,2.48,0,0,0,1.72.72,2.44,2.44,0,0,0,0-4.88Zm0-3.3A5.84,5.84,0,0,1,17.9,9.62a9.94,9.94,0,0,1-1.73,5A33.59,33.59,0,0,1,12.84,19a1.52,1.52,0,0,1-.23.2,1,1,0,0,1-.55.2h0a1,1,0,0,1-.55-.2,1.52,1.52,0,0,1-.23-.2,33.59,33.59,0,0,1-3.33-4.32,9.93,9.93,0,0,1-1.72-5,5.84,5.84,0,0,1,5.85-5.86ZM12,18.34l.08.05.06-.06a35.58,35.58,0,0,0,3.06-3.93,9.35,9.35,0,0,0,1.74-4.77,4.88,4.88,0,0,0-4.88-4.88A4.79,4.79,0,0,0,8.6,6.17,4.84,4.84,0,0,0,7.17,9.62,9.29,9.29,0,0,0,8.91,14.4,36,36,0,0,0,12,18.34Z" transform="translate(-6.2 -3.76)"/></g></svg>',magic_stick:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.73 15.75"><g><path d="M19.86,19.21a1,1,0,0,0,.28-.68,1,1,0,0,0-.28-.7L13,10.93a1,1,0,0,0-.7-.28,1,1,0,0,0-.68,1.65l6.9,6.9a1,1,0,0,0,.69.29.93.93,0,0,0,.69-.28ZM9.19,8.55a3,3,0,0,0,1.68,0,14.12,14.12,0,0,0,1.41-.32A11.26,11.26,0,0,0,10.8,7.06c-.56-.36-.86-.56-.91-.58S10,5.91,10,5.11s0-1.26-.15-1.37a4.35,4.35,0,0,0-1.19.71c-.53.4-.81.62-.87.68a9,9,0,0,0-2-.6,6.84,6.84,0,0,0-.76-.09s0,.27.08.77a8.6,8.6,0,0,0,.61,2q-.09.09-.69.87a3.59,3.59,0,0,0-.68,1.17c.12.17.57.23,1.36.15S7,9.26,7.15,9.23s.21.36.57.91a10.49,10.49,0,0,0,1.14,1.48c0-.1.14-.57.31-1.4a3,3,0,0,0,0-1.67Z" transform="translate(-4.41 -3.74)"/></g></svg>',empty_file:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12.78 15.75"><g><path d="M14.73,3.76,18.67,7.7v9.84a2,2,0,0,1-2,2H7.84a1.89,1.89,0,0,1-1.38-.58,2,2,0,0,1-.57-1.39V5.73a1.93,1.93,0,0,1,.57-1.38,2,2,0,0,1,1.38-.58h6.62l.26,0v0Zm2.95,4.92h-2a1.93,1.93,0,0,1-1.38-.57,2,2,0,0,1-.58-1.4V6.17c0-.36,0-.84,0-1.43H7.85a1,1,0,0,0-.7.29,1,1,0,0,0-.29.7V17.54a1,1,0,0,0,.29.69,1,1,0,0,0,.69.29h8.85a1,1,0,0,0,.71-.29.92.92,0,0,0,.28-.69Zm0-1L14.73,4.74v2A1,1,0,0,0,15,7.4a1,1,0,0,0,.69.29Z" transform="translate(-5.89 -3.76)"/></g></svg>'};var Xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function T0(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),i}var Cs={exports:{}},L0=Cs.exports,Qa;function A0(){return Qa||(Qa=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:L0,function(e,i){const n={code:"en",toolbar:{default:"Default",save:"Save",font:"Font",formats:"Formats",fontSize:"Size",bold:"Bold",underline:"Underline",italic:"Italic",strike:"Strike",subscript:"Subscript",superscript:"Superscript",removeFormat:"Remove Format",fontColor:"Font Color",hiliteColor:"Highlight Color",indent:"Indent",outdent:"Outdent",align:"Align",alignLeft:"Align left",alignRight:"Align right",alignCenter:"Align center",alignJustify:"Align justify",list:"List",orderList:"Ordered list",unorderList:"Unordered list",horizontalRule:"Horizontal line",hr_solid:"Solid",hr_dotted:"Dotted",hr_dashed:"Dashed",table:"Table",link:"Link",math:"Math",image:"Image",video:"Video",audio:"Audio",fullScreen:"Full screen",showBlocks:"Show blocks",codeView:"Code view",undo:"Undo",redo:"Redo",preview:"Preview",print:"print",tag_p:"Paragraph",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Quote",tag_pre:"Code",template:"Template",lineHeight:"Line height",paragraphStyle:"Paragraph style",textStyle:"Text style",imageGallery:"Image gallery",dir_ltr:"Left to right",dir_rtl:"Right to left",mention:"Mention"},dialogBox:{linkBox:{title:"Insert Link",url:"URL to link",text:"Text to display",newWindowCheck:"Open in new window",downloadLinkCheck:"Download link",bookmark:"Bookmark"},mathBox:{title:"Math",inputLabel:"Mathematical Notation",fontSizeLabel:"Font Size",previewLabel:"Preview"},imageBox:{title:"Insert image",file:"Select from files",url:"Image URL",altText:"Alternative text"},videoBox:{title:"Insert Video",file:"Select from files",url:"Media embed URL, YouTube/Vimeo"},audioBox:{title:"Insert Audio",file:"Select from files",url:"Audio URL"},browser:{tags:"Tags",search:"Search"},caption:"Insert description",close:"Close",submitButton:"Submit",revertButton:"Revert",proportion:"Constrain proportions",basic:"Basic",left:"Left",right:"Right",center:"Center",width:"Width",height:"Height",size:"Size",ratio:"Ratio"},controller:{edit:"Edit",unlink:"Unlink",remove:"Remove",insertRowAbove:"Insert row above",insertRowBelow:"Insert row below",deleteRow:"Delete row",insertColumnBefore:"Insert column before",insertColumnAfter:"Insert column after",deleteColumn:"Delete column",fixedColumnWidth:"Fixed column width",resize100:"Resize 100%",resize75:"Resize 75%",resize50:"Resize 50%",resize25:"Resize 25%",autoSize:"Auto size",mirrorHorizontal:"Mirror, Horizontal",mirrorVertical:"Mirror, Vertical",rotateLeft:"Rotate left",rotateRight:"Rotate right",maxSize:"Max size",minSize:"Min size",tableHeader:"Table header",mergeCells:"Merge cells",splitCells:"Split Cells",HorizontalSplit:"Horizontal split",VerticalSplit:"Vertical split"},menu:{spaced:"Spaced",bordered:"Bordered",neon:"Neon",translucent:"Translucent",shadow:"Shadow",code:"Code"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"en",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(Cs)),Cs.exports}var k0=A0();const N0=ci(k0),ce={_d:null,_w:null,isIE:null,isIE_Edge:null,isOSX_IOS:null,isChromium:null,isMobile:null,isResizeObserverSupported:null,_propertiesInit:function(){this._d||(this._d=document,this._w=window,this.isIE=navigator.userAgent.indexOf("Trident")>-1,this.isIE_Edge=navigator.userAgent.indexOf("Trident")>-1||navigator.appVersion.indexOf("Edge")>-1,this.isOSX_IOS=/(Mac|iPhone|iPod|iPad)/.test(navigator.platform),this.isChromium=!!window.chrome,this.isResizeObserverSupported=typeof ResizeObserver=="function",this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"ontouchstart"in window)},_allowedEmptyNodeList:".se-component, pre, blockquote, hr, li, table, img, iframe, video, audio, canvas",_HTMLConvertor:function(t){const e={"&":"&amp;","":"&nbsp;","'":"&apos;",'"':"&quot;","<":"&lt;",">":"&gt;"};return t.replace(/&|\u00A0|'|"|<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},zeroWidthSpace:"",zeroWidthRegExp:new RegExp("","g"),onlyZeroWidthRegExp:new RegExp("^+$"),fontValueMap:{"xx-small":1,"x-small":2,small:3,medium:4,large:5,"x-large":6,"xx-large":7},onlyZeroWidthSpace:function(t){return t==null?!1:(typeof t!="string"&&(t=t.textContent),t===""||this.onlyZeroWidthRegExp.test(t))},getXMLHttpRequest:function(){if(this._w.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch{return null}}else return this._w.XMLHttpRequest?new XMLHttpRequest:null},getValues:function(t){return t?this._w.Object.keys(t).map(function(e){return t[e]}):[]},camelToKebabCase:function(t){return typeof t=="string"?t.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}):t.map(function(e){return ce.camelToKebabCase(e)})},kebabToCamelCase:function(t){return typeof t=="string"?t.replace(/-[a-zA-Z]/g,function(e){return e.replace("-","").toUpperCase()}):t.map(function(e){return ce.camelToKebabCase(e)})},createElement:function(t){return this._d.createElement(t)},createTextNode:function(t){return this._d.createTextNode(t||"")},HTMLEncoder:function(t){const e={"<":"$lt;",">":"$gt;"};return t.replace(/<|>/g,function(i){return typeof e[i]=="string"?e[i]:i})},HTMLDecoder:function(t){const e={"$lt;":"<","$gt;":">"};return t.replace(/\$lt;|\$gt;/g,function(i){return typeof e[i]=="string"?e[i]:i})},hasOwn:function(t,e){return this._hasOwn.call(t,e)},_hasOwn:Object.prototype.hasOwnProperty,getIncludePath:function(t,e){let i="";const n=[],s=e==="js"?"script":"link",o=e==="js"?"src":"href";let a="(?:";for(let f=0,u=t.length;f<u;f++)a+=t[f]+(f<u-1?"|":")");const d=new this._w.RegExp("(^|.*[\\/])"+a+"(\\.[^\\/]+)?."+e+"(?:\\?.*|;.*)?$","i"),l=new this._w.RegExp(".+\\."+e+"(?:\\?.*|;.*)?$","i");for(let f=this._d.getElementsByTagName(s),u=0;u<f.length;u++)l.test(f[u][o])&&n.push(f[u]);for(let f=0;f<n.length;f++){let u=n[f][o].match(d);if(u){i=u[0];break}}if(i===""&&(i=n.length>0?n[0][o]:""),i.indexOf(":/")===-1&&i.slice(0,2)!=="//"&&(i=i.indexOf("/")===0?location.href.match(/^.*?:\/\/[^\/]*/)[0]+i:location.href.match(/^[^\?]*\/(?:)/)[0]+i),!i)throw"[SUNEDITOR.util.getIncludePath.fail] The SUNEDITOR installation path could not be automatically detected. (name: +"+name+", extension: "+e+")";return i},getPageStyle:function(t){let e="";const i=(t||this._d).styleSheets;for(let n=0,s=i.length,o;n<s;n++){try{o=i[n].cssRules}catch{continue}if(o)for(let a=0,d=o.length;a<d;a++)e+=o[a].cssText}return e},getIframeDocument:function(t){let e=t.contentWindow||t.contentDocument;return e.document&&(e=e.document),e},getAttributesToString:function(t,e){if(!t.attributes)return"";const i=t.attributes;let n="";for(let s=0,o=i.length;s<o;s++)e&&e.indexOf(i[s].name)>-1||(n+=i[s].name+'="'+i[s].value+'" ');return n},getByteLength:function(t){if(!t||!t.toString)return 0;t=t.toString();const e=this._w.encodeURIComponent;let i,n;return this.isIE_Edge?(n=this._w.unescape(e(t)).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i):(n=new this._w.TextEncoder("utf-8").encode(t).length,i=0,e(t).match(/(%0A|%0D)/gi)!==null&&(i=e(t).match(/(%0A|%0D)/gi).length),n+i)},isWysiwygDiv:function(t){return t&&t.nodeType===1&&(this.hasClass(t,"se-wrapper-wysiwyg")||/^BODY$/i.test(t.nodeName))},isNonEditable:function(t){return t&&t.nodeType===1&&t.getAttribute("contenteditable")==="false"},isTextStyleElement:function(t){return t&&t.nodeType!==3&&/^(strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)$/i.test(t.nodeName)},isInputElement:function(t){return t&&t.nodeType===1&&/^(INPUT|TEXTAREA)$/i.test(t.nodeName)},isFormatElement:function(t){return t&&t.nodeType===1&&(/^(P|DIV|H[1-6]|PRE|LI|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__replace_.+(\\s|$)|(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(BLOCKQUOTE|OL|UL|FIGCAPTION|TABLE|THEAD|TBODY|TR|TH|TD|DETAILS)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range_.+(\\s|$)"))},isClosureRangeFormatElement:function(t){return t&&t.nodeType===1&&(/^(TH|TD)$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__range__closure_.+(\\s|$)"))},isFreeFormatElement:function(t){return t&&t.nodeType===1&&(/^PRE$/i.test(t.nodeName)||this.hasClass(t,"(\\s|^)__se__format__free_.+(\\s|$)"))&&!this.isComponent(t)&&!this.isWysiwygDiv(t)},isClosureFreeFormatElement:function(t){return t&&t.nodeType===1&&this.hasClass(t,"(\\s|^)__se__format__free__closure_.+(\\s|$)")},isComponent:function(t){return t&&(/se-component/.test(t.className)||/^(TABLE|HR)$/.test(t.nodeName))},isUneditableComponent:function(t){return t&&this.hasClass(t,"__se__uneditable")},isMediaComponent:function(t){return t&&/se-component/.test(t.className)},isNotCheckingNode:function(t){return t&&/katex|__se__tag/.test(t.className)},getFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&t.firstElementChild,this.isFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getRangeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isRangeFormatElement(t)&&!/^(THEAD|TBODY|TR)$/i.test(t.nodeName)&&e(t))return t;t=t.parentNode}return null},getFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},getClosureFreeFormatElement:function(t,e){if(!t)return null;for(e||(e=function(){return!0});t;){if(this.isWysiwygDiv(t))return null;if(this.isClosureFreeFormatElement(t)&&e(t))return t;t=t.parentNode}return null},copyTagAttributes:function(t,e,i){if(e.style.cssText){const s=e.style;for(let o=0,a=s.length;o<a;o++)t.style[s[o]]=s[s[o]]}const n=e.attributes;for(let s=0,o=n.length,a;s<o;s++)a=n[s].name.toLowerCase(),i&&i.indexOf(a)>-1||!n[s].value?t.removeAttribute(a):a!=="style"&&t.setAttribute(n[s].name,n[s].value)},copyFormatAttributes:function(t,e){e=e.cloneNode(!1),e.className=e.className.replace(/(\s|^)__se__format__[^\s]+/g,""),this.copyTagAttributes(t,e)},getArrayItem:function(t,e,i){if(!t||t.length===0)return null;e=e||function(){return!0};const n=[];for(let s=0,o=t.length,a;s<o;s++)if(a=t[s],e(a))if(i)n.push(a);else return a;return i?n:null},arrayIncludes:function(t,e){for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},getArrayIndex:function(t,e){let i=-1;for(let n=0,s=t.length;n<s;n++)if(t[n]===e){i=n;break}return i},nextIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i+1},prevIdx:function(t,e){let i=this.getArrayIndex(t,e);return i===-1?-1:i-1},getPositionIndex:function(t){let e=0;for(;t=t.previousSibling;)e+=1;return e},getNodePath:function(t,e,i){const n=[];let s=!0;return this.getParentElement(t,(function(o){if(o===e&&(s=!1),s&&!this.isWysiwygDiv(o)){if(i&&o.nodeType===3){let a=null,d=null;i.s=i.e=0;let l=o.previousSibling;for(;l&&l.nodeType===3;)d=l.textContent.replace(this.zeroWidthRegExp,""),i.s+=d.length,o.textContent=d+o.textContent,a=l,l=l.previousSibling,this.removeItem(a);let f=o.nextSibling;for(;f&&f.nodeType===3;)d=f.textContent.replace(this.zeroWidthRegExp,""),i.e+=d.length,o.textContent+=d,a=f,f=f.nextSibling,this.removeItem(a)}n.push(o)}return!1}).bind(this)),n.map(this.getPositionIndex).reverse()},getNodeFromPath:function(t,e){let i=e,n;for(let s=0,o=t.length;s<o&&(n=i.childNodes,n.length!==0);s++)n.length<=t[s]?i=n[n.length-1]:i=n[t[s]];return i},isSameAttributes:function(t,e){if(t.nodeType===3&&e.nodeType===3)return!0;if(t.nodeType===3||e.nodeType===3)return!1;const i=t.style,n=e.style;let s=0;for(let f=0,u=i.length;f<u;f++)i[i[f]]===n[i[f]]&&s++;const o=t.classList,a=e.classList,d=this._w.RegExp;let l=0;for(let f=0,u=o.length;f<u;f++)d("(s|^)"+o[f]+"(s|$)").test(a.value)&&l++;return s===n.length&&s===i.length&&l===a.length&&l===o.length},isEmptyLine:function(t){return!t||!t.parentNode||!t.querySelector("IMG, IFRAME, AUDIO, VIDEO, CANVAS, TABLE")&&t.children.length===0&&this.onlyZeroWidthSpace(t.textContent)},isSpanWithoutAttr:function(t){return!!t&&t.nodeType===1&&/^SPAN$/i.test(t.nodeName)&&!t.className&&!t.style.cssText},isList:function(t){return t&&/^(OL|UL)$/i.test(typeof t=="string"?t:t.nodeName)},isListCell:function(t){return t&&/^LI$/i.test(typeof t=="string"?t:t.nodeName)},isTable:function(t){return t&&/^(TABLE|THEAD|TBODY|TR|TH|TD)$/i.test(typeof t=="string"?t:t.nodeName)},isCell:function(t){return t&&/^(TD|TH)$/i.test(typeof t=="string"?t:t.nodeName)},isBreak:function(t){return t&&/^BR$/i.test(typeof t=="string"?t:t.nodeName)},isAnchor:function(t){return t&&/^A$/i.test(typeof t=="string"?t:t.nodeName)},isMedia:function(t){return t&&/^(IMG|IFRAME|AUDIO|VIDEO|CANVAS)$/i.test(typeof t=="string"?t:t.nodeName)},isFigures:function(t){return t&&(this.isMedia(t)||/^(FIGURE)$/i.test(typeof t=="string"?t:t.nodeName))},isNumber:function(t){return!!t&&/^-?\d+(\.\d+)?$/.test(t+"")},getNumber:function(t,e){if(!t)return 0;let i=(t+"").match(/-?\d+(\.\d+)?/);return!i||!i[0]?0:(i=i[0],e<0?i*1:e===0?this._w.Math.round(i*1):(i*1).toFixed(e)*1)},getListChildren:function(t,e){const i=[];return!t||!t.children||t.children.length===0||(e=e||function(){return!0},(function n(s){if(t!==s&&e(s)&&i.push(s),s.children)for(let o=0,a=s.children.length;o<a;o++)n(s.children[o])})(t)),i},getListChildNodes:function(t,e){const i=[];return!t||t.childNodes.length===0||(e=e||function(){return!0},(function n(s){t!==s&&e(s)&&i.push(s);for(let o=0,a=s.childNodes.length;o<a;o++)n(s.childNodes[o])})(t)),i},getElementDepth:function(t){if(!t||this.isWysiwygDiv(t))return-1;let e=0;for(t=t.parentNode;t&&!this.isWysiwygDiv(t);)e+=1,t=t.parentNode;return e},compareElements:function(t,e){let i=t,n=e;for(;i&&n&&i.parentNode!==n.parentNode;)i=i.parentNode,n=n.parentNode;if(!i||!n)return{ancestor:null,a:t,b:e,result:0};const s=i.parentNode.childNodes,o=this.getArrayIndex(s,i),a=this.getArrayIndex(s,n);return{ancestor:i.parentNode,a:i,b:n,result:o>a?1:o<a?-1:0}},getParentElement:function(t,e){let i;if(typeof e=="function")i=e;else{let n;/^\./.test(e)?(n="className",e=e.split(".")[1]):/^#/.test(e)?(n="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(n="name",e="^"+e.split(":")[1]+"$"):(n="nodeName",e="^"+e+"$");const s=new this._w.RegExp(e,"i");i=function(o){return s.test(o[n])}}for(;t&&!i(t);){if(this.isWysiwygDiv(t))return null;t=t.parentNode}return t},getPreviousDeepestNode:function(t,e){let i=t.previousSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.previousSibling){i=n.previousSibling;break}}if(!i)return null}for(;i.lastChild;)i=i.lastChild;return i},getNextDeepestNode:function(t,e){let i=t.nextSibling;if(!i){for(let n=t.parentNode;n;n=n.parentNode){if(n===e)return null;if(n.nextSibling){i=n.nextSibling;break}}if(!i)return null}for(;i.firstChild;)i=i.firstChild;return i},getChildElement:function(t,e,i){let n;if(typeof e=="function")n=e;else{let o;/^\./.test(e)?(o="className",e=e.split(".")[1]):/^#/.test(e)?(o="id",e="^"+e.split("#")[1]+"$"):/^:/.test(e)?(o="name",e="^"+e.split(":")[1]+"$"):(o="nodeName",e="^"+(e==="text"?"#"+e:e)+"$");const a=new this._w.RegExp(e,"i");n=function(d){return a.test(d[o])}}const s=this.getListChildNodes(t,function(o){return n(o)});return s[i?s.length-1:0]},getEdgeChildNodes:function(t,e){if(t){for(e||(e=t);t&&t.nodeType===1&&t.childNodes.length>0&&!this.isBreak(t);)t=t.firstChild;for(;e&&e.nodeType===1&&e.childNodes.length>0&&!this.isBreak(e);)e=e.lastChild;return{sc:t,ec:e||t}}},getOffset:function(t,e){let i=0,n=0,s=t.nodeType===3?t.parentElement:t;const o=this.getParentElement(t,this.isWysiwygDiv.bind(this));for(;s&&!this.hasClass(s,"se-container")&&s!==o;)i+=s.offsetLeft,n+=s.offsetTop,s=s.offsetParent;const a=e&&/iframe/i.test(e.nodeName);return{left:i+(a?e.parentElement.offsetLeft:0),top:n-(o?o.scrollTop:0)+(a?e.parentElement.offsetTop:0)}},getOverlapRangeAtIndex:function(t,e,i,n){if(t<=n?e<i:e>i)return 0;const s=(t>i?t:i)-(e<n?e:n);return(s<0?s*-1:s)+1},changeTxt:function(t,e){!t||!e||(t.textContent=e)},changeElement:function(t,e){if(typeof e=="string")if(t.outerHTML)t.outerHTML=e;else{const i=this.createElement("DIV");i.innerHTML=e,e=i.firstChild,t.parentNode.replaceChild(e,t)}else e.nodeType===1&&t.parentNode.replaceChild(e,t)},setStyle:function(t,e,i){t.style[e]=i,!i&&!t.style.cssText&&t.removeAttribute("style")},hasClass:function(t,e){if(t)return new this._w.RegExp(e).test(t.className)},addClass:function(t,e){!t||new this._w.RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)||(t.className+=(t.className.length>0?" ":"")+e)},removeClass:function(t,e){if(!t)return;const i=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim(),t.className.trim()||t.removeAttribute("class")},toggleClass:function(t,e){if(!t)return;let i=!1;const n=new this._w.RegExp("(\\s|^)"+e+"(\\s|$)");return n.test(t.className)?t.className=t.className.replace(n," ").trim():(t.className+=" "+e,i=!0),t.className.trim()||t.removeAttribute("class"),i},isImportantDisabled:function(t){return t.hasAttribute("data-important-disabled")},setDisabledButtons:function(t,e,i){for(let n=0,s=e.length;n<s;n++){let o=e[n];(i||!this.isImportantDisabled(o))&&(o.disabled=t),i&&(t?o.setAttribute("data-important-disabled",""):o.removeAttribute("data-important-disabled"))}},removeItem:function(t){t&&(typeof t.remove=="function"?t.remove():t.parentNode&&t.parentNode.removeChild(t))},removeItemAllParents:function(t,e,i){if(!t)return null;let n=null;return e||(e=(function(s){if(s===i||this.isComponent(s))return!1;const o=s.textContent.trim();return o.length===0||/^(\n|\u200B)+$/.test(o)}).bind(this)),(function s(o){if(!ce.isWysiwygDiv(o)){const a=o.parentNode;a&&e(o)&&(n={sc:o.previousElementSibling,ec:o.nextElementSibling},ce.removeItem(o),s(a))}})(t),n},detachNestedList:function(t,e){const i=this._deleteNestedList(t);let n,s;if(i){n=i.cloneNode(!1),s=i.childNodes;const a=this.getPositionIndex(t);for(;s[a];)n.appendChild(s[a])}else n=t;let o;if(e)o=this.getListChildren(n,(function(a){return this.isListCell(a)&&!a.previousElementSibling}).bind(this));else{const a=this.getElementDepth(t)+2;o=this.getListChildren(t,(function(d){return this.isListCell(d)&&!d.previousElementSibling&&this.getElementDepth(d)===a}).bind(this))}for(let a=0,d=o.length;a<d;a++)this._deleteNestedList(o[a]);return i&&(i.parentNode.insertBefore(n,i.nextSibling),s&&s.length===0&&this.removeItem(i)),n===t?n.parentNode:n},_deleteNestedList:function(t){const e=t.parentNode;let i=e,n=i.parentNode,s,o,a,d,l;for(;this.isListCell(n);){for(d=this.getPositionIndex(t),s=n.nextElementSibling,o=n.parentNode,a=i;a;){if(i=i.nextSibling,this.isList(a)){for(l=a.childNodes;l[d];)o.insertBefore(l[d],s);l.length===0&&this.removeItem(a)}else o.appendChild(a);a=i}i=o,n=o.parentNode}return e.children.length===0&&this.removeItem(e),o},splitElement:function(t,e,i){if(this.isWysiwygDiv(t))return t;if(e&&!this.isNumber(e)){const C=t.childNodes;let w=this.getPositionIndex(e);const E=t.cloneNode(!1),T=t.cloneNode(!1);for(let r=0,c=C.length;r<c;r++){if(r<w)E.appendChild(C[r]);else if(r>w)T.appendChild(C[r]);else continue;r--,c--,w--}return E.childNodes.length>0&&t.parentNode.insertBefore(E,t),T.childNodes.length>0&&t.parentNode.insertBefore(T,t.nextElementSibling),t}const n=t.parentNode;let s=0,o=1,a=!0,d,l,f;if((!i||i<0)&&(i=0),t.nodeType===3){if(s=this.getPositionIndex(t),e>=0&&t.length!==e){t.splitText(e);const C=this.getNodeFromPath([s+1],n);this.onlyZeroWidthSpace(C)&&(C.data=this.zeroWidthSpace)}}else if(t.nodeType===1){if(e===0){for(;t.firstChild;)t=t.firstChild;if(t.nodeType===3){const C=this.createTextNode(this.zeroWidthSpace);t.parentNode.insertBefore(C,t),t=C}}t.previousSibling?t=t.previousSibling:this.getElementDepth(t)===i&&(a=!1)}t.nodeType===1&&(o=0);let u=t;for(;this.getElementDepth(u)>i;)for(s=this.getPositionIndex(u)+o,u=u.parentNode,f=d,d=u.cloneNode(!1),l=u.childNodes,f&&(this.isListCell(d)&&this.isList(f)&&f.firstElementChild?(d.innerHTML=f.firstElementChild.innerHTML,ce.removeItem(f.firstElementChild),f.children.length>0&&d.appendChild(f)):d.appendChild(f));l[s];)d.appendChild(l[s]);u.childNodes.length<=1&&(!u.firstChild||u.firstChild.textContent.length===0)&&(u.innerHTML="<br>");const p=u.parentNode;return a&&(u=u.nextSibling),d?(this.mergeSameTags(d,null,!1),this.mergeNestedTags(d,(function(C){return this.isList(C)}).bind(this)),d.childNodes.length>0?p.insertBefore(d,u):d=u,this.isListCell(d)&&d.children&&this.isList(d.children[0])&&d.insertBefore(this.createElement("BR"),d.children[0]),n.childNodes.length===0&&this.removeItem(n),d):u},mergeSameTags:function(t,e,i){const n=this,s=e?e.length:0;let o=null;return s&&(o=this._w.Array.apply(null,new this._w.Array(s)).map(this._w.Number.prototype.valueOf,0)),(function a(d,l,f){const u=d.childNodes;for(let p=0,C=u.length,w,E;p<C&&(w=u[p],E=u[p+1],!!w);p++)if(!(n.isBreak(w)||n.isMedia(w)||n.isInputElement(w))){if(i&&n._isIgnoreNodeChange(w)||!i&&(n.isTable(w)||n.isListCell(w)||n.isFormatElement(w)&&!n.isFreeFormatElement(w))){(n.isTable(w)||n.isListCell(w))&&a(w,l+1,p);continue}if(C===1&&d.nodeName===w.nodeName&&d.parentNode){if(s){let T,r,c,h,m;for(let g=0;g<s;g++)if(T=e[g],T&&T[l]===p){for(r=w,c=d,h=l,m=!0;h>=0;){if(n.getArrayIndex(c.childNodes,r)!==T[h]){m=!1;break}r=w.parentNode,c=r.parentNode,h--}m&&(T.splice(l,1),T[l]=p)}}n.copyTagAttributes(w,d),d.parentNode.insertBefore(w,d),n.removeItem(d)}if(!E){w.nodeType===1&&a(w,l+1,p);break}if(w.nodeName===E.nodeName&&n.isSameAttributes(w,E)&&w.href===E.href){const T=w.childNodes;let r=0;for(let g=0,b=T.length;g<b;g++)T[g].textContent.length>0&&r++;const c=w.lastChild,h=E.firstChild;let m=0;if(c&&h){const g=c.nodeType===3&&h.nodeType===3;m=c.textContent.length;let b=c.previousSibling;for(;b&&b.nodeType===3;)m+=b.textContent.length,b=b.previousSibling;if(r>0&&c.nodeType===3&&h.nodeType===3&&(c.textContent.length>0||h.textContent.length>0)&&r--,s){let v=null;for(let y=0;y<s;y++)if(v=e[y],v&&v[l]>p){if(l>0&&v[l-1]!==f)continue;v[l]-=1,v[l+1]>=0&&v[l]===p&&(v[l+1]+=r,g&&c&&c.nodeType===3&&h&&h.nodeType===3&&(o[y]+=m))}}}if(w.nodeType===3){if(m=w.textContent.length,w.textContent+=E.textContent,s){let g=null;for(let b=0;b<s;b++)if(g=e[b],g&&g[l]>p){if(l>0&&g[l-1]!==f)continue;g[l]-=1,g[l+1]>=0&&g[l]===p&&(g[l+1]+=r,o[b]+=m)}}}else w.innerHTML+=E.innerHTML;n.removeItem(E),p--}else w.nodeType===1&&a(w,l+1,p)}})(t,0,0),o},mergeNestedTags:function(t,e){typeof e=="string"?e=(function(i){return this.test(i.tagName)}).bind(new this._w.RegExp("^("+(e||".+")+")$","i")):typeof e!="function"&&(e=function(){return!0}),(function i(n){let s=n.children;if(s.length===1&&s[0].nodeName===n.nodeName&&e(n)){const o=s[0];for(s=o.children;s[0];)n.appendChild(s[0]);n.removeChild(o)}for(let o=0,a=n.children.length;o<a;o++)i(n.children[o])})(t)},removeEmptyNode:function(t,e,i){const n=this;e&&(e=n.getParentElement(e,function(s){return t===s.parentElement})),(function s(o){if(n._notTextNode(o)||o===e||n.isNonEditable(o))return 0;if(o!==t&&n.onlyZeroWidthSpace(o.textContent)&&(!o.firstChild||!n.isBreak(o.firstChild))&&!o.querySelector(n._allowedEmptyNodeList)){if(o.parentNode)return o.parentNode.removeChild(o),-1}else{const a=o.children;for(let d=0,l=a.length,f=0;d<l;d++)!a[d+f]||n.isComponent(a[d+f])||(f+=s(a[d+f]))}return 0})(t),t.childNodes.length===0&&(i?this.removeItem(t):t.innerHTML="<br>")},htmlRemoveWhiteSpace:function(t){return t?t.trim().replace(/<\/?(?!strong|span|font|b|var|i|em|u|ins|s|strike|del|sub|sup|mark|a|label|code|summary)[^>^<]+>\s+(?=<)/ig,function(e){return e.replace(/\n/g,"").replace(/\s+/," ")}):""},htmlCompress:function(t){return t.replace(/\n/g,"").replace(/>\s+</g,"> <")},sortByDepth:function(t,e){const i=e?1:-1,n=i*-1;t.sort((function(s,o){return!this.isListCell(s)||!this.isListCell(o)?0:(s=this.getElementDepth(s),o=this.getElementDepth(o),s>o?i:s<o?n:0)}).bind(this))},escapeStringRegexp:function(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},_isExcludeSelectionElement:function(t){return!/FIGCAPTION/i.test(t.nodeName)&&(this.isComponent(t)||/FIGURE/i.test(t.nodeName))},_isIgnoreNodeChange:function(t){return t&&t.nodeType!==3&&(this.isNonEditable(t)||!this.isTextStyleElement(t))},_isMaintainedNode:function(t){return t&&t.nodeType!==3&&/^(a|label|code|summary)$/i.test(typeof t=="string"?t:t.nodeName)},_isSizeNode:function(t){return t&&t.nodeType!==3&&this.isTextStyleElement(t)&&!!t.style.fontSize},_notTextNode:function(t){return t&&t.nodeType!==3&&(this.isComponent(t)||/^(br|input|select|canvas|img|iframe|audio|video)$/i.test(typeof t=="string"?t:t.nodeName))},_disallowedTags:function(t){return/^(meta|script|link|style|[a-z]+\:[a-z]+)$/i.test(t.nodeName)},createTagsWhitelist:function(t){return new RegExp("<\\/?\\b(?!\\b"+(t||"").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},createTagsBlacklist:function(t){return new RegExp("<\\/?\\b(?:\\b"+(t||"^").replace(/\|/g,"\\b|\\b")+"\\b)[^>]*>","gi")},_consistencyCheckOfHTML:function(t,e,i,n,s){const o=[],a=[],d=[],l=[],f=this.getListChildNodes(t,(function(p){if(p.nodeType!==1)return this.isList(p.parentElement)&&o.push(p),!1;if(i.test(p.nodeName)||!e.test(p.nodeName)&&p.childNodes.length===0&&this.isNotCheckingNode(p))return o.push(p),!1;const C=!this.getParentElement(p,this.isNotCheckingNode);if(!this.isTable(p)&&!this.isListCell(p)&&!this.isAnchor(p)&&(this.isFormatElement(p)||this.isRangeFormatElement(p)||this.isTextStyleElement(p))&&p.childNodes.length===0&&C)return a.push(p),!1;if(this.isList(p.parentNode)&&!this.isList(p)&&!this.isListCell(p))return d.push(p),!1;if(this.isCell(p)){const E=p.firstElementChild;if(!this.isFormatElement(E)&&!this.isRangeFormatElement(E)&&!this.isComponent(E))return l.push(p),!1}if(C&&p.className){const E=new this._w.Array(p.classList).map(n).join(" ").trim();E?p.className=E:p.removeAttribute("class")}return s&&p.parentNode!==t&&C&&(this.isListCell(p)&&!this.isList(p.parentNode)||(this.isFormatElement(p)||this.isComponent(p))&&!this.isRangeFormatElement(p.parentNode)&&!this.getParentElement(p,this.isComponent))}).bind(this));for(let p=0,C=o.length;p<C;p++)this.removeItem(o[p]);const u=[];for(let p=0,C=f.length,w,E;p<C;p++)if(w=f[p],E=w.parentNode,!(!E||!E.parentNode))if(this.getParentElement(w,this.isListCell)){const T=w.childNodes;for(let r=T.length-1;C>=0;r--)E.insertBefore(w,T[r]);u.push(w)}else E.parentNode.insertBefore(w,E),u.push(E);for(let p=0,C=u.length,w;p<C;p++)w=u[p],this.onlyZeroWidthSpace(w.textContent.trim())&&this.removeItem(w);for(let p=0,C=a.length;p<C;p++)this.removeItem(a[p]);for(let p=0,C=d.length,w,E,T,r;p<C;p++)if(w=d[p],r=w.parentNode,!!r)if(E=this.createElement("LI"),this.isFormatElement(w)){for(T=w.childNodes;T[0];)E.appendChild(T[0]);r.insertBefore(E,w),this.removeItem(w)}else w=w.nextSibling,E.appendChild(d[p]),r.insertBefore(E,w);for(let p=0,C=l.length,w,E;p<C;p++)w=l[p],E=this.createElement("DIV"),E.innerHTML=w.textContent.trim().length===0&&w.children.length===0?"<br>":w.innerHTML,w.innerHTML=E.outerHTML},_setDefaultOptionStyle:function(t,e){let i="";t.height&&(i+="height:"+t.height+";"),t.minHeight&&(i+="min-height:"+t.minHeight+";"),t.maxHeight&&(i+="max-height:"+t.maxHeight+";"),t.position&&(i+="position:"+t.position+";"),t.width&&(i+="width:"+t.width+";"),t.minWidth&&(i+="min-width:"+t.minWidth+";"),t.maxWidth&&(i+="max-width:"+t.maxWidth+";");let n="",s="",o="";e=i+e;const a=e.split(";");for(let d=0,l=a.length,f;d<l;d++)if(f=a[d].trim(),!!f){if(/^(min-|max-)?width\s*:/.test(f)||/^(z-index|position)\s*:/.test(f)){n+=f+";";continue}if(/^(min-|max-)?height\s*:/.test(f)){/^height/.test(f)&&f.split(":")[1].trim()==="auto"&&(t.height="auto"),s+=f+";";continue}o+=f+";"}return{top:n,frame:s,editor:o}},_setIframeDocument:function(t,e){t.setAttribute("scrolling","auto"),t.contentDocument.head.innerHTML='<meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">'+this._setIframeCssTags(e),t.contentDocument.body.className=e._editableClass,t.contentDocument.body.setAttribute("contenteditable",!0),t.contentDocument.body.setAttribute("autocorrect","off")},_setIframeCssTags:function(t){const e=t.iframeCSSFileName,i=this._w.RegExp;let n="";for(let s=0,o=e.length,a;s<o;s++){if(a=[],/(^https?:\/\/)|(^data:text\/css,)/.test(e[s]))a.push(e[s]);else{const d=new i("(^|.*[\\/])"+e[s]+"(\\..+)?\\.css(?:\\?.*|;.*)?$","i");for(let l=document.getElementsByTagName("link"),f=0,u=l.length,p;f<u;f++)p=l[f].href.match(d),p&&a.push(p[0])}if(!a||a.length===0)throw'[SUNEDITOR.constructor.iframe.fail] The suneditor CSS files installation path could not be automatically detected. Please set the option property "iframeCSSFileName" before creating editor instances.';for(let d=0,l=a.length;d<l;d++)n+='<link href="'+a[d]+'" rel="stylesheet">'}return n+(t.height==="auto"?`<style>
/** Iframe height auto */
body{height: min-content; overflow: hidden;}
</style>`:"")}},dr={init:function(t,e){typeof e!="object"&&(e={});const i=document;this._initOptions(t,e);const n=i.createElement("DIV");n.className="sun-editor"+(e.rtl?" se-rtl":""),t.id&&(n.id="suneditor_"+t.id);const s=i.createElement("DIV");s.className="se-container";const o=this._createToolBar(i,e.buttonList,e.plugins,e),a=o.element.cloneNode(!1);a.className+=" se-toolbar-shadow",o.element.style.visibility="hidden",o.pluginCallButtons.math&&this._checkKatexMath(e.katex);const d=i.createElement("DIV");d.className="se-arrow";const l=i.createElement("DIV");l.className="se-toolbar-sticky-dummy";const f=i.createElement("DIV");f.className="se-wrapper";const u=this._initElements(e,n,o.element,d),p=u.bottomBar,C=u.wysiwygFrame,w=u.placeholder;let E=u.codeView;const T=p.resizingBar,r=p.navigation,c=p.charWrapper,h=p.charCounter,m=i.createElement("DIV");m.className="se-loading-box sun-editor-common",m.innerHTML='<div class="se-loading-effect"></div>';const g=i.createElement("DIV");g.className="se-line-breaker",g.innerHTML='<button class="se-btn">'+e.icons.line_break+"</button>";const b=i.createElement("DIV");b.className+="se-line-breaker-component";const v=b.cloneNode(!0);b.innerHTML=v.innerHTML=e.icons.line_break;const y=i.createElement("DIV");y.className="se-resizing-back";const S=i.createElement("INPUT");S.tabIndex=-1,S.style.cssText="position: fixed !important; top: -10000px !important; display: block !important; width: 0 !important; height: 0 !important; margin: 0 !important; padding: 0 !important;";const _=e.toolbarContainer;_&&(_.appendChild(o.element),_.appendChild(a));const x=e.resizingBarContainer;return T&&x&&x.appendChild(T),f.appendChild(E),w&&f.appendChild(w),_||(s.appendChild(o.element),s.appendChild(a)),s.appendChild(l),s.appendChild(f),s.appendChild(y),s.appendChild(m),s.appendChild(g),s.appendChild(b),s.appendChild(v),s.appendChild(S),T&&!x&&s.appendChild(T),n.appendChild(s),E=this._checkCodeMirror(e,E),{constructed:{_top:n,_relative:s,_toolBar:o.element,_toolbarShadow:a,_menuTray:o._menuTray,_editorArea:f,_wysiwygArea:C,_codeArea:E,_placeholder:w,_resizingBar:T,_navigation:r,_charWrapper:c,_charCounter:h,_loading:m,_lineBreaker:g,_lineBreaker_t:b,_lineBreaker_b:v,_resizeBack:y,_stickyDummy:l,_arrow:d,_focusTemp:S},options:e,plugins:o.plugins,pluginCallButtons:o.pluginCallButtons,_responsiveButtons:o.responsiveButtons}},_checkCodeMirror:function(t,e){if(t.codeMirror){const i=[{mode:"htmlmixed",htmlMode:!0,lineNumbers:!0,lineWrapping:!0},t.codeMirror.options||{}].reduce(function(s,o){for(let a in o)ce.hasOwn(o,a)&&(s[a]=o[a]);return s},{});t.height==="auto"&&(i.viewportMargin=1/0,i.height="auto");const n=t.codeMirror.src.fromTextArea(e,i);n.display.wrapper.style.cssText=e.style.cssText,t.codeMirrorEditor=n,e=n.display.wrapper,e.className+=" se-wrapper-code-mirror"}return e},_checkKatexMath:function(t){if(!t)throw Error('[SUNEDITOR.create.fail] To use the math button you need to add a "katex" object to the options.');const e=[{throwOnError:!1},t.options||{}].reduce(function(i,n){for(let s in n)ce.hasOwn(n,s)&&(i[s]=n[s]);return i},{});t.options=e},_setOptions:function(t,e,i){this._initOptions(e.element.originElement,t);const n=e.element,s=n.relative,o=n.editorArea,a=t.toolbarContainer&&t.toolbarContainer!==i.toolbarContainer,d=t.lang!==i.lang||t.buttonList!==i.buttonList||t.mode!==i.mode||a,l=this._createToolBar(document,d?t.buttonList:i.buttonList,t.plugins,t);l.pluginCallButtons.math&&this._checkKatexMath(t.katex);const f=document.createElement("DIV");f.className="se-arrow",d&&(l.element.style.visibility="hidden",a?(t.toolbarContainer.appendChild(l.element),n.toolbar.parentElement.removeChild(n.toolbar)):n.toolbar.parentElement.replaceChild(l.element,n.toolbar),n.toolbar=l.element,n._menuTray=l._menuTray,n._arrow=f);const u=this._initElements(t,n.topArea,d?l.element:n.toolbar,f),p=u.bottomBar,C=u.wysiwygFrame,w=u.placeholder;let E=u.codeView;return n.resizingBar&&ce.removeItem(n.resizingBar),p.resizingBar&&(t.resizingBarContainer&&t.resizingBarContainer!==i.resizingBarContainer?t.resizingBarContainer.appendChild(p.resizingBar):s.appendChild(p.resizingBar)),o.innerHTML="",o.appendChild(E),w&&o.appendChild(w),E=this._checkCodeMirror(t,E),n.resizingBar=p.resizingBar,n.navigation=p.navigation,n.charWrapper=p.charWrapper,n.charCounter=p.charCounter,n.wysiwygFrame=C,n.code=E,n.placeholder=w,t.rtl?ce.addClass(n.topArea,"se-rtl"):ce.removeClass(n.topArea,"se-rtl"),{callButtons:l.pluginCallButtons,plugins:l.plugins,toolbar:l}},_initElements:function(t,e,i,n){e.style.cssText=t._editorStyles.top,/inline/i.test(t.mode)?(i.className+=" se-toolbar-inline",i.style.width=t.toolbarWidth):/balloon/i.test(t.mode)&&(i.className+=" se-toolbar-balloon",i.style.width=t.toolbarWidth,i.appendChild(n));const s=document.createElement(t.iframe?"IFRAME":"DIV");if(s.className="se-wrapper-inner se-wrapper-wysiwyg",t.iframe)s.allowFullscreen=!0,s.frameBorder=0,s.style.cssText=t._editorStyles.frame,s.className+=t.className;else{s.setAttribute("contenteditable",!0),s.setAttribute("autocorrect","off"),s.setAttribute("scrolling","auto");for(let p in t.iframeAttributes)s.setAttribute(p,t.iframeAttributes[p]);s.className+=" "+t._editableClass,s.style.cssText=t._editorStyles.frame+t._editorStyles.editor,s.className+=t.className}const o=document.createElement("TEXTAREA");o.className="se-wrapper-inner se-wrapper-code"+t.className,o.style.cssText=t._editorStyles.frame,o.style.display="none",t.height==="auto"&&(o.style.overflow="hidden");let a=null,d=null,l=null,f=null;if(t.resizingBar&&(a=document.createElement("DIV"),a.className="se-resizing-bar sun-editor-common",d=document.createElement("DIV"),d.className="se-navigation sun-editor-common",a.appendChild(d),t.charCounter)){if(l=document.createElement("DIV"),l.className="se-char-counter-wrapper",t.charCounterLabel){const p=document.createElement("SPAN");p.className="se-char-label",p.textContent=t.charCounterLabel,l.appendChild(p)}if(f=document.createElement("SPAN"),f.className="se-char-counter",f.textContent="0",l.appendChild(f),t.maxCharCount>0){const p=document.createElement("SPAN");p.textContent=" / "+t.maxCharCount,l.appendChild(p)}a.appendChild(l)}let u=null;return t.placeholder&&(u=document.createElement("SPAN"),u.className="se-placeholder",u.innerText=t.placeholder),{bottomBar:{resizingBar:a,navigation:d,charWrapper:l,charCounter:f},wysiwygFrame:s,codeView:o,placeholder:u}},_initOptions:function(t,e){const i={};if(e.plugins){const o=e.plugins,a=o.length?o:Object.keys(o).map(function(d){return o[d]});for(let d=0,l=a.length,f;d<l;d++)f=a[d].default||a[d],i[f.name]=f}e.plugins=i,e.strictMode=e.strictMode!==!1,e.strictHTMLValidation=e.strictHTMLValidation!==!1,e.lang=e.lang||N0,e.value=typeof e.value=="string"?e.value:null,e.allowedClassNames=new ce._w.RegExp((e.allowedClassNames&&typeof e.allowedClassNames=="string"?e.allowedClassNames+"|":"")+"^__se__|se-|katex"),e.historyStackDelayTime=typeof e.historyStackDelayTime=="number"?e.historyStackDelayTime:400,e.frameAttrbutes=e.frameAttrbutes||{},e.defaultTag=typeof e.defaultTag=="string"&&e.defaultTag.length>0?e.defaultTag:"p";const n=e.textTags=[{bold:"STRONG",underline:"U",italic:"EM",strike:"DEL",sub:"SUB",sup:"SUP"},e.textTags||{}].reduce(function(o,a){for(let d in a)o[d]=a[d];return o},{});e._textTagsMap={strong:n.bold.toLowerCase(),b:n.bold.toLowerCase(),u:n.underline.toLowerCase(),ins:n.underline.toLowerCase(),em:n.italic.toLowerCase(),i:n.italic.toLowerCase(),del:n.strike.toLowerCase(),strike:n.strike.toLowerCase(),s:n.strike.toLowerCase(),sub:n.sub.toLowerCase(),sup:n.sup.toLowerCase()},e._defaultCommand={bold:e.textTags.bold,underline:e.textTags.underline,italic:e.textTags.italic,strike:e.textTags.strike,subscript:e.textTags.sub,superscript:e.textTags.sup},e.__allowedScriptTag=e.__allowedScriptTag===!0;const s="br|p|div|pre|blockquote|h1|h2|h3|h4|h5|h6|ol|ul|li|hr|figure|figcaption|img|iframe|audio|video|source|table|thead|tbody|tr|th|td|a|b|strong|var|i|em|u|ins|s|span|strike|del|sub|sup|code|svg|path|details|summary";e.tagsBlacklist=e.tagsBlacklist||"",e._defaultTagsWhitelist=(typeof e._defaultTagsWhitelist=="string"?e._defaultTagsWhitelist:s)+(e.__allowedScriptTag?"|script":""),e._editorTagsWhitelist=e.addTagsWhitelist==="*"?"*":this._setWhitelist(e._defaultTagsWhitelist+(typeof e.addTagsWhitelist=="string"&&e.addTagsWhitelist.length>0?"|"+e.addTagsWhitelist:""),e.tagsBlacklist),e.pasteTagsBlacklist=e.tagsBlacklist+(e.tagsBlacklist&&e.pasteTagsBlacklist?"|"+e.pasteTagsBlacklist:e.pasteTagsBlacklist||""),e.pasteTagsWhitelist=e.pasteTagsWhitelist==="*"?"*":this._setWhitelist(typeof e.pasteTagsWhitelist=="string"?e.pasteTagsWhitelist:e._editorTagsWhitelist,e.pasteTagsBlacklist),e.attributesWhitelist=!e.attributesWhitelist||typeof e.attributesWhitelist!="object"?null:e.attributesWhitelist,e.attributesBlacklist=!e.attributesBlacklist||typeof e.attributesBlacklist!="object"?null:e.attributesBlacklist,e.mode=e.mode||"classic",e.rtl=!!e.rtl,e.lineAttrReset=["id"].concat(e.lineAttrReset&&typeof e.lineAttrReset=="string"?e.lineAttrReset.toLowerCase().split("|"):[]),e._editableClass="sun-editor-editable"+(e.rtl?" se-rtl":""),e._printClass=typeof e._printClass=="string"?e._printClass:null,e.toolbarWidth=e.toolbarWidth?ce.isNumber(e.toolbarWidth)?e.toolbarWidth+"px":e.toolbarWidth:"auto",e.toolbarContainer=typeof e.toolbarContainer=="string"?document.querySelector(e.toolbarContainer):e.toolbarContainer,e.stickyToolbar=/balloon/i.test(e.mode)||e.toolbarContainer?-1:e.stickyToolbar===void 0?0:/^\d+/.test(e.stickyToolbar)?ce.getNumber(e.stickyToolbar,0):-1,e.hideToolbar=!!e.hideToolbar,e.fullScreenOffset=e.fullScreenOffset===void 0?0:/^\d+/.test(e.fullScreenOffset)?ce.getNumber(e.fullScreenOffset,0):0,e.fullPage=!!e.fullPage,e.iframe=e.fullPage||!!e.iframe,e.iframeAttributes=e.iframeAttributes||{},e.iframeCSSFileName=e.iframe?typeof e.iframeCSSFileName=="string"?[e.iframeCSSFileName]:e.iframeCSSFileName||["suneditor"]:null,e.previewTemplate=typeof e.previewTemplate=="string"?e.previewTemplate:null,e.printTemplate=typeof e.printTemplate=="string"?e.printTemplate:null,e.codeMirror=e.codeMirror?e.codeMirror.src?e.codeMirror:{src:e.codeMirror}:null,e.katex=e.katex?e.katex.src?e.katex:{src:e.katex}:null,e.mathFontSize=e.mathFontSize?e.mathFontSize:[{text:"1",value:"1em"},{text:"1.5",value:"1.5em"},{text:"2",value:"2em"},{text:"2.5",value:"2.5em"}],e.position=typeof e.position=="string"?e.position:null,e.display=e.display||(t.style.display==="none"||!t.style.display?"block":t.style.display),e.popupDisplay=e.popupDisplay||"full",e.resizingBar=e.resizingBar===void 0?!/inline|balloon/i.test(e.mode):e.resizingBar,e.showPathLabel=e.resizingBar?typeof e.showPathLabel=="boolean"?e.showPathLabel:!0:!1,e.resizeEnable=e.resizeEnable===void 0?!0:!!e.resizeEnable,e.resizingBarContainer=typeof e.resizingBarContainer=="string"?document.querySelector(e.resizingBarContainer):e.resizingBarContainer,e.charCounter=e.maxCharCount>0?!0:typeof e.charCounter=="boolean"?e.charCounter:!1,e.charCounterType=typeof e.charCounterType=="string"?e.charCounterType:"char",e.charCounterLabel=typeof e.charCounterLabel=="string"?e.charCounterLabel.trim():null,e.maxCharCount=ce.isNumber(e.maxCharCount)&&e.maxCharCount>-1?e.maxCharCount*1:null,e.width=e.width?ce.isNumber(e.width)?e.width+"px":e.width:t.clientWidth?t.clientWidth+"px":"100%",e.minWidth=(ce.isNumber(e.minWidth)?e.minWidth+"px":e.minWidth)||"",e.maxWidth=(ce.isNumber(e.maxWidth)?e.maxWidth+"px":e.maxWidth)||"",e.height=e.height?ce.isNumber(e.height)?e.height+"px":e.height:t.clientHeight?t.clientHeight+"px":"auto",e.minHeight=(ce.isNumber(e.minHeight)?e.minHeight+"px":e.minHeight)||"",e.maxHeight=(ce.isNumber(e.maxHeight)?e.maxHeight+"px":e.maxHeight)||"",e.className=typeof e.className=="string"&&e.className.length>0?" "+e.className:"",e.defaultStyle=typeof e.defaultStyle=="string"?e.defaultStyle:"",e.font=e.font?e.font:["Arial","Comic Sans MS","Courier New","Impact","Georgia","tahoma","Trebuchet MS","Verdana"],e.fontSize=e.fontSize?e.fontSize:null,e.formats=e.formats?e.formats:null,e.colorList=e.colorList?e.colorList:null,e.lineHeights=e.lineHeights?e.lineHeights:null,e.paragraphStyles=e.paragraphStyles?e.paragraphStyles:null,e.textStyles=e.textStyles?e.textStyles:null,e.fontSizeUnit=typeof e.fontSizeUnit=="string"&&e.fontSizeUnit.trim().toLowerCase()||"px",e.alignItems=typeof e.alignItems=="object"?e.alignItems:e.rtl?["right","center","left","justify"]:["left","center","right","justify"],e.imageResizing=e.imageResizing===void 0?!0:e.imageResizing,e.imageHeightShow=e.imageHeightShow===void 0?!0:!!e.imageHeightShow,e.imageAlignShow=e.imageAlignShow===void 0?!0:!!e.imageAlignShow,e.imageWidth=e.imageWidth?ce.isNumber(e.imageWidth)?e.imageWidth+"px":e.imageWidth:"auto",e.imageHeight=e.imageHeight?ce.isNumber(e.imageHeight)?e.imageHeight+"px":e.imageHeight:"auto",e.imageSizeOnlyPercentage=!!e.imageSizeOnlyPercentage,e._imageSizeUnit=e.imageSizeOnlyPercentage?"%":"px",e.imageRotation=e.imageRotation!==void 0?e.imageRotation:!(e.imageSizeOnlyPercentage||!e.imageHeightShow),e.imageFileInput=e.imageFileInput===void 0?!0:e.imageFileInput,e.imageUrlInput=e.imageUrlInput===void 0||!e.imageFileInput?!0:e.imageUrlInput,e.imageUploadHeader=e.imageUploadHeader||null,e.imageUploadUrl=typeof e.imageUploadUrl=="string"?e.imageUploadUrl:null,e.imageUploadSizeLimit=/\d+/.test(e.imageUploadSizeLimit)?ce.getNumber(e.imageUploadSizeLimit,0):null,e.imageMultipleFile=!!e.imageMultipleFile,e.imageAccept=typeof e.imageAccept!="string"||e.imageAccept.trim()==="*"?"image/*":e.imageAccept.trim()||"image/*",e.imageGalleryData=e.imageGalleryData||null,e.imageGalleryUrl=typeof e.imageGalleryUrl=="string"?e.imageGalleryUrl:null,e.imageGalleryHeader=e.imageGalleryHeader||null,e.videoResizing=e.videoResizing===void 0?!0:e.videoResizing,e.videoHeightShow=e.videoHeightShow===void 0?!0:!!e.videoHeightShow,e.videoAlignShow=e.videoAlignShow===void 0?!0:!!e.videoAlignShow,e.videoRatioShow=e.videoRatioShow===void 0?!0:!!e.videoRatioShow,e.videoWidth=!e.videoWidth||!ce.getNumber(e.videoWidth,0)?"":ce.isNumber(e.videoWidth)?e.videoWidth+"px":e.videoWidth,e.videoHeight=!e.videoHeight||!ce.getNumber(e.videoHeight,0)?"":ce.isNumber(e.videoHeight)?e.videoHeight+"px":e.videoHeight,e.videoSizeOnlyPercentage=!!e.videoSizeOnlyPercentage,e._videoSizeUnit=e.videoSizeOnlyPercentage?"%":"px",e.videoRotation=e.videoRotation!==void 0?e.videoRotation:!(e.videoSizeOnlyPercentage||!e.videoHeightShow),e.videoRatio=ce.getNumber(e.videoRatio,4)||.5625,e.videoRatioList=e.videoRatioList?e.videoRatioList:null,e.youtubeQuery=(e.youtubeQuery||"").replace("?",""),e.vimeoQuery=(e.vimeoQuery||"").replace("?",""),e.videoFileInput=!!e.videoFileInput,e.videoUrlInput=e.videoUrlInput===void 0||!e.videoFileInput?!0:e.videoUrlInput,e.videoUploadHeader=e.videoUploadHeader||null,e.videoUploadUrl=typeof e.videoUploadUrl=="string"?e.videoUploadUrl:null,e.videoUploadSizeLimit=/\d+/.test(e.videoUploadSizeLimit)?ce.getNumber(e.videoUploadSizeLimit,0):null,e.videoMultipleFile=!!e.videoMultipleFile,e.videoTagAttrs=e.videoTagAttrs||null,e.videoIframeAttrs=e.videoIframeAttrs||null,e.videoAccept=typeof e.videoAccept!="string"||e.videoAccept.trim()==="*"?"video/*":e.videoAccept.trim()||"video/*",e.audioWidth=e.audioWidth?ce.isNumber(e.audioWidth)?e.audioWidth+"px":e.audioWidth:"",e.audioHeight=e.audioHeight?ce.isNumber(e.audioHeight)?e.audioHeight+"px":e.audioHeight:"",e.audioFileInput=!!e.audioFileInput,e.audioUrlInput=e.audioUrlInput===void 0||!e.audioFileInput?!0:e.audioUrlInput,e.audioUploadHeader=e.audioUploadHeader||null,e.audioUploadUrl=typeof e.audioUploadUrl=="string"?e.audioUploadUrl:null,e.audioUploadSizeLimit=/\d+/.test(e.audioUploadSizeLimit)?ce.getNumber(e.audioUploadSizeLimit,0):null,e.audioMultipleFile=!!e.audioMultipleFile,e.audioTagAttrs=e.audioTagAttrs||null,e.audioAccept=typeof e.audioAccept!="string"||e.audioAccept.trim()==="*"?"audio/*":e.audioAccept.trim()||"audio/*",e.tableCellControllerPosition=typeof e.tableCellControllerPosition=="string"?e.tableCellControllerPosition.toLowerCase():"cell",e.linkTargetNewWindow=!!e.linkTargetNewWindow,e.linkProtocol=typeof e.linkProtocol=="string"?e.linkProtocol:null,e.linkRel=Array.isArray(e.linkRel)?e.linkRel:[],e.linkRelDefault=e.linkRelDefault||{},e.tabDisable=!!e.tabDisable,e.shortcutsDisable=Array.isArray(e.shortcutsDisable)?e.shortcutsDisable:[],e.shortcutsHint=e.shortcutsHint===void 0?!0:!!e.shortcutsHint,e.callBackSave=e.callBackSave?e.callBackSave:null,e.templates=e.templates?e.templates:null,e.placeholder=typeof e.placeholder=="string"?e.placeholder:null,e.mediaAutoSelect=e.mediaAutoSelect===void 0?!0:!!e.mediaAutoSelect,e.buttonList=e.buttonList?e.buttonList:[["undo","redo"],["bold","underline","italic","strike","subscript","superscript"],["removeFormat"],["outdent","indent"],["fullScreen","showBlocks","codeView"],["preview","print"]],e.rtl&&(e.buttonList=e.buttonList.reverse()),e.icons=!e.icons||typeof e.icons!="object"?Ga:[Ga,e.icons].reduce(function(o,a){for(let d in a)ce.hasOwn(a,d)&&(o[d]=a[d]);return o},{}),e.icons=e.rtl?[e.icons,e.icons.rtl].reduce(function(o,a){for(let d in a)ce.hasOwn(a,d)&&(o[d]=a[d]);return o},{}):e.icons,e.__listCommonStyle=e.__listCommonStyle||["fontSize","color","fontFamily","fontWeight","fontStyle"],e._editorStyles=ce._setDefaultOptionStyle(e,e.defaultStyle)},_setWhitelist:function(t,e){if(typeof e!="string")return t;e=e.split("|"),t=t.split("|");for(let i=0,n=e.length,s;i<n;i++)s=t.indexOf(e[i]),s>-1&&t.splice(s,1);return t.join("|")},_defaultButtons:function(t){const e=t.icons,i=t.lang,n=ce.isOSX_IOS?"":"CTRL",s=ce.isOSX_IOS?"":"+SHIFT",o=t.shortcutsHint?t.shortcutsDisable:["bold","strike","underline","italic","undo","indent","save"],a=t.rtl?["[","]"]:["]","["],d=t.rtl?[e.outdent,e.indent]:[e.indent,e.outdent];return{bold:["",i.toolbar.bold+'<span class="se-shortcut">'+(o.indexOf("bold")>-1?"":n+'+<span class="se-shortcut-key">B</span>')+"</span>","bold","",e.bold],underline:["",i.toolbar.underline+'<span class="se-shortcut">'+(o.indexOf("underline")>-1?"":n+'+<span class="se-shortcut-key">U</span>')+"</span>","underline","",e.underline],italic:["",i.toolbar.italic+'<span class="se-shortcut">'+(o.indexOf("italic")>-1?"":n+'+<span class="se-shortcut-key">I</span>')+"</span>","italic","",e.italic],strike:["",i.toolbar.strike+'<span class="se-shortcut">'+(o.indexOf("strike")>-1?"":n+s+'+<span class="se-shortcut-key">S</span>')+"</span>","strike","",e.strike],subscript:["",i.toolbar.subscript,"SUB","",e.subscript],superscript:["",i.toolbar.superscript,"SUP","",e.superscript],removeFormat:["",i.toolbar.removeFormat,"removeFormat","",e.erase],indent:["",i.toolbar.indent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+a[0]+"</span>")+"</span>","indent","",d[0]],outdent:["",i.toolbar.outdent+'<span class="se-shortcut">'+(o.indexOf("indent")>-1?"":n+'+<span class="se-shortcut-key">'+a[1]+"</span>")+"</span>","outdent","",d[1]],fullScreen:["se-code-view-enabled se-resizing-enabled",i.toolbar.fullScreen,"fullScreen","",e.expansion],showBlocks:["",i.toolbar.showBlocks,"showBlocks","",e.show_blocks],codeView:["se-code-view-enabled se-resizing-enabled",i.toolbar.codeView,"codeView","",e.code_view],undo:["",i.toolbar.undo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Z</span>')+"</span>","undo","",e.undo],redo:["",i.toolbar.redo+'<span class="se-shortcut">'+(o.indexOf("undo")>-1?"":n+'+<span class="se-shortcut-key">Y</span> / '+n+s+'+<span class="se-shortcut-key">Z</span>')+"</span>","redo","",e.redo],preview:["se-resizing-enabled",i.toolbar.preview,"preview","",e.preview],print:["se-resizing-enabled",i.toolbar.print,"print","",e.print],dir:["",i.toolbar[t.rtl?"dir_ltr":"dir_rtl"],"dir","",e[t.rtl?"dir_ltr":"dir_rtl"]],dir_ltr:["",i.toolbar.dir_ltr,"dir_ltr","",e.dir_ltr],dir_rtl:["",i.toolbar.dir_rtl,"dir_rtl","",e.dir_rtl],save:["se-resizing-enabled",i.toolbar.save+'<span class="se-shortcut">'+(o.indexOf("save")>-1?"":n+'+<span class="se-shortcut-key">S</span>')+"</span>","save","",e.save],blockquote:["",i.toolbar.tag_blockquote,"blockquote","command",e.blockquote],font:["se-btn-select se-btn-tool-font",i.toolbar.font,"font","submenu",'<span class="txt">'+i.toolbar.font+"</span>"+e.arrow_down],formatBlock:["se-btn-select se-btn-tool-format",i.toolbar.formats,"formatBlock","submenu",'<span class="txt">'+i.toolbar.formats+"</span>"+e.arrow_down],fontSize:["se-btn-select se-btn-tool-size",i.toolbar.fontSize,"fontSize","submenu",'<span class="txt">'+i.toolbar.fontSize+"</span>"+e.arrow_down],fontColor:["",i.toolbar.fontColor,"fontColor","submenu",e.font_color],hiliteColor:["",i.toolbar.hiliteColor,"hiliteColor","submenu",e.highlight_color],align:["se-btn-align",i.toolbar.align,"align","submenu",t.rtl?e.align_right:e.align_left],list:["",i.toolbar.list,"list","submenu",e.list_number],horizontalRule:["btn_line",i.toolbar.horizontalRule,"horizontalRule","submenu",e.horizontal_rule],table:["",i.toolbar.table,"table","submenu",e.table],lineHeight:["",i.toolbar.lineHeight,"lineHeight","submenu",e.line_height],template:["",i.toolbar.template,"template","submenu",e.template],paragraphStyle:["",i.toolbar.paragraphStyle,"paragraphStyle","submenu",e.paragraph_style],textStyle:["",i.toolbar.textStyle,"textStyle","submenu",e.text_style],link:["",i.toolbar.link,"link","dialog",e.link],image:["",i.toolbar.image,"image","dialog",e.image],video:["",i.toolbar.video,"video","dialog",e.video],audio:["",i.toolbar.audio,"audio","dialog",e.audio],math:["",i.toolbar.math,"math","dialog",e.math],imageGallery:["",i.toolbar.imageGallery,"imageGallery","fileBrowser",e.image_gallery]}},_createModuleGroup:function(){const t=ce.createElement("DIV");t.className="se-btn-module se-btn-module-border";const e=ce.createElement("UL");return e.className="se-menu-list",t.appendChild(e),{div:t,ul:e}},_createButton:function(t,e,i,n,s,o,a){const d=ce.createElement("LI"),l=ce.createElement("BUTTON"),f=e||i;return l.setAttribute("type","button"),l.setAttribute("class","se-btn"+(t?" "+t:"")+" se-tooltip"),l.setAttribute("data-command",i),l.setAttribute("data-display",n),l.setAttribute("aria-label",f.replace(/<span .+<\/span>/,"")),l.setAttribute("tabindex","-1"),s||(s='<span class="se-icon-text">!</span>'),/^default\./i.test(s)&&(s=a[s.replace(/^default\./i,"")]),/^text\./i.test(s)&&(s=s.replace(/^text\./i,""),l.className+=" se-btn-more-text"),s+='<span class="se-tooltip-inner"><span class="se-tooltip-text">'+f+"</span></span>",o&&l.setAttribute("disabled",!0),l.innerHTML=s,d.appendChild(l),{li:d,button:l}},_createToolBar:function(t,e,i,n){const s=t.createElement("DIV");s.className="se-toolbar-separator-vertical";const o=t.createElement("DIV");o.className="se-toolbar sun-editor-common";const a=t.createElement("DIV");a.className="se-btn-tray",o.appendChild(a),e=JSON.parse(JSON.stringify(e));const d=n.icons,l=this._defaultButtons(n),f={},u=[];let p=null,C=null,w=null,E=null,T="",r=!1;const c=ce.createElement("DIV");c.className="se-toolbar-more-layer";e:for(let g=0,b,v,y,S,_;g<e.length;g++)if(b=!1,_="",S=e[g],w=this._createModuleGroup(),typeof S=="object"){for(let x=0,N;x<S.length;x++){if(C=S[x],N=!1,/^\%\d+/.test(C)&&x===0){S[0]=C.replace(/[^\d]/g,""),u.push(S),e.splice(g--,1);continue e}if(typeof C=="object")typeof C.add=="function"?(T=C.name,p=l[T],i[T]=C):(T=C.name,p=[C.buttonClass,C.title,C.name,C.dataDisplay,C.innerHTML,C._disabled]);else{if(/^\-/.test(C)){_=C.substr(1),w.div.className+=" module-float-"+_;continue}if(/^\#/.test(C)){C.substr(1)==="fix"&&(w.ul.className+=" se-menu-dir-fix");continue}if(/^\:/.test(C)){N=!0;const L=C.match(/^\:([^\-]+)\-([^\-]+)\-([^\-]+)/);y="__se__"+L[1].trim();const A=L[2].trim(),D=L[3].trim();p=["se-btn-more",A,y,"MORE",D]}else p=l[C];if(T=C,!p){const L=i[T];if(!L)throw Error("[SUNEDITOR.create.toolbar.fail] The button name of a plugin that does not exist. ["+T+"]");p=[L.buttonClass,L.title,L.name,L.display,L.innerHTML,L._disabled]}}E=this._createButton(p[0],p[1],p[2],p[3],p[4],p[5],d),(b?v:w.ul).appendChild(E.li),i[T]&&(f[T]=E.button),N&&(b=!0,v=ce.createElement("DIV"),v.className="se-more-layer "+y,v.innerHTML='<div class="se-more-form"><ul class="se-menu-list"'+(_?' style="float: '+_+';"':"")+"></ul></div>",c.appendChild(v),v=v.firstElementChild.firstElementChild)}if(r){const x=s.cloneNode(!1);a.appendChild(x)}a.appendChild(w.div),r=!0}else if(/^\/$/.test(S)){const x=t.createElement("DIV");x.className="se-btn-module-enter",a.appendChild(x),r=!1}switch(a.children.length){case 0:a.style.display="none";break;case 1:ce.removeClass(a.firstElementChild,"se-btn-module-border");break;default:if(n.rtl){const g=s.cloneNode(!1);g.style.float=a.lastElementChild.style.float,a.appendChild(g)}}u.length>0&&u.unshift(e),c.children.length>0&&a.appendChild(c);const h=t.createElement("DIV");h.className="se-menu-tray",o.appendChild(h);const m=t.createElement("DIV");return m.className="se-toolbar-cover",o.appendChild(m),n.hideToolbar&&(o.style.display="none"),{element:o,plugins:i,pluginCallButtons:f,responsiveButtons:u,_menuTray:h,_buttonTray:a}}},hr=function(t,e,i){return{element:{originElement:t,topArea:e._top,relative:e._relative,toolbar:e._toolBar,_toolbarShadow:e._toolbarShadow,_buttonTray:e._toolBar.querySelector(".se-btn-tray"),_menuTray:e._menuTray,resizingBar:e._resizingBar,navigation:e._navigation,charWrapper:e._charWrapper,charCounter:e._charCounter,editorArea:e._editorArea,wysiwygFrame:e._wysiwygArea,wysiwyg:e._wysiwygArea,code:e._codeArea,placeholder:e._placeholder,loading:e._loading,lineBreaker:e._lineBreaker,lineBreaker_t:e._lineBreaker_t,lineBreaker_b:e._lineBreaker_b,resizeBackground:e._resizeBack,_stickyDummy:e._stickyDummy,_arrow:e._arrow,_focusTemp:e._focusTemp},tool:{cover:e._toolBar.querySelector(".se-toolbar-cover"),bold:e._toolBar.querySelector('[data-command="bold"]'),underline:e._toolBar.querySelector('[data-command="underline"]'),italic:e._toolBar.querySelector('[data-command="italic"]'),strike:e._toolBar.querySelector('[data-command="strike"]'),sub:e._toolBar.querySelector('[data-command="SUB"]'),sup:e._toolBar.querySelector('[data-command="SUP"]'),undo:e._toolBar.querySelector('[data-command="undo"]'),redo:e._toolBar.querySelector('[data-command="redo"]'),save:e._toolBar.querySelector('[data-command="save"]'),outdent:e._toolBar.querySelector('[data-command="outdent"]'),indent:e._toolBar.querySelector('[data-command="indent"]'),fullScreen:e._toolBar.querySelector('[data-command="fullScreen"]'),showBlocks:e._toolBar.querySelector('[data-command="showBlocks"]'),codeView:e._toolBar.querySelector('[data-command="codeView"]'),dir:e._toolBar.querySelector('[data-command="dir"]'),dir_ltr:e._toolBar.querySelector('[data-command="dir_ltr"]'),dir_rtl:e._toolBar.querySelector('[data-command="dir_rtl"]')},options:i,option:i}};function D0(t,e){const i=t._w,n=t.util,s=t.options.historyStackDelayTime;let o=t.context.element,a=t.context.tool.undo,d=t.context.tool.redo,l=null,f=0,u=[];function p(){const w=u[f];o.wysiwyg.innerHTML=w.contents,t.setRange(n.getNodeFromPath(w.s.path,o.wysiwyg),w.s.offset,n.getNodeFromPath(w.e.path,o.wysiwyg),w.e.offset),t.focus(),u.length<=1?(a&&a.setAttribute("disabled",!0),d&&d.setAttribute("disabled",!0)):f===0?(a&&a.setAttribute("disabled",!0),d&&d.removeAttribute("disabled")):f===u.length-1?(a&&a.removeAttribute("disabled"),d&&d.setAttribute("disabled",!0)):(a&&a.removeAttribute("disabled"),d&&d.removeAttribute("disabled")),t.controllersOff(),t._checkComponents(),t._setCharCount(),t._resourcesStateChange(),e()}function C(){t._checkComponents();const w=o.wysiwyg.innerHTML;if(!w||u[f]&&w===u[f].contents)return;f++;const E=t._variable._range;u.length>f&&(u=u.slice(0,f),d&&d.setAttribute("disabled",!0)),E?u[f]={contents:w,s:{path:n.getNodePath(E.startContainer,null,null),offset:E.startOffset},e:{path:n.getNodePath(E.endContainer,null,null),offset:E.endOffset}}:u[f]={contents:w,s:{path:[0,0],offset:[0,0]},e:{path:0,offset:0}},f===1&&a&&a.removeAttribute("disabled"),t._setCharCount(),e()}return{stack:u,push:function(w){i.setTimeout(t._resourcesStateChange.bind(t));const E=typeof w=="number"?w>0?w:0:w?s:0;if((!E||l)&&(i.clearTimeout(l),!E)){C();return}l=i.setTimeout(function(){i.clearTimeout(l),l=null,C()},E)},undo:function(){f>0&&(f--,p())},redo:function(){u.length-1>f&&(f++,p())},go:function(w){f=w<0?u.length-1:w,p()},getCurrentIndex:function(){return f},reset:function(w){a&&a.setAttribute("disabled",!0),d&&d.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0),u.splice(0),f=0,u[f]={contents:t.getContents(!0),s:{path:[0,0],offset:0},e:{path:[0,0],offset:0}},w||e()},_resetCachingButton:function(){o=t.context.element,a=t.context.tool.undo,d=t.context.tool.redo,f===0?(a&&a.setAttribute("disabled",!0),d&&f===u.length-1&&d.setAttribute("disabled",!0),t._variable.isChanged=!1,t.context.tool.save&&t.context.tool.save.setAttribute("disabled",!0)):f===u.length-1&&d&&d.setAttribute("disabled",!0)},_destroy:function(){l&&i.clearTimeout(l),u=null}}}const Ja={name:"notice",add:function(t){const e=t.context;e.notice={};let i=t.util.createElement("DIV"),n=t.util.createElement("SPAN"),s=t.util.createElement("BUTTON");i.className="se-notice",s.className="close",s.setAttribute("aria-label","Close"),s.setAttribute("title",t.lang.dialogBox.close),s.innerHTML=t.icons.cancel,i.appendChild(n),i.appendChild(s),e.notice.modal=i,e.notice.message=n,s.addEventListener("click",this.onClick_cancel.bind(t)),e.element.editorArea.appendChild(i),i=null},onClick_cancel:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.notice.close.call(this)},open:function(t){this.context.notice.message.textContent=t,this.context.notice.modal.style.display="block"},close:function(){this.context.notice.modal.style.display="none"}};function O0(t,e,i,n,s,o){const a=t.element.originElement.ownerDocument||document,d=a.defaultView||window,l=ce,f=s.icons,u={_d:a,_w:d,_parser:new d.DOMParser,_prevRtl:s.rtl,_editorHeight:0,_editorHeightPadding:0,_listCamel:s.__listCommonStyle,_listKebab:l.camelToKebabCase(s.__listCommonStyle),__focusTemp:t.element._focusTemp,_wd:null,_ww:null,_shadowRoot:null,_shadowRootControllerEventTarget:null,util:l,functions:null,options:null,wwComputedStyle:null,notice:Ja,icons:f,history:null,context:t,pluginCallButtons:e,plugins:i||{},initPlugins:{},_targetPlugins:{},_menuTray:{},lang:n,effectNode:null,submenu:null,container:null,_submenuName:"",_bindedSubmenuOff:null,_bindedContainerOff:null,submenuActiveButton:null,containerActiveButton:null,controllerArray:[],currentControllerName:"",currentControllerTarget:null,currentFileComponentInfo:null,codeViewDisabledButtons:[],resizingDisabledButtons:[],_moreLayerActiveButton:null,_htmlCheckWhitelistRegExp:null,_htmlCheckBlacklistRegExp:null,_disallowedTextTagsRegExp:null,editorTagsWhitelistRegExp:null,editorTagsBlacklistRegExp:null,pasteTagsWhitelistRegExp:null,pasteTagsBlacklistRegExp:null,hasFocus:!1,isDisabled:!1,isReadOnly:!1,_attributesWhitelistRegExp:null,_attributesWhitelistRegExp_all_data:null,_attributesBlacklistRegExp:null,_attributesTagsWhitelist:null,_attributesTagsBlacklist:null,_bindControllersOff:null,_isInline:null,_isBalloon:null,_isBalloonAlways:null,_inlineToolbarAttr:{top:"",width:"",isShow:!1},_notHideToolbar:!1,_sticky:!1,_antiBlur:!1,_lineBreaker:null,_lineBreakerButton:null,_componentsInfoInit:!0,_componentsInfoReset:!1,activePlugins:null,managedTagsInfo:null,_charTypeHTML:!1,_fileInfoPluginsCheck:null,_fileInfoPluginsReset:null,_fileManager:{tags:null,regExp:null,queryString:null,pluginRegExp:null,pluginMap:null},commandMap:{},_commandMapStyles:{STRONG:["font-weight"],U:["text-decoration"],EM:["font-style"],DEL:["text-decoration"]},_styleCommandMap:null,_cleanStyleRegExp:{div:new d.RegExp("\\s*[^-a-zA-Z](.+)\\s*:[^;]+(?!;)*","ig"),span:new d.RegExp("\\s*[^-a-zA-Z](font-family|font-size|color|background-color)\\s*:[^;]+(?!;)*","ig"),format:new d.RegExp("\\s*[^-a-zA-Z](text-align|margin-left|margin-right|width|height|line-height)\\s*:[^;]+(?!;)*","ig"),fontSizeUnit:new d.RegExp("\\d+"+s.fontSizeUnit+"$","i")},_variable:{isChanged:!1,isCodeView:!1,isFullScreen:!1,innerHeight_fullScreen:0,resizeClientY:0,tabSize:4,codeIndent:2,minResizingSize:l.getNumber(t.element.wysiwygFrame.style.minHeight||"65",0),currentNodes:[],currentNodesMap:[],_range:null,_selectionNode:null,_originCssText:t.element.topArea.style.cssText,_bodyOverflow:"",_editorAreaOriginCssText:"",_wysiwygOriginCssText:"",_codeOriginCssText:"",_fullScreenAttrs:{sticky:!1,balloon:!1,inline:!1},_lineBreakComp:null,_lineBreakDir:""},_formatAttrsTemp:null,_saveButtonStates:function(){this.allCommandButtons||(this.allCommandButtons={});const r=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let c=0,h,m;c<r.length;c++)h=r[c],m=h.getAttribute("data-command"),this.allCommandButtons[m]=h},_recoverButtonStates:function(){if(this.allCommandButtons){const r=this.context.element._buttonTray.querySelectorAll(".se-menu-list button[data-display]");for(let c=0,h,m,g;c<r.length;c++)h=r[c],m=h.getAttribute("data-command"),g=this.allCommandButtons[m],g&&(h.parentElement.replaceChild(g,h),this.context.tool[m]&&(this.context.tool[m]=g))}},callPlugin:function(r,c,h){if(h=h||e[r],this.plugins[r])this.initPlugins[r]?typeof this._targetPlugins[r]=="object"&&h&&this.initMenuTarget(r,h,this._targetPlugins[r]):(this.plugins[r].add(this,h),this.initPlugins[r]=!0);else throw Error('[SUNEDITOR.core.callPlugin.fail] The called plugin does not exist or is in an invalid format. (pluginName:"'+r+'")');this.plugins[r].active&&!this.commandMap[r]&&h&&(this.commandMap[r]=h,this.activePlugins.push(r)),typeof c=="function"&&c()},addModule:function(r){for(let c=0,h=r.length,m;c<h;c++)m=r[c].name,this.plugins[m]||(this.plugins[m]=r[c]),this.initPlugins[m]||(this.initPlugins[m]=!0,typeof this.plugins[m].add=="function"&&this.plugins[m].add(this))},getGlobalScrollOffset:function(){let r=0,c=0,h=t.element.topArea;for(;h;)r+=h.scrollTop,c+=h.scrollLeft,h=h.parentElement;for(h=this._shadowRoot?this._shadowRoot.host:null;h;)r+=h.scrollTop,c+=h.scrollLeft,h=h.parentElement;return{top:r,left:c}},initMenuTarget:function(r,c,h){c?(t.element._menuTray.appendChild(h),this._targetPlugins[r]=!0,this._menuTray[c.getAttribute("data-command")]=h):this._targetPlugins[r]=h},submenuOn:function(r){this._bindedSubmenuOff&&this._bindedSubmenuOff(),this._bindControllersOff&&this.controllersOff();const c=this._submenuName=r.getAttribute("data-command"),h=this.submenu=this._menuTray[c];this.submenuActiveButton=r,this._setMenuPosition(r,h),this._bindedSubmenuOff=this.submenuOff.bind(this),this.addDocEvent("mousedown",this._bindedSubmenuOff,!1),this.plugins[c].on&&this.plugins[c].on.call(this),this._antiBlur=!0},submenuOff:function(){this.removeDocEvent("mousedown",this._bindedSubmenuOff),this._bindedSubmenuOff=null,this.submenu&&(this._submenuName="",this.submenu.style.display="none",this.submenu=null,l.removeClass(this.submenuActiveButton,"on"),this.submenuActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},moreLayerOff:function(){if(this._moreLayerActiveButton){const r=t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"));r.style.display="none",l.removeClass(this._moreLayerActiveButton,"on"),this._moreLayerActiveButton=null}},containerOn:function(r){this._bindedContainerOff&&this._bindedContainerOff();const c=this._containerName=r.getAttribute("data-command"),h=this.container=this._menuTray[c];this.containerActiveButton=r,this._setMenuPosition(r,h),this._bindedContainerOff=this.containerOff.bind(this),this.addDocEvent("mousedown",this._bindedContainerOff,!1),this.plugins[c].on&&this.plugins[c].on.call(this),this._antiBlur=!0},containerOff:function(){this.removeDocEvent("mousedown",this._bindedContainerOff),this._bindedContainerOff=null,this.container&&(this._containerName="",this.container.style.display="none",this.container=null,l.removeClass(this.containerActiveButton,"on"),this.containerActiveButton=null,this._notHideToolbar=!1),this._antiBlur=!1},_setMenuPosition:function(r,c){c.style.visibility="hidden",c.style.display="block",c.style.height="",l.addClass(r,"on");const h=this.context.element.toolbar,m=h.offsetWidth,g=p._getEditorOffsets(t.element.toolbar),b=c.offsetWidth,v=r.parentElement.offsetLeft+3;if(s.rtl){const D=r.offsetWidth,V=b>D?b-D:0,F=V>0?0:D-b;c.style.left=v-V+F+"px",g.left>p._getEditorOffsets(c).left&&(c.style.left="0px")}else{const D=m<=b?0:m-(v+b);D<0?c.style.left=v+D+"px":c.style.left=v+"px"}let y=0,S=r;for(;S&&S!==h;)y+=S.offsetTop,S=S.offsetParent;const _=y;this._isBalloon?y+=h.offsetTop+r.offsetHeight:y-=r.offsetHeight;const x=g.top,N=c.offsetHeight,L=this.getGlobalScrollOffset().top,A=d.innerHeight-(x-L+_+r.parentElement.offsetHeight);if(A<N){let D=-1*(N-_+3);const V=x-L+D,F=N+(V<0?V:0);F>A?(c.style.height=F+"px",D=-1*(F-_+3)):(c.style.height=A+"px",D=_+r.parentElement.offsetHeight),c.style.top=D+"px"}else c.style.top=_+r.parentElement.offsetHeight+"px";c.style.visibility=""},controllersOn:function(){this._bindControllersOff&&this._bindControllersOff(),this.controllerArray=[];for(let r=0,c;r<arguments.length;r++)if(c=arguments[r],!!c){if(typeof c=="string"){this.currentControllerName=c;continue}if(typeof c=="function"){this.controllerArray.push(c);continue}if(!l.hasClass(c,"se-controller")){this.currentControllerTarget=c,this.currentFileComponentInfo=this.getFileComponent(c);continue}c.style&&(c.style.display="block",this._shadowRoot&&this._shadowRootControllerEventTarget.indexOf(c)===-1&&(c.addEventListener("mousedown",function(h){h.preventDefault(),h.stopPropagation()}),this._shadowRootControllerEventTarget.push(c))),this.controllerArray.push(c)}this._bindControllersOff=this.controllersOff.bind(this),this.addDocEvent("mousedown",this._bindControllersOff,!1),this.addDocEvent("keydown",this._bindControllersOff,!1),this._antiBlur=!0,typeof C.showController=="function"&&C.showController(this.currentControllerName,this.controllerArray,this)},controllersOff:function(r){this._lineBreaker.style.display="none";const c=this.controllerArray.length;if(r&&r.target&&c>0){for(let h=0;h<c;h++)if(typeof this.controllerArray[h].contains=="function"&&this.controllerArray[h].contains(r.target))return}if(!(this._fileManager.pluginRegExp.test(this.currentControllerName)&&r&&r.type==="keydown"&&r.keyCode!==27)&&(t.element.lineBreaker_t.style.display=t.element.lineBreaker_b.style.display="none",this._variable._lineBreakComp=null,this.currentControllerName="",this.currentControllerTarget=null,this.currentFileComponentInfo=null,this.effectNode=null,!!this._bindControllersOff)){if(this.removeDocEvent("mousedown",this._bindControllersOff),this.removeDocEvent("keydown",this._bindControllersOff),this._bindControllersOff=null,c>0){for(let h=0;h<c;h++)typeof this.controllerArray[h]=="function"?this.controllerArray[h]():this.controllerArray[h].style.display="none";this.controllerArray=[]}this._antiBlur=!1}},setControllerPosition:function(r,c,h,m){s.rtl&&(m.left*=-1);const g=l.getOffset(c,t.element.wysiwygFrame);r.style.visibility="hidden",r.style.display="block";const b=h==="top"?-(r.offsetHeight+2):c.offsetHeight+12;r.style.top=g.top+b+m.top+"px";const v=g.left-t.element.wysiwygFrame.scrollLeft+m.left,y=r.offsetWidth,S=c.offsetWidth,_=l.hasClass(r.firstElementChild,"se-arrow")?r.firstElementChild:null;if(s.rtl){const x=y>S?y-S:0,N=x>0?0:S-y;r.style.left=v-x+N+"px",x>0&&_&&(_.style.left=(y-14<10+x?y-14:10+x)+"px");const L=t.element.wysiwygFrame.offsetLeft-r.offsetLeft;L>0&&(r.style.left="0px",_&&(_.style.left=L+"px"))}else{r.style.left=v+"px";const x=t.element.wysiwygFrame.offsetWidth-(r.offsetLeft+y);x<0?(r.style.left=r.offsetLeft+x+"px",_&&(_.style.left=20-x+"px")):_&&(_.style.left="20px")}r.style.visibility=""},execCommand:function(r,c,h){this._wd.execCommand(r,c,r==="formatBlock"?"<"+h+">":h),this.history.push(!0)},nativeFocus:function(){this.__focus(),this._editorRange()},__focus:function(){const r=l.getParentElement(this.getSelectionNode(),"figcaption");r?r.focus():t.element.wysiwyg.focus()},focus:function(){if(t.element.wysiwygFrame.style.display!=="none"){if(s.iframe)this.nativeFocus();else try{const r=this.getRange();if(r.startContainer===r.endContainer&&l.isWysiwygDiv(r.startContainer)){const c=r.commonAncestorContainer.children[r.startOffset];if(!l.isFormatElement(c)&&!l.isComponent(c)){const h=l.createElement(s.defaultTag),m=l.createElement("BR");h.appendChild(m),t.element.wysiwyg.insertBefore(h,c),this.setRange(m,0,m,0);return}}this.setRange(r.startContainer,r.startOffset,r.endContainer,r.endOffset)}catch{this.nativeFocus()}p._applyTagEffects(),this._isBalloon&&p._toggleToolbarBalloon()}},focusEdge:function(r){r||(r=t.element.wysiwyg.lastElementChild);const c=this.getFileComponent(r);c?this.selectComponent(c.target,c.pluginName):r?(r=l.getChildElement(r,function(h){return h.childNodes.length===0||h.nodeType===3},!0),r?this.setRange(r,r.textContent.length,r,r.textContent.length):this.nativeFocus()):this.focus()},blur:function(){s.iframe?t.element.wysiwygFrame.blur():t.element.wysiwyg.blur()},setRange:function(r,c,h,m){if(!r||!h)return;(l.isBreak(r)||r.nodeType===3)&&c>r.textContent.length&&(c=r.textContent.length),(l.isBreak(h)||h.nodeType===3)&&m>h.textContent.length&&(m=h.textContent.length),l.isFormatElement(r)&&(r=r.childNodes[c>0?r.childNodes.length-1:0]||r,c=c>0?r.nodeType===1&&!l.isBreak(r)?1:r.textContent?r.textContent.length:0:0),l.isFormatElement(h)&&(h=h.childNodes[m>0?h.childNodes.length-1:0]||h,m=m>0?h.nodeType===1&&!l.isBreak(h)?1:h.textContent?h.textContent.length:0:0);const g=this._wd.createRange();try{c>r.textContent.length&&(c=r.textContent.length),m>h.textContent.length&&(m=h.textContent.length),g.setStart(r,c),g.setEnd(h,m)}catch(v){console.warn("[SUNEDITOR.core.focus.error] "+v),this.nativeFocus();return}const b=this.getSelection();return b.removeAllRanges&&b.removeAllRanges(),b.addRange(g),this._rangeInfo(g,this.getSelection()),s.iframe&&this.__focus(),g},removeRange:function(){this._variable._range=null,this._variable._selectionNode=null,this.hasFocus&&this.getSelection().removeAllRanges(),this._setKeyEffect([])},getRange:function(){const r=this._variable._range||this._createDefaultRange(),c=this.getSelection();if(r.collapsed===c.isCollapsed||!t.element.wysiwyg.contains(c.focusNode))return r;if(c.rangeCount>0)return this._variable._range=c.getRangeAt(0),this._variable._range;{const h=c.anchorNode,m=c.focusNode,g=c.anchorOffset,b=c.focusOffset,v=l.compareElements(h,m),y=v.ancestor&&(v.result===0?g<=b:v.result>1);return this.setRange(y?h:m,y?g:b,y?m:h,y?b:g)}},getRange_addLine:function(r,c){if(this._selectionVoid(r)){const h=t.element.wysiwyg,m=l.createElement(s.defaultTag);m.innerHTML="<br>",h.insertBefore(m,c&&c!==h?c.nextElementSibling:h.firstElementChild),this.setRange(m.firstElementChild,0,m.firstElementChild,1),r=this._variable._range}return r},getSelection:function(){const r=this._shadowRoot&&this._shadowRoot.getSelection?this._shadowRoot.getSelection():this._ww.getSelection();return!this._variable._range&&!t.element.wysiwyg.contains(r.focusNode)&&(r.removeAllRanges(),r.addRange(this._createDefaultRange())),r},getSelectionNode:function(){if(t.element.wysiwyg.contains(this._variable._selectionNode)||this._editorRange(),!this._variable._selectionNode){const r=l.getChildElement(t.element.wysiwyg.firstChild,function(c){return c.childNodes.length===0||c.nodeType===3},!1);if(!r)this._editorRange();else return this._variable._selectionNode=r,r}return this._variable._selectionNode},_editorRange:function(){const r=this._wd.activeElement;if(l.isInputElement(r))return this._variable._selectionNode=r,r;const c=this.getSelection();if(!c)return null;let h=null;c.rangeCount>0?h=c.getRangeAt(0):h=this._createDefaultRange(),this._rangeInfo(h,c)},_rangeInfo:function(r,c){let h=null;this._variable._range=r,r.collapsed?l.isWysiwygDiv(r.commonAncestorContainer)?h=r.commonAncestorContainer.children[r.startOffset]||r.commonAncestorContainer:h=r.commonAncestorContainer:h=c.extentNode||c.anchorNode,this._variable._selectionNode=h},_createDefaultRange:function(){const r=t.element.wysiwyg,c=this._wd.createRange();let h=r.firstElementChild,m=null;return h?(m=h.firstChild,m||(m=l.createElement("BR"),h.appendChild(m))):(h=l.createElement(s.defaultTag),m=l.createElement("BR"),h.appendChild(m),r.appendChild(h)),c.setStart(m,0),c.setEnd(m,0),c},_selectionVoid:function(r){const c=r.commonAncestorContainer;return l.isWysiwygDiv(r.startContainer)&&l.isWysiwygDiv(r.endContainer)||/FIGURE/i.test(c.nodeName)||this._fileManager.regExp.test(c.nodeName)||l.isMediaComponent(c)},_resetRangeToTextNode:function(){const r=this.getRange();if(this._selectionVoid(r))return!1;const c=r.collapsed;let h=r.startContainer,m=r.startOffset,g=r.endContainer,b=r.endOffset,v,y,S;if(l.isFormatElement(h))for(h.childNodes[m]?(h=h.childNodes[m]||h,m=0):(h=h.lastChild||h,m=h.textContent.length);h&&h.nodeType===1&&h.firstChild;)h=h.firstChild||h,m=0;if(l.isFormatElement(g)){for(g=g.childNodes[b]||g.lastChild||g;g&&g.nodeType===1&&g.lastChild;)g=g.lastChild;b=c?0:g.textContent.length}if(v=l.isWysiwygDiv(h)?t.element.wysiwyg.firstChild:h,y=m,l.isBreak(v)||v.nodeType===1&&v.childNodes.length>0){const _=l.isBreak(v);if(!_){for(;v&&!l.isBreak(v)&&v.nodeType===1;)v=v.childNodes[y]||v.nextElementSibling||v.nextSibling,y=0;let x=l.getFormatElement(v,null);x===l.getRangeFormatElement(x,null)&&(x=l.createElement(l.getParentElement(v,l.isCell)?"DIV":s.defaultTag),v.parentNode.insertBefore(x,v),x.appendChild(v))}if(l.isBreak(v)){const x=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x,_&&h===g&&(g=v,b=1)}}if(h=v,m=y,v=l.isWysiwygDiv(g)?t.element.wysiwyg.lastChild:g,y=b,l.isBreak(v)||v.nodeType===1&&v.childNodes.length>0){const _=l.isBreak(v);if(!_){for(;v&&!l.isBreak(v)&&v.nodeType===1&&(S=v.childNodes,S.length!==0);)v=S[y>0?y-1:y]||!/FIGURE/i.test(S[0].nodeName)?S[0]:v.previousElementSibling||v.previousSibling||h,y=y>0?v.textContent.length:y;let x=l.getFormatElement(v,null);x===l.getRangeFormatElement(x,null)&&(x=l.createElement(l.isCell(x)?"DIV":s.defaultTag),v.parentNode.insertBefore(x,v),x.appendChild(v))}if(l.isBreak(v)){const x=l.createTextNode(l.zeroWidthSpace);v.parentNode.insertBefore(x,v),v=x,y=1,_&&!v.previousSibling&&l.removeItem(g)}}return g=v,b=y,this.setRange(h,m,g,b),!0},getSelectedElements:function(r){if(!this._resetRangeToTextNode())return[];let c=this.getRange();if(l.isWysiwygDiv(c.startContainer)){const D=t.element.wysiwyg.children;if(D.length===0)return[];this.setRange(D[0],0,D[D.length-1],D[D.length-1].textContent.trim().length),c=this.getRange()}const h=c.startContainer,m=c.endContainer,g=c.commonAncestorContainer,b=l.getListChildren(g,function(D){return r?r(D):l.isFormatElement(D)});if(!l.isWysiwygDiv(g)&&!l.isRangeFormatElement(g)&&b.unshift(l.getFormatElement(g,null)),h===m||b.length===1)return b;let v=l.getFormatElement(h,null),y=l.getFormatElement(m,null),S=null,_=null;const x=function(D){return l.isTable(D)?/^TABLE$/i.test(D.nodeName):!0};let N=l.getRangeFormatElement(v,x),L=l.getRangeFormatElement(y,x);l.isTable(N)&&l.isListCell(N.parentNode)&&(N=N.parentNode),l.isTable(L)&&l.isListCell(L.parentNode)&&(L=L.parentNode);const A=N===L;for(let D=0,V=b.length,F;D<V;D++){if(F=b[D],v===F||!A&&F===N){S=D;continue}if(y===F||!A&&F===L){_=D;break}}return S===null&&(S=0),_===null&&(_=b.length-1),b.slice(S,_+1)},getSelectedElementsAndComponents:function(r){const c=this.getRange().commonAncestorContainer,h=l.getParentElement(c,l.isComponent),m=l.isTable(c)?this.getSelectedElements(null):this.getSelectedElements((function(g){const b=this.getParentElement(g,this.isComponent);return this.isFormatElement(g)&&(!b||b===h)||this.isComponent(g)&&!this.getFormatElement(g)}).bind(l));if(r){for(let g=0,b=m.length;g<b;g++)for(let v=g-1;v>=0;v--)if(m[v].contains(m[g])){m.splice(g,1),g--,b--;break}}return m},isEdgePoint:function(r,c,h){return r.nodeType===1&&!r.textContent.length?!0:h!=="end"&&c===0||(!h||h!=="start")&&!r.nodeValue&&c===1||(!h||h==="end")&&!!r.nodeValue&&c===r.nodeValue.length},_isEdgeFormat:function(r,c,h){if(!this.isEdgePoint(r,c,h))return!1;const m=[];for(h=h==="start"?"previousSibling":"nextSibling";r&&!l.isFormatElement(r)&&!l.isWysiwygDiv(r);)if(!r[h]||l.isBreak(r[h])&&!r[h][h])r.nodeType===1&&m.push(r.cloneNode(!1)),r=r.parentNode;else return null;return m},showLoading:function(){t.element.loading.style.display="block"},closeLoading:function(){t.element.loading.style.display="none"},appendFormatTag:function(r,c){if(!r||!r.parentNode)return null;const h=l.getFormatElement(this.getSelectionNode(),null);let m=null;if(!l.isFormatElement(r)&&l.isFreeFormatElement(h||r.parentNode))m=l.createElement("BR");else{const g=c?typeof c=="string"?c:c.nodeName:l.isFormatElement(h)&&!l.isRangeFormatElement(h)&&!l.isFreeFormatElement(h)?h.nodeName:s.defaultTag;m=l.createElement(g),m.innerHTML="<br>",(c&&typeof c!="string"||!c&&l.isFormatElement(h))&&l.copyTagAttributes(m,c||h,["id"])}return l.isCell(r)?r.insertBefore(m,r.nextElementSibling):r.parentNode.insertBefore(m,r.nextElementSibling),m},insertComponent:function(r,c,h,m){if(this.isReadOnly||h&&!this.checkCharCount(r,null))return null;const g=this.removeNode();this.getRange_addLine(this.getRange(),g.container);let b=null,v=this.getSelectionNode(),y=l.getFormatElement(v,null);if(l.isListCell(y))this.insertNode(r,v===y?null:(v||g.container).nextSibling,!1),r.nextSibling||r.parentNode.appendChild(l.createElement("BR"));else{if(this.getRange().collapsed&&(g.container.nodeType===3||l.isBreak(g.container))){const S=l.getParentElement(g.container,(function(_){return this.isRangeFormatElement(_)}).bind(l));b=l.splitElement(g.container,g.offset,S?l.getElementDepth(S)+1:0),b&&(y=b.previousSibling)}this.insertNode(r,l.isRangeFormatElement(y)?null:y,!1),y&&l.onlyZeroWidthSpace(y)&&l.removeItem(y)}if(!m){this.setRange(r,0,r,0);const S=this.getFileComponent(r);S?this.selectComponent(S.target,S.pluginName):b&&(b=l.getEdgeChildNodes(b,null).sc||b,this.setRange(b,0,b,0))}return c||this.history.push(1),b||r},getFileComponent:function(r){if(!this._fileManager.queryString||!r)return null;let c,h;return(/^FIGURE$/i.test(r.nodeName)||/se-component/.test(r.className))&&(c=r.querySelector(this._fileManager.queryString)),!c&&r.nodeName&&this._fileManager.regExp.test(r.nodeName)&&(c=r),c&&(h=this._fileManager.pluginMap[c.nodeName.toLowerCase()],h)?{target:c,component:l.getParentElement(c,l.isComponent),pluginName:h}:null},selectComponent:function(r,c){if(l.isUneditableComponent(l.getParentElement(r,l.isComponent))||l.isUneditableComponent(r))return!1;this.hasFocus||this.focus();const h=this.plugins[c];h&&d.setTimeout((function(){typeof h.select=="function"&&this.callPlugin(c,h.select.bind(this,r),null),this._setComponentLineBreaker(r)}).bind(this))},_setComponentLineBreaker:function(r){this._lineBreaker.style.display="none";const c=l.getParentElement(r,l.isComponent);if(!c)return;const h=t.element.lineBreaker_t.style,m=t.element.lineBreaker_b.style,g=this.context.resizing.resizeContainer.style.display==="block"?this.context.resizing.resizeContainer:r,b=l.isListCell(c.parentNode);let v,y,S;(b?!c.previousSibling||l.isComponent(c.previousElementSibling):!l.isFormatElement(c.previousElementSibling))?(this._variable._lineBreakComp=c,y=t.element.wysiwyg.scrollTop,v=l.getOffset(r,t.element.wysiwygFrame).top+y,S=g.offsetWidth/2/2,h.top=v-y-12+"px",h.left=l.getOffset(g).left+S+"px",h.display="block"):h.display="none",(b?!c.nextSibling||l.isComponent(c.nextElementSibling):!l.isFormatElement(c.nextElementSibling))?(v||(this._variable._lineBreakComp=c,y=t.element.wysiwyg.scrollTop,v=l.getOffset(r,t.element.wysiwygFrame).top+y,S=g.offsetWidth/2/2),m.top=v+g.offsetHeight-y-12+"px",m.left=l.getOffset(g).left+g.offsetWidth-S-24+"px",m.display="block"):m.display="none"},_checkDuplicateNode:function(r,c){(function h(m){u._dupleCheck(m,c);const g=m.childNodes;for(let b=0,v=g.length;b<v;b++)h(g[b])})(r)},_dupleCheck:function(r,c){if(!l.isTextStyleElement(r))return;const h=(r.style.cssText.match(/[^;]+;/g)||[]).map(function(b){return b.trim()}),m=r.nodeName;if(/^span$/i.test(m)&&h.length===0)return r;let g=!1;return(function b(v){if(!(l.isWysiwygDiv(v)||!l.isTextStyleElement(v))){if(v.nodeName===m){g=!0;const y=v.style.cssText.match(/[^;]+;/g)||[];for(let S=0,_=y.length,x;S<_;S++)(x=h.indexOf(y[S].trim()))>-1&&h.splice(x,1);for(let S=0,_=v.classList.length;S<_;S++)r.classList.remove(v.classList[S])}b(v.parentElement)}})(c),g&&((r.style.cssText=h.join(" "))||(r.setAttribute("style",""),r.removeAttribute("style")),r.attributes.length||r.setAttribute("data-se-duple","true")),r},insertNode:function(r,c,h){if(this.isReadOnly||h&&!this.checkCharCount(r,null))return null;let m=null,g=this.getRange(),b=l.isListCell(g.commonAncestorContainer)?g.commonAncestorContainer:l.getFormatElement(this.getSelectionNode(),null),v=l.isListCell(b)&&(l.isListCell(r)||l.isList(r)),y,S,_,x=null;const N=l.isFreeFormatElement(b),L=!N&&(l.isFormatElement(r)||l.isRangeFormatElement(r))||l.isComponent(r);if(v&&(_=c||l.isList(r)?b.lastChild:b.nextElementSibling,x=l.isList(r)?b:(_||b).parentNode),!c&&(L||l.isComponent(r)||l.isMedia(r))){const P=this.isEdgePoint(g.endContainer,g.endOffset,"end"),I=this.removeNode(),z=I.container,O=z===I.prevContainer&&g.collapsed?null:I.prevContainer;if(v&&O)if(x=O.nodeType===3?O.parentNode:O,x.contains(z)){let B=!0;for(_=z;_.parentNode&&_.parentNode!==x;)_=_.parentNode,B=!1;B&&z===O&&(_=_.nextSibling)}else _=null;else if(v&&l.isListCell(z)&&!b.parentElement)b=l.createElement("LI"),x.appendChild(b),z.appendChild(x),_=null;else if(z.nodeType===3||l.isBreak(z)||v){const B=l.getParentElement(z,(function(k){return this.isRangeFormatElement(k)||this.isListCell(k)}).bind(l));if(c=l.splitElement(z,I.offset,B?l.getElementDepth(B)+1:0),!c)l.isListCell(b)||(_=c=b);else if(v){if(b.contains(z)){const k=l.isList(b.lastElementChild);let M=null;P||(M=b.cloneNode(!1),M.appendChild(c.textContent.trim()?c:l.createTextNode(l.zeroWidthSpace))),k&&(M||(M=b.cloneNode(!1),M.appendChild(l.createTextNode(l.zeroWidthSpace))),M.appendChild(b.lastElementChild)),M&&(b.parentNode.insertBefore(M,b.nextElementSibling),_=c=M)}}else c=c.previousSibling}}g=!c&&!L?this.getRange_addLine(this.getRange(),null):this.getRange();const A=g.commonAncestorContainer,D=g.startOffset,V=g.endOffset,F=g.startContainer===A&&l.isFormatElement(A),H=F&&(A.childNodes[D]||A.childNodes[0])||g.startContainer,R=F&&(A.childNodes[V]||A.childNodes[A.childNodes.length-1])||g.endContainer;if(!v)if(c)y=c.parentNode,c=c.nextSibling,S=!0;else if(y=H,H.nodeType===3&&(y=H.parentNode),g.collapsed)if(A.nodeType===3)A.textContent.length>V?c=A.splitText(V):c=A.nextSibling;else if(l.isBreak(y))c=y,y=y.parentNode;else{let P=y.childNodes[D];const I=P&&P.nodeType===3&&l.onlyZeroWidthSpace(P)&&l.isBreak(P.nextSibling)?P.nextSibling:P;I?!I.nextSibling&&l.isBreak(I)?(y.removeChild(I),c=null):c=l.isBreak(I)&&!l.isBreak(r)?I:I.nextSibling:c=null}else if(H===R){this.isEdgePoint(R,V)?c=R.nextSibling:c=R.splitText(V);let I=H;this.isEdgePoint(H,D)||(I=H.splitText(D)),y.removeChild(I),y.childNodes.length===0&&L&&(y.innerHTML="<br>")}else{const I=this.removeNode(),z=I.container,O=I.prevContainer;if(z&&z.childNodes.length===0&&L&&(l.isFormatElement(z)?z.innerHTML="<br>":l.isRangeFormatElement(z)&&(z.innerHTML="<"+s.defaultTag+"><br></"+s.defaultTag+">")),l.isListCell(z)&&r.nodeType===3)y=z,c=null;else if(!L&&O)if(y=O.nodeType===3?O.parentNode:O,y.contains(z)){let B=!0;for(c=z;c.parentNode&&c.parentNode!==y;)c=c.parentNode,B=!1;B&&z===O&&(c=c.nextSibling)}else c=null;else l.isWysiwygDiv(z)&&!l.isFormatElement(r)?(y=z.appendChild(l.createElement(s.defaultTag)),c=null):(c=L?R:z===O?z.nextSibling:z,y=!c||!c.parentNode?A:c.parentNode);for(;c&&!l.isFormatElement(c)&&c.parentNode!==A;)c=c.parentNode}try{if(!v){if((l.isWysiwygDiv(c)||y===t.element.wysiwyg.parentNode)&&(y=t.element.wysiwyg,c=null),l.isFormatElement(r)||l.isRangeFormatElement(r)||!l.isListCell(y)&&l.isComponent(r)){const P=y;if(l.isList(c))y=c,c=null;else if(l.isListCell(c))y=c.previousElementSibling||c;else if(!S&&!c){const I=this.removeNode(),z=I.container.nodeType===3?l.isListCell(l.getFormatElement(I.container,null))?I.container:l.getFormatElement(I.container,null)||I.container.parentNode:I.container,O=l.isWysiwygDiv(z)||l.isRangeFormatElement(z);y=O?z:z.parentNode,c=O?null:z.nextSibling}P.childNodes.length===0&&y!==P&&l.removeItem(P)}if(L&&!N&&!l.isRangeFormatElement(y)&&!l.isListCell(y)&&!l.isWysiwygDiv(y)&&(c=y.nextElementSibling,y=y.parentNode),l.isWysiwygDiv(y)&&(r.nodeType===3||l.isBreak(r))){const P=l.createElement(s.defaultTag);P.appendChild(r),m=r,r=P}}if(v?x.parentNode?(y=x,c=_):(y=t.element.wysiwyg,c=null):c=y===c?y.lastChild:c,l.isListCell(r)&&!l.isList(y)){if(l.isListCell(y))c=y.nextElementSibling,y=y.parentNode;else{const P=l.createElement("ol");y.insertBefore(P,c),y=P,c=null}v=!0}if(this._checkDuplicateNode(r,y),y.insertBefore(r,c),v)if(l.onlyZeroWidthSpace(b.textContent.trim()))l.removeItem(b),r=r.lastChild;else{const P=l.getArrayItem(b.children,l.isList);P&&(r!==P?(r.appendChild(P),r=P.previousSibling):(y.appendChild(r),r=y),l.onlyZeroWidthSpace(b.textContent.trim())&&l.removeItem(b))}}catch(P){y.appendChild(r),console.warn("[SUNEDITOR.insertNode.warn] "+P)}finally{m&&(r=m);const P=y.querySelectorAll("[data-se-duple]");if(P.length>0)for(let I=0,z=P.length,O,B,k,M;I<z;I++){for(O=P[I],k=O.childNodes,M=O.parentNode;k[0];)B=k[0],M.insertBefore(B,O);O===r&&(r=B),l.removeItem(O)}if((l.isFormatElement(r)||l.isComponent(r))&&H===R){const I=l.getFormatElement(A,null);I&&I.nodeType===1&&l.isEmptyLine(I)&&l.removeItem(I)}if(N&&(l.isFormatElement(r)||l.isRangeFormatElement(r))&&(r=this._setIntoFreeFormat(r)),!l.isComponent(r)){let I=1;if(r.nodeType===3)I=r.textContent.length,this.setRange(r,I,r,I);else if(!l.isBreak(r)&&!l.isListCell(r)&&l.isFormatElement(y)){let z=null;(!r.previousSibling||l.isBreak(r.previousSibling))&&(z=l.createTextNode(l.zeroWidthSpace),r.parentNode.insertBefore(z,r)),(!r.nextSibling||l.isBreak(r.nextSibling))&&(z=l.createTextNode(l.zeroWidthSpace),r.parentNode.insertBefore(z,r.nextSibling)),l._isIgnoreNodeChange(r)&&(r=r.nextSibling,I=0)}this.setRange(r,I,r,I)}return r}},_setIntoFreeFormat:function(r){const c=r.parentNode;let h,m;for(;l.isFormatElement(r)||l.isRangeFormatElement(r);){for(h=r.childNodes,m=null;h[0];){if(m=h[0],l.isFormatElement(m)||l.isRangeFormatElement(m)){if(this._setIntoFreeFormat(m),!r.parentNode)break;h=r.childNodes;continue}c.insertBefore(m,r)}r.childNodes.length===0&&l.removeItem(r),r=l.createElement("BR"),c.insertBefore(r,m.nextSibling)}return r},removeNode:function(){this._resetRangeToTextNode();const r=this.getRange();if(r.startContainer===r.endContainer){const I=l.getParentElement(r.startContainer,l.isMediaComponent);if(I){const z=l.createElement("BR"),O=l.createElement(s.defaultTag);return O.appendChild(z),l.changeElement(I,O),u.setRange(O,0,O,0),this.history.push(!0),{container:O,offset:0,prevContainer:null}}}const c=r.startOffset===0,h=u.isEdgePoint(r.endContainer,r.endOffset,"end");let m=null,g=null,b=null;c&&(g=l.getFormatElement(r.startContainer),g&&(m=g.previousElementSibling,g=m)),h&&(b=l.getFormatElement(r.endContainer),b=b&&b.nextElementSibling);let v,y=0,S=r.startContainer,_=r.endContainer,x=r.startOffset,N=r.endOffset;const L=r.commonAncestorContainer.nodeType===3&&r.commonAncestorContainer.parentNode===S.parentNode?S.parentNode:r.commonAncestorContainer;if(L===S&&L===_&&(S=L.children[x],_=L.children[N],x=N=0),!S||!_)return{container:L,offset:0};if(S===_&&r.collapsed&&S.textContent&&l.onlyZeroWidthSpace(S.textContent.substr(x)))return{container:S,offset:x,prevContainer:S&&S.parentNode?S:null};let A=null,D=null;const V=l.getListChildNodes(L,null);let F=l.getArrayIndex(V,S),H=l.getArrayIndex(V,_);if(V.length>0&&F>-1&&H>-1){for(let I=F+1,z=S;I>=0;I--)V[I]===z.parentNode&&V[I].firstChild===z&&x===0&&(F=I,z=z.parentNode);for(let I=H-1,z=_;I>F;I--)V[I]===z.parentNode&&V[I].nodeType===1&&(V.splice(I,1),z=z.parentNode,--H)}else{if(V.length===0){if(l.isFormatElement(L)||l.isRangeFormatElement(L)||l.isWysiwygDiv(L)||l.isBreak(L)||l.isMedia(L))return{container:L,offset:0};if(L.nodeType===3)return{container:L,offset:N};V.push(L),S=_=L}else if(S=_=V[0],l.isBreak(S)||l.onlyZeroWidthSpace(S))return{container:l.isMedia(L)?L:S,offset:0};F=H=0}for(let I=F;I<=H;I++){const z=V[I];if(z.length===0||z.nodeType===3&&z.data===void 0){this._nodeRemoveListItem(z);continue}if(z===S){if(S.nodeType===1){if(l.isComponent(S))continue;A=l.createTextNode(S.textContent)}else z===_?(A=l.createTextNode(S.substringData(0,x)+_.substringData(N,_.length-N)),y=x):A=l.createTextNode(S.substringData(0,x));if(A.length>0?S.data=A.data:this._nodeRemoveListItem(S),z===_)break;continue}if(z===_){if(_.nodeType===1){if(l.isComponent(_))continue;D=l.createTextNode(_.textContent)}else D=l.createTextNode(_.substringData(N,_.length-N));D.length>0?_.data=D.data:this._nodeRemoveListItem(_);continue}this._nodeRemoveListItem(z)}const R=l.getParentElement(_,"ul"),P=l.getParentElement(S,"li");if(R&&P&&P.contains(R)?(v=R.previousSibling,y=v.textContent.length):(v=_&&_.parentNode?_:S&&S.parentNode?S:r.endContainer||r.startContainer,y=!c&&!h?y:h?v.textContent.length:0),!l.isWysiwygDiv(v)&&v.childNodes.length===0){const I=l.removeItemAllParents(v,null,null);I&&(v=I.sc||I.ec||t.element.wysiwyg)}return!l.getFormatElement(v)&&!(S&&S.parentNode)&&(b?(v=b,y=0):g&&(v=g,y=1)),this.setRange(v,y,v,y),this.history.push(!0),{container:v,offset:y,prevContainer:m}},_nodeRemoveListItem:function(r){const c=l.getFormatElement(r,null);l.removeItem(r),l.isListCell(c)&&(l.removeItemAllParents(c,null,null),c&&l.isList(c.firstChild)&&c.insertBefore(l.createTextNode(l.zeroWidthSpace),c.firstChild))},applyRangeFormatElement:function(r){this.getRange_addLine(this.getRange(),null);const c=this.getSelectedElementsAndComponents(!1);if(!c||c.length===0)return;e:for(let N=0,L=c.length,A,D,V,F,H,R;N<L;N++)if(A=c[N],!!l.isListCell(A)&&(D=A.lastElementChild,D&&l.isListCell(A.nextElementSibling)&&c.indexOf(A.nextElementSibling)>-1&&(F=D.lastElementChild,c.indexOf(F)>-1))){let P=null;for(;P=F.lastElementChild;)if(l.isList(P))if(c.indexOf(P.lastElementChild)>-1)F=P.lastElementChild;else continue e;V=D.firstElementChild,H=c.indexOf(V),R=c.indexOf(F),c.splice(H,R-H+1),L=c.length;continue}let h=c[c.length-1],m,g,b;l.isRangeFormatElement(h)||l.isFormatElement(h)?m=h:m=l.getRangeFormatElement(h,null)||l.getFormatElement(h,null),l.isCell(m)?(g=null,b=m):(g=m.nextSibling,b=m.parentNode);let v=l.getElementDepth(m),y=null;const S=[],_=function(N,L,A){let D=null;if(N!==L&&!l.isTable(L)){if(L&&l.getElementDepth(N)===l.getElementDepth(L))return A;D=l.removeItemAllParents(L,null,N)}return D?D.ec:A};for(let N=0,L=c.length,A,D,V,F,H,R,P;N<L;N++)if(A=c[N],D=A.parentNode,!(!D||r.contains(D)))if(V=l.getElementDepth(A),l.isList(D)){if(y===null&&(R?(y=R,P=!0,R=null):y=D.cloneNode(!1)),S.push(A),H=c[N+1],N===L-1||H&&H.parentNode!==D){H&&A.contains(H.parentNode)&&(R=H.parentNode.cloneNode(!1));let I=D.parentNode,z;for(;l.isList(I);)z=l.createElement(I.nodeName),z.appendChild(y),y=z,I=I.parentNode;const O=this.detachRangeFormatElement(D,S,null,!0,!0);v>=V?(v=V,b=O.cc,g=_(b,D,O.ec),g&&(b=g.parentNode)):b===O.cc&&(g=O.ec),b!==O.cc&&(F=_(b,O.cc,F),F!==void 0?g=F:g=O.cc);for(let B=0,k=O.removeArray.length;B<k;B++)y.appendChild(O.removeArray[B]);P||r.appendChild(y),R&&O.removeArray[O.removeArray.length-1].appendChild(R),y=null,P=!1}}else v>=V&&(v=V,b=D,g=A.nextSibling),r.appendChild(A),b!==D&&(F=_(b,D),F!==void 0&&(g=F));if(this.effectNode=null,l.mergeSameTags(r,null,!1),l.mergeNestedTags(r,(function(N){return this.isList(N)}).bind(l)),g&&l.getElementDepth(g)>0&&(l.isList(g.parentNode)||l.isList(g.parentNode.parentNode))){const N=l.getParentElement(g,(function(A){return this.isRangeFormatElement(A)&&!this.isList(A)}).bind(l)),L=l.splitElement(g,null,N?l.getElementDepth(N)+1:0);L.parentNode.insertBefore(r,L)}else b.insertBefore(r,g),_(r,g);const x=l.getEdgeChildNodes(r.firstElementChild,r.lastElementChild);c.length>1?this.setRange(x.sc,0,x.ec,x.ec.textContent.length):this.setRange(x.ec,x.ec.textContent.length,x.ec,x.ec.textContent.length),this.history.push(!1)},detachRangeFormatElement:function(r,c,h,m,g){const b=this.getRange();let v=b.startOffset,y=b.endOffset,S=l.getListChildNodes(r,function(O){return O.parentNode===r}),_=r.parentNode,x=null,N=null,L=r.cloneNode(!1);const A=[],D=l.isList(h);let V=!1,F=!1,H=!1;function R(O,B,k,M){if(l.onlyZeroWidthSpace(B)&&(B.innerHTML=l.zeroWidthSpace,v=y=1),B.nodeType===3)return O.insertBefore(B,k),B;const $=(H?B:M).childNodes;let W=B.cloneNode(!1),j=null,q=null;for(;$[0];)q=$[0],l._notTextNode(q)&&!l.isBreak(q)&&!l.isListCell(W)?(W.childNodes.length>0&&(j||(j=W),O.insertBefore(W,k),W=B.cloneNode(!1)),O.insertBefore(q,k),j||(j=q)):W.appendChild(q);if(W.childNodes.length>0){if(l.isListCell(O)&&l.isListCell(W)&&l.isList(k))if(D){for(j=k;k;)W.appendChild(k),k=k.nextSibling;O.parentNode.insertBefore(W,O.nextElementSibling)}else{const U=M.nextElementSibling,K=l.detachNestedList(M,!1);if(r!==K||U!==M.nextElementSibling){const G=W.childNodes;for(;G[0];)M.appendChild(G[0]);r=K,F=!0}}else O.insertBefore(W,k);j||(j=W)}return j}for(let O=0,B=S.length,k,M,$;O<B;O++)if(k=S[O],!(k.nodeType===3&&l.isList(L)))if(H=!1,m&&O===0&&(!c||c.length===B||c[0]===k?x=r.previousSibling:x=L),c&&(M=c.indexOf(k)),c&&M===-1)L||(L=r.cloneNode(!1)),L.appendChild(k);else{if(c&&($=c[M+1]),L&&L.children.length>0&&(_.insertBefore(L,r),L=null),!D&&l.isListCell(k))if($&&l.getElementDepth(k)!==l.getElementDepth($)&&(l.isListCell(_)||l.getArrayItem(k.children,l.isList,!1))){const W=k.nextElementSibling,j=l.detachNestedList(k,!1);(r!==j||W!==k.nextElementSibling)&&(r=j,F=!0)}else{const W=k;k=l.createElement(m?W.nodeName:l.isList(r.parentNode)||l.isListCell(r.parentNode)?"LI":l.isCell(r.parentNode)?"DIV":s.defaultTag);const j=l.isListCell(k),q=W.childNodes;for(;q[0]&&!(l.isList(q[0])&&!j);)k.appendChild(q[0]);l.copyFormatAttributes(k,W),H=!0}else k=k.cloneNode(!1);if(!F&&(m?(A.push(k),l.removeItem(S[O])):(h?(V||(_.insertBefore(h,r),V=!0),k=R(h,k,null,S[O])):k=R(_,k,r,S[O]),F||(c?(N=k,x||(x=k)):x||(x=N=k))),F)){F=H=!1,S=l.getListChildNodes(r,function(W){return W.parentNode===r}),L=r.cloneNode(!1),_=r.parentNode,O=-1,B=S.length;continue}}const P=r.parentNode;let I=r.nextSibling;L&&L.children.length>0&&P.insertBefore(L,I),h?x=h.previousSibling:x||(x=r.previousSibling),I=r.nextSibling!==L?r.nextSibling:L?L.nextSibling:null,r.children.length===0||r.textContent.length===0?l.removeItem(r):l.removeEmptyNode(r,null,!1);let z=null;if(m)z={cc:P,sc:x,so:v,ec:I,eo:y,removeArray:A};else{x||(x=N),N||(N=x);const O=l.getEdgeChildNodes(x,N.parentNode?x:N);z={cc:(O.sc||O.ec).parentNode,sc:O.sc,so:v,ec:O.ec,eo:y,removeArray:null}}if(this.effectNode=null,g)return z;!m&&z&&(c?this.setRange(z.sc,v,z.ec,y):this.setRange(z.sc,0,z.sc,0)),this.history.push(!1)},detachList:function(r,c){let h={},m=!1,g=!1,b=null,v=null;const y=(function(S){return!this.isComponent(S)}).bind(l);for(let S=0,_=r.length,x,N,L,A;S<_;S++){if(L=S===_-1,N=l.getRangeFormatElement(r[S],y),A=l.isList(N),!x&&A)x=N,h={r:x,f:[l.getParentElement(r[S],"LI")]},S===0&&(m=!0);else if(x&&A)if(x!==N){const D=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,c,!0);N=r[S].parentNode,m&&(b=D.sc,m=!1),L&&(v=D.ec),A?(x=N,h={r:x,f:[l.getParentElement(r[S],"LI")]},L&&(g=!0)):x=null}else h.f.push(l.getParentElement(r[S],"LI")),L&&(g=!0);if(L&&l.isList(x)){const D=this.detachRangeFormatElement(h.f[0].parentNode,h.f,null,c,!0);(g||_===1)&&(v=D.ec),m&&(b=D.sc||v)}}return{sc:b,ec:v}},nodeChange:function(r,c,h,m){this._resetRangeToTextNode();let g=this.getRange_addLine(this.getRange(),null);c=c&&c.length>0?c:!1,h=h&&h.length>0?h:!1;const b=!r,v=b&&!h&&!c;let y=g.startContainer,S=g.startOffset,_=g.endContainer,x=g.endOffset;if(v&&g.collapsed&&l.isFormatElement(y.parentNode)||y===_&&y.nodeType===1&&l.isNonEditable(y)){const q=y.parentNode;if(!l.isListCell(q)||!l.getValues(q.style).some((function(U){return this._listKebab.indexOf(U)>-1}).bind(this)))return}if(g.collapsed&&!v&&y.nodeType===1&&!l.isBreak(y)&&!l.isComponent(y)){let q=null;const U=y.childNodes[S];U&&(U.nextSibling?q=l.isBreak(U)?U:U.nextSibling:q=null);const K=l.createTextNode(l.zeroWidthSpace);y.insertBefore(K,q),this.setRange(K,1,K,1),g=this.getRange(),y=g.startContainer,S=g.startOffset,_=g.endContainer,x=g.endOffset}l.isFormatElement(y)&&(y=y.childNodes[S]||y.firstChild,S=0),l.isFormatElement(_)&&(_=_.childNodes[x]||_.lastChild,x=_.textContent.length),b&&(r=l.createElement("DIV"));const N=d.RegExp,L=r.nodeName;if(!v&&y===_&&!h&&r){let q=y,U=0;const K=[],G=r.style;for(let Q=0,te=G.length;Q<te;Q++)K.push(G[Q]);const J=r.classList;for(let Q=0,te=J.length;Q<te;Q++)K.push("."+J[Q]);if(K.length>0){for(;!l.isFormatElement(q)&&!l.isWysiwygDiv(q);){for(let Q=0;Q<K.length;Q++)if(q.nodeType===1){const te=K[Q],se=/^\./.test(te)?new N("\\s*"+te.replace(/^\./,"")+"(\\s+|$)","ig"):!1,oe=b?!!q.style[te]:!!q.style[te]&&!!r.style[te]&&q.style[te]===r.style[te],ne=se===!1?!1:b?!!q.className.match(se):!!q.className.match(se)&&!!r.className.match(se);(oe||ne)&&U++}q=q.parentNode}if(U>=K.length)return}}let A={},D={},V,F="",H="",R="";if(c){for(let q=0,U=c.length,K;q<U;q++)K=c[q],/^\./.test(K)?H+=(H?"|":"\\s*(?:")+K.replace(/^\./,""):F+=(F?"|":"(?:;|^|\\s)(?:")+K;F&&(F+=")\\s*:[^;]*\\s*(?:;|$)",F=new N(F,"ig")),H&&(H+=")(?=\\s+|$)",H=new N(H,"ig"))}if(h){R="^(?:"+h[0];for(let q=1;q<h.length;q++)R+="|"+h[q];R+=")$",R=new N(R,"i")}const P=d.Boolean,I={v:!1},z=function(q){const U=q.cloneNode(!1);if(U.nodeType===3||l.isBreak(U))return U;if(v)return null;const K=!R&&b||R&&R.test(U.nodeName);if(K&&!m)return I.v=!0,null;const G=U.style.cssText;let J="";F&&G.length>0&&(J=G.replace(F,"").trim(),J!==G&&(I.v=!0));const Q=U.className;let te="";return H&&Q.length>0&&(te=Q.replace(H,"").trim(),te!==Q&&(I.v=!0)),b&&(H||!Q)&&(F||!G)&&!J&&!te&&K?(I.v=!0,null):J||te||U.nodeName!==L||P(F)!==P(G)||P(H)!==P(Q)?(F&&G.length>0&&(U.style.cssText=J),U.style.cssText||U.removeAttribute("style"),H&&Q.length>0&&(U.className=te.trim()),U.className.trim()||U.removeAttribute("class"),!U.style.cssText&&!U.className&&(U.nodeName===L||K)?(I.v=!0,null):U):(I.v=!0,null)},O=this.getSelectedElements(null);g=this.getRange(),y=g.startContainer,S=g.startOffset,_=g.endContainer,x=g.endOffset,l.getFormatElement(y,null)||(y=l.getChildElement(O[0],function(q){return q.nodeType===3},!1),S=0),l.getFormatElement(_,null)||(_=l.getChildElement(O[O.length-1],function(q){return q.nodeType===3},!1),x=_.textContent.length);const B=l.getFormatElement(y,null)===l.getFormatElement(_,null),k=O.length-(B?0:1);V=r.cloneNode(!1);const M=v||b&&(function(q){for(let U=0,K=q.length;U<K;U++)if(l._isMaintainedNode(q[U])||l._isSizeNode(q[U]))return!0;return!1})(h),$=b||l._isSizeNode(V),W=this._util_getMaintainedNode.bind(l,M,$),j=this._util_isMaintainedNode.bind(l,M,$);if(B){this._resetCommonListCell(O[0],c)&&(g=this.setRange(y,S,_,x));const q=this._nodeChange_oneLine(O[0],V,z,y,S,_,x,v,b,g.collapsed,I,W,j);A.container=q.startContainer,A.offset=q.startOffset,D.container=q.endContainer,D.offset=q.endOffset,A.container===D.container&&l.onlyZeroWidthSpace(A.container)&&(A.offset=D.offset=1),this._setCommonListStyle(q.ancestor,null)}else{let q=!1;k>0&&this._resetCommonListCell(O[k],c)&&(q=!0),this._resetCommonListCell(O[0],c)&&(q=!0),q&&this.setRange(y,S,_,x),k>0&&(V=r.cloneNode(!1),D=this._nodeChange_endLine(O[k],V,z,_,x,v,b,I,W,j));for(let U=k-1,K;U>0;U--)this._resetCommonListCell(O[U],c),V=r.cloneNode(!1),K=this._nodeChange_middleLine(O[U],V,z,v,b,I,D.container),K.endContainer&&K.ancestor.contains(K.endContainer)&&(D.ancestor=null,D.container=K.endContainer),this._setCommonListStyle(K.ancestor,null);V=r.cloneNode(!1),A=this._nodeChange_startLine(O[0],V,z,y,S,v,b,I,W,j,D.container),A.endContainer&&(D.ancestor=null,D.container=A.endContainer),k<=0?D=A:D.container||(D.ancestor=null,D.container=A.container,D.offset=A.container.textContent.length),this._setCommonListStyle(A.ancestor,null),this._setCommonListStyle(D.ancestor||l.getFormatElement(D.container),null)}this.controllersOff(),this.setRange(A.container,A.offset,D.container,D.offset),this.history.push(!1)},_resetCommonListCell:function(r,c){if(!l.isListCell(r))return;c||(c=this._listKebab);const h=l.getArrayItem(r.childNodes,function(N){return!l.isBreak(N)},!0),m=r.style,g=[],b=[],v=l.getValues(m);for(let N=0,L=this._listKebab.length;N<L;N++)v.indexOf(this._listKebab[N])>-1&&c.indexOf(this._listKebab[N])>-1&&(g.push(this._listCamel[N]),b.push(this._listKebab[N]));if(!g.length)return;const y=l.createElement("SPAN");for(let N=0,L=g.length;N<L;N++)y.style[g[N]]=m[b[N]],m.removeProperty(b[N]);let S=y.cloneNode(!1),_=null,x=!1;for(let N=0,L=h.length,A,D;N<L;N++)A=h[N],!s._textTagsMap[A.nodeName.toLowerCase()]&&(D=l.getValues(A.style),D.length===0||g.some(function(V){return D.indexOf(V)===-1})&&D.some(function(V){})?(_=A.nextSibling,S.appendChild(A)):S.childNodes.length>0&&(r.insertBefore(S,_),S=y.cloneNode(!1),_=null,x=!0));return S.childNodes.length>0&&(r.insertBefore(S,_),x=!0),m.length||r.removeAttribute("style"),x},_setCommonListStyle:function(r,c){if(!l.isListCell(r))return;const h=l.getArrayItem((c||r).childNodes,function(S){return!l.isBreak(S)},!0);if(c=h[0],!c||h.length>1||c.nodeType!==1)return;const m=c.style,g=r.style,b=c.nodeName.toLowerCase();let v=!1;s._textTagsMap[b]===s._defaultCommand.bold.toLowerCase()&&(g.fontWeight="bold"),s._textTagsMap[b]===s._defaultCommand.italic.toLowerCase()&&(g.fontStyle="italic");const y=l.getValues(m);if(y.length>0)for(let S=0,_=this._listCamel.length;S<_;S++)y.indexOf(this._listKebab[S])>-1&&(g[this._listCamel[S]]=m[this._listCamel[S]],m.removeProperty(this._listKebab[S]),v=!0);if(this._setCommonListStyle(r,c),!!v&&!m.length){const S=c.childNodes,_=c.parentNode,x=c.nextSibling;for(;S.length>0;)_.insertBefore(S[0],x);l.removeItem(c)}},_stripRemoveNode:function(r){const c=r.parentNode;if(!r||r.nodeType===3||!c)return;const h=r.childNodes;for(;h[0];)c.insertBefore(h[0],r);c.removeChild(r)},_util_getMaintainedNode:function(r,c,h){return!h||r?null:this.getParentElement(h,this._isMaintainedNode.bind(this))||(c?null:this.getParentElement(h,this._isSizeNode.bind(this)))},_util_isMaintainedNode:function(r,c,h){if(!h||r||h.nodeType!==1)return!1;const m=this._isMaintainedNode(h);return this.getParentElement(h,this._isMaintainedNode.bind(this))?m:m||(c?!1:this._isSizeNode(h))},_nodeChange_oneLine:function(r,c,h,m,g,b,v,y,S,_,x,N,L){let A=m.parentNode;for(;!A.nextSibling&&!A.previousSibling&&!l.isFormatElement(A.parentNode)&&!l.isWysiwygDiv(A.parentNode)&&A.nodeName!==c.nodeName;)A=A.parentNode;if(!S&&A===b.parentNode&&A.nodeName===c.nodeName&&l.onlyZeroWidthSpace(m.textContent.slice(0,g))&&l.onlyZeroWidthSpace(b.textContent.slice(v))){const ne=A.childNodes;let re=!0;for(let ie=0,he=ne.length,ae,be,me,ve;ie<he;ie++){if(ae=ne[ie],ve=!l.onlyZeroWidthSpace(ae),ae===m){be=!0;continue}if(ae===b){me=!0;continue}if(!be&&ve||be&&me&&ve){re=!1;break}}if(re)return l.copyTagAttributes(A,c),{ancestor:r,startContainer:m,startOffset:g,endContainer:b,endOffset:v}}x.v=!1;const D=r,V=[c],F=r.cloneNode(!1),H=m===b;let R=m,P=g,I=b,z=v,O=!1,B=!1,k,M,$,W,j;const q=d.RegExp;function U(ne){const re=new q("(?:;|^|\\s)(?:"+W+"null)\\s*:[^;]*\\s*(?:;|$)","ig");let ie="";return re&&ne.style.cssText.length>0&&(ie=re.test(ne.style.cssText)),!ie}if((function ne(re,ie){const he=re.childNodes;for(let ae=0,be=he.length,me;ae<be;ae++){let ve=he[ae];if(!ve)continue;let Qe=ie,He;if(!O&&ve===R){let Oe=F;j=N(ve);const Se=l.createTextNode(R.nodeType===1?"":R.substringData(0,P)),Me=l.createTextNode(R.nodeType===1?"":R.substringData(P,H&&z>=P?z-P:R.data.length-P));if(j){const _t=N(ie);if(_t&&_t.parentNode!==Oe){let Ve=_t,ft=null;for(;Ve.parentNode!==Oe;){for(ie=ft=Ve.parentNode.cloneNode(!1);Ve.childNodes[0];)ft.appendChild(Ve.childNodes[0]);Ve.appendChild(ft),Ve=Ve.parentNode}Ve.parentNode.appendChild(_t)}j=j.cloneNode(!1)}l.onlyZeroWidthSpace(Se)||ie.appendChild(Se);const Le=N(ie);for(Le&&(j=Le),j&&(Oe=j),M=ve,k=[],W="";M!==Oe&&M!==D&&M!==null;)me=L(M)?null:h(M),me&&M.nodeType===1&&U(M)&&(k.push(me),W+=M.style.cssText.substr(0,M.style.cssText.indexOf(":"))+"|"),M=M.parentNode;const ht=k.pop()||Me;for($=M=ht;k.length>0;)M=k.pop(),$.appendChild(M),$=M;if(c.appendChild(ht),Oe.appendChild(c),j&&!N(I)&&(c=c.cloneNode(!1),F.appendChild(c),V.push(c)),R=Me,P=0,O=!0,M!==Me&&M.appendChild(R),!H)continue}if(!B&&ve===I){j=N(ve);const Oe=l.createTextNode(I.nodeType===1?"":I.substringData(z,I.length-z)),Se=l.createTextNode(H||I.nodeType===1?"":I.substringData(0,z));if(j?j=j.cloneNode(!1):L(c.parentNode)&&!j&&(c=c.cloneNode(!1),F.appendChild(c),V.push(c)),!l.onlyZeroWidthSpace(Oe)){M=ve,W="",k=[];const Le=[];for(;M!==F&&M!==D&&M!==null;)M.nodeType===1&&U(M)&&(L(M)?Le.push(M.cloneNode(!1)):k.push(M.cloneNode(!1)),W+=M.style.cssText.substr(0,M.style.cssText.indexOf(":"))+"|"),M=M.parentNode;for(k=k.concat(Le),He=$=M=k.pop()||Oe;k.length>0;)M=k.pop(),$.appendChild(M),$=M;F.appendChild(He),M.textContent=Oe.data}if(j&&He){const Le=N(He);Le&&(j=Le)}for(M=ve,k=[],W="";M!==F&&M!==D&&M!==null;)me=L(M)?null:h(M),me&&M.nodeType===1&&U(M)&&(k.push(me),W+=M.style.cssText.substr(0,M.style.cssText.indexOf(":"))+"|"),M=M.parentNode;const Me=k.pop()||Se;for($=M=Me;k.length>0;)M=k.pop(),$.appendChild(M),$=M;j?(c=c.cloneNode(!1),c.appendChild(Me),j.insertBefore(c,j.firstChild),F.appendChild(j),V.push(c),j=null):c.appendChild(Me),I=Se,z=Se.data.length,B=!0,!y&&_&&(c=Se,Se.textContent=l.zeroWidthSpace),M!==Se&&M.appendChild(I);continue}if(O){if(ve.nodeType===1&&!l.isBreak(ve)){l._isIgnoreNodeChange(ve)?(F.appendChild(ve.cloneNode(!0)),_||(c=c.cloneNode(!1),F.appendChild(c),V.push(c))):ne(ve,ve);continue}M=ve,k=[],W="";const Oe=[];for(;M.parentNode!==null&&M!==D&&M!==c;)me=B?M.cloneNode(!1):h(M),M.nodeType===1&&!l.isBreak(ve)&&me&&U(M)&&(L(M)?j||Oe.push(me):k.push(me),W+=M.style.cssText.substr(0,M.style.cssText.indexOf(":"))+"|"),M=M.parentNode;k=k.concat(Oe);const Se=k.pop()||ve;for($=M=Se;k.length>0;)M=k.pop(),$.appendChild(M),$=M;if(L(c.parentNode)&&!L(Se)&&!l.onlyZeroWidthSpace(c)&&(c=c.cloneNode(!1),F.appendChild(c),V.push(c)),!B&&!j&&L(Se)){c=c.cloneNode(!1);const Me=Se.childNodes;for(let Le=0,ht=Me.length;Le<ht;Le++)c.appendChild(Me[Le]);Se.appendChild(c),F.appendChild(Se),V.push(c),c.children.length>0?ie=M:ie=c}else Se===ve?B?ie=F:ie=c:B?(F.appendChild(Se),ie=M):(c.appendChild(Se),ie=M);if(j&&ve.nodeType===3)if(N(ve)){const Me=l.getParentElement(ie,(function(Le){return this._isMaintainedNode(Le.parentNode)||Le.parentNode===F}).bind(l));j.appendChild(Me),c=Me.cloneNode(!1),V.push(c),F.appendChild(c)}else j=null}He=ve.cloneNode(!1),ie.appendChild(He),ve.nodeType===1&&!l.isBreak(ve)&&(Qe=He),ne(ve,Qe)}})(r,F),S&&!y&&!x.v)return{ancestor:r,startContainer:m,startOffset:g,endContainer:b,endOffset:v};if(y=y&&S,y)for(let ne=0;ne<V.length;ne++){let re=V[ne],ie,he,ae;if(_)ie=l.createTextNode(l.zeroWidthSpace),F.replaceChild(ie,re);else{const be=re.childNodes;for(he=be[0];be[0];)ae=be[0],F.insertBefore(ae,re);l.removeItem(re)}ne===0&&(_?R=I=ie:(R=he,I=ae))}else{if(S)for(let ne=0;ne<V.length;ne++)this._stripRemoveNode(V[ne]);_&&(R=I=c)}l.removeEmptyNode(F,c,!1),_&&(P=R.textContent.length,z=I.textContent.length);const K=y||I.textContent.length===0;!l.isBreak(I)&&I.textContent.length===0&&(l.removeItem(I),I=R),z=K?I.textContent.length:z;const G={s:0,e:0},J=l.getNodePath(R,F,G),Q=!I.parentNode;Q&&(I=R);const te={s:0,e:0},se=l.getNodePath(I,F,!Q&&!K?te:null);P+=G.s,z=_?P:Q?R.textContent.length:K?z+G.s:z+te.s;const oe=l.mergeSameTags(F,[J,se],!0);return r.parentNode.replaceChild(F,r),R=l.getNodeFromPath(J,F),I=l.getNodeFromPath(se,F),{ancestor:F,startContainer:R,startOffset:P+oe[0],endContainer:I,endOffset:z+oe[1]}},_nodeChange_startLine:function(r,c,h,m,g,b,v,y,S,_,x){let N=m.parentNode;for(;!N.nextSibling&&!N.previousSibling&&!l.isFormatElement(N.parentNode)&&!l.isWysiwygDiv(N.parentNode)&&N.nodeName!==c.nodeName;)N=N.parentNode;if(!v&&N.nodeName===c.nodeName&&!l.isFormatElement(N)&&!N.nextSibling&&l.onlyZeroWidthSpace(m.textContent.slice(0,g))){let O=!0,B=m.previousSibling;for(;B;){if(!l.onlyZeroWidthSpace(B)){O=!1;break}B=B.previousSibling}if(O)return l.copyTagAttributes(N,c),{ancestor:r,container:m,offset:g}}y.v=!1;const L=r,A=[c],D=r.cloneNode(!1);let V=m,F=g,H=!1,R,P,I,z;if((function O(B,k){const M=B.childNodes;for(let $=0,W=M.length,j,q;$<W;$++){const U=M[$];if(!U)continue;let K=k;if(H&&!l.isBreak(U)){if(U.nodeType===1){if(l._isIgnoreNodeChange(U)){if(c=c.cloneNode(!1),q=U.cloneNode(!0),D.appendChild(q),D.appendChild(c),A.push(c),x&&U.contains(x)){const te=l.getNodePath(x,U);x=l.getNodeFromPath(te,q)}}else O(U,U);continue}P=U,R=[];const G=[];for(;P.parentNode!==null&&P!==L&&P!==c;)j=h(P),P.nodeType===1&&j&&(_(P)?z||G.push(j):R.push(j)),P=P.parentNode;R=R.concat(G);const J=R.length>0,Q=R.pop()||U;for(I=P=Q;R.length>0;)P=R.pop(),I.appendChild(P),I=P;if(_(c.parentNode)&&!_(Q)&&(c=c.cloneNode(!1),D.appendChild(c),A.push(c)),!z&&_(Q)){c=c.cloneNode(!1);const te=Q.childNodes;for(let se=0,oe=te.length;se<oe;se++)c.appendChild(te[se]);Q.appendChild(c),D.appendChild(Q),k=_(P)?c:P,A.push(c)}else J?(c.appendChild(Q),k=P):k=c;if(z&&U.nodeType===3)if(S(U)){const te=l.getParentElement(k,(function(se){return this._isMaintainedNode(se.parentNode)||se.parentNode===D}).bind(l));z.appendChild(te),c=te.cloneNode(!1),A.push(c),D.appendChild(c)}else z=null}if(!H&&U===V){let G=D;z=S(U);const J=l.createTextNode(V.nodeType===1?"":V.substringData(0,F)),Q=l.createTextNode(V.nodeType===1?"":V.substringData(F,V.length-F));if(z){const oe=S(k);if(oe&&oe.parentNode!==G){let ne=oe,re=null;for(;ne.parentNode!==G;){for(k=re=ne.parentNode.cloneNode(!1);ne.childNodes[0];)re.appendChild(ne.childNodes[0]);ne.appendChild(re),ne=ne.parentNode}ne.parentNode.appendChild(oe)}z=z.cloneNode(!1)}l.onlyZeroWidthSpace(J)||k.appendChild(J);const te=S(k);for(te&&(z=te),z&&(G=z),P=k,R=[];P!==G&&P!==null;)j=h(P),P.nodeType===1&&j&&R.push(j),P=P.parentNode;const se=R.pop()||k;for(I=P=se;R.length>0;)P=R.pop(),I.appendChild(P),I=P;se!==k?(c.appendChild(se),k=P):k=c,l.isBreak(U)&&c.appendChild(U.cloneNode(!1)),G.appendChild(c),V=Q,F=0,H=!0,k.appendChild(V);continue}j=H?h(U):U.cloneNode(!1),j&&(k.appendChild(j),U.nodeType===1&&!l.isBreak(U)&&(K=j)),O(U,K)}})(r,D),v&&!b&&!y.v)return{ancestor:r,container:m,offset:g,endContainer:x};if(b=b&&v,b)for(let O=0;O<A.length;O++){let B=A[O];const k=B.childNodes,M=k[0];for(;k[0];)D.insertBefore(k[0],B);l.removeItem(B),O===0&&(V=M)}else if(v){c=c.firstChild;for(let O=0;O<A.length;O++)this._stripRemoveNode(A[O])}if(!b&&D.childNodes.length===0)r.childNodes?V=r.childNodes[0]:(V=l.createTextNode(l.zeroWidthSpace),r.appendChild(V));else{l.removeEmptyNode(D,c,!1),l.onlyZeroWidthSpace(D.textContent)&&(V=D.firstChild,F=0);const O={s:0,e:0},B=l.getNodePath(V,D,O);F+=O.s;const k=l.mergeSameTags(D,[B],!0);r.parentNode.replaceChild(D,r),V=l.getNodeFromPath(B,D),F+=k[0]}return{ancestor:D,container:V,offset:F,endContainer:x}},_nodeChange_middleLine:function(r,c,h,m,g,b,v){if(!g){let x=null;v&&r.contains(v)&&(x=l.getNodePath(v,r));const N=r.cloneNode(!0),L=c.nodeName,A=c.style.cssText,D=c.className;let V=N.childNodes,F=0,H=V.length;for(let R;F<H&&(R=V[F],R.nodeType!==3);F++)if(R.nodeName===L)R.style.cssText+=A,l.addClass(R,D);else{if(!l.isBreak(R)&&l._isIgnoreNodeChange(R))continue;if(H===1){V=R.childNodes,H=V.length,F=-1;continue}else break}if(H>0&&F===H)return r.innerHTML=N.innerHTML,{ancestor:r,endContainer:x?l.getNodeFromPath(x,r):null}}b.v=!1;const y=r.cloneNode(!1),S=[c];let _=!0;if((function x(N,L){const A=N.childNodes;for(let D=0,V=A.length,F,H;D<V;D++){let R=A[D];if(!R)continue;let P=L;if(!l.isBreak(R)&&l._isIgnoreNodeChange(R)){if(c.childNodes.length>0&&(y.appendChild(c),c=c.cloneNode(!1)),H=R.cloneNode(!0),y.appendChild(H),y.appendChild(c),S.push(c),L=c,v&&R.contains(v)){const I=l.getNodePath(v,R);v=l.getNodeFromPath(I,H)}continue}else F=h(R),F&&(_=!1,L.appendChild(F),R.nodeType===1&&(P=F));l.isBreak(R)||x(R,P)}})(r,c),_||g&&!m&&!b.v)return{ancestor:r,endContainer:v};if(y.appendChild(c),m&&g)for(let x=0;x<S.length;x++){let N=S[x];const L=N.childNodes;for(;L[0];)y.insertBefore(L[0],N);l.removeItem(N)}else if(g){c=c.firstChild;for(let x=0;x<S.length;x++)this._stripRemoveNode(S[x])}return l.removeEmptyNode(y,c,!1),l.mergeSameTags(y,null,!0),r.parentNode.replaceChild(y,r),{ancestor:y,endContainer:v}},_nodeChange_endLine:function(r,c,h,m,g,b,v,y,S,_){let x=m.parentNode;for(;!x.nextSibling&&!x.previousSibling&&!l.isFormatElement(x.parentNode)&&!l.isWysiwygDiv(x.parentNode)&&x.nodeName!==c.nodeName;)x=x.parentNode;if(!v&&x.nodeName===c.nodeName&&!l.isFormatElement(x)&&!x.previousSibling&&l.onlyZeroWidthSpace(m.textContent.slice(g))){let z=!0,O=m.nextSibling;for(;O;){if(!l.onlyZeroWidthSpace(O)){z=!1;break}O=O.nextSibling}if(z)return l.copyTagAttributes(x,c),{ancestor:r,container:m,offset:g}}y.v=!1;const N=r,L=[c],A=r.cloneNode(!1);let D=m,V=g,F=!1,H,R,P,I;if((function z(O,B){const k=O.childNodes;for(let M=k.length-1,$;0<=M;M--){const W=k[M];if(!W)continue;let j=B;if(F&&!l.isBreak(W)){if(W.nodeType===1){if(l._isIgnoreNodeChange(W)){c=c.cloneNode(!1);const G=W.cloneNode(!0);A.insertBefore(G,B),A.insertBefore(c,G),L.push(c)}else z(W,W);continue}R=W,H=[];const q=[];for(;R.parentNode!==null&&R!==N&&R!==c;)$=h(R),$&&R.nodeType===1&&(_(R)?I||q.push($):H.push($)),R=R.parentNode;H=H.concat(q);const U=H.length>0,K=H.pop()||W;for(P=R=K;H.length>0;)R=H.pop(),P.appendChild(R),P=R;if(_(c.parentNode)&&!_(K)&&(c=c.cloneNode(!1),A.insertBefore(c,A.firstChild),L.push(c)),!I&&_(K)){c=c.cloneNode(!1);const G=K.childNodes;for(let J=0,Q=G.length;J<Q;J++)c.appendChild(G[J]);K.appendChild(c),A.insertBefore(K,A.firstChild),L.push(c),c.children.length>0?B=R:B=c}else U?(c.insertBefore(K,c.firstChild),B=R):B=c;if(I&&W.nodeType===3)if(S(W)){const G=l.getParentElement(B,(function(J){return this._isMaintainedNode(J.parentNode)||J.parentNode===A}).bind(l));I.appendChild(G),c=G.cloneNode(!1),L.push(c),A.insertBefore(c,A.firstChild)}else I=null}if(!F&&W===D){I=S(W);const q=l.createTextNode(D.nodeType===1?"":D.substringData(V,D.length-V)),U=l.createTextNode(D.nodeType===1?"":D.substringData(0,V));if(I){I=I.cloneNode(!1);const G=S(B);if(G&&G.parentNode!==A){let J=G,Q=null;for(;J.parentNode!==A;){for(B=Q=J.parentNode.cloneNode(!1);J.childNodes[0];)Q.appendChild(J.childNodes[0]);J.appendChild(Q),J=J.parentNode}J.parentNode.insertBefore(G,J.parentNode.firstChild)}I=I.cloneNode(!1)}else _(c.parentNode)&&!I&&(c=c.cloneNode(!1),A.appendChild(c),L.push(c));for(l.onlyZeroWidthSpace(q)||B.insertBefore(q,B.firstChild),R=B,H=[];R!==A&&R!==null;)$=_(R)?null:h(R),$&&R.nodeType===1&&H.push($),R=R.parentNode;const K=H.pop()||B;for(P=R=K;H.length>0;)R=H.pop(),P.appendChild(R),P=R;K!==B?(c.insertBefore(K,c.firstChild),B=R):B=c,l.isBreak(W)&&c.appendChild(W.cloneNode(!1)),I?(I.insertBefore(c,I.firstChild),A.insertBefore(I,A.firstChild),I=null):A.insertBefore(c,A.firstChild),D=U,V=U.data.length,F=!0,B.insertBefore(D,B.firstChild);continue}$=F?h(W):W.cloneNode(!1),$&&(B.insertBefore($,B.firstChild),W.nodeType===1&&!l.isBreak(W)&&(j=$)),z(W,j)}})(r,A),v&&!b&&!y.v)return{ancestor:r,container:m,offset:g};if(b=b&&v,b)for(let z=0;z<L.length;z++){let O=L[z];const B=O.childNodes;let k=null;for(;B[0];)k=B[0],A.insertBefore(k,O);l.removeItem(O),z===L.length-1&&(D=k,V=k.textContent.length)}else if(v){c=c.firstChild;for(let z=0;z<L.length;z++)this._stripRemoveNode(L[z])}if(!b&&A.childNodes.length===0)r.childNodes?D=r.childNodes[0]:(D=l.createTextNode(l.zeroWidthSpace),r.appendChild(D));else{if(!v&&c.textContent.length===0)return l.removeEmptyNode(A,null,!1),{ancestor:null,container:null,offset:0};l.removeEmptyNode(A,c,!1),l.onlyZeroWidthSpace(A.textContent)?(D=A.firstChild,V=D.textContent.length):l.onlyZeroWidthSpace(D)&&(D=c,V=1);const z={s:0,e:0},O=l.getNodePath(D,A,z);V+=z.s;const B=l.mergeSameTags(A,[O],!0);r.parentNode.replaceChild(A,r),D=l.getNodeFromPath(O,A),V+=B[0]}return{ancestor:A,container:D,offset:D.nodeType===1&&V===1?D.childNodes.length:V}},actionCall:function(r,c,h){if(c){if(/more/i.test(c)){if(h!==this._moreLayerActiveButton){const m=t.element.toolbar.querySelector("."+r);m&&(this._moreLayerActiveButton&&this.moreLayerOff(),this._moreLayerActiveButton=h,m.style.display="block",p._showToolbarBalloon(),p._showToolbarInline()),l.addClass(h,"on")}else t.element.toolbar.querySelector("."+this._moreLayerActiveButton.getAttribute("data-command"))&&(this.moreLayerOff(),p._showToolbarBalloon(),p._showToolbarInline());return}if(/container/.test(c)&&(this._menuTray[r]===null||h!==this.containerActiveButton)){this.callPlugin(r,this.containerOn.bind(this,h),h);return}if(this.isReadOnly&&l.arrayIncludes(this.resizingDisabledButtons,h))return;if(/submenu/.test(c)&&(this._menuTray[r]===null||h!==this.submenuActiveButton)){this.callPlugin(r,this.submenuOn.bind(this,h),h);return}else if(/dialog/.test(c)){this.callPlugin(r,this.plugins[r].open.bind(this),h);return}else/command/.test(c)?this.callPlugin(r,this.plugins[r].action.bind(this),h):/fileBrowser/.test(c)&&this.callPlugin(r,this.plugins[r].open.bind(this,null),h)}else r&&this.commandHandler(h,r);/submenu/.test(c)?this.submenuOff():/command/.test(c)||(this.submenuOff(),this.containerOff())},commandHandler:function(r,c){if(!(u.isReadOnly&&!/copy|cut|selectAll|codeView|fullScreen|print|preview|showBlocks/.test(c)))switch(c){case"copy":case"cut":this.execCommand(c);break;case"paste":break;case"selectAll":this.containerOff();const h=t.element.wysiwyg;let m=l.getChildElement(h.firstChild,function(S){return S.childNodes.length===0||S.nodeType===3},!1)||h.firstChild,g=l.getChildElement(h.lastChild,function(S){return S.childNodes.length===0||S.nodeType===3},!0)||h.lastChild;if(!m||!g)return;if(l.isMedia(m)){const S=this.getFileComponent(m),_=l.createElement("BR"),x=l.createElement(s.defaultTag);x.appendChild(_),m=S?S.component:m,m.parentNode.insertBefore(x,m),m=_}if(l.isMedia(g)){const S=l.createElement("BR"),_=l.createElement(s.defaultTag);_.appendChild(S),h.appendChild(_),g=S}p._showToolbarBalloon(this.setRange(m,0,g,g.textContent.length));break;case"codeView":this.toggleCodeView();break;case"fullScreen":this.toggleFullScreen(r);break;case"indent":case"outdent":this.indent(c);break;case"undo":this.history.undo();break;case"redo":this.history.redo();break;case"removeFormat":this.removeFormat(),this.focus();break;case"print":this.print();break;case"preview":this.preview();break;case"showBlocks":this.toggleDisplayBlocks();break;case"dir":this.setDir(s.rtl?"ltr":"rtl");break;case"dir_ltr":this.setDir("ltr");break;case"dir_rtl":this.setDir("rtl");break;case"save":if(typeof s.callBackSave=="function")s.callBackSave(this.getContents(!1),this._variable.isChanged);else if(this._variable.isChanged&&typeof C.save=="function")C.save();else throw Error("[SUNEDITOR.core.commandHandler.fail] Please register call back function in creation option. (callBackSave : Function)");this._variable.isChanged=!1,t.tool.save&&t.tool.save.setAttribute("disabled",!0);break;default:c=s._defaultCommand[c.toLowerCase()]||c,this.commandMap[c]||(this.commandMap[c]=r);const b=this._variable.currentNodesMap,v=b.indexOf(c)>-1?null:l.createElement(c);let y=c;/^SUB$/i.test(c)&&b.indexOf("SUP")>-1?y="SUP":/^SUP$/i.test(c)&&b.indexOf("SUB")>-1&&(y="SUB"),this.nodeChange(v,this._commandMapStyles[c]||null,[y],!1),this.focus()}},removeFormat:function(){this.nodeChange(null,null,null,null)},indent:function(r){const c=this.getRange(),h=this.getSelectedElements(null),m=[],g=r!=="indent",b=s.rtl?"marginRight":"marginLeft";let v=c.startContainer,y=c.endContainer,S=c.startOffset,_=c.endOffset;for(let x=0,N=h.length,L,A;x<N;x++)L=h[x],!l.isListCell(L)||!this.plugins.list?(A=/\d+/.test(L.style[b])?l.getNumber(L.style[b],0):0,g?A-=25:A+=25,l.setStyle(L,b,A<=0?"":A+"px")):(g||L.previousElementSibling)&&m.push(L);m.length>0&&this.plugins.list.editInsideList.call(this,g,m),this.effectNode=null,this.setRange(v,S,y,_),this.history.push(!1)},toggleDisplayBlocks:function(){const r=t.element.wysiwyg;l.toggleClass(r,"se-show-block"),l.hasClass(r,"se-show-block")?l.addClass(this._styleCommandMap.showBlocks,"active"):l.removeClass(this._styleCommandMap.showBlocks,"active"),this._resourcesStateChange()},toggleCodeView:function(){const r=this._variable.isCodeView;this.controllersOff(),l.setDisabledButtons(!r,this.codeViewDisabledButtons),r?(l.isNonEditable(t.element.wysiwygFrame)||this._setCodeDataToEditor(),t.element.wysiwygFrame.scrollTop=0,t.element.code.style.display="none",t.element.wysiwygFrame.style.display="block",this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height="0px"),this._variable.isCodeView=!1,this._variable.isFullScreen||(this._notHideToolbar=!1,/balloon|balloon-always/i.test(s.mode)&&(t.element._arrow.style.display="",this._isInline=!1,this._isBalloon=!0,p._hideToolbar())),this.nativeFocus(),l.removeClass(this._styleCommandMap.codeView,"active"),l.isNonEditable(t.element.wysiwygFrame)||(this.history.push(!1),this.history._resetCachingButton())):(this._setEditorDataToCodeView(),this._variable._codeOriginCssText=this._variable._codeOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: block"),this._variable._wysiwygOriginCssText=this._variable._wysiwygOriginCssText.replace(/(\s?display(\s+)?:(\s+)?)[a-zA-Z]+(?=;)/,"display: none"),this._variable.isFullScreen?t.element.code.style.height="100%":s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.style.height=t.element.code.scrollHeight>0?t.element.code.scrollHeight+"px":"auto"),s.codeMirrorEditor&&s.codeMirrorEditor.refresh(),this._variable.isCodeView=!0,this._variable.isFullScreen||(this._notHideToolbar=!0,this._isBalloon&&(t.element._arrow.style.display="none",t.element.toolbar.style.left="",this._isInline=!0,this._isBalloon=!1,p._showToolbarInline())),this._variable._range=null,t.element.code.focus(),l.addClass(this._styleCommandMap.codeView,"active")),this._checkPlaceholder(),this.isReadOnly&&l.setDisabledButtons(!0,this.resizingDisabledButtons),typeof C.toggleCodeView=="function"&&C.toggleCodeView(this._variable.isCodeView,this)},_setCodeDataToEditor:function(){const r=this._getCodeView();if(s.fullPage){const c=this._parser.parseFromString(r,"text/html");if(!this.options.__allowedScriptTag){const g=c.head.children;for(let b=0,v=g.length;b<v;b++)/^script$/i.test(g[b].tagName)&&(c.head.removeChild(g[b]),b--,v--)}let h=c.head.innerHTML;(!c.head.querySelector('link[rel="stylesheet"]')||this.options.height==="auto"&&!c.head.querySelector("style"))&&(h+=l._setIframeCssTags(this.options)),this._wd.head.innerHTML=h,this._wd.body.innerHTML=this.convertContentsForEditor(c.body.innerHTML);const m=c.body.attributes;for(let g=0,b=m.length;g<b;g++)m[g].name!=="contenteditable"&&this._wd.body.setAttribute(m[g].name,m[g].value);if(!l.hasClass(this._wd.body,"sun-editor-editable")){const g=s._editableClass.split(" ");for(let b=0;b<g.length;b++)l.addClass(this._wd.body,s._editableClass[b])}}else t.element.wysiwyg.innerHTML=r.length>0?this.convertContentsForEditor(r):"<"+s.defaultTag+"><br></"+s.defaultTag+">"},_setEditorDataToCodeView:function(){const r=this.convertHTMLForCodeView(t.element.wysiwyg,!1);let c="";if(s.fullPage){const h=l.getAttributesToString(this._wd.body,null);c=`<!DOCTYPE html>
<html>
`+this._wd.head.outerHTML.replace(/>(?!\n)/g,`>
`)+"<body "+h+`>
`+r+`</body>
</html>`}else c=r;t.element.code.style.display="block",t.element.wysiwygFrame.style.display="none",this._setCodeView(c)},toggleFullScreen:function(r){const c=t.element.topArea,h=t.element.toolbar,m=t.element.editorArea,g=t.element.wysiwygFrame,b=t.element.code,v=this._variable;this.controllersOff();const y=h.style.display==="none"||this._isInline&&!this._inlineToolbarAttr.isShow;v.isFullScreen?(v.isFullScreen=!1,g.style.cssText=v._wysiwygOriginCssText,b.style.cssText=v._codeOriginCssText,h.style.cssText="",m.style.cssText=v._editorAreaOriginCssText,c.style.cssText=v._originCssText,a.body.style.overflow=v._bodyOverflow,s.height==="auto"&&!s.codeMirrorEditor&&p._codeViewAutoHeight(),s.toolbarContainer&&s.toolbarContainer.appendChild(h),s.stickyToolbar>-1&&l.removeClass(h,"se-toolbar-sticky"),v._fullScreenAttrs.sticky&&!s.toolbarContainer&&(v._fullScreenAttrs.sticky=!1,t.element._stickyDummy.style.display="block",l.addClass(h,"se-toolbar-sticky")),this._isInline=v._fullScreenAttrs.inline,this._isBalloon=v._fullScreenAttrs.balloon,this._isInline&&p._showToolbarInline(),s.toolbarContainer&&l.removeClass(h,"se-toolbar-balloon"),p.onScroll_window(),r&&l.changeElement(r.firstElementChild,f.expansion),t.element.topArea.style.marginTop="",l.removeClass(this._styleCommandMap.fullScreen,"active")):(v.isFullScreen=!0,v._fullScreenAttrs.inline=this._isInline,v._fullScreenAttrs.balloon=this._isBalloon,(this._isInline||this._isBalloon)&&(this._isInline=!1,this._isBalloon=!1),s.toolbarContainer&&t.element.relative.insertBefore(h,m),c.style.position="fixed",c.style.top="0",c.style.left="0",c.style.width="100%",c.style.maxWidth="100%",c.style.height="100%",c.style.zIndex="2147483647",t.element._stickyDummy.style.display!==""&&(v._fullScreenAttrs.sticky=!0,t.element._stickyDummy.style.display="none",l.removeClass(h,"se-toolbar-sticky")),v._bodyOverflow=a.body.style.overflow,a.body.style.overflow="hidden",v._editorAreaOriginCssText=m.style.cssText,v._wysiwygOriginCssText=g.style.cssText,v._codeOriginCssText=b.style.cssText,m.style.cssText=h.style.cssText="",g.style.cssText=(g.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0]+s._editorStyles.editor,b.style.cssText=(b.style.cssText.match(/\s?display(\s+)?:(\s+)?[a-zA-Z]+;/)||[""])[0],h.style.width=g.style.height=b.style.height="100%",h.style.position="relative",h.style.display="block",v.innerHeight_fullScreen=d.innerHeight-h.offsetHeight,m.style.height=v.innerHeight_fullScreen-s.fullScreenOffset+"px",r&&l.changeElement(r.firstElementChild,f.reduction),s.iframe&&s.height==="auto"&&(m.style.overflow="auto",this._iframeAutoHeight()),t.element.topArea.style.marginTop=s.fullScreenOffset+"px",l.addClass(this._styleCommandMap.fullScreen,"active")),y&&C.toolbar.hide(),typeof C.toggleFullScreen=="function"&&C.toggleFullScreen(this._variable.isFullScreen,this)},print:function(){const r=l.createElement("IFRAME");r.style.display="none",a.body.appendChild(r);const c=s.printTemplate?s.printTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),h=l.getIframeDocument(r),m=this._wd;if(s.iframe){const g=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(m.body,["contenteditable"]):'class="'+s._editableClass+'"';h.write("<!DOCTYPE html><html><head>"+m.head.innerHTML+"</head><body "+g+">"+c+"</body></html>")}else{const g=a.head.getElementsByTagName("link"),b=a.head.getElementsByTagName("style");let v="";for(let y=0,S=g.length;y<S;y++)v+=g[y].outerHTML;for(let y=0,S=b.length;y<S;y++)v+=b[y].outerHTML;h.write("<!DOCTYPE html><html><head>"+v+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'">'+c+"</body></html>")}this.showLoading(),d.setTimeout(function(){try{if(r.focus(),l.isIE_Edge||l.isChromium||a.documentMode||d.StyleMedia)try{r.contentWindow.document.execCommand("print",!1,null)}catch{r.contentWindow.print()}else r.contentWindow.print()}catch(g){throw Error("[SUNEDITOR.core.print.fail] error: "+g)}finally{u.closeLoading(),l.removeItem(r)}},1e3)},preview:function(){u.submenuOff(),u.containerOff(),u.controllersOff();const r=s.previewTemplate?s.previewTemplate.replace(/\{\{\s*contents\s*\}\}/i,this.getContents(!0)):this.getContents(!0),c=d.open("","_blank");c.mimeType="text/html";const h=this._wd;if(s.iframe){const m=s._printClass!==null?'class="'+s._printClass+'"':s.fullPage?l.getAttributesToString(h.body,["contenteditable"]):'class="'+s._editableClass+'"';c.document.write("<!DOCTYPE html><html><head>"+h.head.innerHTML+"<style>body {overflow:auto !important; margin: 10px auto !important; height:auto !important; outline:1px dashed #ccc;}</style></head><body "+m+">"+r+"</body></html>")}else{const m=a.head.getElementsByTagName("link"),g=a.head.getElementsByTagName("style");let b="";for(let v=0,y=m.length;v<y;v++)b+=m[v].outerHTML;for(let v=0,y=g.length;v<y;v++)b+=g[v].outerHTML;c.document.write('<!DOCTYPE html><html><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><title>'+n.toolbar.preview+"</title>"+b+'</head><body class="'+(s._printClass!==null?s._printClass:s._editableClass)+'" style="margin:10px auto !important; height:auto !important; outline:1px dashed #ccc;">'+r+"</body></html>")}},setDir:function(r){const c=r==="rtl",h=this._prevRtl!==c;this._prevRtl=s.rtl=c,h&&(this.plugins.align&&this.plugins.align.exchangeDir.call(this),t.tool.indent&&l.changeElement(t.tool.indent.firstElementChild,f.indent),t.tool.outdent&&l.changeElement(t.tool.outdent.firstElementChild,f.outdent));const m=t.element;c?(l.addClass(m.topArea,"se-rtl"),l.addClass(m.wysiwygFrame,"se-rtl")):(l.removeClass(m.topArea,"se-rtl"),l.removeClass(m.wysiwygFrame,"se-rtl"));const g=l.getListChildren(m.wysiwyg,function(v){return l.isFormatElement(v)&&(v.style.marginRight||v.style.marginLeft||v.style.textAlign)});for(let v=0,y=g.length,S,_,x;v<y;v++)S=g[v],x=S.style.marginRight,_=S.style.marginLeft,(x||_)&&(S.style.marginRight=_,S.style.marginLeft=x),x=S.style.textAlign,x==="left"?S.style.textAlign="right":x==="right"&&(S.style.textAlign="left");const b=t.tool;b.dir&&(l.changeTxt(b.dir.querySelector(".se-tooltip-text"),n.toolbar[s.rtl?"dir_ltr":"dir_rtl"]),l.changeElement(b.dir.firstElementChild,f[s.rtl?"dir_ltr":"dir_rtl"])),b.dir_ltr&&(c?l.removeClass(b.dir_ltr,"active"):l.addClass(b.dir_ltr,"active")),b.dir_rtl&&(c?l.addClass(b.dir_rtl,"active"):l.removeClass(b.dir_rtl,"active"))},setContents:function(r){this.removeRange();const c=r==null?"":this.convertContentsForEditor(r,null,null);if(!this._variable.isCodeView)t.element.wysiwyg.innerHTML=c,this._resetComponents(),this.history.push(!1);else{const h=this.convertHTMLForCodeView(c,!1);this._setCodeView(h)}},setIframeContents:function(r){if(!s.iframe)return!1;r.head&&(this._wd.head.innerHTML=this.options.__allowedScriptTag?r.head:r.head.replace(this.__scriptTagRegExp,"")),r.body&&(this._wd.body.innerHTML=this.convertContentsForEditor(r.body)),this._resetComponents()},getContents:function(r){const c=this.cleanHTML(t.element.wysiwyg.innerHTML,null,null),h=l.createElement("DIV");h.innerHTML=c;const m=l.getListChildren(h,function(g){return g.hasAttribute("contenteditable")});for(let g=0,b=m.length;g<b;g++)m[g].removeAttribute("contenteditable");if(s.fullPage&&!r){const g=l.getAttributesToString(this._wd.body,["contenteditable"]);return"<!DOCTYPE html><html>"+this._wd.head.outerHTML+"<body "+g+">"+h.innerHTML+"</body></html>"}else return h.innerHTML},getFullContents:function(r){return'<div class="sun-editor-editable'+(s.rtl?" se-rtl":"")+'">'+this.getContents(r)+"</div>"},_makeLine:function(r,c){const h=s.defaultTag;if(r.nodeType===1){if(this.__disallowedTagNameRegExp.test(r.nodeName))return"";if(/__se__tag/.test(r.className))return r.outerHTML;const m=l.getListChildNodes(r,function(g){return l.isSpanWithoutAttr(g)&&!l.getParentElement(g,l.isNotCheckingNode)})||[];for(let g=m.length-1;g>=0;g--)m[g].outerHTML=m[g].innerHTML;return!c||l.isFormatElement(r)||l.isRangeFormatElement(r)||l.isComponent(r)||l.isFigures(r)||l.isAnchor(r)&&l.isMedia(r.firstElementChild)?l.isSpanWithoutAttr(r)?r.innerHTML:r.outerHTML:"<"+h+">"+(l.isSpanWithoutAttr(r)?r.innerHTML:r.outerHTML)+"</"+h+">"}if(r.nodeType===3){if(!c)return l._HTMLConvertor(r.textContent);const m=r.textContent.split(/\n/g);let g="";for(let b=0,v=m.length,y;b<v;b++)y=m[b].trim(),y.length>0&&(g+="<"+h+">"+l._HTMLConvertor(y)+"</"+h+">");return g}return r.nodeType===8&&this._allowHTMLComments?"<!--"+r.textContent.trim()+"-->":""},_tagConvertor:function(r){if(!this._disallowedTextTagsRegExp)return r;const c=s._textTagsMap;return r.replace(this._disallowedTextTagsRegExp,function(h,m,g,b){return m+(typeof c[g]=="string"?c[g]:g)+(b?" "+b:"")})},_deleteDisallowedTags:function(r){return r=r.replace(this.__disallowedTagsRegExp,"").replace(/<[a-z0-9]+\:[a-z0-9]+[^>^\/]*>[^>]*<\/[a-z0-9]+\:[a-z0-9]+>/gi,""),/\bfont\b/i.test(this.options._editorTagsWhitelist)||(r=r.replace(/(<\/?)font(\s?)/gi,"$1span$2")),r.replace(this.editorTagsWhitelistRegExp,"").replace(this.editorTagsBlacklistRegExp,"")},_convertFontSize:function(r,c){const h=this._w.Math,m=c.match(/(\d+(?:\.\d+)?)(.+)/),g=m?m[1]*1:l.fontValueMap[c],b=m?m[2]:"rem";let v=g;switch(/em/.test(b)?v=h.round(g/.0625):b==="pt"?v=h.round(g*1.333):b==="%"&&(v=g/100),r){case"em":case"rem":case"%":return(v*.0625).toFixed(2)+r;case"pt":return h.round(v/1.333)+r;default:return v+r}},_cleanStyle:function(r,c,h){let m=(r.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/)||[])[0];if(/span/i.test(h)&&!m&&(r.match(/<[^\s]+\s(.+)/)||[])[1]){const g=(r.match(/\ssize="([^"]+)"/i)||[])[1],b=(r.match(/\sface="([^"]+)"/i)||[])[1],v=(r.match(/\scolor="([^"]+)"/i)||[])[1];(g||b||v)&&(m='style="'+(g?"font-size:"+this.util.getNumber(g/3.333,1)+"rem;":"")+(b?"font-family:"+b+";":"")+(v?"color:"+v+";":"")+'"')}if(m){c||(c=[]);const g=m.replace(/&quot;/g,"").match(this._cleanStyleRegExp[h]);if(g){const b=[];for(let v=0,y=g.length,S;v<y;v++)if(S=g[v].match(/([a-zA-Z0-9-]+)(:)([^"']+)/),S&&!/inherit|initial|revert|unset/i.test(S[3])){const _=l.kebabToCamelCase(S[1].trim()),x=this.wwComputedStyle[_]?this.wwComputedStyle[_].replace(/"/g,""):"",N=S[3].trim();switch(_){case"fontFamily":if(!s.plugins.font||s.font.indexOf(N)===-1)continue;break;case"fontSize":if(!s.plugins.fontSize)continue;this._cleanStyleRegExp.fontSizeUnit.test(S[0])||(S[0]=S[0].replace((S[0].match(/:\s*([^;]+)/)||[])[1],this._convertFontSize.bind(this,s.fontSizeUnit)));break;case"color":if(!s.plugins.fontColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(N))continue;break;case"backgroundColor":if(!s.plugins.hiliteColor||/rgba\(([0-9]+\s*,\s*){3}0\)|windowtext/i.test(N))continue;break}x!==N&&b.push(S[0])}b.length>0&&c.push('style="'+b.join(";")+'"')}}return c},_cleanTags:function(r,c,h){if(/^<[a-z0-9]+\:[a-z0-9]+/i.test(c))return c;let m=null;const g=h.match(/(?!<)[a-zA-Z0-9\-]+/)[0].toLowerCase(),b=this._attributesTagsBlacklist[g];c=c.replace(/\s(?:on[a-z]+)\s*=\s*(")[^"]*\1/ig,""),b?c=c.replace(b,""):c=c.replace(this._attributesBlacklistRegExp,"");const v=this._attributesTagsWhitelist[g];if(v?m=c.match(v):m=c.match(r?this._attributesWhitelistRegExp:this._attributesWhitelistRegExp_all_data),r||g==="span"||g==="li"||this._cleanStyleRegExp[g])if(g==="a"){const y=c.match(/(?:(?:id|name)\s*=\s*(?:"|')[^"']*(?:"|'))/g);y&&(m||(m=[]),m.push(y[0]))}else(!m||!/style=/i.test(m.toString()))&&((g==="span"||g==="li")&&(m=this._cleanStyle(c,m,"span")),this._cleanStyleRegExp[g]?m=this._cleanStyle(c,m,g):/^(P|DIV|H[1-6]|PRE)$/i.test(g)&&(m=this._cleanStyle(c,m,"format")));else{const y=c.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);y&&!m?m=[y[0]]:y&&!m.some(function(S){return/^style/.test(S.trim())})&&m.push(y[0])}if(l.isFigures(g)){const y=c.match(/style\s*=\s*(?:"|')[^"']*(?:"|')/);m||(m=[]),y&&m.push(y[0])}if(m)for(let y=0,S=m.length,_;y<S;y++)_=/^(?:href|src)\s*=\s*('|"|\s)*javascript\s*\:/i.test(m[y].trim())?"":m[y],h+=(/^\s/.test(_)?"":" ")+_;return h},_editFormat:function(r){let c="",h;const m=r.childNodes;for(let g=0,b=m.length,v;g<b;g++)v=m[g],v.nodeType===8?c+="<!-- "+v.textContent+" -->":!l.isFormatElement(v)&&!l.isRangeFormatElement(v)&&!l.isComponent(v)&&!/meta/i.test(v.nodeName)?(h||(h=l.createElement(s.defaultTag)),l.isTextStyleElement(v)&&v.removeAttribute("style"),h.appendChild(v),g--,b--):(h&&(c+=h.outerHTML,h=null),c+=v.outerHTML);return h&&(c+=h.outerHTML),a.createRange().createContextualFragment(c)},_convertListCell:function(r){let c="";for(let h=0,m=r.length,g;h<m;h++)g=r[h],g.nodeType===1?l.isList(g)?c+=g.innerHTML:l.isListCell(g)?c+=g.outerHTML:l.isFormatElement(g)?c+="<li>"+(g.innerHTML.trim()||"<br>")+"</li>":l.isRangeFormatElement(g)&&!l.isTable(g)?c+=this._convertListCell(g):c+="<li>"+g.outerHTML+"</li>":c+="<li>"+(g.textContent||"<br>")+"</li>";return c},_isFormatData:function(r){let c=!1;for(let h=0,m=r.length,g;h<m;h++)if(g=r[h],g.nodeType===1&&!l.isTextStyleElement(g)&&!l.isBreak(g)&&!this.__disallowedTagNameRegExp.test(g.nodeName)){c=!0;break}return c},cleanHTML:function(r,c,h){if(!s.strictMode)return l.htmlCompress(r);r=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(r),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0)).replace(/<br\/?>$/i,"");const m=a.createRange().createContextualFragment(r);try{l._consistencyCheckOfHTML(m,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(y){console.warn("[SUNEDITOR.cleanHTML.consistencyCheck.fail] "+y)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const y=m.querySelectorAll(this.managedTagsInfo.query);for(let S=0,_=y.length,x,N;S<_;S++){N=[].slice.call(y[S].classList);for(let L=0,A=N.length;L<A;L++)if(x=this.managedTagsInfo.map[N[L]],x){x(y[S]);break}}}let g=m.childNodes,b="";const v=this._isFormatData(g);v&&(g=this._editFormat(m).childNodes);for(let y=0,S=g.length,_;y<S;y++){if(_=g[y],this.__allowedScriptRegExp.test(_.nodeName)){b+=_.outerHTML;continue}b+=this._makeLine(_,v)}return b=l.htmlRemoveWhiteSpace(b),b?(c&&(b=b.replace(typeof c=="string"?l.createTagsWhitelist(c):c,"")),h&&(b=b.replace(typeof h=="string"?l.createTagsBlacklist(h):h,""))):b=r,this._tagConvertor(b)},convertContentsForEditor:function(r){if(!s.strictMode)return l.htmlCompress(r);r=this._deleteDisallowedTags(this._parser.parseFromString(l.htmlCompress(r),"text/html").body.innerHTML).replace(/(<[a-zA-Z0-9\-]+)[^>]*(?=>)/g,this._cleanTags.bind(this,!0));const c=a.createRange().createContextualFragment(r);try{l._consistencyCheckOfHTML(c,this._htmlCheckWhitelistRegExp,this._htmlCheckBlacklistRegExp,this._classNameFilter,s.strictHTMLValidation)}catch(b){console.warn("[SUNEDITOR.convertContentsForEditor.consistencyCheck.fail] "+b)}if(this.managedTagsInfo&&this.managedTagsInfo.query){const b=c.querySelectorAll(this.managedTagsInfo.query);for(let v=0,y=b.length,S,_;v<y;v++){_=[].slice.call(b[v].classList);for(let x=0,N=_.length;x<N;x++)if(S=this.managedTagsInfo.map[_[x]],S){S(b[v]);break}}}const h=c.childNodes;let m="",g=null;for(let b=0,v;b<h.length;b++){if(v=h[b],this.__allowedScriptRegExp.test(v.nodeName)){m+=v.outerHTML;continue}if(!l.isFormatElement(v)&&!l.isRangeFormatElement(v)&&!l.isComponent(v)&&!l.isFigures(v)&&v.nodeType!==8&&!/__se__tag/.test(v.className)){if(g||(g=l.createElement(s.defaultTag)),g.appendChild(v),b--,h[b+1]&&!l.isFormatElement(h[b+1]))continue;v=g,g=null}g&&(m+=this._makeLine(g,!0),g=null),m+=this._makeLine(v,!0)}return g&&(m+=this._makeLine(g,!0)),m.length===0?"<"+s.defaultTag+"><br></"+s.defaultTag+">":(m=l.htmlRemoveWhiteSpace(m),this._tagConvertor(m))},convertHTMLForCodeView:function(r,c){let h="";const m=d.RegExp,g=new m("^(BLOCKQUOTE|PRE|TABLE|THEAD|TBODY|TR|TH|TD|OL|UL|IMG|IFRAME|VIDEO|AUDIO|FIGURE|FIGCAPTION|HR|BR|CANVAS|SELECT)$","i"),b=typeof r=="string"?a.createRange().createContextualFragment(r):r,v=(function(_){return this.isFormatElement(_)||this.isComponent(_)}).bind(l),y=c?"":`
`;let S=c?0:this._variable.codeIndent*1;return S=S>0?new d.Array(S+1).join(" "):"",(function _(x,N){const L=x.childNodes,A=g.test(x.nodeName),D=A?N:"";for(let V=0,F=L.length,H,R,P,I,z,O;V<F;V++){if(H=L[V],I=g.test(H.nodeName),R=I?y:"",P=v(H)&&!A&&!/^(TH|TD)$/i.test(x.nodeName)?y:"",H.nodeType===8){h+=`
<!-- `+H.textContent.trim()+" -->"+R;continue}if(H.nodeType===3){l.isList(H.parentElement)||(h+=l._HTMLConvertor(/^\n+$/.test(H.data)?"":H.data));continue}if(H.childNodes.length===0){h+=(/^HR$/i.test(H.nodeName)?y:"")+(/^PRE$/i.test(H.parentElement.nodeName)&&/^BR$/i.test(H.nodeName)?"":D)+H.outerHTML+R;continue}H.outerHTML?(z=H.nodeName.toLowerCase(),O=D||I?N:"",h+=(P||(A?"":R))+O+H.outerHTML.match(m("<"+z+"[^>]*>","i"))[0]+R,_(H,N+S),h+=(/\n$/.test(h)?O:"")+"</"+z+">"+(P||R||A||/^(TH|TD)$/i.test(H.nodeName)?y:"")):h+=new d.XMLSerializer().serializeToString(H)}})(b,""),h.trim()+y},addDocEvent:function(r,c,h){a.addEventListener(r,c,h),s.iframe&&this._wd.addEventListener(r,c)},removeDocEvent:function(r,c){a.removeEventListener(r,c),s.iframe&&this._wd.removeEventListener(r,c)},_charCount:function(r){const c=s.maxCharCount,h=s.charCounterType;let m=0;if(r&&(m=this.getCharLength(r,h)),this._setCharCount(),c>0){let g=!1;const b=C.getCharCount(h);if(b>c){if(g=!0,m>0){this._editorRange();const v=this.getRange(),y=v.endOffset-1,S=this.getSelectionNode().textContent,_=v.endOffset-(b-c);this.getSelectionNode().textContent=S.slice(0,_<0?0:_)+S.slice(v.endOffset,S.length),this.setRange(v.endContainer,y,v.endContainer,y)}}else b+m>c&&(g=!0);if(g&&(this._callCounterBlink(),m>0))return!1}return!0},checkCharCount:function(r,c){if(s.maxCharCount){const h=c||s.charCounterType,m=this.getCharLength(typeof r=="string"?r:this._charTypeHTML&&r.nodeType===1?r.outerHTML:r.textContent,h);if(m>0&&m+C.getCharCount(h)>s.maxCharCount)return this._callCounterBlink(),!1}return!0},getCharLength:function(r,c){return/byte/.test(c)?l.getByteLength(r):r.length},resetResponsiveToolbar:function(){u.controllersOff();const r=p._responsiveButtonSize;if(r){let c=0;(u._isBalloon||u._isInline)&&s.toolbarWidth==="auto"?c=t.element.topArea.offsetWidth:c=t.element.toolbar.offsetWidth;let h="default";for(let m=1,g=r.length;m<g;m++)if(c<r[m]){h=r[m]+"";break}p._responsiveCurrentSize!==h&&(p._responsiveCurrentSize=h,C.setToolbarButtons(p._responsiveButtons[h]))}},_setCharCount:function(){t.element.charCounter&&d.setTimeout((function(r,c){this.textContent&&r&&(this.textContent=r.getCharCount(c.charCounterType))}).bind(t.element.charCounter,C,s),0)},_callCounterBlink:function(){const r=t.element.charWrapper;r&&!l.hasClass(r,"se-blink")&&(l.addClass(r,"se-blink"),d.setTimeout(function(){l.removeClass(r,"se-blink")},600))},_checkComponents:function(){for(let r=0,c=this._fileInfoPluginsCheck.length;r<c;r++)this._fileInfoPluginsCheck[r]()},_resetComponents:function(){for(let r=0,c=this._fileInfoPluginsReset.length;r<c;r++)this._fileInfoPluginsReset[r]()},_setCodeView:function(r){s.codeMirrorEditor?s.codeMirrorEditor.getDoc().setValue(r):t.element.code.value=r},_getCodeView:function(){return s.codeMirrorEditor?s.codeMirrorEditor.getDoc().getValue():t.element.code.value},_setKeyEffect:function(r){const c=this.commandMap,h=this.activePlugins;for(let m in c)r.indexOf(m)>-1||!l.hasOwn(c,m)||(h.indexOf(m)>-1?i[m].active.call(this,null):c.OUTDENT&&/^OUTDENT$/i.test(m)?l.isImportantDisabled(c.OUTDENT)||c.OUTDENT.setAttribute("disabled",!0):c.INDENT&&/^INDENT$/i.test(m)?l.isImportantDisabled(c.INDENT)||c.INDENT.removeAttribute("disabled"):l.removeClass(c[m],"active"))},_init:function(r,c){const h=d.RegExp;this._ww=s.iframe?t.element.wysiwygFrame.contentWindow:d,this._wd=a,this._charTypeHTML=s.charCounterType==="byte-html",this.wwComputedStyle=d.getComputedStyle(t.element.wysiwyg),this._editorHeight=t.element.wysiwygFrame.offsetHeight,this._editorHeightPadding=l.getNumber(this.wwComputedStyle.getPropertyValue("padding-top"))+l.getNumber(this.wwComputedStyle.getPropertyValue("padding-bottom")),this._classNameFilter=(function(I){return this.test(I)?I:""}).bind(s.allowedClassNames);const m=s.__allowedScriptTag?"":"script|";if(this.__scriptTagRegExp=new h("<(script)[^>]*>([\\s\\S]*?)<\\/\\1>|<script[^>]*\\/?>","gi"),this.__disallowedTagsRegExp=new h("<("+m+"style)[^>]*>([\\s\\S]*?)<\\/\\1>|<("+m+"style)[^>]*\\/?>","gi"),this.__disallowedTagNameRegExp=new h("^("+m+"meta|link|style|[a-z]+:[a-z]+)$","i"),this.__allowedScriptRegExp=new h("^"+(s.__allowedScriptTag?"script":"")+"$","i"),!s.iframe&&typeof d.ShadowRoot=="function"){let I=t.element.wysiwygFrame;for(;I;){if(I.shadowRoot){this._shadowRoot=I.shadowRoot;break}else if(I instanceof d.ShadowRoot){this._shadowRoot=I;break}I=I.parentNode}this._shadowRoot&&(this._shadowRootControllerEventTarget=[])}const g=d.Object.keys(s._textTagsMap),b=s.addTagsWhitelist?s.addTagsWhitelist.split("|").filter(function(I){return/b|i|ins|s|strike/i.test(I)}):[];for(let I=0;I<b.length;I++)g.splice(g.indexOf(b[I].toLowerCase()),1);this._disallowedTextTagsRegExp=g.length===0?null:new h("(<\\/?)("+g.join("|")+")\\b\\s*([^>^<]+)?\\s*(?=>)","gi");const v=function(I,z){return I?I==="*"?"[a-z-]+":z?I+"|"+z:I:"^"},_="contenteditable|colspan|rowspan|target|href|download|rel|src|alt|class|type|origin-size"+"|controls|autoplay|loop|muted|poster|preload|playsinline"+"|allowfullscreen|sandbox|loading|allow|referrerpolicy|frameborder|scrolling",x="data-format|data-size|data-file-size|data-file-name|data-origin|data-align|data-image-link|data-rotate|data-proportion|data-percentage|data-exp|data-font-size";this._allowHTMLComments=s._editorTagsWhitelist.indexOf("//")>-1||s._editorTagsWhitelist==="*",this._htmlCheckWhitelistRegExp=new h("^("+v(s._editorTagsWhitelist.replace("|//",""),"")+")$","i"),this._htmlCheckBlacklistRegExp=new h("^("+(s.tagsBlacklist||"^")+")$","i"),this.editorTagsWhitelistRegExp=l.createTagsWhitelist(v(s._editorTagsWhitelist.replace("|//","|<!--|-->"),"")),this.editorTagsBlacklistRegExp=l.createTagsBlacklist(s.tagsBlacklist.replace("|//","|<!--|-->")),this.pasteTagsWhitelistRegExp=l.createTagsWhitelist(v(s.pasteTagsWhitelist,"")),this.pasteTagsBlacklistRegExp=l.createTagsBlacklist(s.pasteTagsBlacklist);const N='\\s*=\\s*(")[^"]*\\1',L=s.attributesWhitelist;let A={},D="";if(L)for(let I in L)!l.hasOwn(L,I)||/^on[a-z]+$/i.test(L[I])||(I==="all"?D=v(L[I],_):A[I]=new h("\\s(?:"+v(L[I],_)+")"+N,"ig"));this._attributesWhitelistRegExp=new h("\\s(?:"+(D||_+"|"+x)+")"+N,"ig"),this._attributesWhitelistRegExp_all_data=new h("\\s(?:"+((D||_)+"|data-[a-z0-9\\-]+")+")"+N,"ig"),this._attributesTagsWhitelist=A;const V=s.attributesBlacklist;if(A={},D="",V)for(let I in V)l.hasOwn(V,I)&&(I==="all"?D=v(V[I],""):A[I]=new h("\\s(?:"+v(V[I],"")+")"+N,"ig"));this._attributesBlacklistRegExp=new h("\\s(?:"+(D||"^")+")"+N,"ig"),this._attributesTagsBlacklist=A,this._isInline=/inline/i.test(s.mode),this._isBalloon=/balloon|balloon-always/i.test(s.mode),this._isBalloonAlways=/balloon-always/i.test(s.mode),this._cachingButtons(),this._fileInfoPluginsCheck=[],this._fileInfoPluginsReset=[],this.managedTagsInfo={query:"",map:{}};const F=[];this.activePlugins=[],this._fileManager.tags=[],this._fileManager.pluginMap={};let H=[],R,P;for(let I in i)if(l.hasOwn(i,I)){if(R=i[I],P=e[I],(R.active||R.action)&&P&&this.callPlugin(I,null,P),typeof R.checkFileInfo=="function"&&typeof R.resetFileInfo=="function"&&(this.callPlugin(I,null,P),this._fileInfoPluginsCheck.push(R.checkFileInfo.bind(this)),this._fileInfoPluginsReset.push(R.resetFileInfo.bind(this))),d.Array.isArray(R.fileTags)){const z=R.fileTags;this.callPlugin(I,null,P),this._fileManager.tags=this._fileManager.tags.concat(z),H.push(I);for(let O=0,B=z.length;O<B;O++)this._fileManager.pluginMap[z[O].toLowerCase()]=I}if(R.managedTags){const z=R.managedTags();F.push("."+z.className),this.managedTagsInfo.map[z.className]=z.method.bind(this)}}this.managedTagsInfo.query=F.toString(),this._fileManager.queryString=this._fileManager.tags.join(","),this._fileManager.regExp=new h("^("+(this._fileManager.tags.join("|")||"^")+")$","i"),this._fileManager.pluginRegExp=new h("^("+(H.length===0?"^":H.join("|"))+")$","i"),this._variable._originCssText=t.element.topArea.style.cssText,this._placeholder=t.element.placeholder,this._lineBreaker=t.element.lineBreaker,this._lineBreakerButton=this._lineBreaker.querySelector("button"),this.history=D0(this,this._onChange_historyStack.bind(this)),this.addModule([Ja]),s.iframe&&(this._wd=t.element.wysiwygFrame.contentDocument,t.element.wysiwyg=this._wd.body,s._editorStyles.editor&&(t.element.wysiwyg.style.cssText=s._editorStyles.editor),s.height==="auto"&&(this._iframeAuto=this._wd.body)),this._initWysiwygArea(r,c)},_cachingButtons:function(){this.codeViewDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-code-view-enabled"]):not([data-display="MORE"])'),this.resizingDisabledButtons=t.element._buttonTray.querySelectorAll('.se-menu-list button[data-display]:not([class~="se-resizing-enabled"]):not([data-display="MORE"])');const r=t.tool,c=this.commandMap;c.INDENT=r.indent,c.OUTDENT=r.outdent,c[s.textTags.bold.toUpperCase()]=r.bold,c[s.textTags.underline.toUpperCase()]=r.underline,c[s.textTags.italic.toUpperCase()]=r.italic,c[s.textTags.strike.toUpperCase()]=r.strike,c[s.textTags.sub.toUpperCase()]=r.subscript,c[s.textTags.sup.toUpperCase()]=r.superscript,this._styleCommandMap={fullScreen:r.fullScreen,showBlocks:r.showBlocks,codeView:r.codeView},this._saveButtonStates()},_initWysiwygArea:function(r,c){t.element.wysiwyg.innerHTML=r?c:this.convertContentsForEditor((typeof c=="string"?c:/^TEXTAREA$/i.test(t.element.originElement.nodeName)?t.element.originElement.value:t.element.originElement.innerHTML)||"")},_resourcesStateChange:function(){this._iframeAutoHeight(),this._checkPlaceholder()},_onChange_historyStack:function(){this.hasFocus&&p._applyTagEffects(),this._variable.isChanged=!0,t.tool.save&&t.tool.save.removeAttribute("disabled"),C.onChange&&C.onChange(this.getContents(!0),this),t.element.toolbar.style.display==="block"&&p._showToolbarBalloon()},_iframeAutoHeight:function(){this._iframeAuto?d.setTimeout(function(){const r=u._iframeAuto.offsetHeight;t.element.wysiwygFrame.style.height=r+"px",l.isResizeObserverSupported||u.__callResizeFunction(r,null)}):l.isResizeObserverSupported||u.__callResizeFunction(t.element.wysiwygFrame.offsetHeight,null)},__callResizeFunction:function(r,c){r=r===-1?c.borderBoxSize&&c.borderBoxSize[0]?c.borderBoxSize[0].blockSize:c.contentRect.height+this._editorHeightPadding:r,this._editorHeight!==r&&(typeof C.onResizeEditor=="function"&&C.onResizeEditor(r,this._editorHeight,u,c),this._editorHeight=r)},_checkPlaceholder:function(){if(this._placeholder){if(this._variable.isCodeView){this._placeholder.style.display="none";return}const r=t.element.wysiwyg;!l.onlyZeroWidthSpace(r.textContent)||r.querySelector(l._allowedEmptyNodeList)||(r.innerText.match(/\n/g)||"").length>1?this._placeholder.style.display="none":this._placeholder.style.display="block"}},_setDefaultFormat:function(r){if(this._fileManager.pluginRegExp.test(this.currentControllerName))return;const c=this.getRange(),h=c.commonAncestorContainer,m=c.startContainer,g=l.getRangeFormatElement(h,null);let b,v,y;const S=l.getParentElement(h,l.isComponent);if(!(S&&!l.isTable(S))){if(h.nodeType===1&&h.getAttribute("data-se-embed")==="true"){let _=h.nextElementSibling;l.isFormatElement(_)||(_=this.appendFormatTag(h,s.defaultTag)),this.setRange(_.firstChild,0,_.firstChild,0);return}if(!((l.isRangeFormatElement(m)||l.isWysiwygDiv(m))&&(l.isComponent(m.children[c.startOffset])||l.isComponent(m.children[c.startOffset-1])))){if(l.getParentElement(h,l.isNotCheckingNode))return null;if(g){y=l.createElement(r||s.defaultTag),y.innerHTML=g.innerHTML,y.childNodes.length===0&&(y.innerHTML=l.zeroWidthSpace),g.innerHTML=y.outerHTML,y=g.firstChild,b=l.getEdgeChildNodes(y,null).sc,b||(b=l.createTextNode(l.zeroWidthSpace),y.insertBefore(b,y.firstChild)),v=b.textContent.length,this.setRange(b,v,b,v);return}if(l.isRangeFormatElement(h)&&h.childNodes.length<=1){let _=null;h.childNodes.length===1&&l.isBreak(h.firstChild)?_=h.firstChild:(_=l.createTextNode(l.zeroWidthSpace),h.appendChild(_)),this.setRange(_,1,_,1);return}try{if(h.nodeType===3&&(y=l.createElement(r||s.defaultTag),h.parentNode.insertBefore(y,h),y.appendChild(h)),l.isWysiwygDiv(h)){y=l.createElement(r||s.defaultTag),y.innerHTML=h.innerHTML,h.innerHTML="",h.appendChild(y),this.effectNode=null,this.setRange(y,1,y,1);return}if(y&&(l.isBreak(y.nextSibling)&&l.removeItem(y.nextSibling),l.isBreak(y.previousSibling)&&l.removeItem(y.previousSibling)),l.isBreak(b)){const _=l.createTextNode(l.zeroWidthSpace);b.parentNode.insertBefore(_,b),b=_}}catch{this.execCommand("formatBlock",!1,r||s.defaultTag),this.removeRange(),this._editorRange(),this.effectNode=null;return}if(y&&(l.isBreak(y.nextSibling)&&l.removeItem(y.nextSibling),l.isBreak(y.previousSibling)&&l.removeItem(y.previousSibling),l.isBreak(b))){const _=l.createTextNode(l.zeroWidthSpace);b.parentNode.insertBefore(_,b),b=_}this.effectNode=null,m?this.setRange(m,1,m,1):this.nativeFocus()}}},_setOptionsInit:function(r,c){this.context=t=hr(r.originElement,this._getConstructed(r),s),this._componentsInfoReset=!0,this._editorInit(!0,c)},_editorInit:function(r,c){this._init(r,c),p._addEvent(),this._setCharCount(),p._offStickyToolbar(),p.onResize_window(),t.element.toolbar.style.visibility="";const h=s.frameAttrbutes;for(let m in h)t.element.wysiwyg.setAttribute(m,h[m]);this._checkComponents(),this._componentsInfoInit=!1,this._componentsInfoReset=!1,this.history.reset(!0),d.setTimeout(function(){typeof u._resourcesStateChange=="function"&&(p._resizeObserver&&p._resizeObserver.observe(t.element.wysiwygFrame),p._toolbarObserver&&p._toolbarObserver.observe(t.element._toolbarShadow),u._resourcesStateChange(),typeof C.onload=="function"&&C.onload(u,r))})},_getConstructed:function(r){return{_top:r.topArea,_relative:r.relative,_toolBar:r.toolbar,_toolbarShadow:r._toolbarShadow,_menuTray:r._menuTray,_editorArea:r.editorArea,_wysiwygArea:r.wysiwygFrame,_codeArea:r.code,_placeholder:r.placeholder,_resizingBar:r.resizingBar,_navigation:r.navigation,_charCounter:r.charCounter,_charWrapper:r.charWrapper,_loading:r.loading,_lineBreaker:r.lineBreaker,_lineBreaker_t:r.lineBreaker_t,_lineBreaker_b:r.lineBreaker_b,_resizeBack:r.resizeBackground,_stickyDummy:r._stickyDummy,_arrow:r._arrow}}},p={_IEisComposing:!1,_lineBreakerBind:null,_responsiveCurrentSize:"default",_responsiveButtonSize:null,_responsiveButtons:null,_deleteKeyCode:new d.RegExp("^(8|46)$"),_cursorMoveKeyCode:new d.RegExp("^(8|3[2-9]|40|46)$"),_directionKeyCode:new d.RegExp("^(8|13|3[2-9]|40|46)$"),_nonTextKeyCode:new d.RegExp("^(8|13|1[6-9]|20|27|3[3-9]|40|45|46|11[2-9]|12[0-3]|144|145)$"),_historyIgnoreKeyCode:new d.RegExp("^(1[6-9]|20|27|3[3-9]|40|45|11[2-9]|12[0-3]|144|145)$"),_onButtonsCheck:new d.RegExp("^("+d.Object.keys(s._textTagsMap).join("|")+")$","i"),_frontZeroWidthReg:new d.RegExp(l.zeroWidthSpace+"+",""),_keyCodeShortcut:{65:"A",66:"B",83:"S",85:"U",73:"I",89:"Y",90:"Z",219:"[",221:"]"},_shortcutCommand:function(r,c){let h=null;const m=p._keyCodeShortcut[r];switch(m){case"A":h="selectAll";break;case"B":s.shortcutsDisable.indexOf("bold")===-1&&(h="bold");break;case"S":c&&s.shortcutsDisable.indexOf("strike")===-1?h="strike":!c&&s.shortcutsDisable.indexOf("save")===-1&&(h="save");break;case"U":s.shortcutsDisable.indexOf("underline")===-1&&(h="underline");break;case"I":s.shortcutsDisable.indexOf("italic")===-1&&(h="italic");break;case"Z":s.shortcutsDisable.indexOf("undo")===-1&&(c?h="redo":h="undo");break;case"Y":s.shortcutsDisable.indexOf("undo")===-1&&(h="redo");break;case"[":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"indent":"outdent");break;case"]":s.shortcutsDisable.indexOf("indent")===-1&&(h=s.rtl?"outdent":"indent");break}return h?(u.commandHandler(u.commandMap[h],h),!0):!!m},_applyTagEffects:function(){if(l.hasClass(t.element.wysiwyg,"se-read-only"))return!1;let r=u.getSelectionNode();if(r===u.effectNode)return;u.effectNode=r;const c=s.rtl?"marginRight":"marginLeft",h=u.commandMap,m=p._onButtonsCheck,g=[],b=[],v=u.activePlugins,y=v.length;let S="";for(;r.firstChild;)r=r.firstChild;for(let _=r;!l.isWysiwygDiv(_)&&_;_=_.parentNode)if(!(_.nodeType!==1||l.isBreak(_))){if(S=_.nodeName.toUpperCase(),b.push(S),!u.isReadOnly)for(let x=0,N;x<y;x++)N=v[x],g.indexOf(N)===-1&&i[N].active.call(u,_)&&g.push(N);if(l.isFormatElement(_)){g.indexOf("OUTDENT")===-1&&h.OUTDENT&&!l.isImportantDisabled(h.OUTDENT)&&(l.isListCell(_)||_.style[c]&&l.getNumber(_.style[c],0)>0)&&(g.push("OUTDENT"),h.OUTDENT.removeAttribute("disabled")),g.indexOf("INDENT")===-1&&h.INDENT&&!l.isImportantDisabled(h.INDENT)&&(g.push("INDENT"),l.isListCell(_)&&!_.previousElementSibling?h.INDENT.setAttribute("disabled",!0):h.INDENT.removeAttribute("disabled"));continue}m&&m.test(S)&&(g.push(S),l.addClass(h[S],"active"))}u._setKeyEffect(g),u._variable.currentNodes=b.reverse(),u._variable.currentNodesMap=g,s.showPathLabel&&(t.element.navigation.textContent=u._variable.currentNodes.join(" > "))},_buttonsEventHandler:function(r){let c=r.target;if(u._bindControllersOff&&r.stopPropagation(),/^(input|textarea|select|option)$/i.test(c.nodeName)?u._antiBlur=!1:r.preventDefault(),l.getParentElement(c,".se-submenu"))r.stopPropagation(),u._notHideToolbar=!0;else{let h=c.getAttribute("data-command"),m=c.className;for(;!h&&!/se-menu-list/.test(m)&&!/sun-editor-common/.test(m);)c=c.parentNode,h=c.getAttribute("data-command"),m=c.className;(h===u._submenuName||h===u._containerName)&&r.stopPropagation()}},addGlobalEvent:function(r,c,h){return s.iframe&&u._ww.addEventListener(r,c,h),u._w.addEventListener(r,c,h),{type:r,listener:c,useCapture:h}},removeGlobalEvent:function(r,c,h){r&&(typeof r=="object"&&(c=r.listener,h=r.useCapture,r=r.type),s.iframe&&u._ww.removeEventListener(r,c,h),u._w.removeEventListener(r,c,h))},onClick_toolbar:function(r){let c=r.target,h=c.getAttribute("data-display"),m=c.getAttribute("data-command"),g=c.className;for(u.controllersOff();c.parentNode&&!m&&!/se-menu-list/.test(g)&&!/se-toolbar/.test(g);)c=c.parentNode,m=c.getAttribute("data-command"),h=c.getAttribute("data-display"),g=c.className;!m&&!h||c.disabled||u.actionCall(m,h,c)},__selectionSyncEvent:null,onMouseDown_wysiwyg:function(r){if(u.isReadOnly||l.isNonEditable(t.element.wysiwyg))return;if(l._isExcludeSelectionElement(r.target)){r.preventDefault();return}if(p.removeGlobalEvent(p.__selectionSyncEvent),p.__selectionSyncEvent=p.addGlobalEvent("mouseup",function(){u&&u._editorRange(),p.removeGlobalEvent(p.__selectionSyncEvent)}),typeof C.onMouseDown=="function"&&C.onMouseDown(r,u)===!1)return;const c=l.getParentElement(r.target,l.isCell);if(c){const h=u.plugins.table;h&&c!==h._fixedCell&&!h._shift&&u.callPlugin("table",function(){h.onTableCellMultiSelect.call(u,c,!1)},null)}u._isBalloon&&p._hideToolbar()},onClick_wysiwyg:function(r){const c=r.target;if(u.isReadOnly)return r.preventDefault(),l.isAnchor(c)&&d.open(c.href,c.target),!1;if(l.isNonEditable(t.element.wysiwyg)||typeof C.onClick=="function"&&C.onClick(r,u)===!1)return;const h=u.getFileComponent(c);if(h){r.preventDefault(),u.selectComponent(h.target,h.pluginName);return}const m=l.getParentElement(c,"FIGCAPTION");if(m&&l.isNonEditable(m)&&(r.preventDefault(),m.focus(),u._isInline&&!u._inlineToolbarAttr.isShow)){p._showToolbarInline();const _=function(){p._hideToolbar(),m.removeEventListener("blur",_)};m.addEventListener("blur",_)}if(u._editorRange(),r.detail===3){let _=u.getRange();l.isFormatElement(_.endContainer)&&_.endOffset===0&&(_=u.setRange(_.startContainer,_.startOffset,_.startContainer,_.startContainer.length),u._rangeInfo(_,u.getSelection()))}const g=u.getSelectionNode(),b=l.getFormatElement(g,null),v=l.getRangeFormatElement(g,null);let y=g;for(;y&&y.firstChild;)y=y.firstChild;const S=u.getFileComponent(y);if(S){const _=u.getRange();!v&&_.startContainer===_.endContainer&&u.selectComponent(S.target,S.pluginName)}else u.currentFileComponentInfo&&u.controllersOff();if(!b&&!l.isNonEditable(c)&&!l.isList(v)){const _=u.getRange();if(l.getFormatElement(_.startContainer)===l.getFormatElement(_.endContainer))if(l.isList(v)){r.preventDefault();const x=l.createElement("LI"),N=g.nextElementSibling;x.appendChild(g),v.insertBefore(x,N),u.focus()}else!l.isWysiwygDiv(g)&&!l.isComponent(g)&&(!l.isTable(g)||l.isCell(g))&&u._setDefaultFormat(l.isRangeFormatElement(v)?"DIV":s.defaultTag)!==null?(r.preventDefault(),u.focus()):p._applyTagEffects()}else p._applyTagEffects();u._isBalloon&&d.setTimeout(p._toggleToolbarBalloon)},_balloonDelay:null,_showToolbarBalloonDelay:function(){p._balloonDelay&&d.clearTimeout(p._balloonDelay),p._balloonDelay=d.setTimeout((function(){d.clearTimeout(this._balloonDelay),this._balloonDelay=null,this._showToolbarBalloon()}).bind(p),350)},_toggleToolbarBalloon:function(){if(u){u._editorRange();const r=u.getRange();u._bindControllersOff||!u._isBalloonAlways&&r.collapsed?p._hideToolbar():p._showToolbarBalloon(r)}},_showToolbarBalloon:function(r){if(!u._isBalloon)return;const c=r||u.getRange(),h=t.element.toolbar,m=t.element.topArea,g=u.getSelection();let b;if(u._isBalloonAlways&&c.collapsed)b=!0;else if(g.focusNode===g.anchorNode)b=g.focusOffset<g.anchorOffset;else{const R=l.getListChildNodes(c.commonAncestorContainer,null);b=l.getArrayIndex(R,g.focusNode)<l.getArrayIndex(R,g.anchorNode)}let v=c.getClientRects();v=v[b?0:v.length-1];const y=u.getGlobalScrollOffset();let S=y.left,_=y.top;const x=m.offsetWidth,N=p._getEditorOffsets(null),L=N.top,A=N.left;if(h.style.top="-10000px",h.style.visibility="hidden",h.style.display="block",!v){const R=u.getSelectionNode();if(l.isFormatElement(R)){const P=l.createTextNode(l.zeroWidthSpace);u.insertNode(P,null,!1),u.setRange(P,1,P,1),u._editorRange(),v=u.getRange().getClientRects(),v=v[b?0:v.length-1]}if(!v){const P=l.getOffset(R,t.element.wysiwygFrame);v={left:P.left,top:P.top,right:P.left,bottom:P.top+R.offsetHeight,noText:!0},S=0,_=0}b=!0}const D=d.Math.round(t.element._arrow.offsetWidth/2),V=h.offsetWidth,F=h.offsetHeight,H=/iframe/i.test(t.element.wysiwygFrame.nodeName)?t.element.wysiwygFrame.getClientRects()[0]:null;if(H&&(v={left:v.left+H.left,top:v.top+H.top,right:v.right+H.right-H.width,bottom:v.bottom+H.bottom-H.height}),p._setToolbarOffset(b,v,h,A,x,S,_,L,D),(V!==h.offsetWidth||F!==h.offsetHeight)&&p._setToolbarOffset(b,v,h,A,x,S,_,L,D),s.toolbarContainer){const R=m.parentElement;let P=s.toolbarContainer,I=P.offsetLeft,z=P.offsetTop;for(;!P.parentElement.contains(R)||!/^(BODY|HTML)$/i.test(P.parentElement.nodeName);)P=P.offsetParent,I+=P.offsetLeft,z+=P.offsetTop;h.style.left=h.offsetLeft-I+m.offsetLeft+"px",h.style.top=h.offsetTop-z+m.offsetTop+"px"}h.style.visibility=""},_setToolbarOffset:function(r,c,h,m,g,b,v,y,S){const x=h.offsetWidth,N=c.noText&&!r?0:h.offsetHeight,L=(r?c.left:c.right)-m-x/2+b,A=L+x-g;let D=(r?c.top-N-S:c.bottom+S)-(c.noText?0:y)+v,V=L<0?1:A<0?L:L-A-1-1,F=!1;const H=D+(r?p._getEditorOffsets(null).top:h.offsetHeight-t.element.wysiwyg.offsetHeight);!r&&H>0&&p._getPageBottomSpace()<H?(r=!0,F=!0):r&&a.documentElement.offsetTop>H&&(r=!1,F=!0),F&&(D=(r?c.top-N-S:c.bottom+S)-(c.noText?0:y)+v),h.style.left=d.Math.floor(V)+"px",h.style.top=d.Math.floor(D)+"px",r?(l.removeClass(t.element._arrow,"se-arrow-up"),l.addClass(t.element._arrow,"se-arrow-down"),t.element._arrow.style.top=N+"px"):(l.removeClass(t.element._arrow,"se-arrow-down"),l.addClass(t.element._arrow,"se-arrow-up"),t.element._arrow.style.top=-S+"px");const R=d.Math.floor(x/2+(L-V));t.element._arrow.style.left=(R+S>h.offsetWidth?h.offsetWidth-S:R<S?S:R)+"px"},_showToolbarInline:function(){if(!u._isInline)return;const r=t.element.toolbar;s.toolbarContainer?r.style.position="relative":r.style.position="absolute",r.style.visibility="hidden",r.style.display="block",u._inlineToolbarAttr.width=r.style.width=s.toolbarWidth,u._inlineToolbarAttr.top=r.style.top=(s.toolbarContainer?0:-1-r.offsetHeight)+"px",typeof C.showInline=="function"&&C.showInline(r,t,u),p.onScroll_window(),u._inlineToolbarAttr.isShow=!0,r.style.visibility=""},_hideToolbar:function(){!u._notHideToolbar&&!u._variable.isFullScreen&&(t.element.toolbar.style.display="none",u._inlineToolbarAttr.isShow=!1)},onInput_wysiwyg:function(r){if(/AUDIO/.test(r.target.nodeName))return!1;if(u.isReadOnly||u.isDisabled)return r.preventDefault(),r.stopPropagation(),u.history.go(u.history.getCurrentIndex()),!1;const c=u.getRange(),h=u.getSelectionNode(),m=l.getFormatElement(h,null);if(!m&&c.collapsed&&!l.isComponent(h)&&!l.isList(h)){const b=l.getRangeFormatElement(m,null);u._setDefaultFormat(l.isRangeFormatElement(b)?"DIV":s.defaultTag)}u._editorRange();const g=(r.data===null?"":r.data===void 0?" ":r.data)||"";if(!u._charCount(g))return r.preventDefault(),r.stopPropagation(),!1;typeof C.onInput=="function"&&C.onInput(r,u)===!1||u.history.push(!0)},_isUneditableNode:function(r,c){const h=c?r.startContainer:r.endContainer,m=c?r.startOffset:r.endOffset,g=c?"previousSibling":"nextSibling",b=h.nodeType===1;let v;return b?(v=p._isUneditableNode_getSibling(h.childNodes[m],g,h),v&&v.nodeType===1&&v.getAttribute("contenteditable")==="false"):(v=p._isUneditableNode_getSibling(h,g,h),u.isEdgePoint(h,m,c?"start":"end")&&v&&v.nodeType===1&&v.getAttribute("contenteditable")==="false")},_isUneditableNode_getSibling:function(r,c,h){if(!r)return null;let m=r[c];if(!m)if(m=l.getFormatElement(h),m=m?m[c]:null,m&&!l.isComponent(m))m=c==="previousSibling"?m.firstChild:m.lastChild;else return null;return m},_onShortcutKey:!1,onKeyDown_wysiwyg:function(r){let c=u.getSelectionNode();if(l.isInputElement(c))return;const h=r.keyCode,m=r.shiftKey,g=r.ctrlKey||r.metaKey||h===91||h===92||h===224,b=r.altKey;if(p._IEisComposing=h===229,!g&&u.isReadOnly&&!p._cursorMoveKeyCode.test(h))return r.preventDefault(),!1;if(u.submenuOff(),u._isBalloon&&p._hideToolbar(),typeof C.onKeyDown=="function"&&C.onKeyDown(r,u)===!1)return;if(g&&p._shortcutCommand(h,m))return p._onShortcutKey=!0,r.preventDefault(),r.stopPropagation(),!1;p._onShortcutKey&&(p._onShortcutKey=!1),h===13&&l.isFormatElement(u.getRange().startContainer)&&(u._resetRangeToTextNode(),c=u.getSelectionNode());const v=u.getRange(),y=!v.collapsed||v.startContainer!==v.endContainer,S=u._fileManager.pluginRegExp.test(u.currentControllerName)?u.currentControllerName:"";let _=l.getFormatElement(c,null)||c,x=l.getRangeFormatElement(_,null);if(!(/37|38|39|40/.test(r.keyCode)&&p._onKeyDown_wysiwyg_arrowKey(r)===!1)){switch(h){case 8:if(!y&&S){r.preventDefault(),r.stopPropagation(),u.plugins[S].destroy.call(u);break}if(y&&p._hardDelete()){r.preventDefault(),r.stopPropagation();break}if(!l.isFormatElement(_)&&!t.element.wysiwyg.firstElementChild&&!l.isComponent(c)&&u._setDefaultFormat(s.defaultTag)!==null)return r.preventDefault(),r.stopPropagation(),!1;if(!y&&!_.previousElementSibling&&v.startOffset===0&&!c.previousSibling&&!l.isListCell(_)&&l.isFormatElement(_)&&(!l.isFreeFormatElement(_)||l.isClosureFreeFormatElement(_))){if(l.isClosureRangeFormatElement(_.parentNode))return r.preventDefault(),r.stopPropagation(),!1;if(l.isWysiwygDiv(_.parentNode)&&_.childNodes.length<=1&&(!_.firstChild||l.onlyZeroWidthSpace(_.textContent))){if(r.preventDefault(),r.stopPropagation(),_.nodeName.toUpperCase()===s.defaultTag.toUpperCase()){_.innerHTML="<br>";const O=_.attributes;for(;O[0];)_.removeAttribute(O[0].name)}else{const O=l.createElement(s.defaultTag);O.innerHTML="<br>",_.parentElement.replaceChild(O,_)}return u.nativeFocus(),!1}}const L=v.startContainer;if(_&&!_.previousElementSibling&&v.startOffset===0&&L.nodeType===3&&!l.isFormatElement(L.parentNode)){let O=L.parentNode.previousSibling;const B=L.parentNode.nextSibling;O||(B?O=B:(O=l.createElement("BR"),_.appendChild(O)));let k=L;for(;_.contains(k)&&!k.previousSibling;)k=k.parentNode;if(!_.contains(k)){L.textContent="",l.removeItemAllParents(L,null,_);break}}if(p._isUneditableNode(v,!0)){r.preventDefault(),r.stopPropagation();break}!y&&u._isEdgeFormat(v.startContainer,v.startOffset,"start")&&l.isFormatElement(_.previousElementSibling)&&(u._formatAttrsTemp=_.previousElementSibling.attributes);const A=v.commonAncestorContainer;if(_=l.getFormatElement(v.startContainer,null),x=l.getRangeFormatElement(_,null),x&&_&&!l.isCell(x)&&!/^FIGCAPTION$/i.test(x.nodeName)){if(l.isListCell(_)&&l.isList(x)&&(l.isListCell(x.parentNode)||_.previousElementSibling)&&(c===_||c.nodeType===3&&(!c.previousSibling||l.isList(c.previousSibling)))&&(l.getFormatElement(v.startContainer,null)!==l.getFormatElement(v.endContainer,null)?x.contains(v.startContainer):v.startOffset===0&&v.collapsed)){if(v.startContainer!==v.endContainer)r.preventDefault(),u.removeNode(),v.startContainer.nodeType===3&&u.setRange(v.startContainer,v.startContainer.textContent.length,v.startContainer,v.startContainer.textContent.length),u.history.push(!0);else{let O=_.previousElementSibling||x.parentNode;if(l.isListCell(O)){r.preventDefault();let B=O;if(!O.contains(_)&&l.isListCell(B)&&l.isList(B.lastElementChild)){for(B=B.lastElementChild.lastElementChild;l.isListCell(B)&&l.isList(B.lastElementChild);)B=B.lastElementChild&&B.lastElementChild.lastElementChild;O=B}let k=O===x.parentNode?x.previousSibling:O.lastChild;k||(k=l.createTextNode(l.zeroWidthSpace),x.parentNode.insertBefore(k,x.parentNode.firstChild));const M=k.nodeType===3?k.textContent.length:1,$=_.childNodes;let W=k,j=$[0];for(;j=$[0];)O.insertBefore(j,W.nextSibling),W=j;l.removeItem(_),x.children.length===0&&l.removeItem(x),u.setRange(k,M,k,M),u.history.push(!0)}}break}if(!y&&v.startOffset===0){let O=!0,B=A;for(;B&&B!==x&&!l.isWysiwygDiv(B);){if(B.previousSibling&&(B.previousSibling.nodeType===1||!l.onlyZeroWidthSpace(B.previousSibling.textContent.trim()))){O=!1;break}B=B.parentNode}if(O&&x.parentNode){r.preventDefault(),u.detachRangeFormatElement(x,l.isListCell(_)?[_]:null,null,!1,!1),u.history.push(!0);break}}}if(!y&&_&&(v.startOffset===0||c===_&&_.childNodes[v.startOffset])){const O=l.isListCell(_),B=c===_?_.childNodes[v.startOffset]:c,k=O?B.previousSibling:_.previousSibling,M=O||(A.nodeType===3||l.isBreak(A))&&!A.previousSibling&&v.startOffset===0;if(B&&(O||!B.previousSibling)&&(A&&l.isComponent(A.previousSibling)||M&&l.isComponent(k))){const $=u.getFileComponent(k);$?(r.preventDefault(),r.stopPropagation(),O?l.removeItem(B):_.textContent.length===0&&l.removeItem(_),u.selectComponent($.target,$.pluginName)===!1&&u.blur()):l.isComponent(k)&&(r.preventDefault(),r.stopPropagation(),l.removeItem(k));break}if(B&&l.isNonEditable(B.previousSibling)){r.preventDefault(),r.stopPropagation(),l.removeItem(B.previousSibling);break}}break;case 46:if(S){r.preventDefault(),r.stopPropagation(),u.plugins[S].destroy.call(u);break}if(y&&p._hardDelete()){r.preventDefault(),r.stopPropagation();break}if(!y&&u._isEdgeFormat(v.endContainer,v.endOffset,"end")&&!_.nextSibling){r.preventDefault(),r.stopPropagation();return}if(p._isUneditableNode(v,!1)){r.preventDefault(),r.stopPropagation();break}if((l.isFormatElement(c)||c.nextSibling===null||l.onlyZeroWidthSpace(c.nextSibling)&&c.nextSibling.nextSibling===null)&&v.startOffset===c.textContent.length){const O=_.nextElementSibling;if(!O)break;if(l.isComponent(O)){if(r.preventDefault(),l.onlyZeroWidthSpace(_)&&(l.removeItem(_),l.isTable(O))){let k=l.getChildElement(O,l.isCell,!1);k=k.firstElementChild||k,u.setRange(k,0,k,0);break}const B=u.getFileComponent(O);B?(r.stopPropagation(),u.selectComponent(B.target,B.pluginName)===!1&&u.blur()):l.isComponent(O)&&(r.stopPropagation(),l.removeItem(O));break}}if(!y&&(u.isEdgePoint(v.endContainer,v.endOffset)||c===_&&_.childNodes[v.startOffset])){const O=c===_&&_.childNodes[v.startOffset]||c;if(O&&l.isNonEditable(O.nextSibling)){r.preventDefault(),r.stopPropagation(),l.removeItem(O.nextSibling);break}else if(l.isComponent(O)){r.preventDefault(),r.stopPropagation(),l.removeItem(O);break}}if(!y&&u._isEdgeFormat(v.endContainer,v.endOffset,"end")&&l.isFormatElement(_.nextElementSibling)&&(u._formatAttrsTemp=_.attributes),_=l.getFormatElement(v.startContainer,null),x=l.getRangeFormatElement(_,null),l.isListCell(_)&&l.isList(x)&&(c===_||c.nodeType===3&&(!c.nextSibling||l.isList(c.nextSibling))&&(l.getFormatElement(v.startContainer,null)!==l.getFormatElement(v.endContainer,null)?x.contains(v.endContainer):v.endOffset===c.textContent.length&&v.collapsed))){v.startContainer!==v.endContainer&&u.removeNode();let O=l.getArrayItem(_.children,l.isList,!1);if(O=O||_.nextElementSibling||(x.parentNode?x.parentNode.nextElementSibling:null),O&&(l.isList(O)||l.getArrayItem(O.children,l.isList,!1))){r.preventDefault();let B,k;if(l.isList(O)){const M=O.firstElementChild;for(k=M.childNodes,B=k[0];k[0];)_.insertBefore(k[0],O);l.removeItem(M)}else{for(B=O.firstChild,k=O.childNodes;k[0];)_.appendChild(k[0]);l.removeItem(O)}u.setRange(B,0,B,0),u.history.push(!0)}break}break;case 9:if(S||s.tabDisable||(r.preventDefault(),g||b||l.isWysiwygDiv(c)))break;const D=!v.collapsed||u.isEdgePoint(v.startContainer,v.startOffset),V=u.getSelectedElements(null);c=u.getSelectionNode();const F=[];let H=[],R=l.isListCell(V[0]),P=l.isListCell(V[V.length-1]),I={sc:v.startContainer,so:v.startOffset,ec:v.endContainer,eo:v.endOffset};for(let O=0,B=V.length,k;O<B;O++)if(k=V[O],l.isListCell(k)){if(!k.previousElementSibling&&!m)continue;F.push(k)}else H.push(k);if(F.length>0&&D&&u.plugins.list)I=u.plugins.list.editInsideList.call(u,m,F);else{const O=l.getParentElement(c,l.isCell);if(O&&D){const B=l.getParentElement(O,"table"),k=l.getListChildren(B,l.isCell);let M=m?l.prevIdx(k,O):l.nextIdx(k,O);M===k.length&&!m&&(M=0),M===-1&&m&&(M=k.length-1);let $=k[M];if(!$)break;$=$.firstElementChild||$,u.setRange($,0,$,0);break}H=H.concat(F),R=P=null}if(H.length>0)if(m){const O=H.length-1;for(let M=0,$;M<=O;M++){$=H[M].childNodes;for(let W=0,j=$.length,q;W<j&&(q=$[W],!!q);W++)if(!l.onlyZeroWidthSpace(q)){/^\s{1,4}$/.test(q.textContent)?l.removeItem(q):/^\s{1,4}/.test(q.textContent)&&(q.textContent=q.textContent.replace(/^\s{1,4}/,""));break}}const B=l.getChildElement(H[0],"text",!1),k=l.getChildElement(H[O],"text",!0);!R&&B&&(I.sc=B,I.so=0),!P&&k&&(I.ec=k,I.eo=k.textContent.length)}else{const O=l.createTextNode(new d.Array(u._variable.tabSize+1).join(""));if(H.length===1){if(!u.insertNode(O,null,!0))return!1;R||(I.sc=O,I.so=O.length),P||(I.ec=O,I.eo=O.length)}else{const B=H.length-1;for(let $=0,W;$<=B;$++)W=H[$].firstChild,W&&(l.isBreak(W)?H[$].insertBefore(O.cloneNode(!1),W):W.textContent=O.textContent+W.textContent);const k=l.getChildElement(H[0],"text",!1),M=l.getChildElement(H[B],"text",!0);!R&&k&&(I.sc=k,I.so=0),!P&&M&&(I.ec=M,I.eo=M.textContent.length)}}u.setRange(I.sc,I.so,I.ec,I.eo),u.history.push(!1);break;case 13:const z=l.getFreeFormatElement(c,null);if(u._charTypeHTML){let O="";if(!m&&z||m?O="<br>":O="<"+_.nodeName+"><br></"+_.nodeName+">",!u.checkCharCount(O,"byte-html"))return r.preventDefault(),!1}if(!m&&!S){const O=u._isEdgeFormat(v.endContainer,v.endOffset,"end"),B=u._isEdgeFormat(v.startContainer,v.startOffset,"start");if(O&&(/^H[1-6]$/i.test(_.nodeName)||/^HR$/i.test(_.nodeName))){p._enterPrevent(r);let k=null;const M=u.appendFormatTag(_,s.defaultTag);if(O&&O.length>0){k=O.pop();const $=k;for(;O.length>0;)k=k.appendChild(O.pop());M.appendChild($)}if(k=k?k.appendChild(M.firstChild):M.firstChild,l.isBreak(k)){const $=l.createTextNode(l.zeroWidthSpace);k.parentNode.insertBefore($,k),u.setRange($,1,$,1)}else u.setRange(k,0,k,0);break}else if(x&&_&&!l.isCell(x)&&!/^FIGCAPTION$/i.test(x.nodeName)){const k=u.getRange();if(u.isEdgePoint(k.endContainer,k.endOffset)&&l.isList(c.nextSibling)){p._enterPrevent(r);const M=l.createElement("LI"),$=l.createElement("BR");M.appendChild($),_.parentNode.insertBefore(M,_.nextElementSibling),M.appendChild(c.nextSibling),u.setRange($,1,$,1);break}if((k.commonAncestorContainer.nodeType!==3||!k.commonAncestorContainer.nextElementSibling)&&l.onlyZeroWidthSpace(_.innerText.trim())&&!l.isListCell(_.nextElementSibling)){p._enterPrevent(r);let M=null;if(l.isListCell(x.parentNode)){const $=_.parentNode.parentNode;x=$.parentNode;const W=l.createElement("LI");W.innerHTML="<br>",l.copyTagAttributes(W,_,s.lineAttrReset),M=W,x.insertBefore(M,$.nextElementSibling)}else{const $=l.isCell(x.parentNode)?"DIV":l.isList(x.parentNode)?"LI":l.isFormatElement(x.nextElementSibling)&&!l.isRangeFormatElement(x.nextElementSibling)?x.nextElementSibling.nodeName:l.isFormatElement(x.previousElementSibling)&&!l.isRangeFormatElement(x.previousElementSibling)?x.previousElementSibling.nodeName:s.defaultTag;M=l.createElement($),l.copyTagAttributes(M,_,s.lineAttrReset);const W=u.detachRangeFormatElement(x,[_],null,!0,!0);W.cc.insertBefore(M,W.ec)}M.innerHTML="<br>",l.removeItemAllParents(_,null,null),u.setRange(M,1,M,1);break}}if(z){p._enterPrevent(r);const k=c===z,M=u.getSelection(),$=c.childNodes,W=M.focusOffset,j=c.previousElementSibling,q=c.nextSibling;if(!l.isClosureFreeFormatElement(z)&&$&&(k&&v.collapsed&&$.length-1<=W+1&&l.isBreak($[W])&&(!$[W+1]||(!$[W+2]||l.onlyZeroWidthSpace($[W+2].textContent))&&$[W+1].nodeType===3&&l.onlyZeroWidthSpace($[W+1].textContent))&&W>0&&l.isBreak($[W-1])||!k&&l.onlyZeroWidthSpace(c.textContent)&&l.isBreak(j)&&(l.isBreak(j.previousSibling)||!l.onlyZeroWidthSpace(j.previousSibling.textContent))&&(!q||!l.isBreak(q)&&l.onlyZeroWidthSpace(q.textContent)))){k?l.removeItem($[W-1]):l.removeItem(c);const U=u.appendFormatTag(z,l.isFormatElement(z.nextElementSibling)&&!l.isRangeFormatElement(z.nextElementSibling)?z.nextElementSibling:null);l.copyFormatAttributes(U,z),u.setRange(U,1,U,1);break}if(k){C.insertHTML(v.collapsed&&l.isBreak(v.startContainer.childNodes[v.startOffset-1])?"<br>":"<br><br>",!0,!1);let U=M.focusNode;const K=M.focusOffset;z===U&&(U=U.childNodes[K-W>1?K-1:K]),u.setRange(U,1,U,1)}else{const U=M.focusNode.nextSibling,K=l.createElement("BR");u.insertNode(K,null,!1);const G=K.previousSibling,J=K.nextSibling;!l.isBreak(U)&&!l.isBreak(G)&&(!J||l.onlyZeroWidthSpace(J))?(K.parentNode.insertBefore(K.cloneNode(!1),K),u.setRange(K,1,K,1)):u.setRange(J,0,J,0)}p._onShortcutKey=!0;break}if(v.collapsed&&(B||O)){p._enterPrevent(r);const k=l.createElement("BR"),M=l.createElement(_.nodeName);l.copyTagAttributes(M,_,s.lineAttrReset);let $=k;do{if(!l.isBreak(c)&&c.nodeType===1){const W=c.cloneNode(!1);W.appendChild($),$=W}c=c.parentNode}while(_!==c&&_.contains(c));M.appendChild($),_.parentNode.insertBefore(M,B&&!O?_:_.nextElementSibling),O&&u.setRange(k,1,k,1);break}if(_){r.stopPropagation();let k,M=0;if(v.collapsed)l.onlyZeroWidthSpace(_)?k=u.appendFormatTag(_,_.cloneNode(!1)):k=l.splitElement(v.endContainer,v.endOffset,l.getElementDepth(_));else{const $=l.getFormatElement(v.startContainer,null)!==l.getFormatElement(v.endContainer,null),W=_.cloneNode(!1);W.innerHTML="<br>";const j=v.commonAncestorContainer,q=j===v.startContainer&&j===v.endContainer&&l.onlyZeroWidthSpace(j)?v:u.removeNode();if(k=l.getFormatElement(q.container,null),!k){l.isWysiwygDiv(q.container)&&(p._enterPrevent(r),t.element.wysiwyg.appendChild(W),k=W,l.copyTagAttributes(k,_,s.lineAttrReset),u.setRange(k,M,k,M));break}const U=l.getRangeFormatElement(q.container);if(k=k.contains(U)?l.getChildElement(U,l.getFormatElement.bind(l)):k,$){if(O&&!B)k.parentNode.insertBefore(W,!q.prevContainer||q.container===q.prevContainer?k.nextElementSibling:k),k=W,M=0;else if(M=q.offset,B){const K=k.parentNode.insertBefore(W,k);O&&(k=K,M=0)}}else O&&B?(k.parentNode.insertBefore(W,q.prevContainer&&q.container===q.prevContainer?k.nextElementSibling:k),k=W,M=0):k=l.splitElement(q.container,q.offset,l.getElementDepth(_))}p._enterPrevent(r),l.copyTagAttributes(k,_,s.lineAttrReset),u.setRange(k,M,k,M);break}}if(y)break;if(x&&l.getParentElement(x,"FIGCAPTION")&&l.getParentElement(x,l.isList)&&(p._enterPrevent(r),_=u.appendFormatTag(_,null),u.setRange(_,0,_,0)),S){r.preventDefault(),r.stopPropagation(),u.containerOff(),u.controllersOff();const O=t[S],B=O._container,k=B.previousElementSibling||B.nextElementSibling;let M=null;l.isListCell(B.parentNode)?M=l.createElement("BR"):(M=l.createElement(l.isFormatElement(k)&&!l.isRangeFormatElement(k)?k.nodeName:s.defaultTag),M.innerHTML="<br>"),m?B.parentNode.insertBefore(M,B):B.parentNode.insertBefore(M,B.nextElementSibling),u.callPlugin(S,function(){u.selectComponent(O._element,S)===!1&&u.blur()},null)}break;case 27:if(S)return r.preventDefault(),r.stopPropagation(),u.controllersOff(),!1;break}if(u.currentFileComponentInfo&&u.controllersOff(),m&&h===16){r.preventDefault(),r.stopPropagation();const L=u.plugins.table;if(L&&!L._shift&&!L._ref){const A=l.getParentElement(_,l.isCell);if(A){L.onTableCellMultiSelect.call(u,A,!0);return}}}else if(m&&(l.isOSX_IOS?b:g)&&h===32){r.preventDefault(),r.stopPropagation();const L=u.insertNode(l.createTextNode(""));if(L){u.setRange(L,L.length,L,L.length);return}}if(l.isIE&&!g&&!b&&!y&&!p._nonTextKeyCode.test(h)&&l.isBreak(v.commonAncestorContainer)){const L=l.createTextNode(l.zeroWidthSpace);u.insertNode(L,null,!1),u.setRange(L,1,L,1)}p._directionKeyCode.test(h)&&(d.setTimeout(u._editorRange.bind(u),0),p._applyTagEffects())}},_onKeyDown_wysiwyg_arrowKey:function(r){if(r.shiftKey)return;let c=u.getSelectionNode();const h=function(b,v){if(v||(v=0),r.preventDefault(),r.stopPropagation(),!b)return;let y=u.getFileComponent(b);y?u.selectComponent(y.target,y.pluginName):(u.setRange(b,v,b,v),u.controllersOff())},m=l.getParentElement(c,"table");if(m){const b=l.getParentElement(c,"tr"),v=l.getParentElement(c,"td");let y=v,S=v;if(v){for(;y&&y.firstChild;)y=y.firstChild;for(;S&&S.lastChild;)S=S.lastChild}let _=c;for(;_&&_.firstChild;)_=_.firstChild;const x=_===y,N=_===S;let L=null,A=0;if(r.keyCode===38&&x){const D=b&&b.previousElementSibling;for(D?L=D.children[v.cellIndex]:L=l.getPreviousDeepestNode(m,u.context.element.wysiwyg);L&&L.lastChild;)L=L.lastChild;L&&(A=L.textContent.length)}else if(r.keyCode===40&&N){const D=b&&b.nextElementSibling;for(D?L=D.children[v.cellIndex]:L=l.getNextDeepestNode(m,u.context.element.wysiwyg);L&&L.firstChild;)L=L.firstChild}if(L)return h(L,A),!1}const g=u.getFileComponent(c);if(g){const b=/37|38/.test(r.keyCode),v=/39|40/.test(r.keyCode);if(b){const y=l.getPreviousDeepestNode(g.target,u.context.element.wysiwyg);h(y,y&&y.textContent.length)}else if(v){const y=l.getNextDeepestNode(g.target,u.context.element.wysiwyg);h(y)}}},onKeyUp_wysiwyg:function(r){if(p._onShortcutKey)return;u._editorRange();const c=r.keyCode,h=r.ctrlKey||r.metaKey||c===91||c===92||c===224,m=r.altKey;if(u.isReadOnly){!h&&p._cursorMoveKeyCode.test(c)&&p._applyTagEffects();return}const g=u.getRange();let b=u.getSelectionNode();if(u._isBalloon&&(u._isBalloonAlways&&c!==27||!g.collapsed))if(u._isBalloonAlways)c!==27&&p._showToolbarBalloonDelay();else{p._showToolbarBalloon();return}let v=b;for(;v&&v.firstChild;)v=v.firstChild;const y=u.getFileComponent(v);if(!(r.keyCode===16||r.shiftKey)&&y&&u.selectComponent(y.target,y.pluginName),c===8&&l.isWysiwygDiv(b)&&b.textContent===""&&b.children.length===0){r.preventDefault(),r.stopPropagation(),b.innerHTML="";const L=l.createElement(l.isFormatElement(u._variable.currentNodes[0])?u._variable.currentNodes[0]:s.defaultTag);L.innerHTML="<br>",b.appendChild(L),u.setRange(L,0,L,0),p._applyTagEffects(),u.history.push(!1);return}const S=l.getFormatElement(b,null),_=l.getRangeFormatElement(b,null),x=u._formatAttrsTemp;if(x){for(let L=0,A=x.length;L<A;L++){if(c===13&&/^id$/i.test(x[L].name)){S.removeAttribute("id");continue}S.setAttribute(x[L].name,x[L].value)}u._formatAttrsTemp=null}if(!S&&g.collapsed&&!l.isComponent(b)&&!l.isList(b)&&u._setDefaultFormat(l.isRangeFormatElement(_)?"DIV":s.defaultTag)!==null&&(b=u.getSelectionNode()),!h&&!m&&!p._nonTextKeyCode.test(c)&&b.nodeType===3&&l.zeroWidthRegExp.test(b.textContent)&&!(r.isComposing!==void 0?r.isComposing:p._IEisComposing)){let L=g.startOffset,A=g.endOffset;const D=(b.textContent.substring(0,A).match(p._frontZeroWidthReg)||"").length;L=g.startOffset-D,A=g.endOffset-D,b.textContent=b.textContent.replace(l.zeroWidthRegExp,""),u.setRange(b,L<0?0:L,b,A<0?0:A)}p._deleteKeyCode.test(c)&&S&&l.onlyZeroWidthSpace(S.textContent)&&!S.previousElementSibling&&(S.innerHTML="<br>",u.setRange(S,0,S,0)),u._charCount(""),!(typeof C.onKeyUp=="function"&&C.onKeyUp(r,u)===!1)&&!h&&!m&&!p._historyIgnoreKeyCode.test(c)&&u.history.push(!0)},onScroll_wysiwyg:function(r){u.controllersOff(),u._isBalloon&&p._hideToolbar(),typeof C.onScroll=="function"&&C.onScroll(r,u)},onFocus_wysiwyg:function(r){u._antiBlur||(u.hasFocus=!0,d.setTimeout(p._applyTagEffects),u._isInline&&p._showToolbarInline(),typeof C.onFocus=="function"&&C.onFocus(r,u))},onBlur_wysiwyg:function(r){u._antiBlur||u._variable.isCodeView||(u.hasFocus=!1,u.effectNode=null,u.controllersOff(),(u._isInline||u._isBalloon)&&p._hideToolbar(),u._setKeyEffect([]),u._variable.currentNodes=[],u._variable.currentNodesMap=[],s.showPathLabel&&(t.element.navigation.textContent=""),typeof C.onBlur=="function"&&C.onBlur(r,u,this))},onMouseDown_resizingBar:function(r){r.stopPropagation(),u.submenuOff(),u.controllersOff(),u._variable.resizeClientY=r.clientY,t.element.resizeBackground.style.display="block";function c(){t.element.resizeBackground.style.display="none",a.removeEventListener("mousemove",p._resize_editor),a.removeEventListener("mouseup",c)}a.addEventListener("mousemove",p._resize_editor),a.addEventListener("mouseup",c)},_resize_editor:function(r){const c=t.element.editorArea.offsetHeight+(r.clientY-u._variable.resizeClientY),h=c<u._variable.minResizingSize?u._variable.minResizingSize:c;t.element.wysiwygFrame.style.height=t.element.code.style.height=h+"px",u._variable.resizeClientY=r.clientY,l.isResizeObserverSupported||u.__callResizeFunction(h,null)},onResize_window:function(){l.isResizeObserverSupported||u.resetResponsiveToolbar();const r=t.element.toolbar,c=r.style.display==="none"||u._isInline&&!u._inlineToolbarAttr.isShow;if(!(r.offsetWidth===0&&!c)){if(t.fileBrowser&&t.fileBrowser.area.style.display==="block"&&(t.fileBrowser.body.style.maxHeight=d.innerHeight-t.fileBrowser.header.offsetHeight-50+"px"),u.submenuActiveButton&&u.submenu&&u._setMenuPosition(u.submenuActiveButton,u.submenu),u._variable.isFullScreen){u._variable.innerHeight_fullScreen+=d.innerHeight-r.offsetHeight-u._variable.innerHeight_fullScreen,t.element.editorArea.style.height=u._variable.innerHeight_fullScreen+"px";return}if(u._variable.isCodeView&&u._isInline){p._showToolbarInline();return}u._iframeAutoHeight(),u._sticky&&(r.style.width=t.element.topArea.offsetWidth-2+"px",p.onScroll_window())}},onScroll_window:function(){if(u._variable.isFullScreen||t.element.toolbar.offsetWidth===0||s.stickyToolbar<0)return;const r=t.element,c=r.editorArea.offsetHeight,h=(this.scrollY||a.documentElement.scrollTop)+s.stickyToolbar,m=p._getEditorOffsets(s.toolbarContainer).top-(u._isInline?r.toolbar.offsetHeight:0),g=u._isInline&&h-m>0?h-m-t.element.toolbar.offsetHeight:0;h<m?p._offStickyToolbar():h+u._variable.minResizingSize>=c+m?(u._sticky||p._onStickyToolbar(g),r.toolbar.style.top=g+c+m+s.stickyToolbar-h-u._variable.minResizingSize+"px"):h>=m&&p._onStickyToolbar(g)},_getEditorOffsets:function(r){let c=r||t.element.topArea,h=0,m=0,g=0;for(;c;)h+=c.offsetTop,m+=c.offsetLeft,g+=c.scrollTop,c=c.offsetParent;return{top:h,left:m,scroll:g}},_getPageBottomSpace:function(){return a.documentElement.scrollHeight-(p._getEditorOffsets(null).top+t.element.topArea.offsetHeight)},_onStickyToolbar:function(r){const c=t.element;!u._isInline&&!s.toolbarContainer&&(c._stickyDummy.style.height=c.toolbar.offsetHeight+"px",c._stickyDummy.style.display="block"),c.toolbar.style.top=s.stickyToolbar+r+"px",c.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:c.toolbar.offsetWidth+"px",l.addClass(c.toolbar,"se-toolbar-sticky"),u._sticky=!0},_offStickyToolbar:function(){const r=t.element;r._stickyDummy.style.display="none",r.toolbar.style.top=u._isInline?u._inlineToolbarAttr.top:"",r.toolbar.style.width=u._isInline?u._inlineToolbarAttr.width:"",r.editorArea.style.marginTop="",l.removeClass(r.toolbar,"se-toolbar-sticky"),u._sticky=!1},_codeViewAutoHeight:function(){u._variable.isFullScreen||(t.element.code.style.height=t.element.code.scrollHeight+"px")},_hardDelete:function(){const r=u.getRange(),c=r.startContainer,h=r.endContainer,m=l.getRangeFormatElement(c),g=l.getRangeFormatElement(h),b=l.isCell(m),v=l.isCell(g),y=r.commonAncestorContainer;if((b&&!m.previousElementSibling&&!m.parentElement.previousElementSibling||v&&!g.nextElementSibling&&!g.parentElement.nextElementSibling)&&m!==g)if(!b)l.removeItem(l.getParentElement(g,function(x){return y===x.parentNode}));else if(!v)l.removeItem(l.getParentElement(m,function(x){return y===x.parentNode}));else return l.removeItem(l.getParentElement(m,function(x){return y===x.parentNode})),u.nativeFocus(),!0;const S=c.nodeType===1?l.getParentElement(c,".se-component"):null,_=h.nodeType===1?l.getParentElement(h,".se-component"):null;return S&&l.removeItem(S),_&&l.removeItem(_),!1},onPaste_wysiwyg:function(r){const c=l.isIE?d.clipboardData:r.clipboardData;return c?p._dataTransferAction("paste",r,c):!0},_setClipboardComponent:function(r,c,h){r.preventDefault(),r.stopPropagation(),h.setData("text/html",c.component.outerHTML)},onCopy_wysiwyg:function(r){const c=l.isIE?d.clipboardData:r.clipboardData;if(typeof C.onCopy=="function"&&C.onCopy(r,c,u)===!1)return r.preventDefault(),r.stopPropagation(),!1;const h=u.currentFileComponentInfo;h&&!l.isIE&&(p._setClipboardComponent(r,h,c),l.addClass(h.component,"se-component-copy"),d.setTimeout(function(){l.removeClass(h.component,"se-component-copy")},150))},onSave_wysiwyg:function(r){if(typeof C.onSave=="function"){C.onSave(r,u);return}},onCut_wysiwyg:function(r){const c=l.isIE?d.clipboardData:r.clipboardData;if(typeof C.onCut=="function"&&C.onCut(r,c,u)===!1)return r.preventDefault(),r.stopPropagation(),!1;const h=u.currentFileComponentInfo;h&&!l.isIE&&(p._setClipboardComponent(r,h,c),l.removeItem(h.component),u.controllersOff()),d.setTimeout(function(){u.history.push(!1)})},onDrop_wysiwyg:function(r){if(u.isReadOnly||l.isIE)return r.preventDefault(),r.stopPropagation(),!1;const c=r.dataTransfer;return c?(p._setDropLocationSelection(r),u.removeNode(),document.body.contains(u.currentControllerTarget)||u.controllersOff(),p._dataTransferAction("drop",r,c)):!0},_setDropLocationSelection:function(r){const c={startContainer:null,startOffset:null,endContainer:null,endOffset:null};let h=null;if(r.rangeParent?(c.startContainer=r.rangeParent,c.startOffset=r.rangeOffset,c.endContainer=r.rangeParent,c.endOffset=r.rangeOffset):u._wd.caretRangeFromPoint?h=u._wd.caretRangeFromPoint(r.clientX,r.clientY):h=u.getRange(),h&&(c.startContainer=h.startContainer,c.startOffset=h.startOffset,c.endContainer=h.endContainer,c.endOffset=h.endOffset),c.startContainer===c.endContainer){const m=l.getParentElement(c.startContainer,l.isComponent);m&&(c.startContainer=m,c.startOffset=0,c.endContainer=m,c.endOffset=0)}u.setRange(c.startContainer,c.startOffset,c.endContainer,c.endOffset)},_dataTransferAction:function(r,c,h){let m,g;if(l.isIE){m=h.getData("Text");const b=u.getRange(),v=l.createElement("DIV"),y={sc:b.startContainer,so:b.startOffset,ec:b.endContainer,eo:b.endOffset};return v.setAttribute("contenteditable",!0),v.style.cssText="position:absolute; top:0; left:0; width:1px; height:1px; overflow:hidden;",t.element.relative.appendChild(v),v.focus(),d.setTimeout(function(){g=v.innerHTML,l.removeItem(v),u.setRange(y.sc,y.so,y.ec,y.eo),p._setClipboardData(r,c,m,g,h)}),!0}else if(m=h.getData("text/plain"),g=h.getData("text/html"),p._setClipboardData(r,c,m,g,h)===!1)return c.preventDefault(),c.stopPropagation(),!1},_setClipboardData:function(r,c,h,m,g){const b=/class=["']*Mso(Normal|List)/i.test(m)||/content=["']*Word.Document/i.test(m)||/content=["']*OneNote.File/i.test(m)||/content=["']*Excel.Sheet/i.test(m);!m?m=l._HTMLConvertor(h).replace(/\n/g,"<br>"):(m=m.replace(/^<html>\r?\n?<body>\r?\n?\x3C!--StartFragment--\>|\x3C!--EndFragment-->\r?\n?<\/body\>\r?\n?<\/html>$/g,""),b&&(m=m.replace(/\n/g," "),h=h.replace(/\n/g," ")),m=u.cleanHTML(m,u.pasteTagsWhitelistRegExp,u.pasteTagsBlacklistRegExp));const y=u._charCount(u._charTypeHTML?m:h);if(r==="paste"&&typeof C.onPaste=="function"){const _=C.onPaste(c,m,y,u);if(_===!1)return!1;if(typeof _=="string"){if(!_)return!1;m=_}}if(r==="drop"&&typeof C.onDrop=="function"){const _=C.onDrop(c,m,y,u);if(_===!1)return!1;if(typeof _=="string"){if(!_)return!1;m=_}}const S=g.files;if(S.length>0&&!b)return/^image/.test(S[0].type)&&u.plugins.image&&C.insertImage(S),!1;if(!y)return!1;if(m)return C.insertHTML(m,!0,!1),!1},onMouseMove_wysiwyg:function(r){if(u.isDisabled||u.isReadOnly)return!1;const c=l.getParentElement(r.target,l.isComponent),h=u._lineBreaker.style;if(c&&!u.currentControllerName){const m=t.element;let g=0,b=m.wysiwyg;do g+=b.scrollTop,b=b.parentElement;while(b&&!/^(BODY|HTML)$/i.test(b.nodeName));const v=m.wysiwyg.scrollTop,y=p._getEditorOffsets(null),S=l.getOffset(c,m.wysiwygFrame).top+v,_=r.pageY+g+(s.iframe&&!s.toolbarContainer?m.toolbar.offsetHeight:0),x=S+(s.iframe?g:y.top),N=l.isListCell(c.parentNode);let L="",A="";if((N?!c.previousSibling:!l.isFormatElement(c.previousElementSibling))&&_<x+20)A=S,L="t";else if((N?!c.nextSibling:!l.isFormatElement(c.nextElementSibling))&&_>x+c.offsetHeight-20)A=S+c.offsetHeight,L="b";else{h.display="none";return}u._variable._lineBreakComp=c,u._variable._lineBreakDir=L,h.top=A-v+"px",u._lineBreakerButton.style.left=l.getOffset(c).left+c.offsetWidth/2-15+"px",h.display="block"}else h.display!=="none"&&(h.display="none")},_enterPrevent:function(r){r.preventDefault(),l.isMobile&&u.__focusTemp.focus()},_onMouseDown_lineBreak:function(r){r.preventDefault()},_onLineBreak:function(r){r.preventDefault();const c=u._variable._lineBreakComp,h=this?this:u._variable._lineBreakDir,m=l.isListCell(c.parentNode),g=l.createElement(m?"BR":l.isCell(c.parentNode)?"DIV":s.defaultTag);if(m||(g.innerHTML="<br>"),u._charTypeHTML&&!u.checkCharCount(g.outerHTML,"byte-html"))return;c.parentNode.insertBefore(g,h==="t"?c:c.nextSibling),u._lineBreaker.style.display="none",u._variable._lineBreakComp=null;const b=m?g:g.firstChild;u.setRange(b,1,b,1),u.history.push(!1)},_resizeObserver:null,_toolbarObserver:null,_addEvent:function(){const r=s.iframe?u._ww:t.element.wysiwyg;l.isResizeObserverSupported&&(this._resizeObserver=new d.ResizeObserver(function(c){u.__callResizeFunction(-1,c[0])})),t.element.toolbar.addEventListener("mousedown",p._buttonsEventHandler,!1),t.element._menuTray.addEventListener("mousedown",p._buttonsEventHandler,!1),t.element.toolbar.addEventListener("click",p.onClick_toolbar,!1),r.addEventListener("mousedown",p.onMouseDown_wysiwyg,!1),r.addEventListener("click",p.onClick_wysiwyg,!1),r.addEventListener(l.isIE?"textinput":"input",p.onInput_wysiwyg,!1),r.addEventListener("keydown",p.onKeyDown_wysiwyg,!1),r.addEventListener("keyup",p.onKeyUp_wysiwyg,!1),r.addEventListener("paste",p.onPaste_wysiwyg,!1),r.addEventListener("copy",p.onCopy_wysiwyg,!1),r.addEventListener("cut",p.onCut_wysiwyg,!1),r.addEventListener("drop",p.onDrop_wysiwyg,!1),r.addEventListener("scroll",p.onScroll_wysiwyg,!1),r.addEventListener("focus",p.onFocus_wysiwyg,!1),r.addEventListener("blur",p.onBlur_wysiwyg,!1),p._lineBreakerBind={a:p._onLineBreak.bind(""),t:p._onLineBreak.bind("t"),b:p._onLineBreak.bind("b")},r.addEventListener("mousemove",p.onMouseMove_wysiwyg,!1),u._lineBreakerButton.addEventListener("mousedown",p._onMouseDown_lineBreak,!1),u._lineBreakerButton.addEventListener("click",p._lineBreakerBind.a,!1),t.element.lineBreaker_t.addEventListener("mousedown",p._lineBreakerBind.t,!1),t.element.lineBreaker_b.addEventListener("mousedown",p._lineBreakerBind.b,!1),r.addEventListener("touchstart",p.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),r.addEventListener("touchend",p.onClick_wysiwyg,{passive:!0,useCapture:!1}),s.height==="auto"&&!s.codeMirrorEditor&&(t.element.code.addEventListener("keydown",p._codeViewAutoHeight,!1),t.element.code.addEventListener("keyup",p._codeViewAutoHeight,!1),t.element.code.addEventListener("paste",p._codeViewAutoHeight,!1)),t.element.resizingBar&&(/\d+/.test(s.height)&&s.resizeEnable?t.element.resizingBar.addEventListener("mousedown",p.onMouseDown_resizingBar,!1):l.addClass(t.element.resizingBar,"se-resizing-none")),p._setResponsiveToolbar(),l.isResizeObserverSupported&&(this._toolbarObserver=new d.ResizeObserver(u.resetResponsiveToolbar)),d.addEventListener("resize",p.onResize_window,!1),s.stickyToolbar>-1&&d.addEventListener("scroll",p.onScroll_window,!1)},_removeEvent:function(){const r=s.iframe?u._ww:t.element.wysiwyg;t.element.toolbar.removeEventListener("mousedown",p._buttonsEventHandler),t.element._menuTray.removeEventListener("mousedown",p._buttonsEventHandler),t.element.toolbar.removeEventListener("click",p.onClick_toolbar),r.removeEventListener("mousedown",p.onMouseDown_wysiwyg),r.removeEventListener("click",p.onClick_wysiwyg),r.removeEventListener(l.isIE?"textinput":"input",p.onInput_wysiwyg),r.removeEventListener("keydown",p.onKeyDown_wysiwyg),r.removeEventListener("keyup",p.onKeyUp_wysiwyg),r.removeEventListener("paste",p.onPaste_wysiwyg),r.removeEventListener("copy",p.onCopy_wysiwyg),r.removeEventListener("cut",p.onCut_wysiwyg),r.removeEventListener("drop",p.onDrop_wysiwyg),r.removeEventListener("scroll",p.onScroll_wysiwyg),r.removeEventListener("mousemove",p.onMouseMove_wysiwyg),u._lineBreakerButton.removeEventListener("mousedown",p._onMouseDown_lineBreak),u._lineBreakerButton.removeEventListener("click",p._lineBreakerBind.a),t.element.lineBreaker_t.removeEventListener("mousedown",p._lineBreakerBind.t),t.element.lineBreaker_b.removeEventListener("mousedown",p._lineBreakerBind.b),p._lineBreakerBind=null,r.removeEventListener("touchstart",p.onMouseDown_wysiwyg,{passive:!0,useCapture:!1}),r.removeEventListener("touchend",p.onClick_wysiwyg,{passive:!0,useCapture:!1}),r.removeEventListener("focus",p.onFocus_wysiwyg),r.removeEventListener("blur",p.onBlur_wysiwyg),t.element.code.removeEventListener("keydown",p._codeViewAutoHeight),t.element.code.removeEventListener("keyup",p._codeViewAutoHeight),t.element.code.removeEventListener("paste",p._codeViewAutoHeight),t.element.resizingBar&&t.element.resizingBar.removeEventListener("mousedown",p.onMouseDown_resizingBar),p._resizeObserver&&(p._resizeObserver.unobserve(t.element.wysiwygFrame),p._resizeObserver=null),p._toolbarObserver&&(p._toolbarObserver.unobserve(t.element._toolbarShadow),p._toolbarObserver=null),d.removeEventListener("resize",p.onResize_window),d.removeEventListener("scroll",p.onScroll_window)},_setResponsiveToolbar:function(){if(o.length===0){o=null;return}p._responsiveCurrentSize="default";const r=p._responsiveButtonSize=[],c=p._responsiveButtons={default:o[0]};for(let h=1,m=o.length,g,b;h<m;h++)b=o[h],g=b[0]*1,r.push(g),c[g]=b[1];r.sort(function(h,m){return h-m}).unshift("default")}},C={core:u,util:l,onload:null,onScroll:null,onMouseDown:null,onClick:null,onInput:null,onKeyDown:null,onKeyUp:null,onCopy:null,onCut:null,onFocus:null,onBlur:null,onChange:null,onSave:null,onDrop:null,onPaste:null,showInline:null,showController:null,toggleCodeView:null,toggleFullScreen:null,imageUploadHandler:null,videoUploadHandler:null,audioUploadHandler:null,onImageUploadBefore:null,onVideoUploadBefore:null,onAudioUploadBefore:null,onImageUpload:null,onVideoUpload:null,onAudioUpload:null,onImageUploadError:null,onVideoUploadError:null,onAudioUploadError:null,onResizeEditor:null,onSetToolbarButtons:null,setToolbarButtons:function(r){u.submenuOff(),u.containerOff(),u.moreLayerOff();const c=dr._createToolBar(a,r,u.plugins,s);o=c.responsiveButtons,p._setResponsiveToolbar(),t.element.toolbar.replaceChild(c._buttonTray,t.element._buttonTray);const h=hr(t.element.originElement,u._getConstructed(t.element),s);t.element=h.element,t.tool=h.tool,s.iframe&&(t.element.wysiwyg=u._wd.body),u._recoverButtonStates(),u._cachingButtons(),u.history._resetCachingButton(),u.effectNode=null,u.hasFocus&&p._applyTagEffects(),u.isReadOnly&&l.setDisabledButtons(!0,u.resizingDisabledButtons),typeof C.onSetToolbarButtons=="function"&&C.onSetToolbarButtons(c._buttonTray.querySelectorAll("button"),u)},setOptions:function(r){p._removeEvent(),u._resetComponents(),l.removeClass(u._styleCommandMap.showBlocks,"active"),l.removeClass(u._styleCommandMap.codeView,"active"),u._variable.isCodeView=!1,u._iframeAuto=null,u.plugins=r.plugins||u.plugins;const c=[s,r].reduce(function(b,v){for(let y in v)if(l.hasOwn(v,y))if(y==="plugins"&&v[y]&&b[y]){let S=b[y],_=v[y];S=S.length?S:d.Object.keys(S).map(function(x){return S[x]}),_=_.length?_:d.Object.keys(_).map(function(x){return _[x]}),b[y]=_.filter(function(x){return S.indexOf(x)===-1}).concat(S)}else b[y]=v[y];return b},{}),h=t.element,m=h.wysiwyg.innerHTML,g=dr._setOptions(c,t,s);g.callButtons&&(e=g.callButtons,u.initPlugins={}),g.plugins&&(u.plugins=i=g.plugins),h._menuTray.children.length===0&&(this._menuTray={}),o=g.toolbar.responsiveButtons,u.options=s=c,u.lang=n=s.lang,s.iframe&&h.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),u._setOptionsInit(h,m)}),h.editorArea.appendChild(h.wysiwygFrame),s.iframe||u._setOptionsInit(h,m)},setDefaultStyle:function(r){const c=s._editorStyles=l._setDefaultOptionStyle(s,r),h=t.element;h.topArea.style.cssText=c.top,h.code.style.cssText=s._editorStyles.frame,h.code.style.display="none",s.height==="auto"?h.code.style.overflow="hidden":h.code.style.overflow="",s.iframe?(h.wysiwygFrame.style.cssText=c.frame,h.wysiwyg.style.cssText=c.editor):h.wysiwygFrame.style.cssText=c.frame+c.editor},noticeOpen:function(r){u.notice.open.call(u,r)},noticeClose:function(){u.notice.close.call(u)},save:function(){const r=u.getContents(!1);t.element.originElement.value=r,p.onSave_wysiwyg(r,u)},getContext:function(){return t},getContents:function(r){return u.getContents(r)},getText:function(){return t.element.wysiwyg.textContent},getCharCount:function(r){return r=typeof r=="string"?r:s.charCounterType,u.getCharLength(u._charTypeHTML?t.element.wysiwyg.innerHTML:t.element.wysiwyg.textContent,r)},getImagesInfo:function(){return t.image?t.image._infoList:[]},getFilesInfo:function(r){return t[r]?t[r]._infoList:[]},insertImage:function(r){!u.plugins.image||!r||(u.initPlugins.image?u.plugins.image.submitAction.call(u,r):u.callPlugin("image",u.plugins.image.submitAction.bind(u,r),null),u.focus())},insertHTML:function(r,c,h,m){if(t.element.wysiwygFrame.contains(u.getSelection().focusNode)||u.focus(),typeof r=="string"){c||(r=u.cleanHTML(r,null,null));try{if(l.isListCell(l.getFormatElement(u.getSelectionNode(),null))){const A=a.createRange().createContextualFragment(r).childNodes;u._isFormatData(A)&&(r=u._convertListCell(A))}const b=a.createRange().createContextualFragment(r).childNodes;if(h){const L=u._charTypeHTML?"outerHTML":"textContent";let A="";for(let D=0,V=b.length;D<V;D++)A+=b[D][L];if(!u.checkCharCount(A,null))return}let v,y,S,_,x;for(;v=b[0];){if(_&&_.nodeType===3&&y&&y.nodeType===1&&l.isBreak(v)){_=v,l.removeItem(v);continue}S=u.insertNode(v,y,!1),y=S.container||S,x||(x=S),_=v}_.nodeType===3&&y.nodeType===1&&(y=_);const N=y.nodeType===3?S.endOffset||y.textContent.length:y.childNodes.length;m?u.setRange(x.container||x,x.startOffset||0,y,N):u.setRange(y,N,y,N)}catch(g){if(u.isDisabled||u.isReadOnly)return;console.warn("[SUNEDITOR.insertHTML.fail] "+g),u.execCommand("insertHTML",!1,r)}}else if(l.isComponent(r))u.insertComponent(r,!1,h,!1);else{let g=null;(l.isFormatElement(r)||l.isMedia(r))&&(g=l.getFormatElement(u.getSelectionNode(),null)),u.insertNode(r,g,h)}u.effectNode=null,u.focus(),u.history.push(!1)},setContents:function(r){u.setContents(r)},appendContents:function(r){const c=u.convertContentsForEditor(r);if(u._variable.isCodeView)u._setCodeView(u._getCodeView()+`
`+u.convertHTMLForCodeView(c,!1));else{const h=l.createElement("DIV");h.innerHTML=c;const m=t.element.wysiwyg,g=h.children;for(let b=0,v=g.length;b<v;b++)g[b]&&m.appendChild(g[b])}u.history.push(!1)},readOnly:function(r){u.isReadOnly=r,l.setDisabledButtons(!!r,u.resizingDisabledButtons),r?(u.controllersOff(),u.submenuActiveButton&&u.submenuActiveButton.disabled&&u.submenuOff(),u._moreLayerActiveButton&&u._moreLayerActiveButton.disabled&&u.moreLayerOff(),u.containerActiveButton&&u.containerActiveButton.disabled&&u.containerOff(),u.modalForm&&u.plugins.dialog.close.call(u),t.element.code.setAttribute("readOnly","true"),l.addClass(t.element.wysiwygFrame,"se-read-only")):(t.element.code.removeAttribute("readOnly"),l.removeClass(t.element.wysiwygFrame,"se-read-only")),s.codeMirrorEditor&&s.codeMirrorEditor.setOption("readOnly",!!r)},disable:function(){this.toolbar.disable(),this.wysiwyg.disable()},disabled:function(){this.disable()},enable:function(){this.toolbar.enable(),this.wysiwyg.enable()},enabled:function(){this.enable()},show:function(){const r=t.element.topArea.style;r.display==="none"&&(r.display=s.display)},hide:function(){t.element.topArea.style.display="none"},destroy:function(){u.submenuOff(),u.containerOff(),u.controllersOff(),u.notice&&u.notice.close.call(u),u.modalForm&&u.plugins.dialog.close.call(u),u.history._destroy(),p._removeEvent(),l.removeItem(t.element.toolbar),l.removeItem(t.element.topArea);for(let r in u.functions)l.hasOwn(u,r)&&delete u.functions[r];for(let r in u)l.hasOwn(u,r)&&delete u[r];for(let r in p)l.hasOwn(p,r)&&delete p[r];for(let r in t)l.hasOwn(t,r)&&delete t[r];for(let r in e)l.hasOwn(e,r)&&delete e[r];for(let r in this)l.hasOwn(this,r)&&delete this[r]},toolbar:{disable:function(){u.submenuOff(),u.moreLayerOff(),u.containerOff(),t.tool.cover.style.display="block"},disabled:function(){this.disable()},enable:function(){t.tool.cover.style.display="none"},enabled:function(){this.enable()},show:function(){u._isInline?p._showToolbarInline():(t.element.toolbar.style.display="",t.element._stickyDummy.style.display=""),p.onResize_window()},hide:function(){u._isInline?p._hideToolbar():(t.element.toolbar.style.display="none",t.element._stickyDummy.style.display="none"),p.onResize_window()}},wysiwyg:{disable:function(){u.controllersOff(),u.modalForm&&u.plugins.dialog.close.call(u),t.element.wysiwyg.setAttribute("contenteditable",!1),u.isDisabled=!0,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!0):t.element.code.setAttribute("disabled","disabled")},enable:function(){t.element.wysiwyg.setAttribute("contenteditable",!0),u.isDisabled=!1,s.codeMirrorEditor?s.codeMirrorEditor.setOption("readOnly",!1):t.element.code.removeAttribute("disabled")}}};u.functions=C,u.options=s;let w=t.element,E=w.originElement,T=w.topArea;return E.style.display="none",T.style.display="block",s.iframe&&w.wysiwygFrame.addEventListener("load",function(){l._setIframeDocument(this,s),u._editorInit(!1,s.value),s.value=null}),typeof E.nextElementSibling=="object"?E.parentNode.insertBefore(T,E.nextElementSibling):E.parentNode.appendChild(T),w.editorArea.appendChild(w.wysiwygFrame),w=E=T=null,s.iframe||(u._editorInit(!1,s.value),s.value=null),C}const M0={init:function(t){return{create:(function(e,i){return this.create(e,i,t)}).bind(this)}},create:function(t,e,i){ce._propertiesInit(),typeof e!="object"&&(e={}),i&&(e=[i,e].reduce(function(o,a){for(let d in a)if(ce.hasOwn(a,d))if(d==="plugins"&&a[d]&&o[d]){let l=o[d],f=a[d];l=l.length?l:Object.keys(l).map(function(u){return l[u]}),f=f.length?f:Object.keys(f).map(function(u){return f[u]}),o[d]=f.filter(function(u){return l.indexOf(u)===-1}).concat(l)}else o[d]=a[d];return o},{}));const n=typeof t=="string"?document.getElementById(t):t;if(!n)throw Error(typeof t=="string"?'[SUNEDITOR.create.fail] The element for that id was not found (ID:"'+t+'")':"[SUNEDITOR.create.fail] suneditor requires textarea's element or id value");const s=dr.init(n,e);if(s.constructed._top.id&&document.getElementById(s.constructed._top.id))throw Error('[SUNEDITOR.create.fail] The ID of the suneditor you are trying to create already exists (ID:"'+s.constructed._top.id+'")');return O0(hr(n,s.constructed,s.options),s.pluginCallButtons,s.plugins,s.options.lang,e,s._responsiveButtons)}},B0={name:"blockquote",display:"command",add:function(t,e){const i=t.context;i.blockquote={targetButton:e,tag:t.util.createElement("BLOCKQUOTE")}},active:function(t){if(!t)this.util.removeClass(this.context.blockquote.targetButton,"active");else if(/blockquote/i.test(t.nodeName))return this.util.addClass(this.context.blockquote.targetButton,"active"),!0;return!1},action:function(){const t=this.util.getParentElement(this.getSelectionNode(),"blockquote");t?this.detachRangeFormatElement(t,null,null,!1,!1):this.applyRangeFormatElement(this.context.blockquote.tag.cloneNode(!1))}},I0={name:"align",display:"submenu",add:function(t,e){const i=t.icons,n=t.context;n.align={targetButton:e,_itemMenu:null,_alignList:null,currentAlign:"",defaultDir:t.options.rtl?"right":"left",icons:{justify:i.align_justify,left:i.align_left,right:i.align_right,center:i.align_center}};let s=this.setSubmenu(t),o=n.align._itemMenu=s.querySelector("ul");o.addEventListener("click",this.pickup.bind(t)),n.align._alignList=o.querySelectorAll("li button"),t.initMenuTarget(this.name,e,s),s=null,o=null},setSubmenu:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV"),s=t.options.alignItems;let o="";for(let a=0,d,l;a<s.length;a++)d=s[a],l=e.toolbar["align"+d.charAt(0).toUpperCase()+d.slice(1)],o+='<li><button type="button" class="se-btn-list se-btn-align" data-value="'+d+'" title="'+l+'" aria-label="'+l+'"><span class="se-list-icon">'+i["align_"+d]+"</span>"+l+"</button></li>";return n.className="se-submenu se-list-layer se-list-align",n.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+o+"</ul></div>",n},active:function(t){const e=this.context.align,i=e.targetButton,n=i.firstElementChild;if(!t)this.util.changeElement(n,e.icons[e.defaultDir]),i.removeAttribute("data-focus");else if(this.util.isFormatElement(t)){const s=t.style.textAlign;if(s)return this.util.changeElement(n,e.icons[s]||e.icons[e.defaultDir]),i.setAttribute("data-focus",s),!0}return!1},on:function(){const t=this.context.align,e=t._alignList,i=t.targetButton.getAttribute("data-focus")||t.defaultDir;if(i!==t.currentAlign){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentAlign=i}},exchangeDir:function(){const t=this.options.rtl?"right":"left";if(!this.context.align||this.context.align.defaultDir===t)return;this.context.align.defaultDir=t;let e=this.context.align._itemMenu,i=e.querySelector('[data-value="left"]'),n=e.querySelector('[data-value="right"]');if(i&&n){const s=i.parentElement,o=n.parentElement;s.appendChild(n),o.appendChild(i)}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!i&&!/UL/i.test(e.tagName);)i=e.getAttribute("data-value"),e=e.parentNode;if(!i)return;const n=this.context.align.defaultDir,s=this.getSelectedElements();for(let o=0,a=s.length;o<a;o++)this.util.setStyle(s[o],"textAlign",i===n?"":i);this.effectNode=null,this.submenuOff(),this.focus(),this.history.push(!1)}},R0={name:"font",display:"submenu",add:function(t,e){const i=t.context;i.font={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_fontList:null,currentFont:""};let n=this.setSubmenu(t);n.querySelector(".se-list-inner").addEventListener("click",this.pickup.bind(t)),i.font._fontList=n.querySelectorAll("ul li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-font-family";let n,s,o,a,d=t.options.font,l='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+e.toolbar.default+'" aria-label="'+e.toolbar.default+'">('+e.toolbar.default+")</button></li>";for(o=0,a=d.length;o<a;o++)n=d[o],s=n.split(",")[0],l+='<li><button type="button" class="se-btn-list" data-value="'+n+'" data-txt="'+s+'" title="'+s+'" aria-label="'+s+'" style="font-family:'+n+';">'+s+"</button></li>";return l+="</ul></div>",i.innerHTML=l,i},active:function(t){const e=this.context.font.targetText,i=this.context.font.targetTooltip;if(t){if(t.style&&t.style.fontFamily.length>0){const n=t.style.fontFamily.replace(/["']/g,"");return this.util.changeTxt(e,n),this.util.changeTxt(i,this.lang.toolbar.font+" ("+n+")"),!0}}else{const n=this.hasFocus?this.wwComputedStyle.fontFamily:this.lang.toolbar.font;this.util.changeTxt(e,n),this.util.changeTxt(i,this.hasFocus?this.lang.toolbar.font+(n?" ("+n+")":""):n)}return!1},on:function(){const t=this.context.font,e=t._fontList,i=t.targetText.textContent;if(i!==t.currentFont){for(let n=0,s=e.length;n<s;n++)i===(e[n].getAttribute("data-value")||"").replace(/'|"/g,"")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentFont=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();let e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");/[\s\d\W]/.test(e)&&!/^['"].*['"]$/.test(e)&&(e='"'+e+'"'),i.style.fontFamily=e,this.nodeChange(i,["font-family"],null,null)}else this.nodeChange(null,["font-family"],["span"],!0);this.submenuOff()}},z0={name:"fontSize",display:"submenu",add:function(t,e){const i=t.context;i.fontSize={targetText:e.querySelector(".txt"),_sizeList:null,currentSize:""};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.fontSize._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-font-size";const s=e.fontSize?e.fontSize:[8,9,10,11,12,14,16,18,20,22,24,26,28,36,48,72];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let a=0,d=e.fontSizeUnit,l=s.length,f;a<l;a++)f=s[a],o+='<li><button type="button" class="se-btn-list" data-value="'+f+d+'" title="'+f+d+'" aria-label="'+f+d+'" style="font-size:'+f+d+';">'+f+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},active:function(t){if(!t)this.util.changeTxt(this.context.fontSize.targetText,this.hasFocus?this._convertFontSize.call(this,this.options.fontSizeUnit,this.wwComputedStyle.fontSize):this.lang.toolbar.fontSize);else if(t.style&&t.style.fontSize.length>0)return this.util.changeTxt(this.context.fontSize.targetText,this._convertFontSize.call(this,this.options.fontSizeUnit,t.style.fontSize)),!0;return!1},on:function(){const t=this.context.fontSize,e=t._sizeList,i=t.targetText.textContent;if(i!==t.currentSize){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-value")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentSize=i}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value");if(e){const i=this.util.createElement("SPAN");i.style.fontSize=e,this.nodeChange(i,["font-size"],null,null)}else this.nodeChange(null,["font-size"],["span"],!0);this.submenuOff()}},Nd={name:"colorPicker",add:function(t){const e=t.context;e.colorPicker={colorListHTML:"",_colorInput:"",_defaultColor:"#000",_styleProperty:"color",_currentColor:"",_colorList:[]},e.colorPicker.colorListHTML=this.createColorList(t,this._makeColorList)},createColorList:function(t,e){const i=t.options,n=t.lang,s=!i.colorList||i.colorList.length===0?["#ff0000","#ff5e00","#ffe400","#abf200","#00d8ff","#0055ff","#6600ff","#ff00dd","#000000","#ffd8d8","#fae0d4","#faf4c0","#e4f7ba","#d4f4fa","#d9e5ff","#e8d9ff","#ffd9fa","#f1f1f1","#ffa7a7","#ffc19e","#faed7d","#cef279","#b2ebf4","#b2ccff","#d1b2ff","#ffb2f5","#bdbdbd","#f15f5f","#f29661","#e5d85c","#bce55c","#5cd1e5","#6699ff","#a366ff","#f261df","#8c8c8c","#980000","#993800","#998a00","#6b9900","#008299","#003399","#3d0099","#990085","#353535","#670000","#662500","#665c00","#476600","#005766","#002266","#290066","#660058","#222222"]:i.colorList;let o=[],a='<div class="se-list-inner">';for(let d=0,l=s.length,f;d<l;d++)f=s[d],f&&(typeof f=="string"&&(o.push(f),d<l-1)||(o.length>0&&(a+='<div class="se-selector-color">'+e(o)+"</div>",o=[]),typeof f=="object"&&(a+='<div class="se-selector-color">'+e(f)+"</div>")));return a+='<form class="se-form-group"><input type="text" maxlength="9" class="_se_color_picker_input se-color-input"/><button type="submit" class="se-btn-primary _se_color_picker_submit" title="'+n.dialogBox.submitButton+'" aria-label="'+n.dialogBox.submitButton+'">'+t.icons.checked+'</button><button type="button" class="se-btn _se_color_picker_remove" title="'+n.toolbar.removeFormat+'" aria-label="'+n.toolbar.removeFormat+'">'+t.icons.erase+"</button></form></div>",a},_makeColorList:function(t){let e="";e+='<ul class="se-color-pallet">';for(let i=0,n=t.length,s;i<n;i++)s=t[i],typeof s=="string"&&(e+='<li><button type="button" data-value="'+s+'" title="'+s+'" aria-label="'+s+'" style="background-color:'+s+';"></button></li>');return e+="</ul>",e},init:function(t,e){const i=this.plugins.colorPicker;let n=e||i.getColorInNode.call(this,t)||this.context.colorPicker._defaultColor;n=i.isHexColor(n)?n:i.rgb2hex(n)||n;const s=this.context.colorPicker._colorList;if(s)for(let o=0,a=s.length;o<a;o++)n.toLowerCase()===s[o].getAttribute("data-value").toLowerCase()?this.util.addClass(s[o],"active"):this.util.removeClass(s[o],"active");i.setInputText.call(this,i.colorName2hex.call(this,n))},setCurrentColor:function(t){this.context.colorPicker._currentColor=t,this.context.colorPicker._colorInput.style.borderColor=t},setInputText:function(t){t=/^#/.test(t)?t:"#"+t,this.context.colorPicker._colorInput.value=t,this.plugins.colorPicker.setCurrentColor.call(this,t)},getColorInNode:function(t){let e="";const i=this.context.colorPicker._styleProperty;for(;t&&!this.util.isWysiwygDiv(t)&&e.length===0;)t.nodeType===1&&t.style[i]&&(e=t.style[i]),t=t.parentNode;return e},isHexColor:function(t){return/^#[0-9a-f]{3}(?:[0-9a-f]{3})?$/i.test(t)},rgb2hex:function(t){const e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return e&&e.length===4?"#"+("0"+parseInt(e[1],10).toString(16)).slice(-2)+("0"+parseInt(e[2],10).toString(16)).slice(-2)+("0"+parseInt(e[3],10).toString(16)).slice(-2):""},colorName2hex:function(t){if(/^#/.test(t))return t;var e=this.util.createElement("div");e.style.display="none",e.style.color=t;var i=this._w.getComputedStyle(this._d.body.appendChild(e)).color.match(/\d+/g).map(function(n){return parseInt(n,10)});return this.util.removeItem(e),i.length>=3?"#"+((1<<24)+(i[0]<<16)+(i[1]<<8)+i[2]).toString(16).substr(1):!1}},H0={name:"fontColor",display:"submenu",add:function(t,e){t.addModule([Nd]);const i=t.context;i.fontColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.fontColor.colorInput=n.querySelector("._se_color_picker_input"),i.fontColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.fontColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.fontColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.color;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#333333",t._styleProperty="color",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.fontColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.fontColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.color=t,this.nodeChange(e,["color"],null,null),this.submenuOff()}},P0={name:"hiliteColor",display:"submenu",add:function(t,e){t.addModule([Nd]);const i=t.context;i.hiliteColor={previewEl:null,colorInput:null,colorList:null};let n=this.setSubmenu(t);i.hiliteColor.colorInput=n.querySelector("._se_color_picker_input"),i.hiliteColor.colorInput.addEventListener("keyup",this.onChangeInput.bind(t)),n.querySelector("._se_color_picker_submit").addEventListener("click",this.submit.bind(t)),n.querySelector("._se_color_picker_remove").addEventListener("click",this.remove.bind(t)),n.addEventListener("click",this.pickup.bind(t)),i.hiliteColor.colorList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.context.colorPicker.colorListHTML,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML=e,i},on:function(){const t=this.context.colorPicker,e=this.context.hiliteColor;t._colorInput=e.colorInput;const i=this.wwComputedStyle.backgroundColor;t._defaultColor=i?this.plugins.colorPicker.isHexColor(i)?i:this.plugins.colorPicker.rgb2hex(i):"#ffffff",t._styleProperty="backgroundColor",t._colorList=e.colorList,this.plugins.colorPicker.init.call(this,this.getSelectionNode(),null)},onChangeInput:function(t){this.plugins.colorPicker.setCurrentColor.call(this,t.target.value)},submit:function(){this.plugins.hiliteColor.applyColor.call(this,this.context.colorPicker._currentColor)},pickup:function(t){t.preventDefault(),t.stopPropagation(),this.plugins.hiliteColor.applyColor.call(this,t.target.getAttribute("data-value"))},remove:function(){this.nodeChange(null,["background-color"],["span"],!0),this.submenuOff()},applyColor:function(t){if(!t)return;const e=this.util.createElement("SPAN");e.style.backgroundColor=t,this.nodeChange(e,["background-color"],null,null),this.submenuOff()}},F0={name:"horizontalRule",display:"submenu",add:function(t,e){t.context.horizontalRule={currentHR:null};let i=this.setSubmenu(t);i.querySelector("ul").addEventListener("click",this.horizontalRulePick.bind(t)),t.initMenuTarget(this.name,e,i),i=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.hrItems||[{name:e.toolbar.hr_solid,class:"__se__solid"},{name:e.toolbar.hr_dashed,class:"__se__dashed"},{name:e.toolbar.hr_dotted,class:"__se__dotted"}];let s="";for(let o=0,a=n.length;o<a;o++)s+='<li><button type="button" class="se-btn-list btn_line" data-command="horizontalRule" data-value="'+n[o].class+'" title="'+n[o].name+'" aria-label="'+n[o].name+'"><hr'+(n[o].class?' class="'+n[o].class+'"':"")+(n[o].style?' style="'+n[o].style+'"':"")+"/></button></li>";return i.className="se-submenu se-list-layer se-list-line",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic">'+s+"</ul></div>",i},active:function(t){if(!t)this.util.hasClass(this.context.horizontalRule.currentHR,"on")&&this.controllersOff();else if(/HR/i.test(t.nodeName))return this.context.horizontalRule.currentHR=t,this.util.hasClass(t,"on")||(this.util.addClass(t,"on"),this.controllersOn("hr",this.util.removeClass.bind(this.util,t,"on"))),!0;return!1},appendHr:function(t){return this.focus(),this.insertComponent(t.cloneNode(!1),!1,!0,!1)},horizontalRulePick:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=e.getAttribute("data-command");for(;!i&&!/UL/i.test(e.tagName);)e=e.parentNode,i=e.getAttribute("data-command");if(!i)return;const n=this.plugins.horizontalRule.appendHr.call(this,e.firstElementChild);n&&(this.setRange(n,0,n,0),this.submenuOff())}},V0={name:"list",display:"submenu",add:function(t,e){const i=t.context;i.list={targetButton:e,_list:null,currentList:"",icons:{bullets:t.icons.list_bullets,number:t.icons.list_number}};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.list._list=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-submenu se-list-layer",i.innerHTML='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="OL" title="'+e.toolbar.orderList+'" aria-label="'+e.toolbar.orderList+'">'+t.icons.list_number+'</button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="UL" title="'+e.toolbar.unorderList+'" aria-label="'+e.toolbar.unorderList+'">'+t.icons.list_bullets+"</button></li></ul></div>",i},active:function(t){const e=this.context.list.targetButton,i=e.firstElementChild,n=this.util;if(n.isList(t)){const s=t.nodeName;return e.setAttribute("data-focus",s),n.addClass(e,"active"),/UL/i.test(s)?n.changeElement(i,this.context.list.icons.bullets):n.changeElement(i,this.context.list.icons.number),!0}else e.removeAttribute("data-focus"),n.changeElement(i,this.context.list.icons.number),n.removeClass(e,"active");return!1},on:function(){const t=this.context.list,e=t._list,i=t.targetButton.getAttribute("data-focus")||"";if(i!==t.currentList){for(let n=0,s=e.length;n<s;n++)i===e[n].getAttribute("data-command")?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active");t.currentList=i}},editList:function(t,e,i){let n=this.getRange(),s=e||this.getSelectedElementsAndComponents(!1);if(s.length===0&&(e||(n=this.getRange_addLine(n,null),s=this.getSelectedElementsAndComponents(!1),s.length===0)))return;const o=this.util;o.sortByDepth(s,!0);let a=s[0],d=s[s.length-1],l=(o.isListCell(a)||o.isComponent(a))&&!a.previousElementSibling?a.parentNode.previousElementSibling:a.previousElementSibling,f=(o.isListCell(d)||o.isComponent(d))&&!d.nextElementSibling?d.parentNode.nextElementSibling:d.nextElementSibling;const u=n.collapsed,p={sc:n.startContainer,so:n.startContainer===n.endContainer&&o.onlyZeroWidthSpace(n.startContainer)&&n.startOffset===0&&n.endOffset===1?n.endOffset:n.startOffset,ec:n.endContainer,eo:n.endOffset};let C=null,w=!0;for(let E=0,T=s.length;E<T;E++)if(!o.isList(o.getRangeFormatElement(s[E],(function(r){return this.getRangeFormatElement(r)&&r!==s[E]}).bind(o)))){w=!1;break}if(w&&(!l||a.tagName!==l.tagName||t!==l.tagName.toUpperCase())&&(!f||d.tagName!==f.tagName||t!==f.tagName.toUpperCase())){if(i){for(let m=0,g=s.length;m<g;m++)for(let b=m-1;b>=0;b--)if(s[b].contains(s[m])){s.splice(m,1),m--,g--;break}}const E=o.getRangeFormatElement(a),T=E&&E.tagName===t;let r,c;const h=(function(m){return!this.isComponent(m)}).bind(o);T||(c=o.createElement(t));for(let m=0,g=s.length,b,v;m<g;m++)v=o.getRangeFormatElement(s[m],h),!(!v||!o.isList(v))&&(b?b!==v?(i&&o.isListCell(v.parentNode)?this.plugins.list._detachNested.call(this,r.f):C=this.detachRangeFormatElement(r.f[0].parentNode,r.f,c,!1,!0),v=s[m].parentNode,T||(c=o.createElement(t)),b=v,r={r:b,f:[o.getParentElement(s[m],"LI")]}):r.f.push(o.getParentElement(s[m],"LI")):(b=v,r={r:b,f:[o.getParentElement(s[m],"LI")]}),m===g-1&&(i&&o.isListCell(v.parentNode)?this.plugins.list._detachNested.call(this,r.f):C=this.detachRangeFormatElement(r.f[0].parentNode,r.f,c,!1,!0)))}else{const E=l&&l.parentNode,T=f&&f.parentNode;l=E&&!o.isWysiwygDiv(E)&&E.nodeName===t?E:l,f=T&&!o.isWysiwygDiv(T)&&T.nodeName===t?T:f;const r=l&&l.tagName===t,c=f&&f.tagName===t;let h=r?l:o.createElement(t),m=null,g=null,b=null;const v=(function(y){return!this.isComponent(y)&&!this.isList(y)}).bind(o);for(let y=0,S=s.length,_,x,N,L,A,D,V,F,H;y<S;y++){if(x=s[y],x.childNodes.length===0&&!o._isIgnoreNodeChange(x)){o.removeItem(x);continue}if(L=s[y+1],A=x.parentNode,D=L?L.parentNode:null,N=o.isListCell(x),H=o.isRangeFormatElement(A)?A:null,V=N&&!o.isWysiwygDiv(A)?A.parentNode:A,F=N&&!o.isWysiwygDiv(A)?!L||o.isListCell(V)?A:A.nextSibling:x.nextSibling,_=o.createElement("LI"),o.copyFormatAttributes(_,x),y===0&&p.sc===x&&(p.sc=_),y===S-1&&p.ec===x&&(p.ec=_),o.isComponent(x)){const R=/^HR$/i.test(x.nodeName);R||(_.innerHTML="<br>"),_.innerHTML+=x.outerHTML,R&&(_.innerHTML+="<br>")}else{const R=x.childNodes;for(;R[0];)_.appendChild(R[0])}h.appendChild(_),(!L||V!==D||o.isRangeFormatElement(F))&&(m||(m=h),(!r||!L||V!==D)&&!(L&&o.isList(D)&&D===A)&&h.parentNode!==V&&V.insertBefore(h,F)),o.removeItem(x),r&&g===null&&(g=h.children.length-1),L&&(o.getRangeFormatElement(D,v)!==o.getRangeFormatElement(A,v)||o.isList(D)&&o.isList(A)&&o.getElementDepth(D)!==o.getElementDepth(A))&&(h=o.createElement(t)),H&&H.children.length===0&&o.removeItem(H)}g&&(m=m.children[g]),c&&(b=h.children.length-1,h.innerHTML+=f.innerHTML,h.children[b],o.removeItem(f))}return this.effectNode=null,u&&C||p},_detachNested:function(t){const e=t[0],i=t[t.length-1],n=i.nextElementSibling,s=e.parentNode,o=s.parentNode.nextElementSibling,a=s.parentNode.parentNode;for(let l=0,f=t.length;l<f;l++)a.insertBefore(t[l],o);if(n&&s.children.length>0){const l=s.cloneNode(!1),f=s.childNodes,u=this.util.getPositionIndex(n);for(;f[u];)l.appendChild(f[u]);i.appendChild(l)}s.children.length===0&&this.util.removeItem(s),this.util.mergeSameTags(a);const d=this.util.getEdgeChildNodes(e,i);return{cc:e.parentNode,sc:d.sc,ec:d.ec}},editInsideList:function(t,e){e=e||this.getSelectedElements().filter((function(a){return this.isListCell(a)}).bind(this.util));const i=e.length;if(i===0||!t&&!this.util.isListCell(e[0].previousElementSibling)&&!this.util.isListCell(e[i-1].nextElementSibling))return{sc:e[0],so:0,ec:e[i-1],eo:1};let n=e[0].parentNode,s=e[i-1],o=null;if(t){if(n!==s.parentNode&&this.util.isList(s.parentNode.parentNode)&&s.nextElementSibling)for(s=s.nextElementSibling;s;)e.push(s),s=s.nextElementSibling;o=this.plugins.list.editList.call(this,n.nodeName.toUpperCase(),e,!0)}else{let a=this.util.createElement(n.nodeName),d=e[0].previousElementSibling,l=s.nextElementSibling;const f={s:null,e:null,sl:n,el:n};for(let C=0,w=i,E;C<w;C++)E=e[C],E.parentNode!==n&&(this.plugins.list._insiedList.call(this,n,a,d,l,f),n=E.parentNode,a=this.util.createElement(n.nodeName)),d=E.previousElementSibling,l=E.nextElementSibling,a.appendChild(E);this.plugins.list._insiedList.call(this,n,a,d,l,f);const u=this.util.getNodeFromPath(f.s,f.sl),p=this.util.getNodeFromPath(f.e,f.el);o={sc:u,so:0,ec:p,eo:p.textContent.length}}return o},_insiedList:function(t,e,i,n,s){let o=!1;if(i&&e.tagName===i.tagName){const a=e.children;for(;a[0];)i.appendChild(a[0]);e=i,o=!0}if(n&&e.tagName===n.tagName){const a=n.children;for(;a[0];)e.appendChild(a[0]);const d=n.nextElementSibling;n.parentNode.removeChild(n),n=d}if(!o){this.util.isListCell(i)&&(t=i,n=null),t.insertBefore(e,n),s.s||(s.s=this.util.getNodePath(e.firstElementChild.firstChild,t,null),s.sl=t);const a=t.contains(s.sl)?this.util.getNodePath(s.sl,t):null;s.e=this.util.getNodePath(e.lastElementChild.firstChild,t,null),s.el=t,this.util.mergeSameTags(t,[s.s,s.e,a],!1),this.util.mergeNestedTags(t),a&&(s.sl=this.util.getNodeFromPath(a,t))}return e},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i="";for(;!i&&!/^UL$/i.test(e.tagName);)i=e.getAttribute("data-command"),e=e.parentNode;if(!i)return;const n=this.plugins.list.editList.call(this,i,null,!1);n&&this.setRange(n.sc,n.so,n.ec,n.eo),this.submenuOff(),this.history.push(!1)}},$0={name:"table",display:"submenu",add:function(t,e){const i=t.context;let n=i.table={_element:null,_tdElement:null,_trElement:null,_trElements:null,_tableXY:[],_maxWidth:!0,_fixedColumn:!1,_rtl:t.options.rtl,cellControllerTop:t.options.tableCellControllerPosition==="top",resizeText:null,headerButton:null,mergeButton:null,splitButton:null,splitMenu:null,maxText:t.lang.controller.maxSize,minText:t.lang.controller.minSize,_physical_cellCnt:0,_logical_cellCnt:0,_rowCnt:0,_rowIndex:0,_physical_cellIndex:0,_logical_cellIndex:0,_current_colSpan:0,_current_rowSpan:0,icons:{expansion:t.icons.expansion,reduction:t.icons.reduction}},s=this.setSubmenu(t),o=s.querySelector(".se-controller-table-picker");n.tableHighlight=s.querySelector(".se-table-size-highlighted"),n.tableUnHighlight=s.querySelector(".se-table-size-unhighlighted"),n.tableDisplay=s.querySelector(".se-table-size-display"),t.options.rtl&&(n.tableHighlight.style.left="167px");let a=this.setController_table(t);n.tableController=a,n.resizeButton=a.querySelector("._se_table_resize"),n.resizeText=a.querySelector("._se_table_resize > span > span"),n.columnFixedButton=a.querySelector("._se_table_fixed_column"),n.headerButton=a.querySelector("._se_table_header");let d=this.setController_tableEditor(t,n.cellControllerTop);n.resizeDiv=d,n.splitMenu=d.querySelector(".se-btn-group-sub"),n.mergeButton=d.querySelector("._se_table_merge_button"),n.splitButton=d.querySelector("._se_table_split_button"),n.insertRowAboveButton=d.querySelector("._se_table_insert_row_a"),n.insertRowBelowButton=d.querySelector("._se_table_insert_row_b"),o.addEventListener("mousemove",this.onMouseMove_tablePicker.bind(t,n)),o.addEventListener("click",this.appendTable.bind(t)),d.addEventListener("click",this.onClick_tableController.bind(t)),a.addEventListener("click",this.onClick_tableController.bind(t)),t.initMenuTarget(this.name,e,s),i.element.relative.appendChild(d),i.element.relative.appendChild(a),s=null,o=null,d=null,a=null,n=null},setSubmenu:function(t){const e=t.util.createElement("DIV");return e.className="se-submenu se-selector-table",e.innerHTML='<div class="se-table-size"><div class="se-table-size-picker se-controller-table-picker"></div><div class="se-table-size-highlighted"></div><div class="se-table-size-unhighlighted"></div></div><div class="se-table-size-display">1 x 1</div>',e},setController_table:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-table",n.innerHTML='<div><div class="se-btn-group"><button type="button" data-command="resize" class="se-btn se-tooltip _se_table_resize">'+i.expansion+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.maxSize+'</span></span></button><button type="button" data-command="layout" class="se-btn se-tooltip _se_table_fixed_column">'+i.fixed_column_width+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.fixedColumnWidth+'</span></span></button><button type="button" data-command="header" class="se-btn se-tooltip _se_table_header">'+i.table_header+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.tableHeader+'</span></span></button><button type="button" data-command="remove" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},setController_tableEditor:function(t,e){const i=t.lang,n=t.icons,s=t.util.createElement("DIV");return s.className="se-controller se-controller-table-cell",s.innerHTML=(e?"":'<div class="se-arrow se-arrow-up"></div>')+'<div class="se-btn-group"><button type="button" data-command="insert" data-value="row" data-option="up" class="se-btn se-tooltip _se_table_insert_row_a">'+n.insert_row_above+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowAbove+'</span></span></button><button type="button" data-command="insert" data-value="row" data-option="down" class="se-btn se-tooltip _se_table_insert_row_b">'+n.insert_row_below+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertRowBelow+'</span></span></button><button type="button" data-command="delete" data-value="row" class="se-btn se-tooltip">'+n.delete_row+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteRow+'</span></span></button><button type="button" data-command="merge" class="_se_table_merge_button se-btn se-tooltip" disabled>'+n.merge_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.mergeCells+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="insert" data-value="cell" data-option="left" class="se-btn se-tooltip">'+n.insert_column_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnBefore+'</span></span></button><button type="button" data-command="insert" data-value="cell" data-option="right" class="se-btn se-tooltip">'+n.insert_column_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.insertColumnAfter+'</span></span></button><button type="button" data-command="delete" data-value="cell" class="se-btn se-tooltip">'+n.delete_column+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.deleteColumn+'</span></span></button><button type="button" data-command="onsplit" class="_se_table_split_button se-btn se-tooltip">'+n.split_cell+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+i.controller.splitCells+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-table-split"><div class="se-list-inner"><ul class="se-list-basic"><li class="se-btn-list" data-command="split" data-value="vertical" style="line-height:32px;" title="'+i.controller.VerticalSplit+'" aria-label="'+i.controller.VerticalSplit+'">'+i.controller.VerticalSplit+'</li><li class="se-btn-list" data-command="split" data-value="horizontal" style="line-height:32px;" title="'+i.controller.HorizontalSplit+'" aria-label="'+i.controller.HorizontalSplit+'">'+i.controller.HorizontalSplit+"</li></ul></div></div></div>",s},appendTable:function(){const t=this.util.createElement("TABLE"),e=this.plugins.table.createCells,i=this.context.table._tableXY[0];let n=this.context.table._tableXY[1],s="<tbody>";for(;n>0;)s+="<tr>"+e.call(this,"td",i)+"</tr>",--n;if(s+="</tbody>",t.innerHTML=s,this.insertComponent(t,!1,!0,!1)){const a=t.querySelector("td div");this.setRange(a,0,a,0),this.plugins.table.reset_table_picker.call(this)}},createCells:function(t,e,i){if(t=t.toLowerCase(),i){const n=this.util.createElement(t);return n.innerHTML="<div><br></div>",n}else{let n="";for(;e>0;)n+="<"+t+"><div><br></div></"+t+">",e--;return n}},onMouseMove_tablePicker:function(t,e){e.stopPropagation();let i=this._w.Math.ceil(e.offsetX/18),n=this._w.Math.ceil(e.offsetY/18);i=i<1?1:i,n=n<1?1:n,t._rtl&&(t.tableHighlight.style.left=i*18-13+"px",i=11-i),t.tableHighlight.style.width=i+"em",t.tableHighlight.style.height=n+"em",this.util.changeTxt(t.tableDisplay,i+" x "+n),t._tableXY=[i,n]},reset_table_picker:function(){if(!this.context.table.tableHighlight)return;const t=this.context.table.tableHighlight.style,e=this.context.table.tableUnHighlight.style;t.width="1em",t.height="1em",e.width="10em",e.height="10em",this.util.changeTxt(this.context.table.tableDisplay,"1 x 1"),this.submenuOff()},init:function(){const t=this.context.table,e=this.plugins.table;if(e._removeEvents.call(this),e._selectedTable){const i=e._selectedTable.querySelectorAll(".se-table-selected-cell");for(let n=0,s=i.length;n<s;n++)this.util.removeClass(i[n],"se-table-selected-cell")}e._toggleEditor.call(this,!0),t._element=null,t._tdElement=null,t._trElement=null,t._trElements=null,t._tableXY=[],t._maxWidth=!0,t._fixedColumn=!1,t._physical_cellCnt=0,t._logical_cellCnt=0,t._rowCnt=0,t._rowIndex=0,t._physical_cellIndex=0,t._logical_cellIndex=0,t._current_colSpan=0,t._current_rowSpan=0,e._shift=!1,e._selectedCells=null,e._selectedTable=null,e._ref=null,e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null},call_controller_tableEdit:function(t){const e=this.plugins.table,i=this.context.table;if(!this.getSelection().isCollapsed&&!e._selectedCell){this.controllersOff(),this.util.removeClass(t,"se-table-selected-cell");return}const n=i._element||this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");i._maxWidth=this.util.hasClass(n,"se-table-size-100")||n.style.width==="100%"||!n.style.width&&!this.util.hasClass(n,"se-table-size-auto"),i._fixedColumn=this.util.hasClass(n,"se-table-layout-fixed")||n.style.tableLayout==="fixed",e.setTableStyle.call(this,i._maxWidth?"width|column":"width"),e.setPositionControllerTop.call(this,n),e.setPositionControllerDiv.call(this,t,e._shift),e._shift||this.controllersOn(i.resizeDiv,i.tableController,e.init.bind(this),t,"table")},setPositionControllerTop:function(t){this.setControllerPosition(this.context.table.tableController,t,"top",{left:0,top:0})},setPositionControllerDiv:function(t,e){const i=this.context.table,n=i.resizeDiv;this.plugins.table.setCellInfo.call(this,t,e),i.cellControllerTop?this.setControllerPosition(n,i._element,"top",{left:i.tableController.offsetWidth,top:0}):this.setControllerPosition(n,t,"bottom",{left:0,top:0})},setCellInfo:function(t,e){const i=this.context.table,n=i._element=this.plugins.table._selectedTable||this.util.getParentElement(t,"TABLE");if(/THEAD/i.test(n.firstElementChild.nodeName)?this.util.addClass(i.headerButton,"active"):this.util.removeClass(i.headerButton,"active"),e||i._physical_cellCnt===0){i._tdElement!==t&&(i._tdElement=t,i._trElement=t.parentNode);const s=i._trElements=n.rows,o=t.cellIndex;let a=0;for(let u=0,p=s[0].cells,C=s[0].cells.length;u<C;u++)a+=p[u].colSpan;const d=i._rowIndex=i._trElement.rowIndex;i._rowCnt=s.length,i._physical_cellCnt=i._trElement.cells.length,i._logical_cellCnt=a,i._physical_cellIndex=o,i._current_colSpan=i._tdElement.colSpan-1,i._current_rowSpan-i._trElement.cells[o].rowSpan-1;let l=[],f=[];for(let u=0,p,C;u<=d;u++){p=s[u].cells,C=0;for(let w=0,E=p.length,T,r,c,h;w<E;w++){if(T=p[w],r=T.colSpan-1,c=T.rowSpan-1,h=w+C,f.length>0)for(let m=0,g;m<f.length;m++)g=f[m],!(g.row>u)&&(h>=g.index?(C+=g.cs,h+=g.cs,g.rs-=1,g.row=u+1,g.rs<1&&(f.splice(m,1),m--)):w===E-1&&(g.rs-=1,g.row=u+1,g.rs<1&&(f.splice(m,1),m--)));if(u===d&&w===o){i._logical_cellIndex=h;break}c>0&&l.push({index:h,cs:r+1,rs:c,row:-1}),C+=r}f=f.concat(l).sort(function(w,E){return w.index-E.index}),l=[]}l=null,f=null}},editTable:function(t,e){const i=this.plugins.table,n=this.context.table,s=n._element,o=t==="row";if(o){const a=n._trElement.parentNode;if(/^THEAD$/i.test(a.nodeName)){if(e==="up")return;if(!a.nextElementSibling||!/^TBODY$/i.test(a.nextElementSibling.nodeName)){s.innerHTML+="<tbody><tr>"+i.createCells.call(this,"td",n._logical_cellCnt,!1)+"</tr></tbody>";return}}}if(i._ref){const a=n._tdElement,d=i._selectedCells;if(o)if(e)i.setCellInfo.call(this,e==="up"?d[0]:d[d.length-1],!0),i.editRow.call(this,e,a);else{let l=d[0].parentNode;const f=[d[0]];for(let u=1,p=d.length,C;u<p;u++)C=d[u],l!==C.parentNode&&(f.push(C),l=C.parentNode);for(let u=0,p=f.length;u<p;u++)i.setCellInfo.call(this,f[u],!0),i.editRow.call(this,e)}else{const l=d[0].parentNode;if(e){let f=null;for(let u=0,p=d.length-1;u<p;u++)if(l!==d[u+1].parentNode){f=d[u];break}i.setCellInfo.call(this,e==="left"?d[0]:f||d[0],!0),i.editCell.call(this,e,a)}else{const f=[d[0]];for(let u=1,p=d.length,C;u<p&&(C=d[u],l===C.parentNode);u++)f.push(C);for(let u=0,p=f.length;u<p;u++)i.setCellInfo.call(this,f[u],!0),i.editCell.call(this,e)}}e||i.init.call(this)}else i[o?"editRow":"editCell"].call(this,e);if(!e){const a=s.children;for(let d=0;d<a.length;d++)a[d].children.length===0&&(this.util.removeItem(a[d]),d--);s.children.length===0&&this.util.removeItem(s)}},editRow:function(t,e){const i=this.context.table,n=!t,s=t==="up",o=i._rowIndex,a=n||s?o:o+i._current_rowSpan+1,d=n?-1:1,l=i._trElements;let f=i._logical_cellCnt;for(let u=0,p=o+(n?-1:0),C;u<=p;u++){if(C=l[u].cells,C.length===0)return;for(let w=0,E=C.length,T,r;w<E;w++)T=C[w].rowSpan,r=C[w].colSpan,!(T<2&&r<2)&&T+u>a&&a>u&&(C[w].rowSpan=T+d,f-=r)}if(n){const u=l[o+1];if(u){const p=[];let C=l[o].cells,w=0;for(let E=0,T=C.length,r,c;E<T;E++)r=C[E],c=E+w,w+=r.colSpan-1,r.rowSpan>1&&(r.rowSpan-=1,p.push({cell:r.cloneNode(!1),index:c}));if(p.length>0){let E=p.shift();C=u.cells,w=0;for(let T=0,r=C.length,c,h;T<r&&(c=C[T],h=T+w,w+=c.colSpan-1,!(h>=E.index&&(T--,w--,w+=E.cell.colSpan-1,u.insertBefore(E.cell,c),E=p.shift(),!E)));T++);if(E){u.appendChild(E.cell);for(let T=0,r=p.length;T<r;T++)u.appendChild(p[T].cell)}}}i._element.deleteRow(a)}else{const u=i._element.insertRow(a);u.innerHTML=this.plugins.table.createCells.call(this,"td",f,!1)}n?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},editCell:function(t,e){const i=this.context.table,n=this.util,s=!t,o=t==="left",a=i._current_colSpan,d=s||o?i._logical_cellIndex:i._logical_cellIndex+a+1,l=i._trElements;let f=[],u=[],p=0;const C=[],w=[];for(let E=0,T=i._rowCnt,r,c,h,m,g,b;E<T;E++){r=l[E],c=d,g=!1,h=r.cells,b=0;for(let v=0,y,S=h.length,_,x,N;v<S&&(y=h[v],!!y);v++)if(_=y.rowSpan-1,x=y.colSpan-1,s){if(N=v+b,u.length>0){const L=!h[v+1];for(let A=0,D;A<u.length;A++)D=u[A],!(D.row>E)&&(N>=D.index?(b+=D.cs,N=v+b,D.rs-=1,D.row=E+1,D.rs<1&&(u.splice(A,1),A--)):L&&(D.rs-=1,D.row=E+1,D.rs<1&&(u.splice(A,1),A--)))}_>0&&f.push({rs:_,cs:x+1,index:N,row:-1}),N>=c&&N+x<=c+a?C.push(y):N<=c+a&&N+x>=c?y.colSpan-=n.getOverlapRangeAtIndex(d,d+a,N,N+x):_>0&&(N<c||N+x>c+a)&&w.push({cell:y,i:E,rs:E+_}),b+=x}else{if(v>=c)break;if(x>0){if(p<1&&x+v>=c){y.colSpan+=1,c=null,p=_+1;break}c-=x}if(!g){for(let L=0,A;L<u.length;L++)A=u[L],c-=A.cs,A.rs-=1,A.rs<1&&(u.splice(L,1),L--);g=!0}}if(u=u.concat(f).sort(function(v,y){return v.index-y.index}),f=[],!s){if(p>0){p-=1;continue}c!==null&&h.length>0&&(m=this.plugins.table.createCells.call(this,h[0].nodeName,0,!0),m=r.insertBefore(m,h[c]))}}if(s){let E,T;for(let r=0,c=C.length,h;r<c;r++)h=C[r].parentNode,n.removeItem(C[r]),h.cells.length===0&&(E||(E=n.getArrayIndex(l,h)),T=n.getArrayIndex(l,h),n.removeItem(h));for(let r=0,c=w.length,h;r<c;r++)h=w[r],h.cell.rowSpan=n.getOverlapRangeAtIndex(E,T,h.i,h.rs);this.controllersOff()}else this.plugins.table.setPositionControllerDiv.call(this,e||i._tdElement,!0)},_closeSplitMenu:null,openSplitMenu:function(){this.util.addClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="inline-table",this.plugins.table._closeSplitMenu=(function(){this.util.removeClass(this.context.table.splitButton,"on"),this.context.table.splitMenu.style.display="none",this.removeDocEvent("click",this.plugins.table._closeSplitMenu),this.plugins.table._closeSplitMenu=null}).bind(this),this.addDocEvent("click",this.plugins.table._closeSplitMenu)},splitCells:function(t){const e=this.util,i=t==="vertical",n=this.context.table,s=n._tdElement,o=n._trElements,a=n._trElement,d=n._logical_cellIndex,l=n._rowIndex,f=this.plugins.table.createCells.call(this,s.nodeName,0,!0);if(i){const u=s.colSpan;if(f.rowSpan=s.rowSpan,u>1)f.colSpan=this._w.Math.floor(u/2),s.colSpan=u-f.colSpan,a.insertBefore(f,s.nextElementSibling);else{let p=[],C=[];for(let w=0,E=n._rowCnt,T,r;w<E;w++){T=o[w].cells,r=0;for(let c=0,h=T.length,m,g,b,v;c<h;c++){if(m=T[c],g=m.colSpan-1,b=m.rowSpan-1,v=c+r,C.length>0)for(let y=0,S;y<C.length;y++)S=C[y],!(S.row>w)&&(v>=S.index?(r+=S.cs,v+=S.cs,S.rs-=1,S.row=w+1,S.rs<1&&(C.splice(y,1),y--)):c===h-1&&(S.rs-=1,S.row=w+1,S.rs<1&&(C.splice(y,1),y--)));if(v<=d&&b>0&&p.push({index:v,cs:g+1,rs:b,row:-1}),m!==s&&v<=d&&v+g>=d+u-1){m.colSpan+=1;break}if(v>d)break;r+=g}C=C.concat(p).sort(function(c,h){return c.index-h.index}),p=[]}a.insertBefore(f,s.nextElementSibling)}}else{const u=s.rowSpan;if(f.colSpan=s.colSpan,u>1){f.rowSpan=this._w.Math.floor(u/2);const p=u-f.rowSpan,C=[],w=e.getArrayIndex(o,a)+p;for(let c=0,h,m;c<w;c++){h=o[c].cells,m=0;for(let g=0,b=h.length,v,y,S;g<b&&(S=g+m,!(S>=d));g++)v=h[g],y=v.rowSpan-1,y>0&&y+c>=w&&S<d&&C.push({index:S,cs:v.colSpan}),m+=v.colSpan-1}const E=o[w],T=E.cells;let r=C.shift();for(let c=0,h=T.length,m=0,g,b,v,y;c<h;c++){if(v=c+m,g=T[c],b=g.colSpan-1,y=v+b+1,r&&y>=r.index&&(m+=r.cs,y+=r.cs,r=C.shift()),y>=d||c===h-1){E.insertBefore(f,g.nextElementSibling);break}m+=b}s.rowSpan=p}else{f.rowSpan=s.rowSpan;const p=e.createElement("TR");p.appendChild(f);for(let E=0,T;E<l;E++){if(T=o[E].cells,T.length===0)return;for(let r=0,c=T.length;r<c;r++)E+T[r].rowSpan-1>=l&&(T[r].rowSpan+=1)}const C=n._physical_cellIndex,w=a.cells;for(let E=0,T=w.length;E<T;E++)E!==C&&(w[E].rowSpan+=1);a.parentNode.insertBefore(p,a.nextElementSibling)}}this.focusEdge(s),this.plugins.table.setPositionControllerDiv.call(this,s,!0)},mergeCells:function(){const t=this.plugins.table,e=this.context.table,i=this.util,n=t._ref,s=t._selectedCells,o=s[0];let a=null,d=null,l=n.ce-n.cs+1,f=n.re-n.rs+1,u="",p=null;for(let C=1,w=s.length,E,T;C<w;C++){E=s[C],p!==E.parentNode&&(p=E.parentNode),T=E.children;for(let r=0,c=T.length;r<c;r++)i.isFormatElement(T[r])&&i.onlyZeroWidthSpace(T[r].textContent)&&i.removeItem(T[r]);u+=E.innerHTML,i.removeItem(E),p.cells.length===0&&(a?d=p:a=p,f-=1)}if(a){const C=e._trElements,w=i.getArrayIndex(C,a),E=i.getArrayIndex(C,d||a),T=[];for(let r=0,c;r<=E;r++){if(c=C[r].cells,c.length===0){T.push(C[r]);continue}for(let h=0,m=c.length,g,b;h<m;h++)g=c[h],b=g.rowSpan-1,b>0&&r+b>=w&&(g.rowSpan-=i.getOverlapRangeAtIndex(w,E,r,r+b))}for(let r=0,c=T.length;r<c;r++)i.removeItem(T[r])}o.innerHTML+=u,o.colSpan=l,o.rowSpan=f,this.controllersOff(),t.setActiveButton.call(this,!0,!1),t.call_controller_tableEdit.call(this,o),i.addClass(o,"se-table-selected-cell"),this.focusEdge(o)},toggleHeader:function(){const t=this.util,e=this.context.table.headerButton,i=t.hasClass(e,"active"),n=this.context.table._element;if(i)t.removeItem(n.querySelector("thead"));else{const s=t.createElement("THEAD");s.innerHTML="<tr>"+this.plugins.table.createCells.call(this,"th",this.context.table._logical_cellCnt,!1)+"</tr>",n.insertBefore(s,n.firstElementChild)}t.toggleClass(e,"active"),/TH/i.test(this.context.table._tdElement.nodeName)?this.controllersOff():this.plugins.table.setPositionControllerDiv.call(this,this.context.table._tdElement,!1)},setTableStyle:function(t){const e=this.context.table,i=e._element;let n,s,o,a;t.indexOf("width")>-1&&(n=e.resizeButton.firstElementChild,s=e.resizeText,e._maxWidth?(o=e.icons.reduction,a=e.minText,e.columnFixedButton.style.display="block",this.util.removeClass(i,"se-table-size-auto"),this.util.addClass(i,"se-table-size-100")):(o=e.icons.expansion,a=e.maxText,e.columnFixedButton.style.display="none",this.util.removeClass(i,"se-table-size-100"),this.util.addClass(i,"se-table-size-auto")),this.util.changeElement(n,o),this.util.changeTxt(s,a)),t.indexOf("column")>-1&&(e._fixedColumn?(this.util.removeClass(i,"se-table-layout-auto"),this.util.addClass(i,"se-table-layout-fixed"),this.util.addClass(e.columnFixedButton,"active")):(this.util.removeClass(i,"se-table-layout-fixed"),this.util.addClass(i,"se-table-layout-auto"),this.util.removeClass(e.columnFixedButton,"active")))},setActiveButton:function(t,e){const i=this.context.table;/^TH$/i.test(t.nodeName)?(i.insertRowAboveButton.setAttribute("disabled",!0),i.insertRowBelowButton.setAttribute("disabled",!0)):(i.insertRowAboveButton.removeAttribute("disabled"),i.insertRowBelowButton.removeAttribute("disabled")),!e||t===e?(i.splitButton.removeAttribute("disabled"),i.mergeButton.setAttribute("disabled",!0)):(i.splitButton.setAttribute("disabled",!0),i.mergeButton.removeAttribute("disabled"))},_bindOnSelect:null,_bindOffSelect:null,_bindOffShift:null,_selectedCells:null,_shift:!1,_fixedCell:null,_fixedCellName:null,_selectedCell:null,_selectedTable:null,_ref:null,_toggleEditor:function(t){this.context.element.wysiwyg.setAttribute("contenteditable",t),t?this.util.removeClass(this.context.element.wysiwyg,"se-disabled"):this.util.addClass(this.context.element.wysiwyg,"se-disabled")},_offCellMultiSelect:function(t){t.stopPropagation();const e=this.plugins.table;e._shift?e._initBind&&(this._wd.removeEventListener("touchmove",e._initBind),e._initBind=null):(e._removeEvents.call(this),e._toggleEditor.call(this,!0)),!(!e._fixedCell||!e._selectedTable)&&(e.setActiveButton.call(this,e._fixedCell,e._selectedCell),e.call_controller_tableEdit.call(this,e._selectedCell||e._fixedCell),e._selectedCells=e._selectedTable.querySelectorAll(".se-table-selected-cell"),e._selectedCell&&e._fixedCell&&this.focusEdge(e._selectedCell),e._shift||(e._fixedCell=null,e._selectedCell=null,e._fixedCellName=null))},_onCellMultiSelect:function(t){this._antiBlur=!0;const e=this.plugins.table,i=this.util.getParentElement(t.target,this.util.isCell);if(e._shift)i===e._fixedCell?e._toggleEditor.call(this,!0):e._toggleEditor.call(this,!1);else if(!e._ref){if(i===e._fixedCell)return;e._toggleEditor.call(this,!1)}!i||i===e._selectedCell||e._fixedCellName!==i.nodeName||e._selectedTable!==this.util.getParentElement(i,"TABLE")||(e._selectedCell=i,e._setMultiCells.call(this,e._fixedCell,i))},_setMultiCells:function(t,e){const i=this.plugins.table,n=i._selectedTable.rows,s=this.util,o=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let u=0,p=o.length;u<p;u++)s.removeClass(o[u],"se-table-selected-cell");if(t===e&&(s.addClass(t,"se-table-selected-cell"),!i._shift))return;let a=!0,d=[],l=[];const f=i._ref={_i:0,cs:null,ce:null,rs:null,re:null};for(let u=0,p=n.length,C,w;u<p;u++){C=n[u].cells,w=0;for(let E=0,T=C.length,r,c,h,m;E<T;E++){if(r=C[E],h=r.colSpan-1,m=r.rowSpan-1,c=E+w,d.length>0)for(let g=0,b;g<d.length;g++)b=d[g],!(b.row>u)&&(c>=b.index?(w+=b.cs,c+=b.cs,b.rs-=1,b.row=u+1,b.rs<1&&(d.splice(g,1),g--)):E===T-1&&(b.rs-=1,b.row=u+1,b.rs<1&&(d.splice(g,1),g--)));if(a){if((r===t||r===e)&&(f.cs=f.cs!==null&&f.cs<c?f.cs:c,f.ce=f.ce!==null&&f.ce>c+h?f.ce:c+h,f.rs=f.rs!==null&&f.rs<u?f.rs:u,f.re=f.re!==null&&f.re>u+m?f.re:u+m,f._i+=1),f._i===2){a=!1,d=[],l=[],u=-1;break}}else if(s.getOverlapRangeAtIndex(f.cs,f.ce,c,c+h)&&s.getOverlapRangeAtIndex(f.rs,f.re,u,u+m)){const g=f.cs<c?f.cs:c,b=f.ce>c+h?f.ce:c+h,v=f.rs<u?f.rs:u,y=f.re>u+m?f.re:u+m;if(f.cs!==g||f.ce!==b||f.rs!==v||f.re!==y){f.cs=g,f.ce=b,f.rs=v,f.re=y,u=-1,d=[],l=[];break}s.addClass(r,"se-table-selected-cell")}m>0&&l.push({index:c,cs:h+1,rs:m,row:-1}),w+=r.colSpan-1}d=d.concat(l).sort(function(E,T){return E.index-T.index}),l=[]}},_removeEvents:function(){const t=this.plugins.table;t._initBind&&(this._wd.removeEventListener("touchmove",t._initBind),t._initBind=null),t._bindOnSelect&&(this._wd.removeEventListener("mousedown",t._bindOnSelect),this._wd.removeEventListener("mousemove",t._bindOnSelect),t._bindOnSelect=null),t._bindOffSelect&&(this._wd.removeEventListener("mouseup",t._bindOffSelect),t._bindOffSelect=null),t._bindOffShift&&(this._wd.removeEventListener("keyup",t._bindOffShift),t._bindOffShift=null)},_initBind:null,onTableCellMultiSelect:function(t,e){const i=this.plugins.table;i._removeEvents.call(this),this.controllersOff(),i._shift=e,i._fixedCell=t,i._fixedCellName=t.nodeName,i._selectedTable=this.util.getParentElement(t,"TABLE");const n=i._selectedTable.querySelectorAll(".se-table-selected-cell");for(let s=0,o=n.length;s<o;s++)this.util.removeClass(n[s],"se-table-selected-cell");this.util.addClass(t,"se-table-selected-cell"),i._bindOnSelect=i._onCellMultiSelect.bind(this),i._bindOffSelect=i._offCellMultiSelect.bind(this),e?(i._bindOffShift=(function(){this.controllersOn(this.context.table.resizeDiv,this.context.table.tableController,this.plugins.table.init.bind(this),t,"table"),i._ref||this.controllersOff()}).bind(this),this._wd.addEventListener("keyup",i._bindOffShift,!1),this._wd.addEventListener("mousedown",i._bindOnSelect,!1)):this._wd.addEventListener("mousemove",i._bindOnSelect,!1),this._wd.addEventListener("mouseup",i._bindOffSelect,!1),i._initBind=i.init.bind(this),this._wd.addEventListener("touchmove",i._initBind,!1)},onClick_tableController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")?t.target:t.target.parentNode;if(e.getAttribute("disabled"))return;const i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),s=e.getAttribute("data-option"),o=this.plugins.table;if(typeof o._closeSplitMenu=="function"&&(o._closeSplitMenu(),i==="onsplit")||!i)return;t.preventDefault();const a=this.context.table;switch(i){case"insert":case"delete":o.editTable.call(this,n,s);break;case"header":o.toggleHeader.call(this);break;case"onsplit":o.openSplitMenu.call(this);break;case"split":o.splitCells.call(this,n);break;case"merge":o.mergeCells.call(this);break;case"resize":a._maxWidth=!a._maxWidth,o.setTableStyle.call(this,"width"),o.setPositionControllerTop.call(this,a._element),o.setPositionControllerDiv.call(this,a._tdElement,o._shift);break;case"layout":a._fixedColumn=!a._fixedColumn,o.setTableStyle.call(this,"column"),o.setPositionControllerTop.call(this,a._element),o.setPositionControllerDiv.call(this,a._tdElement,o._shift);break;case"remove":const d=a._element.parentNode;this.util.removeItem(a._element),this.controllersOff(),d!==this.context.element.wysiwyg&&this.util.removeItemAllParents(d,function(l){return l.childNodes.length===0},null),this.focus()}this.history.push(!1)}},W0={name:"formatBlock",display:"submenu",add:function(t,e){const i=t.context;i.formatBlock={targetText:e.querySelector(".txt"),targetTooltip:e.parentNode.querySelector(".se-tooltip-text"),_formatList:null,currentFormat:""};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.formatBlock._formatList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.lang.toolbar,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer se-list-format";const s=["p","div","blockquote","pre","h1","h2","h3","h4","h5","h6"],o=!e.formats||e.formats.length===0?s:e.formats;let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let d=0,l=o.length,f,u,p,C,w,E,T;d<l;d++)f=o[d],typeof f=="string"&&s.indexOf(f)>-1?(u=f.toLowerCase(),p=u==="blockquote"?"range":u==="pre"?"free":"replace",w=/^h/.test(u)?u.match(/\d+/)[0]:"",C=i["tag_"+(w?"h":u)]+w,T="",E=""):(u=f.tag.toLowerCase(),p=f.command,C=f.name||u,T=f.class,E=T?' class="'+T+'"':""),a+='<li><button type="button" class="se-btn-list" data-command="'+p+'" data-value="'+u+'" data-class="'+T+'" title="'+C+'" aria-label="'+C+'"><'+u+E+">"+C+"</"+u+"></button></li>";return a+="</ul></div>",n.innerHTML=a,n},active:function(t){let e=this.lang.toolbar.formats;const i=this.context.formatBlock.targetText;if(!t)this.util.changeTxt(i,e);else if(this.util.isFormatElement(t)){const s=this.context.formatBlock._formatList,o=t.nodeName.toLowerCase(),a=(t.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim();for(let d=0,l=s.length,f;d<l;d++)if(f=s[d],o===f.getAttribute("data-value")&&a===f.getAttribute("data-class")){e=f.title;break}return this.util.changeTxt(i,e),i.setAttribute("data-value",o),i.setAttribute("data-class",a),!0}return!1},on:function(){const t=this.context.formatBlock,e=t._formatList,i=t.targetText,n=(i.getAttribute("data-value")||"")+(i.getAttribute("data-class")||"");if(n!==t.currentFormat){for(let s=0,o=e.length,a;s<o;s++)a=e[s],n===a.getAttribute("data-value")+a.getAttribute("data-class")?this.util.addClass(a,"active"):this.util.removeClass(a,"active");t.currentFormat=n}},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null,s=null,o="";for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),n=e.getAttribute("data-value"),o=e.getAttribute("data-class"),i){s=e.firstChild;break}e=e.parentNode}if(i){if(i==="range"){const a=s.cloneNode(!1);this.applyRangeFormatElement(a)}else{let a=this.getRange(),d=this.getSelectedElementsAndComponents(!1);if(d.length===0&&(a=this.getRange_addLine(a,null),d=this.getSelectedElementsAndComponents(!1),d.length===0))return;const l=a.startOffset,f=a.endOffset,u=this.util;let p=d[0],C=d[d.length-1];const w=u.getNodePath(a.startContainer,p,null,null),E=u.getNodePath(a.endContainer,C,null,null),T=this.detachList(d,!1);T.sc&&(p=T.sc),T.ec&&(C=T.ec),this.setRange(u.getNodeFromPath(w,p),l,u.getNodeFromPath(E,C),f);const r=this.getSelectedElementsAndComponents(!1);if(i==="free"){const c=r.length-1;let h=r[c].parentNode,m=s.cloneNode(!1);const g=m;for(let b=c,v,y,S,_,x,N,L=!0;b>=0;b--)if(v=r[b],v!==(r[b+1]?r[b+1].parentNode:null)){if(N=u.isComponent(v),y=N?"":v.innerHTML.replace(/(?!>)\s+(?=<)|\n/g," "),S=u.getParentElement(v,function(A){return A.parentNode===h}),(h!==v.parentNode||N)&&(u.isFormatElement(h)?(h.parentNode.insertBefore(m,h.nextSibling),h=h.parentNode):(h.insertBefore(m,S?S.nextSibling:null),h=v.parentNode),_=m.nextSibling,_&&m.nodeName===_.nodeName&&u.isSameAttributes(m,_)&&(m.innerHTML+="<BR>"+_.innerHTML,u.removeItem(_)),m=s.cloneNode(!1),L=!0),x=m.innerHTML,m.innerHTML=(L||!y||!x||/<br>$/i.test(y)?y:y+"<BR>")+x,b===0){h.insertBefore(m,v),_=v.nextSibling,_&&m.nodeName===_.nodeName&&u.isSameAttributes(m,_)&&(m.innerHTML+="<BR>"+_.innerHTML,u.removeItem(_));const A=m.previousSibling;A&&m.nodeName===A.nodeName&&u.isSameAttributes(m,A)&&(A.innerHTML+="<BR>"+m.innerHTML,u.removeItem(m))}N||u.removeItem(v),y&&(L=!1)}this.setRange(g,0,g,0)}else{for(let c=0,h=r.length,m,g;c<h;c++)m=r[c],(m.nodeName.toLowerCase()!==n.toLowerCase()||(m.className.match(/(\s|^)__se__format__[^\s]+/)||[""])[0].trim()!==o)&&!u.isComponent(m)&&(g=s.cloneNode(!1),u.copyFormatAttributes(g,m),g.innerHTML=m.innerHTML,m.parentNode.replaceChild(g,m)),c===0&&(p=g||m),c===h-1&&(C=g||m),g=null;this.setRange(u.getNodeFromPath(w,p),l,u.getNodeFromPath(E,C),f)}this.history.push(!1)}this.submenuOff()}}},U0={name:"lineHeight",display:"submenu",add:function(t,e){const i=t.context;i.lineHeight={_sizeList:null,currentSize:-1};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.lineHeight._sizeList=s.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-submenu se-list-layer";const s=e.lineHeights?e.lineHeights:[{text:"1",value:1},{text:"1.15",value:1.15},{text:"1.5",value:1.5},{text:"2",value:2}];let o='<div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="default_value se-btn-list" title="'+i.toolbar.default+'" aria-label="'+i.toolbar.default+'">('+i.toolbar.default+")</button></li>";for(let a=0,d=s.length,l;a<d;a++)l=s[a],o+='<li><button type="button" class="se-btn-list" data-value="'+l.value+'" title="'+l.text+'" aria-label="'+l.text+'">'+l.text+"</button></li>";return o+="</ul></div>",n.innerHTML=o,n},on:function(){const t=this.context.lineHeight,e=t._sizeList,i=this.util.getFormatElement(this.getSelectionNode()),n=i?i.style.lineHeight+"":"";if(n!==t.currentSize){for(let s=0,o=e.length;s<o;s++)n===e[s].getAttribute("data-value")?this.util.addClass(e[s],"active"):this.util.removeClass(e[s],"active");t.currentSize=n}},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation();const e=t.target.getAttribute("data-value")||"",i=this.getSelectedElements();for(let n=0,s=i.length;n<s;n++)i[n].style.lineHeight=e;this.submenuOff(),this.history.push(!1)}},q0={name:"template",display:"submenu",add:function(t,e){const i=t.context;i.template={selectedIndex:-1};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickup.bind(t)),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options.templates;if(!e||e.length===0)throw Error('[SUNEDITOR.plugins.template.fail] To use the "template" plugin, please define the "templates" option.');const i=t.util.createElement("DIV");i.className="se-list-layer";let n='<div class="se-submenu se-list-inner"><ul class="se-list-basic">';for(let s=0,o=e.length,a;s<o;s++)a=e[s],n+='<li><button type="button" class="se-btn-list" data-value="'+s+'" title="'+a.name+'" aria-label="'+a.name+'">'+a.name+"</button></li>";return n+="</ul></div>",i.innerHTML=n,i},pickup:function(t){if(!/^BUTTON$/i.test(t.target.tagName))return!1;t.preventDefault(),t.stopPropagation(),this.context.template.selectedIndex=t.target.getAttribute("data-value")*1;const e=this.options.templates[this.context.template.selectedIndex];if(e.html)this.setContents(e.html);else throw this.submenuOff(),Error('[SUNEDITOR.template.fail] cause : "templates[i].html not found"');this.submenuOff()}},Z0={name:"paragraphStyle",display:"submenu",add:function(t,e){const i=t.context;i.paragraphStyle={_classList:null};let n=this.setSubmenu(t);n.querySelector("ul").addEventListener("click",this.pickUp.bind(t)),i.paragraphStyle._classList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n=t.lang.menu,s={spaced:{name:n.spaced,class:"__se__p-spaced",_class:""},bordered:{name:n.bordered,class:"__se__p-bordered",_class:""},neon:{name:n.neon,class:"__se__p-neon",_class:""}},o=!e.paragraphStyles||e.paragraphStyles.length===0?["spaced","bordered","neon"]:e.paragraphStyles;let a='<div class="se-list-inner"><ul class="se-list-basic">';for(let d=0,l=o.length,f,u,p,C;d<l;d++){if(f=o[d],typeof f=="string"){const w=s[f.toLowerCase()];if(!w)continue;f=w}u=f.name,p=f.class?' class="'+f.class+'"':"",C=f._class,a+='<li><button type="button" class="se-btn-list'+(C?" "+C:"")+'" data-value="'+f.class+'" title="'+u+'" aria-label="'+u+'"><div'+p+">"+u+"</div></button></li>"}return a+="</ul></div>",i.innerHTML=a,i},on:function(){const e=this.context.paragraphStyle._classList,i=this.util.getFormatElement(this.getSelectionNode());for(let n=0,s=e.length;n<s;n++)this.util.hasClass(i,e[n].getAttribute("data-value"))?this.util.addClass(e[n],"active"):this.util.removeClass(e[n],"active")},pickUp:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null;for(;!/^UL$/i.test(e.tagName)&&(i=e.getAttribute("data-value"),!i);)e=e.parentNode;if(!i)return;let n=this.getSelectedElements();if(n.length===0&&(this.getRange_addLine(this.getRange(),null),n=this.getSelectedElements(),n.length===0))return;const s=this.util.hasClass(e,"active")?this.util.removeClass.bind(this.util):this.util.addClass.bind(this.util);for(let o=0,a=n.length;o<a;o++)s(n[o],i);this.submenuOff(),this.history.push(!1)}},Y0={name:"textStyle",display:"submenu",add:function(t,e){const i=t.context;i.textStyle={_styleList:null};let n=this.setSubmenu(t),s=n.querySelector("ul");s.addEventListener("click",this.pickup.bind(t)),i.textStyle._styleList=n.querySelectorAll("li button"),t.initMenuTarget(this.name,e,n),n=null,s=null},setSubmenu:function(t){const e=t.options,i=t.util.createElement("DIV");i.className="se-submenu se-list-layer se-list-format";const n={code:{name:t.lang.menu.code,class:"__se__t-code",tag:"code"},translucent:{name:t.lang.menu.translucent,style:"opacity: 0.5;",tag:"span"},shadow:{name:t.lang.menu.shadow,class:"__se__t-shadow",tag:"span"}},s=e.textStyles?e.textStyles:t._w.Object.keys(n);let o='<div class="se-list-inner"><ul class="se-list-basic">';for(let a=0,d=s.length,l,f,u,p,C,w,E;a<d;a++){if(l=s[a],p="",w="",C=[],typeof l=="string"){const T=n[l.toLowerCase()];if(!T)continue;l=T}u=l.name,f=l.tag||"span",E=l._class,l.style&&(p+=' style="'+l.style+'"',w+=l.style.replace(/:[^;]+(;|$)\s*/g,","),C.push("style")),l.class&&(p+=' class="'+l.class+'"',w+="."+l.class.trim().replace(/\s+/g,",."),C.push("class")),w=w.replace(/,$/,""),o+='<li><button type="button" class="se-btn-list'+(E?" "+E:"")+'" data-command="'+f+'" data-value="'+w+'" title="'+u+'" aria-label="'+u+'"><'+f+p+">"+u+"</"+f+"></button></li>"}return o+="</ul></div>",i.innerHTML=o,i},on:function(){const t=this.util,i=this.context.textStyle._styleList,n=this.getSelectionNode();for(let s=0,o=i.length,a,d,l;s<o;s++){a=i[s],d=a.getAttribute("data-value").split(",");for(let f=0,u,p;f<d.length;f++){for(u=n,l=!1;u&&!t.isFormatElement(u)&&!t.isComponent(u);){if(u.nodeName.toLowerCase()===a.getAttribute("data-command").toLowerCase()&&(p=d[f],/^\./.test(p)?t.hasClass(u,p.replace(/^\./,"")):u.style[p])){l=!0;break}u=u.parentNode}if(!l)break}l?t.addClass(a,"active"):t.removeClass(a,"active")}},pickup:function(t){t.preventDefault(),t.stopPropagation();let e=t.target,i=null,n=null;for(;!i&&!/UL/i.test(e.tagName);){if(i=e.getAttribute("data-command"),i){n=e.firstChild;break}e=e.parentNode}if(!i)return;const s=n.style.cssText.replace(/:.+(;|$)/g,",").split(",");s.pop();const o=n.classList;for(let l=0,f=o.length;l<f;l++)s.push("."+o[l]);const a=this.util.hasClass(e,"active")?null:n.cloneNode(!1),d=a?null:[n.nodeName];this.nodeChange(a,s,d,!0),this.submenuOff()}};var Es={exports:{}},j0=Es.exports,ec;function K0(){return ec||(ec=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:j0,function(e,i){const n={name:"dialog",add:function(s){const o=s.context;o.dialog={kind:"",updateModal:!1,_closeSignal:!1};let a=s.util.createElement("DIV");a.className="se-dialog sun-editor-common";let d=s.util.createElement("DIV");d.className="se-dialog-back",d.style.display="none";let l=s.util.createElement("DIV");l.className="se-dialog-inner",l.style.display="none",a.appendChild(d),a.appendChild(l),o.dialog.modalArea=a,o.dialog.back=d,o.dialog.modal=l,o.dialog.modal.addEventListener("mousedown",this._onMouseDown_dialog.bind(s)),o.dialog.modal.addEventListener("click",this._onClick_dialog.bind(s)),o.element.relative.appendChild(a),a=null,d=null,l=null},_onMouseDown_dialog:function(s){/se-dialog-inner/.test(s.target.className)?this.context.dialog._closeSignal=!0:this.context.dialog._closeSignal=!1},_onClick_dialog:function(s){(/close/.test(s.target.getAttribute("data-command"))||this.context.dialog._closeSignal)&&this.plugins.dialog.close.call(this)},open:function(s,o){if(this.modalForm)return!1;this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null),this.plugins.dialog._bindClose=(function(d){/27/.test(d.keyCode)&&this.plugins.dialog.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.dialog._bindClose),this.context.dialog.updateModal=o,this.options.popupDisplay==="full"?this.context.dialog.modalArea.style.position="fixed":this.context.dialog.modalArea.style.position="absolute",this.context.dialog.kind=s,this.modalForm=this.context[s].modal;const a=this.context[s].focusElement;typeof this.plugins[s].on=="function"&&this.plugins[s].on.call(this,o),this.context.dialog.modalArea.style.display="block",this.context.dialog.back.style.display="block",this.context.dialog.modal.style.display="block",this.modalForm.style.display="block",a&&a.focus()},_bindClose:null,close:function(){this.plugins.dialog._bindClose&&(this._d.removeEventListener("keydown",this.plugins.dialog._bindClose),this.plugins.dialog._bindClose=null);const s=this.context.dialog.kind;this.modalForm.style.display="none",this.context.dialog.back.style.display="none",this.context.dialog.modalArea.style.display="none",this.context.dialog.updateModal=!1,typeof this.plugins[s].init=="function"&&this.plugins[s].init.call(this),this.context.dialog.kind="",this.modalForm=null,this.focus()}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"dialog",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Es)),Es.exports}var G0=K0();const Zn=ci(G0),X0={name:"selectMenu",add:function(t){t.context.selectMenu={caller:{},callerContext:null}},setForm:function(){return'<div class="se-select-list"></div>'},createList:function(t,e,i){t.form.innerHTML="<ul>"+i+"</ul>",t.items=e,t.menus=t.form.querySelectorAll("li")},initEvent:function(t,e){const i=e.querySelector(".se-select-list"),n=this.context.selectMenu.caller[t]={form:i,items:[],menus:[],index:-1,item:null,clickMethod:null,callerName:t};i.addEventListener("mousedown",this.plugins.selectMenu.onMousedown_list),i.addEventListener("mousemove",this.plugins.selectMenu.onMouseMove_list.bind(this,n)),i.addEventListener("click",this.plugins.selectMenu.onClick_list.bind(this,n))},onMousedown_list:function(t){t.preventDefault(),t.stopPropagation()},onMouseMove_list:function(t,e){this.util.addClass(t.form,"__se_select-menu-mouse-move");const i=e.target.getAttribute("data-index");i&&(t.index=i*1)},onClick_list:function(t,e){const i=e.target.getAttribute("data-index");i&&t.clickMethod.call(this,t.items[i])},moveItem:function(t,e){this.util.removeClass(t.form,"__se_select-menu-mouse-move"),e=t.index+e;const i=t.menus,n=i.length,s=t.index=e>=n?0:e<0?n-1:e;for(let o=0;o<n;o++)o===s?this.util.addClass(i[o],"active"):this.util.removeClass(i[o],"active");t.item=t.items[s]},getItem:function(t,e){return e=!e||e<0?t.index:e,t.items[e]},on:function(t,e){const i=this.context.selectMenu.caller[t];this.context.selectMenu.callerContext=i,i.clickMethod=e,i.callerName=t},open:function(t,e){const i=t.form;i.style.visibility="hidden",i.style.display="block",e(i),i.style.visibility=""},close:function(t){t.form.style.display="none",t.items=[],t.menus=[],t.index=-1,t.item=null},init:function(t){t&&(t.items=[],t.menus=[],t.index=-1,t.item=null,t.callerName="",this.context.selectMenu.callerContext=null)}},Dd={name:"anchor",add:function(t){t.addModule([X0]),t.context.anchor={caller:{},forms:this.setDialogForm(t),host:(t._w.location.origin+t._w.location.pathname).replace(/\/$/,""),callerContext:null}},setDialogForm:function(t){const e=t.lang,i=t.options.linkRel,n=(t.options.linkRelDefault.default||"").split(" "),s=t.icons,o=t.util.createElement("DIV");let a='<div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url" type="text" placeholder="'+(t.options.protocol||"")+'" /><button type="button" class="se-btn se-dialog-files-edge-button _se_bookmark_button" title="'+e.dialogBox.linkBox.bookmark+'" aria-label="'+e.dialogBox.linkBox.bookmark+'">'+s.bookmark+"</button>"+t.plugins.selectMenu.setForm()+'</div><div class="se-anchor-preview-form"><span class="se-svg se-anchor-preview-icon _se_anchor_bookmark_icon">'+s.bookmark+'</span><span class="se-svg se-anchor-preview-icon _se_anchor_download_icon">'+s.download+'</span><pre class="se-link-preview"></pre></div></div><div class="se-dialog-form"><label>'+e.dialogBox.linkBox.text+'</label><input class="se-input-form _se_anchor_text" type="text" /></div><div class="se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_check" />&nbsp;'+e.dialogBox.linkBox.newWindowCheck+'</label><label><input type="checkbox" class="se-dialog-btn-check _se_anchor_download" />&nbsp;'+e.dialogBox.linkBox.downloadLinkCheck+"</label>";if(i.length>0){a+='<div class="se-anchor-rel"><button type="button" class="se-btn se-btn-select se-anchor-rel-btn">&lt;rel&gt;</button><div class="se-anchor-rel-wrapper"><pre class="se-link-preview se-anchor-rel-preview"></pre></div><div class="se-list-layer"><div class="se-list-inner"><ul class="se-list-basic se-list-checked">';for(let d=0,l=i.length,f;d<l;d++)f=i[d],a+='<li><button type="button" class="se-btn-list'+(n.indexOf(f)>-1?" se-checked":"")+'" data-command="'+f+'" title="'+f+'" aria-label="'+f+'"><span class="se-svg">'+s.checked+"</span>"+f+"</button></li>";a+="</ul></div></div></div>"}return a+="</div></div>",o.innerHTML=a,o},initEvent:function(t,e){const i=this.plugins.anchor,n=this.context.anchor.caller[t]={modal:e,urlInput:null,linkDefaultRel:this.options.linkRelDefault,defaultRel:this.options.linkRelDefault.default||"",currentRel:[],linkAnchor:null,linkValue:"",_change:!1,callerName:t};typeof n.linkDefaultRel.default=="string"&&(n.linkDefaultRel.default=n.linkDefaultRel.default.trim()),typeof n.linkDefaultRel.check_new_window=="string"&&(n.linkDefaultRel.check_new_window=n.linkDefaultRel.check_new_window.trim()),typeof n.linkDefaultRel.check_bookmark=="string"&&(n.linkDefaultRel.check_bookmark=n.linkDefaultRel.check_bookmark.trim()),n.urlInput=e.querySelector(".se-input-url"),n.anchorText=e.querySelector("._se_anchor_text"),n.newWindowCheck=e.querySelector("._se_anchor_check"),n.downloadCheck=e.querySelector("._se_anchor_download"),n.download=e.querySelector("._se_anchor_download_icon"),n.preview=e.querySelector(".se-link-preview"),n.bookmark=e.querySelector("._se_anchor_bookmark_icon"),n.bookmarkButton=e.querySelector("._se_bookmark_button"),this.plugins.selectMenu.initEvent.call(this,t,e);const s=this.context.selectMenu.caller[t];this.options.linkRel.length>0&&(n.relButton=e.querySelector(".se-anchor-rel-btn"),n.relList=e.querySelector(".se-list-layer"),n.relPreview=e.querySelector(".se-anchor-rel-preview"),n.relButton.addEventListener("click",i.onClick_relButton.bind(this,n)),n.relList.addEventListener("click",i.onClick_relList.bind(this,n))),n.newWindowCheck.addEventListener("change",i.onChange_newWindowCheck.bind(this,n)),n.downloadCheck.addEventListener("change",i.onChange_downloadCheck.bind(this,n)),n.anchorText.addEventListener("input",i.onChangeAnchorText.bind(this,n)),n.urlInput.addEventListener("input",i.onChangeUrlInput.bind(this,n)),n.urlInput.addEventListener("keydown",i.onKeyDownUrlInput.bind(this,s)),n.urlInput.addEventListener("focus",i.onFocusUrlInput.bind(this,n,s)),n.urlInput.addEventListener("blur",i.onBlurUrlInput.bind(this,s)),n.bookmarkButton.addEventListener("click",i.onClick_bookmarkButton.bind(this,n))},on:function(t,e){const i=this.plugins.anchor;if(!e)i.init.call(this,t),t.anchorText.value=this.getSelection().toString().trim(),t.newWindowCheck.checked=this.options.linkTargetNewWindow;else if(t.linkAnchor){this.context.dialog.updateModal=!0;const n=t.linkAnchor.getAttribute("href");t.linkValue=t.preview.textContent=t.urlInput.value=i.selfPathBookmark.call(this,n)?n.substr(n.lastIndexOf("#")):n,t.anchorText.value=t.linkAnchor.textContent,t.newWindowCheck.checked=!!/_blank/i.test(t.linkAnchor.target),t.downloadCheck.checked=t.linkAnchor.download}this.context.anchor.callerContext=t,i.setRel.call(this,t,e&&t.linkAnchor?t.linkAnchor.rel:t.defaultRel),i.setLinkPreview.call(this,t,t.linkValue),this.plugins.selectMenu.on.call(this,t.callerName,this.plugins.anchor.setHeaderBookmark)},selfPathBookmark:function(t){const e=this._w.location.href.replace(/\/$/,"");return t.indexOf("#")===0||t.indexOf(e)===0&&t.indexOf("#")===(e.indexOf("#")===-1?e.length:e.substr(0,e.indexOf("#")).length)},_closeRelMenu:null,toggleRelList:function(t,e){if(!e)this.plugins.anchor._closeRelMenu&&this.plugins.anchor._closeRelMenu();else{const i=t.relButton,n=t.relList;this.util.addClass(i,"active"),n.style.visibility="hidden",n.style.display="block",this.options.rtl?n.style.left=i.offsetLeft-n.offsetWidth-1+"px":n.style.left=i.offsetLeft+i.offsetWidth+1+"px",n.style.top=i.offsetTop+i.offsetHeight/2-n.offsetHeight/2+"px",n.style.visibility="",this.plugins.anchor._closeRelMenu=(function(s,o,a){a&&(s.relButton.contains(a.target)||s.relList.contains(a.target))||(this.util.removeClass(o,"active"),s.relList.style.display="none",this.modalForm.removeEventListener("click",this.plugins.anchor._closeRelMenu),this.plugins.anchor._closeRelMenu=null)}).bind(this,t,i),this.modalForm.addEventListener("click",this.plugins.anchor._closeRelMenu)}},onClick_relButton:function(t,e){this.plugins.anchor.toggleRelList.call(this,t,!this.util.hasClass(e.target,"active"))},onClick_relList:function(t,e){const i=e.target,n=i.getAttribute("data-command");if(!n)return;const s=t.currentRel,o=this.util.toggleClass(i,"se-checked"),a=s.indexOf(n);o?a===-1&&s.push(n):a>-1&&s.splice(a,1),t.relPreview.title=t.relPreview.textContent=s.join(" ")},setRel:function(t,e){const i=t.relList,n=t.currentRel=e?e.split(" "):[];if(!i)return;const s=i.querySelectorAll("button");for(let o=0,a=s.length,d;o<a;o++)d=s[o].getAttribute("data-command"),n.indexOf(d)>-1?this.util.addClass(s[o],"se-checked"):this.util.removeClass(s[o],"se-checked");t.relPreview.title=t.relPreview.textContent=n.join(" ")},createHeaderList:function(t,e,i){const n=this.util.getListChildren(this.context.element.wysiwyg,function(d){return/h[1-6]/i.test(d.nodeName)});if(n.length===0)return;const s=new this._w.RegExp("^"+i.replace(/^#/,""),"i"),o=[];let a="";for(let d=0,l=n.length,f;d<l;d++)f=n[d],s.test(f.textContent)&&(o.push(f),a+='<li class="se-select-item" data-index="'+d+'">'+f.textContent+"</li>");o.length===0?this.plugins.selectMenu.close.call(this,e):(this.plugins.selectMenu.createList(e,o,a),this.plugins.selectMenu.open.call(this,e,this.plugins.anchor._setMenuListPosition.bind(this,t)))},_setMenuListPosition:function(t,e){e.style.top=t.urlInput.offsetHeight+1+"px"},onKeyDownUrlInput:function(t,e){switch(e.keyCode){case 38:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,-1);break;case 40:e.preventDefault(),e.stopPropagation(),this.plugins.selectMenu.moveItem.call(this,t,1);break;case 13:t.index>-1&&(e.preventDefault(),e.stopPropagation(),this.plugins.anchor.setHeaderBookmark.call(this,this.plugins.selectMenu.getItem(t,null)));break}},setHeaderBookmark:function(t){const e=this.context.anchor.callerContext,i=t.id||"h_"+this._w.Math.random().toString().replace(/.+\./,"");t.id=i,e.urlInput.value="#"+i,(!e.anchorText.value.trim()||!e._change)&&(e.anchorText.value=t.textContent),this.plugins.anchor.setLinkPreview.call(this,e,e.urlInput.value),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext),this.context.anchor.callerContext.urlInput.focus()},onChangeAnchorText:function(t,e){t._change=!!e.target.value.trim()},onChangeUrlInput:function(t,e){const i=e.target.value.trim();this.plugins.anchor.setLinkPreview.call(this,t,i),this.plugins.anchor.selfPathBookmark.call(this,i)?this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,i):this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)},onFocusUrlInput:function(t,e){const i=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,i)&&this.plugins.anchor.createHeaderList.call(this,t,e,i)},onBlurUrlInput:function(t){this.plugins.selectMenu.close.call(this,t)},setLinkPreview:function(t,e){const i=t.preview,n=this.options.linkProtocol,s=this.options.linkNoPrefix,o=/^(mailto\:|tel\:|sms\:|https*\:\/\/|#)/.test(e)||e.indexOf(n)===0,a=n?this._w.RegExp("^"+this.util.escapeStringRegexp(e.substr(0,n.length))).test(n):!1;e=t.linkValue=i.textContent=e?s?e:n&&!o&&!a?n+e:o?e:/^www\./.test(e)?"http://"+e:this.context.anchor.host+(/^\//.test(e)?"":"/")+e:"",this.plugins.anchor.selfPathBookmark.call(this,e)?(t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active")):(t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active")),!this.plugins.anchor.selfPathBookmark.call(this,e)&&t.downloadCheck.checked?t.download.style.display="block":t.download.style.display="none"},setCtx:function(t,e){t&&(e.linkAnchor=t,e.linkValue=t.href,e.currentRel=t.rel.split(" "))},updateAnchor:function(t,e,i,n,s){!this.plugins.anchor.selfPathBookmark.call(this,e)&&n.downloadCheck.checked?t.setAttribute("download",i||e):t.removeAttribute("download"),n.newWindowCheck.checked?t.target="_blank":t.removeAttribute("target");const o=n.currentRel.join(" ");o?t.rel=o:t.removeAttribute("rel"),t.href=e,s?t.children.length===0&&(t.textContent=""):t.textContent=i},createAnchor:function(t,e){if(t.linkValue.length===0)return null;const i=t.linkValue,n=t.anchorText,s=n.value.length===0?i:n.value,o=t.linkAnchor||this.util.createElement("A");return this.plugins.anchor.updateAnchor.call(this,o,i,s,t,e),t.linkValue=t.preview.textContent=t.urlInput.value=t.anchorText.value="",o},onClick_bookmarkButton:function(t){let e=t.urlInput.value;this.plugins.anchor.selfPathBookmark.call(this,e)?(e=e.substr(1),t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),this.plugins.selectMenu.close.call(this,this.context.selectMenu.callerContext)):(e="#"+e,t.bookmark.style.display="block",this.util.addClass(t.bookmarkButton,"active"),t.downloadCheck.checked=!1,t.download.style.display="none",this.plugins.anchor.createHeaderList.call(this,t,this.context.selectMenu.callerContext,e)),t.urlInput.value=e,this.plugins.anchor.setLinkPreview.call(this,t,e),t.urlInput.focus()},onChange_newWindowCheck:function(t,e){typeof t.linkDefaultRel.check_new_window=="string"&&(e.target.checked?this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_new_window)):this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_new_window)))},onChange_downloadCheck:function(t,e){e.target.checked?(t.download.style.display="block",t.bookmark.style.display="none",this.util.removeClass(t.bookmarkButton,"active"),t.linkValue=t.preview.textContent=t.urlInput.value=t.urlInput.value.replace(/^\#+/,""),typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relMerge.call(this,t,t.linkDefaultRel.check_bookmark))):(t.download.style.display="none",typeof t.linkDefaultRel.check_bookmark=="string"&&this.plugins.anchor.setRel.call(this,t,this.plugins.anchor._relDelete.call(this,t,t.linkDefaultRel.check_bookmark)))},_relMerge:function(t,e){const i=t.currentRel;if(!e)return i.join(" ");if(/^only\:/.test(e))return e=e.replace(/^only\:/,"").trim(),t.currentRel=e.split(" "),e;const n=e.split(" ");for(let s=0,o=n.length,a;s<o;s++)a=i.indexOf(n[s]),a===-1&&i.push(n[s]);return i.join(" ")},_relDelete:function(t,e){if(!e)return t.currentRel.join(" ");/^only\:/.test(e)&&(e=e.replace(/^only\:/,"").trim());const i=t.currentRel.join(" ").replace(this._w.RegExp(e+"\\s*"),"");return t.currentRel=i.split(" "),i},init:function(t){t.linkAnchor=null,t.linkValue=t.preview.textContent=t.urlInput.value="",t.anchorText.value="",t.newWindowCheck.checked=!1,t.downloadCheck.checked=!1,t._change=!1,this.plugins.anchor.setRel.call(this,t,t.defaultRel),t.relList&&this.plugins.anchor.toggleRelList.call(this,t,!1),this.context.anchor.callerContext=null,this.plugins.selectMenu.init.call(this,this.context.selectMenu.callerContext)}},Q0={name:"link",display:"dialog",add:function(t){t.addModule([Zn,Dd]);const e=t.context,i=e.link={focusElement:null,_linkAnchor:null,anchorCtx:null};let n=this.setDialog(t);i.modal=n;let s=this.setController_LinkButton(t);i.linkController=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),s.addEventListener("click",this.onClick_linkController.bind(t)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),t.plugins.anchor.initEvent.call(t,"link",n),i.focusElement=e.anchor.caller.link.urlInput,n=null,s=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.icons;i.className="se-dialog-content",i.style.display="none";let s='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+n.cancel+'</button><span class="se-modal-title">'+e.dialogBox.linkBox.title+"</span></div>"+t.context.anchor.forms.innerHTML+'<div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>";return i.innerHTML=s,i},setController_LinkButton:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><span><a target="_blank" href=""></a>&nbsp;</span><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="unlink" tabindex="-1" class="se-btn se-tooltip">'+i.unlink+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.unlink+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},open:function(){this.plugins.dialog.open.call(this,"link",this.currentControllerName==="link")},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();try{const e=this.plugins.anchor.createAnchor.call(this,this.context.anchor.caller.link,!1);if(e===null)return;if(this.context.dialog.updateModal){const i=this.context.link._linkAnchor.childNodes[0];this.setRange(i,0,i,i.textContent.length)}else{const i=this.getSelectedElements();if(i.length>1){const n=this.util.createElement(i[0].nodeName);if(n.appendChild(e),!this.insertNode(n,null,!0))return}else if(!this.insertNode(e,null,!0))return;this.setRange(e.childNodes[0],0,e.childNodes[0],e.textContent.length)}}finally{this.plugins.dialog.close.call(this),this.closeLoading(),this.history.push(!1)}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.link.linkController)>-1&&this.controllersOff();else if(this.util.isAnchor(t)&&t.getAttribute("data-image-link")===null)return this.controllerArray.indexOf(this.context.link.linkController)<0&&this.plugins.link.call_controller.call(this,t),!0;return!1},on:function(t){this.plugins.anchor.on.call(this,this.context.anchor.caller.link,t)},call_controller:function(t){this.editLink=this.context.link._linkAnchor=this.context.anchor.caller.link.linkAnchor=t;const e=this.context.link.linkController,i=e.querySelector("a");i.href=t.href,i.title=t.textContent,i.textContent=t.textContent,this.util.addClass(t,"on"),this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"link",this.util.removeClass.bind(this.util,this.context.link._linkAnchor,"on"))},onClick_linkController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");if(e){if(t.preventDefault(),/update/.test(e))this.plugins.dialog.open.call(this,"link",!0);else if(/unlink/.test(e)){const i=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!1),n=this.util.getChildElement(this.context.link._linkAnchor,function(s){return s.childNodes.length===0||s.nodeType===3},!0);this.setRange(i,0,n,n.textContent.length),this.nodeChange(null,null,["A"],!1)}else this.util.removeItem(this.context.link._linkAnchor),this.context.anchor.caller.link.linkAnchor=null,this.focus(),this.history.push(!1);this.controllersOff()}},init:function(){this.context.link.linkController.style.display="none",this.plugins.anchor.init.call(this,this.context.anchor.caller.link)}};var Ss={exports:{}},J0=Ss.exports,tc;function ep(){return tc||(tc=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:J0,function(e,i){const n={name:"component",set_container:function(s,o){const a=this.util.createElement("DIV");return a.className="se-component "+o,a.appendChild(s),a},set_cover:function(s){const o=this.util.createElement("FIGURE");return o.appendChild(s),o},create_caption:function(){const s=this.util.createElement("FIGCAPTION");return s.innerHTML="<div>"+this.lang.dialogBox.caption+"</div>",s}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"component",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Ss)),Ss.exports}var tp=ep();const Ur=ci(tp);var xs={exports:{}},ip=xs.exports,ic;function np(){return ic||(ic=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:ip,function(e,i){const n={name:"resizing",add:function(s){const o=s.icons,a=s.context;a.resizing={_resizeClientX:0,_resizeClientY:0,_resize_plugin:"",_resize_w:0,_resize_h:0,_origin_w:0,_origin_h:0,_rotateVertical:!1,_resize_direction:"",_move_path:null,_isChange:!1,alignIcons:{basic:o.align_justify,left:o.align_left,right:o.align_right,center:o.align_center}};let d=this.setController_resize(s);a.resizing.resizeContainer=d,a.resizing.resizeDiv=d.querySelector(".se-modal-resize"),a.resizing.resizeDot=d.querySelector(".se-resize-dot"),a.resizing.resizeDisplay=d.querySelector(".se-resize-display");let l=this.setController_button(s);a.resizing.resizeButton=l;let f=a.resizing.resizeHandles=a.resizing.resizeDot.querySelectorAll("span");a.resizing.resizeButtonGroup=l.querySelector("._se_resizing_btn_group"),a.resizing.rotationButtons=l.querySelectorAll("._se_resizing_btn_group ._se_rotation"),a.resizing.percentageButtons=l.querySelectorAll("._se_resizing_btn_group ._se_percentage"),a.resizing.alignMenu=l.querySelector(".se-resizing-align-list"),a.resizing.alignMenuList=a.resizing.alignMenu.querySelectorAll("button"),a.resizing.alignButton=l.querySelector("._se_resizing_align_button"),a.resizing.autoSizeButton=l.querySelector("._se_resizing_btn_group ._se_auto_size"),a.resizing.captionButton=l.querySelector("._se_resizing_caption_button"),d.addEventListener("mousedown",function(u){u.preventDefault()}),f[0].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[1].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[2].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[3].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[4].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[5].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[6].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),f[7].addEventListener("mousedown",this.onMouseDown_resize_handle.bind(s)),l.addEventListener("click",this.onClick_resizeButton.bind(s)),a.element.relative.appendChild(d),a.element.relative.appendChild(l),d=null,l=null,f=null},setController_resize:function(s){const o=s.util.createElement("DIV");return o.className="se-controller se-resizing-container",o.style.display="none",o.innerHTML='<div class="se-modal-resize"></div><div class="se-resize-dot"><span class="tl"></span><span class="tr"></span><span class="bl"></span><span class="br"></span><span class="lw"></span><span class="th"></span><span class="rw"></span><span class="bh"></span><div class="se-resize-display"></div></div>',o},setController_button:function(s){const o=s.lang,a=s.icons,d=s.util.createElement("DIV");return d.className="se-controller se-controller-resizing",d.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="se-btn-group _se_resizing_btn_group"><button type="button" data-command="percent" data-value="1" class="se-tooltip _se_percentage"><span>100%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize100+'</span></span></button><button type="button" data-command="percent" data-value="0.75" class="se-tooltip _se_percentage"><span>75%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize75+'</span></span></button><button type="button" data-command="percent" data-value="0.5" class="se-tooltip _se_percentage"><span>50%</span><span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.resize50+'</span></span></button><button type="button" data-command="auto" class="se-btn se-tooltip _se_auto_size">'+a.auto_size+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.autoSize+'</span></span></button><button type="button" data-command="rotate" data-value="-90" class="se-btn se-tooltip _se_rotation">'+a.rotate_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.rotateLeft+'</span></span></button><button type="button" data-command="rotate" data-value="90" class="se-btn se-tooltip _se_rotation">'+a.rotate_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.rotateRight+'</span></span></button></div><div class="se-btn-group" style="padding-top: 0;"><button type="button" data-command="mirror" data-value="h" class="se-btn se-tooltip">'+a.mirror_horizontal+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.mirrorHorizontal+'</span></span></button><button type="button" data-command="mirror" data-value="v" class="se-btn se-tooltip">'+a.mirror_vertical+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.mirrorVertical+'</span></span></button><button type="button" data-command="onalign" class="se-btn se-tooltip _se_resizing_align_button">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.toolbar.align+'</span></span></button><div class="se-btn-group-sub sun-editor-common se-list-layer se-resizing-align-list"><div class="se-list-inner"><ul class="se-list-basic"><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="basic">'+a.align_justify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.basic+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="left">'+a.align_left+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.left+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="center">'+a.align_center+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.center+'</span></span></button></li><li><button type="button" class="se-btn-list se-tooltip" data-command="align" data-value="right">'+a.align_right+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.right+'</span></span></button></li></ul></div></div><button type="button" data-command="caption" class="se-btn se-tooltip _se_resizing_caption_button">'+a.caption+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.caption+'</span></span></button><button type="button" data-command="revert" class="se-btn se-tooltip">'+a.revert+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.dialogBox.revertButton+'</span></span></button><button type="button" data-command="update" class="se-btn se-tooltip">'+a.modify+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.edit+'</span></span></button><button type="button" data-command="delete" class="se-btn se-tooltip">'+a.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+o.controller.remove+"</span></span></button></div>",d},_module_getSizeX:function(s,o,a,d){return o||(o=s._element),a||(a=s._cover),d||(d=s._container),o?/%$/.test(o.style.width)?(d&&this.util.getNumber(d.style.width,2)||100)+"%":o.style.width:""},_module_getSizeY:function(s,o,a,d){return o||(o=s._element),a||(a=s._cover),d||(d=s._container),!d||!a?o&&o.style.height||"":this.util.getNumber(a.style.paddingBottom,0)>0&&!this.context.resizing._rotateVertical?a.style.height:!/%$/.test(o.style.height)||!/%$/.test(o.style.width)?o.style.height:(d&&this.util.getNumber(d.style.height,2)||100)+"%"},_module_setModifyInputSize:function(s,o){const a=s._onlyPercentage&&this.context.resizing._rotateVertical;s.proportion.checked=s._proportionChecked=s._element.getAttribute("data-proportion")!=="false";let d=a?"":this.plugins.resizing._module_getSizeX.call(this,s);if(d===s._defaultSizeX&&(d=""),s._onlyPercentage&&(d=this.util.getNumber(d,2)),s.inputX.value=d,o.setInputSize.call(this,"x"),!s._onlyPercentage){let l=a?"":this.plugins.resizing._module_getSizeY.call(this,s);l===s._defaultSizeY&&(l=""),s._onlyPercentage&&(l=this.util.getNumber(l,2)),s.inputY.value=l}s.inputX.disabled=!!a,s.inputY.disabled=!!a,s.proportion.disabled=!!a,o.setRatio.call(this)},_module_setInputSize:function(s,o){if(s._onlyPercentage){o==="x"&&s.inputX.value>100&&(s.inputX.value=100);return}if(s.proportion.checked&&s._ratio&&/\d/.test(s.inputX.value)&&/\d/.test(s.inputY.value)){const a=s.inputX.value.replace(/\d+|\./g,"")||s.sizeUnit,d=s.inputY.value.replace(/\d+|\./g,"")||s.sizeUnit;if(a!==d)return;const l=a==="%"?2:0;o==="x"?s.inputY.value=this.util.getNumber(s._ratioY*this.util.getNumber(s.inputX.value,l),l)+d:s.inputX.value=this.util.getNumber(s._ratioX*this.util.getNumber(s.inputY.value,l),l)+a}},_module_setRatio:function(s){const o=s.inputX.value,a=s.inputY.value;if(s.proportion.checked&&/\d+/.test(o)&&/\d+/.test(a)){const d=o.replace(/\d+|\./g,"")||s.sizeUnit,l=a.replace(/\d+|\./g,"")||s.sizeUnit;if(d!==l)s._ratio=!1;else if(!s._ratio){const f=this.util.getNumber(o,0),u=this.util.getNumber(a,0);s._ratio=!0,s._ratioX=f/u,s._ratioY=u/f}}else s._ratio=!1},_module_sizeRevert:function(s){s._onlyPercentage?s.inputX.value=s._origin_w>100?100:s._origin_w:(s.inputX.value=s._origin_w,s.inputY.value=s._origin_h)},_module_saveCurrentSize:function(s){const o=this.plugins.resizing._module_getSizeX.call(this,s),a=this.plugins.resizing._module_getSizeY.call(this,s);s._element.setAttribute("width",o.replace("px","")),s._element.setAttribute("height",a.replace("px","")),s._element.setAttribute("data-size",o+","+a),s._videoRatio&&(s._videoRatio=a)},call_controller_resize:function(s,o){const a=this.context.resizing,d=this.context[o];a._resize_plugin=o;const l=a.resizeContainer,f=a.resizeDiv,u=this.util.getOffset(s,this.context.element.wysiwygFrame),p=a._rotateVertical=/^(90|270)$/.test(Math.abs(s.getAttribute("data-rotate")).toString()),C=p?s.offsetHeight:s.offsetWidth,w=p?s.offsetWidth:s.offsetHeight,E=u.top,T=u.left-this.context.element.wysiwygFrame.scrollLeft;l.style.top=E+"px",l.style.left=T+"px",l.style.width=C+"px",l.style.height=w+"px",f.style.top="0px",f.style.left="0px",f.style.width=C+"px",f.style.height=w+"px";let r=s.getAttribute("data-align")||"basic";r=r==="none"?"basic":r;const c=this.util.getParentElement(s,this.util.isComponent),h=this.util.getParentElement(s,"FIGURE"),m=this.plugins.resizing._module_getSizeX.call(this,d,s,h,c)||"auto",g=d._onlyPercentage&&o==="image"?"":", "+(this.plugins.resizing._module_getSizeY.call(this,d,s,h,c)||"auto");this.util.changeTxt(a.resizeDisplay,this.lang.dialogBox[r]+" ("+m+g+")"),a.resizeButtonGroup.style.display=d._resizing?"":"none";const b=d._resizing&&!d._resizeDotHide&&!d._onlyPercentage?"flex":"none",v=a.resizeHandles;for(let L=0,A=v.length;L<A;L++)v[L].style.display=b;if(d._resizing){const L=a.rotationButtons;L[0].style.display=L[1].style.display=d._rotation?"":"none"}if(d._alignHide)a.alignButton.style.display="none";else{a.alignButton.style.display="";const L=a.alignMenuList;this.util.changeElement(a.alignButton.firstElementChild,a.alignIcons[r]);for(let A=0,D=L.length;A<D;A++)L[A].getAttribute("data-value")===r?this.util.addClass(L[A],"on"):this.util.removeClass(L[A],"on")}const y=a.percentageButtons,S=/%$/.test(s.style.width)&&/%$/.test(c.style.width)?this.util.getNumber(c.style.width,0)/100+"":"";for(let L=0,A=y.length;L<A;L++)y[L].getAttribute("data-value")===S?this.util.addClass(y[L],"active"):this.util.removeClass(y[L],"active");d._captionShow?(a.captionButton.style.display="",this.util.getChildElement(s.parentNode,"figcaption")?(this.util.addClass(a.captionButton,"active"),d._captionChecked=!0):(this.util.removeClass(a.captionButton,"active"),d._captionChecked=!1)):a.captionButton.style.display="none",l.style.display="block";const _={left:0,top:50};this.options.iframe&&(_.left-=this.context.element.wysiwygFrame.parentElement.offsetLeft,_.top-=this.context.element.wysiwygFrame.parentElement.offsetTop),this.setControllerPosition(a.resizeButton,l,"bottom",_);const x=function(){this.util.setDisabledButtons.call(this.util,!1,this.resizingDisabledButtons),this.history._resetCachingButton()};this.controllersOn(l,a.resizeButton,x.bind(this),s,o),this.util.setDisabledButtons(!0,this.resizingDisabledButtons),a._resize_w=C,a._resize_h=w;const N=(s.getAttribute("origin-size")||"").split(",");return a._origin_w=N[0]||s.naturalWidth,a._origin_h=N[1]||s.naturalHeight,{w:C,h:w,t:E,l:T}},_closeAlignMenu:null,openAlignMenu:function(){const s=this.context.resizing.alignButton;this.util.addClass(s,"on"),this.context.resizing.alignMenu.style.top=s.offsetTop+s.offsetHeight+"px",this.context.resizing.alignMenu.style.left=s.offsetLeft-s.offsetWidth/2+"px",this.context.resizing.alignMenu.style.display="block",this.plugins.resizing._closeAlignMenu=(function(){this.util.removeClass(this.context.resizing.alignButton,"on"),this.context.resizing.alignMenu.style.display="none",this.removeDocEvent("click",this.plugins.resizing._closeAlignMenu),this.plugins.resizing._closeAlignMenu=null}).bind(this),this.addDocEvent("click",this.plugins.resizing._closeAlignMenu)},onClick_resizeButton:function(s){s.stopPropagation();const o=s.target,a=o.getAttribute("data-command")||o.parentNode.getAttribute("data-command");if(!a)return;const d=o.getAttribute("data-value")||o.parentNode.getAttribute("data-value"),l=this.context.resizing._resize_plugin,f=this.context[l],u=f._element,p=this.plugins[l];if(s.preventDefault(),!(typeof this.plugins.resizing._closeAlignMenu=="function"&&(this.plugins.resizing._closeAlignMenu(),a==="onalign"))){switch(a){case"auto":this.plugins.resizing.resetTransform.call(this,u),p.setAutoSize.call(this),this.selectComponent(u,l);break;case"percent":let C=this.plugins.resizing._module_getSizeY.call(this,f);if(this.context.resizing._rotateVertical){const b=u.getAttribute("data-percentage");b&&(C=b.split(",")[1])}this.plugins.resizing.resetTransform.call(this,u),p.setPercentSize.call(this,d*100,this.util.getNumber(C,0)===null||!/%$/.test(C)?"":C),this.selectComponent(u,l);break;case"mirror":const w=u.getAttribute("data-rotate")||"0";let E=u.getAttribute("data-rotateX")||"",T=u.getAttribute("data-rotateY")||"";d==="h"&&!this.context.resizing._rotateVertical||d==="v"&&this.context.resizing._rotateVertical?T=T?"":"180":E=E?"":"180",u.setAttribute("data-rotateX",E),u.setAttribute("data-rotateY",T),this.plugins.resizing._setTransForm(u,w,E,T);break;case"rotate":const r=this.context.resizing,c=u.getAttribute("data-rotate")*1+d*1,h=this._w.Math.abs(c)>=360?0:c;u.setAttribute("data-rotate",h),r._rotateVertical=/^(90|270)$/.test(this._w.Math.abs(h).toString()),this.plugins.resizing.setTransformSize.call(this,u,null,null),this.selectComponent(u,l);break;case"onalign":this.plugins.resizing.openAlignMenu.call(this);return;case"align":const m=d==="basic"?"none":d;p.setAlign.call(this,m,null,null,null),this.selectComponent(u,l);break;case"caption":const g=!f._captionChecked;if(p.openModify.call(this,!0),f._captionChecked=f.captionCheckEl.checked=g,p.update_image.call(this,!1,!1,!1),g){const b=this.util.getChildElement(f._caption,function(v){return v.nodeType===3});b?this.setRange(b,0,b,b.textContent.length):f._caption.focus(),this.controllersOff()}else this.selectComponent(u,l),p.openModify.call(this,!0);break;case"revert":p.setOriginSize.call(this),this.selectComponent(u,l);break;case"update":p.openModify.call(this),this.controllersOff();break;case"delete":p.destroy.call(this);break}this.history.push(!1)}},resetTransform:function(s){const o=(s.getAttribute("data-size")||s.getAttribute("data-origin")||"").split(",");this.context.resizing._rotateVertical=!1,s.style.maxWidth="",s.style.transform="",s.style.transformOrigin="",s.setAttribute("data-rotate",""),s.setAttribute("data-rotateX",""),s.setAttribute("data-rotateY",""),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,o[0]?o[0]:"auto",o[1]?o[1]:"",!0)},setTransformSize:function(s,o,a){let d=s.getAttribute("data-percentage");const l=this.context.resizing._rotateVertical,f=s.getAttribute("data-rotate")*1;let u="";if(d&&!l)d=d.split(","),d[0]==="auto"&&d[1]==="auto"?this.plugins[this.context.resizing._resize_plugin].setAutoSize.call(this):this.plugins[this.context.resizing._resize_plugin].setPercentSize.call(this,d[0],d[1]);else{const p=this.util.getParentElement(s,"FIGURE"),C=o||s.offsetWidth,w=a||s.offsetHeight,E=(l?w:C)+"px",T=(l?C:w)+"px";if(this.plugins[this.context.resizing._resize_plugin].cancelPercentAttr.call(this),this.plugins[this.context.resizing._resize_plugin].setSize.call(this,C+"px",w+"px",!0),p.style.width=E,p.style.height=this.context[this.context.resizing._resize_plugin]._caption?"":T,l){let r=C/2+"px "+C/2+"px 0",c=w/2+"px "+w/2+"px 0";u=f===90||f===-270?c:r}}s.style.transformOrigin=u,this.plugins.resizing._setTransForm(s,f.toString(),s.getAttribute("data-rotateX")||"",s.getAttribute("data-rotateY")||""),l?s.style.maxWidth="none":s.style.maxWidth="",this.plugins.resizing.setCaptionPosition.call(this,s)},_setTransForm:function(s,o,a,d){let l=(s.offsetWidth-s.offsetHeight)*(/-/.test(o)?1:-1),f="";if(/[1-9]/.test(o)&&(a||d))switch(f=a?"Y":"X",o){case"90":f=a&&d?"X":d?f:"";break;case"270":l*=-1,f=a&&d?"Y":a?f:"";break;case"-90":f=a&&d?"Y":a?f:"";break;case"-270":l*=-1,f=a&&d?"X":d?f:"";break;default:f=""}o%180===0&&(s.style.maxWidth=""),s.style.transform="rotate("+o+"deg)"+(a?" rotateX("+a+"deg)":"")+(d?" rotateY("+d+"deg)":"")+(f?" translate"+f+"("+l+"px)":"")},setCaptionPosition:function(s){const o=this.util.getChildElement(this.util.getParentElement(s,"FIGURE"),"FIGCAPTION");o&&(o.style.marginTop=(this.context.resizing._rotateVertical?s.offsetWidth-s.offsetHeight:0)+"px")},onMouseDown_resize_handle:function(s){s.stopPropagation(),s.preventDefault();const o=this.context.resizing,a=o._resize_direction=s.target.classList[0];o._resizeClientX=s.clientX,o._resizeClientY=s.clientY,this.context.element.resizeBackground.style.display="block",o.resizeButton.style.display="none",o.resizeDiv.style.float=/l/.test(a)?"right":/r/.test(a)?"left":"none";const d=(function(u){if(u.type==="keydown"&&u.keyCode!==27)return;const p=o._isChange;o._isChange=!1,this.removeDocEvent("mousemove",l),this.removeDocEvent("mouseup",d),this.removeDocEvent("keydown",d),u.type==="keydown"?(this.controllersOff(),this.context.element.resizeBackground.style.display="none",this.plugins[this.context.resizing._resize_plugin].init.call(this)):(this.plugins.resizing.cancel_controller_resize.call(this,a),p&&this.history.push(!1))}).bind(this),l=this.plugins.resizing.resizing_element.bind(this,o,a,this.context[o._resize_plugin]);this.addDocEvent("mousemove",l),this.addDocEvent("mouseup",d),this.addDocEvent("keydown",d)},resizing_element:function(s,o,a,d){const l=d.clientX,f=d.clientY;let u=a._element_w,p=a._element_h;const C=a._element_w+(/r/.test(o)?l-s._resizeClientX:s._resizeClientX-l),w=a._element_h+(/b/.test(o)?f-s._resizeClientY:s._resizeClientY-f),E=a._element_h/a._element_w*C;/t/.test(o)&&(s.resizeDiv.style.top=a._element_h-(/h/.test(o)?w:E)+"px"),/l/.test(o)&&(s.resizeDiv.style.left=a._element_w-C+"px"),/r|l/.test(o)&&(s.resizeDiv.style.width=C+"px",u=C),/^(t|b)[^h]$/.test(o)?(s.resizeDiv.style.height=E+"px",p=E):/^(t|b)h$/.test(o)&&(s.resizeDiv.style.height=w+"px",p=w),s._resize_w=u,s._resize_h=p,this.util.changeTxt(s.resizeDisplay,this._w.Math.round(u)+" x "+this._w.Math.round(p)),s._isChange=!0},cancel_controller_resize:function(s){const o=this.context.resizing._rotateVertical;this.controllersOff(),this.context.element.resizeBackground.style.display="none";let a=this._w.Math.round(o?this.context.resizing._resize_h:this.context.resizing._resize_w),d=this._w.Math.round(o?this.context.resizing._resize_w:this.context.resizing._resize_h);if(!o&&!/%$/.test(a)){const u=this.context.element.wysiwygFrame.clientWidth-32-2;this.util.getNumber(a,0)>u&&(d=this._w.Math.round(d/a*u),a=u)}const l=this.context.resizing._resize_plugin;this.plugins[l].setSize.call(this,a,d,!1,s),o&&this.plugins.resizing.setTransformSize.call(this,this.context[this.context.resizing._resize_plugin]._element,a,d),this.selectComponent(this.context[l]._element,l)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"resizing",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(xs)),xs.exports}var sp=np();const Od=ci(sp);var Ts={exports:{}},lp=Ts.exports,nc;function op(){return nc||(nc=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:lp,function(e,i){const n={name:"fileManager",_xmlHttp:null,_checkMediaComponent:function(s){return/IMG|IFRAME|VIDEO|AUDIO/i.test(s.tagName)?/FIGURE/i.test(s.parentElement.nodeName)||/FIGURE/i.test(s.parentElement.parentElement.nodeName):!0},upload:function(s,o,a,d,l){this.showLoading();const f=this.plugins.fileManager,u=f._xmlHttp=this.util.getXMLHttpRequest();if(u.onreadystatechange=f._callBackUpload.bind(this,u,d,l),u.open("post",s,!0),o!==null&&typeof o=="object"&&this._w.Object.keys(o).length>0)for(let p in o)u.setRequestHeader(p,o[p]);u.send(a)},_callBackUpload:function(s,o,a){if(s.readyState===4)if(s.status===200)try{o(s)}catch(d){throw Error('[SUNEDITOR.fileManager.upload.callBack.fail] cause : "'+d.message+'"')}finally{this.closeLoading()}else{this.closeLoading();const d=s.responseText?JSON.parse(s.responseText):s;if(typeof a!="function"||a("",d,this)){const l="[SUNEDITOR.fileManager.upload.serverException] status: "+s.status+", response: "+(d.errorMessage||s.responseText);throw this.functions.noticeOpen(l),Error(l)}}},checkInfo:function(s,o,a,d,l){let f=[];for(let c=0,h=o.length;c<h;c++)f=f.concat([].slice.call(this.context.element.wysiwyg.querySelectorAll(o[c]+':not([data-se-embed="true"])')));const u=this.plugins.fileManager,p=this.context[s],C=p._infoList,w=u.setInfo.bind(this);if(f.length===C.length)if(this._componentsInfoReset){for(let c=0,h=f.length;c<h;c++)w(s,f[c],a,null,l);return}else{let c=!1;for(let h=0,m=C.length,g;h<m;h++)if(g=C[h],f.filter(function(b){return g.src===b.src&&g.index.toString()===b.getAttribute("data-index")}).length===0){c=!0;break}if(!c)return}const E=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const T=[],r=[];for(let c=0,h=C.length;c<h;c++)r[c]=C[c].index;for(p.__updateTags=f;f.length>0;){const c=f.shift();!this.util.getParentElement(c,this.util.isMediaComponent)||!u._checkMediaComponent(c)?(T.push(p._infoIndex),d(c)):!c.getAttribute("data-index")||r.indexOf(c.getAttribute("data-index")*1)<0?(T.push(p._infoIndex),c.removeAttribute("data-index"),w(s,c,a,null,l)):T.push(c.getAttribute("data-index")*1)}for(let c=0,h;c<C.length;c++)h=C[c].index,!(T.indexOf(h)>-1)&&(C.splice(c,1),typeof a=="function"&&a(null,h,"delete",null,0,this),c--);l&&(this.context.resizing._resize_plugin=E)},setInfo:function(s,o,a,d,l){const f=l?this.context.resizing._resize_plugin:"";l&&(this.context.resizing._resize_plugin=s);const u=this.plugins[s],p=this.context[s],C=p._infoList;let w=o.getAttribute("data-index"),E=null,T="";if(d||(d={name:o.getAttribute("data-file-name")||(typeof o.src=="string"?o.src.split("/").pop():""),size:o.getAttribute("data-file-size")||0}),!w||this._componentsInfoInit)T="create",w=p._infoIndex++,o.setAttribute("data-index",w),o.setAttribute("data-file-name",d.name),o.setAttribute("data-file-size",d.size),E={src:o.src,index:w*1,name:d.name,size:d.size},C.push(E);else{T="update",w*=1;for(let r=0,c=C.length;r<c;r++)if(w===C[r].index){E=C[r];break}E||(w=p._infoIndex++,E={index:w},C.push(E)),E.src=o.src,E.name=o.getAttribute("data-file-name"),E.size=o.getAttribute("data-file-size")*1}if(E.element=o,E.delete=u.destroy.bind(this,o),E.select=(function(r){r.scrollIntoView(!0),this._w.setTimeout(u.select.bind(this,r))}).bind(this,o),l){if(!o.getAttribute("origin-size")&&o.naturalWidth&&o.setAttribute("origin-size",o.naturalWidth+","+o.naturalHeight),!o.getAttribute("data-origin")){const r=this.util.getParentElement(o,this.util.isMediaComponent),c=this.util.getParentElement(o,"FIGURE"),h=this.plugins.resizing._module_getSizeX.call(this,p,o,c,r),m=this.plugins.resizing._module_getSizeY.call(this,p,o,c,r);o.setAttribute("data-origin",h+","+m),o.setAttribute("data-size",h+","+m)}if(!o.style.width){const r=(o.getAttribute("data-size")||o.getAttribute("data-origin")||"").split(",");u.onModifyMode.call(this,o,null),u.applySize.call(this,r[0],r[1])}this.context.resizing._resize_plugin=f}typeof a=="function"&&a(o,w,T,E,--p._uploadFileLength<0?0:p._uploadFileLength,this)},deleteInfo:function(s,o,a){if(o>=0){const d=this.context[s]._infoList;for(let l=0,f=d.length;l<f;l++)if(o===d[l].index){d.splice(l,1),typeof a=="function"&&a(null,o,"delete",null,0,this);return}}},resetInfo:function(s,o){const a=this.context[s];if(typeof o=="function"){const d=a._infoList;for(let l=0,f=d.length;l<f;l++)o(null,d[l].index,"delete",null,0,this)}a._infoList=[],a._infoIndex=0}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileManager",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Ts)),Ts.exports}var rp=op();const qr=ci(rp),ap={name:"image",display:"dialog",add:function(t){t.addModule([Zn,Dd,Ur,Od,qr]);const e=t.options,i=t.context,n=i.image={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._imageSizeUnit,_linkElement:"",_altText:"",_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_v_src:{_linkValue:""},svgDefaultSize:"30%",base64RenderIndex:0,_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"auto",_defaultSizeY:"auto",_origin_w:e.imageWidth==="auto"?"":e.imageWidth,_origin_h:e.imageHeight==="auto"?"":e.imageHeight,_proportionChecked:!0,_resizing:e.imageResizing,_resizeDotHide:!e.imageHeightShow,_rotation:e.imageRotation,_alignHide:!e.imageAlignShow,_onlyPercentage:e.imageSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!0,_captionChecked:!1,_caption:null,captionCheckEl:null};let s=this.setDialog(t);n.modal=s,n.imgInputFile=s.querySelector("._se_image_file"),n.imgUrlFile=s.querySelector("._se_image_url"),n.focusElement=n.imgInputFile||n.imgUrlFile,n.altText=s.querySelector("._se_image_alt"),n.captionCheckEl=s.querySelector("._se_image_check_caption"),n.previewSrc=s.querySelector("._se_tab_content_image .se-link-preview"),s.querySelector(".se-dialog-tabs").addEventListener("click",this.openTab.bind(t)),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.imgInputFile&&s.querySelector(".se-file-remove").addEventListener("click",this._removeSelectedFiles.bind(n.imgInputFile,n.imgUrlFile,n.previewSrc)),n.imgUrlFile&&n.imgUrlFile.addEventListener("input",this._onLinkPreview.bind(n.previewSrc,n._v_src,e.linkProtocol)),n.imgInputFile&&n.imgUrlFile&&n.imgInputFile.addEventListener("change",this._fileInputChange.bind(n));const o=s.querySelector(".__se__gallery");o&&o.addEventListener("click",this._openGallery.bind(t)),n.proportion={},n.inputX={},n.inputY={},e.imageResizing&&(n.proportion=s.querySelector("._se_image_check_proportion"),n.inputX=s.querySelector("._se_image_size_x"),n.inputY=s.querySelector("._se_image_size_y"),n.inputX.value=e.imageWidth,n.inputY.value=e.imageHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),t.plugins.anchor.initEvent.call(t,"image",s.querySelector("._se_tab_content_url")),n.anchorCtx=t.context.anchor.caller.image,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content se-dialog-image",n.style.display="none";let s='<div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" class="close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.imageBox.title+'</span></div><div class="se-dialog-tabs"><button type="button" class="_se_tab_link active" data-tab-link="image">'+i.toolbar.image+'</button><button type="button" class="_se_tab_link" data-tab-link="url">'+i.toolbar.link+'</button></div><form method="post" enctype="multipart/form-data"><div class="_se_tab_content _se_tab_content_image"><div class="se-dialog-body"><div style="border-bottom: 1px dashed #ccc;">';if(e.imageFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_image_file" type="file" accept="'+e.imageAccept+'"'+(e.imageMultipleFile?' multiple="multiple"':"")+'/><button type="button" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.imageUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.imageBox.url+'</label><div class="se-dialog-form-files"><input class="se-input-form se-input-url _se_image_url" type="text" />'+(e.imageGalleryUrl&&t.plugins.imageGallery?'<button type="button" class="se-btn se-dialog-files-edge-button __se__gallery" title="'+i.toolbar.imageGallery+'" aria-label="'+i.toolbar.imageGallery+'">'+t.icons.image_gallery+"</button>":"")+'</div><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-form"><label>'+i.dialogBox.imageBox.altText+'</label><input class="se-input-form _se_image_alt" type="text" /></div>',e.imageResizing){const o=e.imageSizeOnlyPercentage,a=o?' style="display: none !important;"':"",d=e.imageHeightShow?"":' style="display: none !important;"';s+='<div class="se-dialog-form">',o||!e.imageHeightShow?s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.size+"</label></div>":s+='<div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h">'+i.dialogBox.height+"</label></div>",s+='<input class="se-input-control _se_image_size_x" placeholder="auto"'+(o?' type="number" min="1"':'type="text"')+(o?' max="100"':"")+' /><label class="se-dialog-size-x"'+d+">"+(o?"%":"x")+'</label><input type="text" class="se-input-control _se_image_size_y" placeholder="auto"'+a+(o?' max="100"':"")+d+"/><label"+a+d+'><input type="checkbox" class="se-dialog-btn-check _se_image_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+'</label><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+"</button></div>"}return s+='<div class="se-dialog-form se-dialog-form-footer"><label><input type="checkbox" class="se-dialog-btn-check _se_image_check_caption" />&nbsp;'+i.dialogBox.caption+'</label></div></div></div><div class="_se_tab_content _se_tab_content_url" style="display: none">'+t.context.anchor.forms.innerHTML+'</div><div class="se-dialog-footer"><div'+(e.imageAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_image_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.imgInputFile.value?(this.imgUrlFile.setAttribute("disabled",!0),this.previewSrc.style.textDecoration="line-through"):(this.imgUrlFile.removeAttribute("disabled"),this.previewSrc.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_openGallery:function(){this.callPlugin("imageGallery",this.plugins.imageGallery.open.bind(this,this.plugins.image._setUrlInput.bind(this.context.image)),null)},_setUrlInput:function(t){this.altText.value=t.alt,this._v_src._linkValue=this.previewSrc.textContent=this.imgUrlFile.value=t.getAttribute("data-value")||t.src,this.imgUrlFile.focus()},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["img"],select:function(t){this.plugins.image.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"image"))},destroy:function(t){const e=t||this.context.image._element,i=this.util.getParentElement(e,this.util.isMediaComponent)||e,n=e.getAttribute("data-index")*1;if(typeof this.functions.onImageDeleteBefore=="function"&&this.functions.onImageDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.image.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,function(a){return a.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"image",n,this.functions.onImageUpload),this.history.push(!1)},on:function(t){const e=this.context.image;t?e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.imageWidth===e._defaultSizeX?"":this.options.imageWidth,e.inputY.value=e._origin_h=this.options.imageHeight===e._defaultSizeY?"":this.options.imageHeight,e.imgInputFile&&this.options.imageMultipleFile&&e.imgInputFile.setAttribute("multiple","multiple")),this.plugins.anchor.on.call(this,e.anchorCtx,t)},open:function(){this.plugins.dialog.open.call(this,"image",this.currentControllerName==="image")},openTab:function(t){const e=this.context.image.modal,i=t==="init"?e.querySelector("._se_tab_link"):t.target;if(!/^BUTTON$/i.test(i.tagName))return!1;const n=i.getAttribute("data-tab-link"),s="_se_tab_content";let o,a,d;for(a=e.getElementsByClassName(s),o=0;o<a.length;o++)a[o].style.display="none";for(d=e.getElementsByClassName("_se_tab_link"),o=0;o<d.length;o++)this.util.removeClass(d[o],"active");return e.querySelector("."+s+"_"+n).style.display="block",this.util.addClass(i,"active"),n==="image"&&this.context.image.focusElement?this.context.image.focusElement.focus():n==="url"&&this.context.anchor.caller.image.urlInput.focus(),!1},submit:function(t){const e=this.context.image,i=this.plugins.image;t.preventDefault(),t.stopPropagation(),e._altText=e.altText.value,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked,e._resizing&&(e._proportionChecked=e.proportion.checked);try{this.context.dialog.updateModal&&i.update_image.call(this,!1,!0,!1),e.imgInputFile&&e.imgInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.image.imgInputFile.files)):e.imgUrlFile&&e._v_src._linkValue.length>0&&(this.showLoading(),i.onRender_imgUrl.call(this,e._v_src._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.image.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let d=0,l=t.length;d<l;d++)/image/i.test(t[d].type)&&(i.push(t[d]),e+=t[d].size);const n=this.options.imageUploadSizeLimit;if(n>0){let d=0;const l=this.context.image._infoList;for(let f=0,u=l.length;f<u;f++)d+=l[f].size*1;if(e+d>n){this.closeLoading();const f="[SUNEDITOR.imageUpload.fail] Size of uploadable total images: "+n/1e3+"KB";(typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(f,{limitSize:n,currentSize:d,uploadSize:e},this))&&this.functions.noticeOpen(f);return}}const s=this.context.image;s._uploadFileLength=i.length;const a={anchor:this.plugins.anchor.createAnchor.call(this,s.anchorCtx,!0),inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,alt:s._altText,element:s._element};if(typeof this.functions.onImageUploadBefore=="function"){const d=this.functions.onImageUploadBefore(i,a,this,(function(l){l&&this._w.Array.isArray(l.result)?this.plugins.image.register.call(this,a,l):this.plugins.image.upload.call(this,a,l)}).bind(this));if(typeof d>"u")return;if(!d){this.closeLoading();return}this._w.Array.isArray(d)&&d.length>0&&(i=d)}this.plugins.image.upload.call(this,a,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onImageUploadError!="function"||this.functions.onImageUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.image.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.image.error.call(this,e,null);return}const i=this.options.imageUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.imageUploadHeader,s,this.plugins.image.callBack_imgUpload.bind(this,t),this.functions.onImageUploadError)}else this.plugins.image.setup_reader.call(this,e,t.anchor,t.inputWidth,t.inputHeight,t.align,t.alt,n,t.isUpdate)},callBack_imgUpload:function(t,e){if(typeof this.functions.imageUploadHandler=="function")this.functions.imageUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.image.error.call(this,i.errorMessage,i):this.plugins.image.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,o;n<s;n++)if(o={name:i[n].name,size:i[n].size},t.isUpdate){this.plugins.image.update_src.call(this,i[n].url,t.element,o);break}else this.plugins.image.create_image.call(this,i[n].url,t.anchor,t.inputWidth,t.inputHeight,t.align,o,t.alt);this.closeLoading()},setup_reader:function(t,e,i,n,s,o,a,d){try{if(a===0){this.closeLoading(),console.warn("[SUNEDITOR.image.base64.fail] cause : No applicable files");return}this.context.image.base64RenderIndex=a;const l=this._w.FileReader,f=[a];this.context.image.inputX.value=i,this.context.image.inputY.value=n;for(let u=0,p,C;u<a;u++)p=new l,C=t[u],p.onload=(function(w,E,T,r,c){f[c]={result:w.result,file:r},--this.context.image.base64RenderIndex===0&&(this.plugins.image.onRender_imgBase64.call(this,E,f,T,e,i,n,s,o),this.closeLoading())}).bind(this,p,d,this.context.image._element,C,u),p.readAsDataURL(C)}catch(l){throw this.closeLoading(),Error('[SUNEDITOR.image.setup_reader.fail] cause : "'+l.message+'"')}},onRender_imgBase64:function(t,e,i,n,s,o,a,d){const l=this.plugins.image.update_src,f=this.plugins.image.create_image;for(let u=0,p=e.length;u<p;u++)t?(this.context.image._element.setAttribute("data-file-name",e[u].file.name),this.context.image._element.setAttribute("data-file-size",e[u].file.size),l.call(this,e[u].result,i,e[u].file)):f.call(this,e[u].result,n,s,o,a,e[u].file,d)},onRender_imgUrl:function(t){if(t||(t=this.context.image._v_src._linkValue),!t)return!1;const e=this.context.image;try{const i={name:t.split("/").pop(),size:0};this.context.dialog.updateModal?this.plugins.image.update_src.call(this,t,e._element,i):this.plugins.image.create_image.call(this,t,this.plugins.anchor.createAnchor.call(this,e.anchorCtx,!0),e.inputX.value,e.inputY.value,e._align,i,e._altText)}catch(i){throw Error('[SUNEDITOR.image.URLRendering.fail] cause : "'+i.message+'"')}finally{this.closeLoading()}},onRender_link:function(t,e){return e?(e.setAttribute("data-image-link","image"),t.setAttribute("data-image-link",e.href),e.appendChild(t),e):t},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}this.plugins.resizing._module_setInputSize.call(this,this.context.image,t)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.image)},checkFileInfo:function(){const t=this.plugins.image,e=this.context.image,i=(function(n){t.onModifyMode.call(this,n,null),t.openModify.call(this,!0),e.inputX.value=e._origin_w,e.inputY.value=e._origin_h;const s=this.util.getFormatElement(n);s&&(e._align=s.style.textAlign||s.style.float),this.util.isAnchor(n.parentNode)&&!e.anchorCtx.linkValue&&(e.anchorCtx.linkValue=" "),t.update_image.call(this,!0,!1,!0),t.init.call(this)}).bind(this);this.plugins.fileManager.checkInfo.call(this,"image",["img"],this.functions.onImageUpload,i,!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"image",this.functions.onImageUpload)},create_image:function(t,e,i,n,s,o,a){const d=this.plugins.image,l=this.context.image;this.context.resizing._resize_plugin="image";let f=this.util.createElement("IMG");f.src=t,f.alt=a,f.setAttribute("data-rotate","0"),e=d.onRender_link.call(this,f,e?e.cloneNode(!1):null),l._resizing&&f.setAttribute("data-proportion",l._proportionChecked);const u=this.plugins.component.set_cover.call(this,e),p=this.plugins.component.set_container.call(this,u,"se-image-container");l._captionChecked&&(l._caption=this.plugins.component.create_caption.call(this),u.appendChild(l._caption)),l._element=f,l._cover=u,l._container=p,d.applySize.call(this,i,n),d.setAlign.call(this,s,f,u,p),f.onload=d._image_create_onload.bind(this,f,l.svgDefaultSize,p),this.insertComponent(p,!0,!0,!this.options.mediaAutoSelect)&&this.plugins.fileManager.setInfo.call(this,"image",f,this.functions.onImageUpload,o,!0),this.context.resizing._resize_plugin=""},_image_create_onload:function(t,e,i){if(t.offsetWidth===0&&this.plugins.image.applySize.call(this,e,""),this.options.mediaAutoSelect)this.selectComponent(t,"image");else{const n=this.appendFormatTag(i,null);n&&this.setRange(n,0,n,0)}this.history.push(!1)},update_image:function(t,e,i){const n=this.context.image;let s=n._element,o=n._cover,a=n._container,d=!1;o===null&&(d=!0,s=n._element.cloneNode(!0),o=this.plugins.component.set_cover.call(this,s)),a===null?(o=o.cloneNode(!0),s=o.querySelector("img"),d=!0,a=this.plugins.component.set_container.call(this,o,"se-image-container")):d&&(a.innerHTML="",a.appendChild(o),n._cover=o,n._element=s,d=!1);let l;const f=this.util.isNumber(n.inputX.value)?n.inputX.value+n.sizeUnit:n.inputX.value,u=this.util.isNumber(n.inputY.value)?n.inputY.value+n.sizeUnit:n.inputY.value;/%$/.test(s.style.width)?l=f!==a.style.width||u!==a.style.height:l=f!==s.style.width||u!==s.style.height,s.alt=n._altText;let p=!1;n._captionChecked?n._caption||(n._caption=this.plugins.component.create_caption.call(this),o.appendChild(n._caption),p=!0):n._caption&&(this.util.removeItem(n._caption),n._caption=null,p=!0);let C=null;const w=this.plugins.anchor.createAnchor.call(this,n.anchorCtx,!0);if(w)n._linkElement!==w||d&&!a.contains(w)?(n._linkElement=w.cloneNode(!1),o.insertBefore(this.plugins.image.onRender_link.call(this,s,n._linkElement),n._caption),C=n._element):n._linkElement.setAttribute("data-image-link","image");else if(n._linkElement!==null){const T=s;if(T.setAttribute("data-image-link",""),o.contains(n._linkElement)){const r=T.cloneNode(!0);o.removeChild(n._linkElement),o.insertBefore(r,n._caption),n._element=s=r}}let E=null;if(d){const T=n._element.parentNode;if(E=this.util.isRangeFormatElement(T)||this.util.isWysiwygDiv(T)?n._element:T||n._element,this.util.getParentElement(n._element,this.util.isNotCheckingNode))E=C?w:n._element,E.parentNode.replaceChild(a,E);else if(this.util.isListCell(E)){const r=this.util.getParentElement(n._element,function(c){return c.parentNode===E});E.insertBefore(a,r),this.util.removeItem(n._element),this.util.removeEmptyNode(r,null,!0)}else if(this.util.isFormatElement(E)){const r=this.util.getParentElement(n._element,function(c){return c.parentNode===E});E=this.util.splitElement(E,r),E.parentNode.insertBefore(a,E),this.util.removeItem(n._element),this.util.removeEmptyNode(E,null,!0),E.children.length===0&&(E.innerHTML=this.util.htmlRemoveWhiteSpace(E.innerHTML))}else if(this.util.isFormatElement(E.parentNode)){const r=E.parentNode;r.parentNode.insertBefore(a,E.previousSibling?r.nextElementSibling:r),n.__updateTags.map(function(c){return E.contains(c)}).length===0&&this.util.removeItem(E)}else E=this.util.isFigures(E.parentNode)?E.parentNode:E,E.parentNode.replaceChild(a,E);s=a.querySelector("img"),n._element=s,n._cover=o,n._container=a}C&&(d?(this.util.removeItem(C),this.util.getListChildren(w,function(T){return/IMG/i.test(T.tagName)}).length===0&&this.util.removeItem(w)):this.util.removeItem(w)),(p||!n._onlyPercentage&&l)&&!t&&(/\d+/.test(s.style.height)||this.context.resizing._rotateVertical&&n._captionChecked)&&(/%$/.test(n.inputX.value)||/%$/.test(n.inputY.value)?this.plugins.resizing.resetTransform.call(this,s):this.plugins.resizing.setTransformSize.call(this,s,this.util.getNumber(n.inputX.value,0),this.util.getNumber(n.inputY.value,0))),n._resizing&&(s.setAttribute("data-proportion",n._proportionChecked),l&&this.plugins.image.applySize.call(this)),this.plugins.image.setAlign.call(this,null,s,null,null),t&&this.plugins.fileManager.setInfo.call(this,"image",s,this.functions.onImageUpload,null,!0),e&&this.selectComponent(s,"image"),i||this.history.push(!1)},update_src:function(t,e,i){e.src=t,this._w.setTimeout(this.plugins.fileManager.setInfo.bind(this,"image",e,this.functions.onImageUpload,i,!0)),this.selectComponent(e,"image")},onModifyMode:function(t,e){if(!t)return;const i=this.context.image;i._linkElement=i.anchorCtx.linkAnchor=this.util.isAnchor(t.parentNode)?t.parentNode:null,i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._caption=this.util.getChildElement(i._cover,"FIGCAPTION"),i._align=t.getAttribute("data-align")||t.style.float||"none",t.style.float="",this.plugins.anchor.setCtx(i._linkElement,i.anchorCtx),e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,o;n?(n=n.split(","),s=n[0],o=n[1]):e&&(s=e.w,o=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=o||t.style.height||t.height||""},openModify:function(t){const e=this.context.image;e.imgUrlFile&&(e._v_src._linkValue=e.previewSrc.textContent=e.imgUrlFile.value=e._element.src),e._altText=e.altText.value=e._element.alt,(e.modal.querySelector('input[name="suneditor_image_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_image_radio"][value="none"]')).checked=!0,e._align=e.modal.querySelector('input[name="suneditor_image_radio"]:checked').value,e._captionChecked=e.captionCheckEl.checked=!!e._caption,e._resizing&&this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.image),t||this.plugins.dialog.open.call(this,"image",!0)},applySize:function(t,e){const i=this.context.image;return t||(t=i.inputX.value||this.options.imageWidth),e||(e=i.inputY.value||this.options.imageHeight),i._onlyPercentage&&t||/%$/.test(t)?(this.plugins.image.setPercentSize.call(this,t,e),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.image.setAutoSize.call(this):this.plugins.image.setSize.call(this,t,e,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.image)},setSize:function(t,e,i,n){const s=this.context.image,o=/^(rw|lw)$/.test(n)&&/\d+/.test(s._element.style.height);/^(th|bh)$/.test(n)&&/\d+/.test(s._element.style.width)||(s._element.style.width=this.util.isNumber(t)?t+s.sizeUnit:t,this.plugins.image.cancelPercentAttr.call(this)),o||(s._element.style.height=this.util.isNumber(e)?e+s.sizeUnit:/%$/.test(e)?"":e),s._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){const t=this.context.image;t._caption&&(t._caption.style.marginTop=""),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this),t._element.style.maxWidth="",t._element.style.width="",t._element.style.height="",t._cover.style.width="",t._cover.style.height="",this.plugins.image.setAlign.call(this,null,null,null,null),t._element.setAttribute("data-percentage","auto,auto"),this.plugins.resizing._module_saveCurrentSize.call(this,t)},setOriginSize:function(){const t=this.context.image;t._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,t._element),this.plugins.image.cancelPercentAttr.call(this);const e=(t._element.getAttribute("data-origin")||"").split(","),i=e[0],n=e[1];e&&(t._onlyPercentage||/%$/.test(i)&&(/%$/.test(n)||!/\d/.test(n))?this.plugins.image.setPercentSize.call(this,i,n):this.plugins.image.setSize.call(this,i,n),this.plugins.resizing._module_saveCurrentSize.call(this,t))},setPercentSize:function(t,e){const i=this.context.image;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||"";const n=/%$/.test(e);i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=n?e:"",i._element.style.width="100%",i._element.style.height=n?"":e,i._element.style.maxWidth="",i._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing.setCaptionPosition.call(this,i._element),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.image;t._cover.style.width="",t._cover.style.height="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.image._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.image.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.image;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:!e.style.width||e.style.width==="auto"?"":e.style.width||"100%"),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.image;t.imgInputFile&&(t.imgInputFile.value=""),t.imgUrlFile&&(t._v_src._linkValue=t.previewSrc.textContent=t.imgUrlFile.value=""),t.imgInputFile&&t.imgUrlFile&&(t.imgUrlFile.removeAttribute("disabled"),t.previewSrc.style.textDecoration=""),t.altText.value="",t.modal.querySelector('input[name="suneditor_image_radio"][value="none"]').checked=!0,t.captionCheckEl.checked=!1,t._element=null,this.plugins.image.openTab.call(this,"init"),t._resizing&&(t.inputX.value=this.options.imageWidth===t._defaultSizeX?"":this.options.imageWidth,t.inputY.value=this.options.imageHeight===t._defaultSizeY?"":this.options.imageHeight,t.proportion.checked=!0,t._ratio=!1,t._ratioX=1,t._ratioY=1),this.plugins.anchor.init.call(this,t.anchorCtx)}},cp={name:"video",display:"dialog",add:function(t){t.addModule([Zn,Ur,Od,qr]);const e=t.options,i=t.context,n=i.video={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,sizeUnit:e._videoSizeUnit,_align:"none",_floatClassRegExp:"__se__float\\-[a-z]+",_youtubeQuery:e.youtubeQuery,_vimeoQuery:e.vimeoQuery,_videoRatio:e.videoRatio*100+"%",_defaultRatio:e.videoRatio*100+"%",_linkValue:"",_element:null,_cover:null,_container:null,inputX:null,inputY:null,_element_w:1,_element_h:1,_element_l:0,_element_t:0,_defaultSizeX:"100%",_defaultSizeY:e.videoRatio*100+"%",_origin_w:e.videoWidth==="100%"?"":e.videoWidth,_origin_h:e.videoHeight==="56.25%"?"":e.videoHeight,_proportionChecked:!0,_resizing:e.videoResizing,_resizeDotHide:!e.videoHeightShow,_rotation:e.videoRotation,_alignHide:!e.videoAlignShow,_onlyPercentage:e.videoSizeOnlyPercentage,_ratio:!1,_ratioX:1,_ratioY:1,_captionShow:!1};let s=this.setDialog(t);n.modal=s,n.videoInputFile=s.querySelector("._se_video_file"),n.videoUrlFile=s.querySelector(".se-input-url"),n.focusElement=n.videoUrlFile||n.videoInputFile,n.preview=s.querySelector(".se-link-preview"),s.querySelector("form").addEventListener("submit",this.submit.bind(t)),n.videoInputFile&&s.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(n.videoInputFile,n.videoUrlFile,n.preview)),n.videoInputFile&&n.videoUrlFile&&n.videoInputFile.addEventListener("change",this._fileInputChange.bind(n)),n.videoUrlFile&&n.videoUrlFile.addEventListener("input",this._onLinkPreview.bind(n.preview,n,e.linkProtocol)),n.proportion={},n.videoRatioOption={},n.inputX={},n.inputY={},e.videoResizing&&(n.proportion=s.querySelector("._se_video_check_proportion"),n.videoRatioOption=s.querySelector(".se-video-ratio"),n.inputX=s.querySelector("._se_video_size_x"),n.inputY=s.querySelector("._se_video_size_y"),n.inputX.value=e.videoWidth,n.inputY.value=e.videoHeight,n.inputX.addEventListener("keyup",this.setInputSize.bind(t,"x")),n.inputY.addEventListener("keyup",this.setInputSize.bind(t,"y")),n.inputX.addEventListener("change",this.setRatio.bind(t)),n.inputY.addEventListener("change",this.setRatio.bind(t)),n.proportion.addEventListener("change",this.setRatio.bind(t)),n.videoRatioOption.addEventListener("change",this.setVideoRatio.bind(t)),s.querySelector(".se-dialog-btn-revert").addEventListener("click",this.sizeRevert.bind(t))),i.dialog.modal.appendChild(s),s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.videoBox.title+'</span></div><div class="se-dialog-body">';if(e.videoFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_video_file" type="file" accept="'+e.videoAccept+'"'+(e.videoMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.videoUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.videoBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),e.videoResizing){const o=e.videoRatioList||[{name:"16:9",value:.5625},{name:"4:3",value:.75},{name:"21:9",value:.4285}],a=e.videoRatio,d=e.videoSizeOnlyPercentage,l=d?' style="display: none !important;"':"",f=e.videoHeightShow?"":' style="display: none !important;"',u=e.videoRatioShow?"":' style="display: none !important;"',p=!d&&!e.videoHeightShow&&!e.videoRatioShow?' style="display: none !important;"':"";s+='<div class="se-dialog-form"><div class="se-dialog-size-text"><label class="size-w">'+i.dialogBox.width+'</label><label class="se-dialog-size-x">&nbsp;</label><label class="size-h"'+f+">"+i.dialogBox.height+'</label><label class="size-h"'+u+">("+i.dialogBox.ratio+')</label></div><input class="se-input-control _se_video_size_x" placeholder="100%"'+(d?' type="number" min="1"':'type="text"')+(d?' max="100"':"")+'/><label class="se-dialog-size-x"'+p+">"+(d?"%":"x")+'</label><input class="se-input-control _se_video_size_y" placeholder="'+e.videoRatio*100+'%"'+(d?' type="number" min="1"':'type="text"')+(d?' max="100"':"")+f+'/><select class="se-input-select se-video-ratio" title="'+i.dialogBox.ratio+'" aria-label="'+i.dialogBox.ratio+'"'+u+">",f||(s+='<option value=""> - </option>');for(let C=0,w=o.length;C<w;C++)s+='<option value="'+o[C].value+'"'+(a.toString()===o[C].value.toString()?" selected":"")+">"+o[C].name+"</option>";s+='</select><button type="button" title="'+i.dialogBox.revertButton+'" aria-label="'+i.dialogBox.revertButton+'" class="se-btn se-dialog-btn-revert" style="float: right;">'+t.icons.revert+'</button></div><div class="se-dialog-form se-dialog-form-footer"'+l+p+'><label><input type="checkbox" class="se-dialog-btn-check _se_video_check_proportion" checked/>&nbsp;'+i.dialogBox.proportion+"</label></div>"}return s+='</div><div class="se-dialog-footer"><div'+(e.videoAlignShow?"":' style="display: none"')+'><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="none" checked>'+i.dialogBox.basic+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="left">'+i.dialogBox.left+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="center">'+i.dialogBox.center+'</label><label><input type="radio" name="suneditor_video_radio" class="se-dialog-btn-radio" value="right">'+i.dialogBox.right+'</label></div><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},_fileInputChange:function(){this.videoInputFile.value?(this.videoUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.videoUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();/^<iframe.*\/iframe>$/.test(n)?(t._linkValue=n,this.textContent='<IFrame :src=".."></IFrame>'):t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.videoTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createVideoTag:function(){const t=this.util.createElement("VIDEO");return this.plugins.video._setTagAttrs.call(this,t),t},_setIframeAttrs:function(t){t.frameBorder="0",t.allowFullscreen=!0;const e=this.options.videoIframeAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},createIframeTag:function(){const t=this.util.createElement("IFRAME");return this.plugins.video._setIframeAttrs.call(this,t),t},fileTags:["iframe","video"],select:function(t){this.plugins.video.onModifyMode.call(this,t,this.plugins.resizing.call_controller_resize.call(this,t,"video"))},destroy:function(t){const e=t||this.context.video._element,i=this.context.video._container,n=e.getAttribute("data-index")*1;if(typeof this.functions.onVideoDeleteBefore=="function"&&this.functions.onVideoDeleteBefore(e,i,n,this)===!1)return;let s=i.previousElementSibling||i.nextElementSibling;const o=i.parentNode;this.util.removeItem(i),this.plugins.video.init.call(this),this.controllersOff(),o!==this.context.element.wysiwyg&&this.util.removeItemAllParents(o,function(a){return a.childNodes.length===0},null),this.focusEdge(s),this.plugins.fileManager.deleteInfo.call(this,"video",n,this.functions.onVideoUpload),this.history.push(!1)},on:function(t){const e=this.context.video;t?e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.removeAttribute("multiple"):(e.inputX.value=e._origin_w=this.options.videoWidth===e._defaultSizeX?"":this.options.videoWidth,e.inputY.value=e._origin_h=this.options.videoHeight===e._defaultSizeY?"":this.options.videoHeight,e.proportion.disabled=!0,e.videoInputFile&&this.options.videoMultipleFile&&e.videoInputFile.setAttribute("multiple","multiple")),e._resizing&&this.plugins.video.setVideoRatioSelect.call(this,e._origin_h||e._defaultRatio)},open:function(){this.plugins.dialog.open.call(this,"video",this.currentControllerName==="video")},setVideoRatio:function(t){const e=this.context.video,i=t.target.options[t.target.selectedIndex].value;e._defaultSizeY=e._videoRatio=i?i*100+"%":e._defaultSizeY,e.inputY.placeholder=i?i*100+"%":"",e.inputY.value=""},setInputSize:function(t,e){if(e&&e.keyCode===32){e.preventDefault();return}const i=this.context.video;this.plugins.resizing._module_setInputSize.call(this,i,t),t==="y"&&this.plugins.video.setVideoRatioSelect.call(this,e.target.value||i._defaultRatio)},setRatio:function(){this.plugins.resizing._module_setRatio.call(this,this.context.video)},submit:function(t){const e=this.context.video,i=this.plugins.video;t.preventDefault(),t.stopPropagation(),e._align=e.modal.querySelector('input[name="suneditor_video_radio"]:checked').value;try{e.videoInputFile&&e.videoInputFile.files.length>0?(this.showLoading(),i.submitAction.call(this,this.context.video.videoInputFile.files)):e.videoUrlFile&&e._linkValue.length>0&&(this.showLoading(),i.setup_url.call(this,e._linkValue))}catch(n){throw this.closeLoading(),Error('[SUNEDITOR.video.submit.fail] cause : "'+n.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let a=0,d=t.length;a<d;a++)/video/i.test(t[a].type)&&(i.push(t[a]),e+=t[a].size);const n=this.options.videoUploadSizeLimit;if(n>0){let a=0;const d=this.context.video._infoList;for(let l=0,f=d.length;l<f;l++)a+=d[l].size*1;if(e+a>n){this.closeLoading();const l="[SUNEDITOR.videoUpload.fail] Size of uploadable total videos: "+n/1e3+"KB";(typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(l,{limitSize:n,currentSize:a,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.video;s._uploadFileLength=i.length;const o={inputWidth:s.inputX.value,inputHeight:s.inputY.value,align:s._align,isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onVideoUploadBefore=="function"){const a=this.functions.onVideoUploadBefore(i,o,this,(function(d){d&&this._w.Array.isArray(d.result)?this.plugins.video.register.call(this,o,d):this.plugins.video.upload.call(this,o,d)}).bind(this));if(typeof a>"u")return;if(!a){this.closeLoading();return}typeof a=="object"&&a.length>0&&(i=a)}this.plugins.video.upload.call(this,o,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onVideoUploadError!="function"||this.functions.onVideoUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.video.error] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.video.error.call(this,e,null);return}const i=this.options.videoUploadUrl,n=this.context.dialog.updateModal?1:e.length;if(typeof i=="string"&&i.length>0){const s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.videoUploadHeader,s,this.plugins.video.callBack_videoUpload.bind(this,t),this.functions.onVideoUploadError)}else throw Error('[SUNEDITOR.videoUpload.fail] cause : There is no "videoUploadUrl" option.')},callBack_videoUpload:function(t,e){if(typeof this.functions.videoUploadHandler=="function")this.functions.videoUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.video.error.call(this,i.errorMessage,i):this.plugins.video.register.call(this,t,i)}},register:function(t,e){const i=e.result,n=this.plugins.video.createVideoTag.call(this);for(let s=0,o=i.length,a;s<o;s++)a={name:i[s].name,size:i[s].size},this.plugins.video.create_video.call(this,t.isUpdate?t.element:n.cloneNode(!1),i[s].url,t.inputWidth,t.inputHeight,t.align,a,t.isUpdate);this.closeLoading()},setup_url:function(t){try{const e=this.context.video;if(t||(t=e._linkValue),!t||/^<iframe.*\/iframe>$/.test(t)&&(t=new this._w.DOMParser().parseFromString(t,"text/html").querySelector("iframe").src,t.length===0))return!1;if(/youtu\.?be/.test(t)){if(/^http/.test(t)||(t="https://"+t),t=t.replace("watch?v=",""),/^\/\/.+\/embed\//.test(t)||(t=t.replace(t.match(/\/\/.+\//)[0],"//www.youtube.com/embed/").replace("&","?&")),e._youtubeQuery.length>0)if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._youtubeQuery+"&"+i[1]}else t+="?"+e._youtubeQuery}else if(/vimeo\.com/.test(t)&&(t.endsWith("/")&&(t=t.slice(0,-1)),t="https://player.vimeo.com/video/"+t.slice(t.lastIndexOf("/")+1),e._vimeoQuery.length>0))if(/\?/.test(t)){const i=t.split("?");t=i[0]+"?"+e._vimeoQuery+"&"+i[1]}else t+="?"+e._vimeoQuery;this.plugins.video.create_video.call(this,this.plugins.video[!/embed|iframe|player|\/e\/|\.php|\.html?/.test(t)&&!/vimeo\.com/.test(t)?"createVideoTag":"createIframeTag"].call(this),t,e.inputX.value,e.inputY.value,e._align,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.video.upload.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_video:function(t,e,i,n,s,o,a){this.context.resizing._resize_plugin="video";const d=this.context.video;let l=null,f=null,u=!1;if(a){if(t=d._element,t.src!==e){u=!0;const T=/youtu\.?be/.test(e),r=/vimeo\.com/.test(e);if((T||r)&&!/^iframe$/i.test(t.nodeName)){const c=this.plugins.video.createIframeTag.call(this);c.src=e,t.parentNode.replaceChild(c,t),d._element=t=c}else if(!T&&!r&&!/^video$/i.test(t.nodeName)){const c=this.plugins.video.createVideoTag.call(this);c.src=e,t.parentNode.replaceChild(c,t),d._element=t=c}else t.src=e}f=d._container,l=this.util.getParentElement(t,"FIGURE")}else u=!0,t.src=e,d._element=t,l=this.plugins.component.set_cover.call(this,t),f=this.plugins.component.set_container.call(this,l,"se-video-container");d._cover=l,d._container=f;const p=this.plugins.resizing._module_getSizeX.call(this,d)!==(i||d._defaultSizeX)||this.plugins.resizing._module_getSizeY.call(this,d)!==(n||d._videoRatio),C=!a||p;d._resizing&&(this.context.video._proportionChecked=d.proportion.checked,t.setAttribute("data-proportion",d._proportionChecked));let w=!1;C&&(w=this.plugins.video.applySize.call(this)),w&&s==="center"||this.plugins.video.setAlign.call(this,null,t,l,f);let E=!0;if(a)d._resizing&&this.context.resizing._rotateVertical&&C&&this.plugins.resizing.setTransformSize.call(this,t,null,null);else if(E=this.insertComponent(f,!1,!0,!this.options.mediaAutoSelect),!this.options.mediaAutoSelect){const T=this.appendFormatTag(f,null);T&&this.setRange(T,0,T,0)}E&&(u&&this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,o,!0),a&&(this.selectComponent(t,"video"),this.history.push(!1))),this.context.resizing._resize_plugin=""},_update_videoCover:function(t){if(!t)return;const e=this.context.video;/^video$/i.test(t.nodeName)?this.plugins.video._setTagAttrs.call(this,t):this.plugins.video._setIframeAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!0);const o=e._cover=this.plugins.component.set_cover.call(this,t),a=e._container=this.plugins.component.set_container.call(this,o,"se-video-container");try{const d=n.querySelector("figcaption");let l=null;d&&(l=this.util.createElement("DIV"),l.innerHTML=d.innerHTML,this.util.removeItem(d));const f=(t.getAttribute("data-size")||t.getAttribute("data-origin")||"").split(",");this.plugins.video.applySize.call(this,f[0]||s.style.width||s.width||"",f[1]||s.style.height||s.height||"");const u=this.util.getFormatElement(s);if(u&&(e._align=u.style.textAlign||u.style.float),this.plugins.video.setAlign.call(this,null,t,o,a),this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(a,s);else if(this.util.isListCell(n)){const p=this.util.getParentElement(s,function(C){return C.parentNode===n});n.insertBefore(a,p),this.util.removeItem(s),this.util.removeEmptyNode(p,null,!0)}else if(this.util.isFormatElement(n)){const p=this.util.getParentElement(s,function(C){return C.parentNode===n});n=this.util.splitElement(n,p),n.parentNode.insertBefore(a,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(a,n);l&&n.parentNode.insertBefore(l,a.nextElementSibling)}catch(d){console.warn("[SUNEDITOR.video.error] Maybe the video tag is nested.",d)}this.plugins.fileManager.setInfo.call(this,"video",t,this.functions.onVideoUpload,null,!0),this.plugins.video.init.call(this)},onModifyMode:function(t,e){const i=this.context.video;i._element=t,i._cover=this.util.getParentElement(t,"FIGURE"),i._container=this.util.getParentElement(t,this.util.isMediaComponent),i._align=t.style.float||t.getAttribute("data-align")||"none",t.style.float="",e&&(i._element_w=e.w,i._element_h=e.h,i._element_t=e.t,i._element_l=e.l);let n=i._element.getAttribute("data-size")||i._element.getAttribute("data-origin"),s,o;n?(n=n.split(","),s=n[0],o=n[1]):e&&(s=e.w,o=e.h),i._origin_w=s||t.style.width||t.width||"",i._origin_h=o||t.style.height||t.height||""},openModify:function(t){const e=this.context.video;if(e.videoUrlFile&&(e._linkValue=e.preview.textContent=e.videoUrlFile.value=e._element.src||(e._element.querySelector("source")||"").src||""),(e.modal.querySelector('input[name="suneditor_video_radio"][value="'+e._align+'"]')||e.modal.querySelector('input[name="suneditor_video_radio"][value="none"]')).checked=!0,e._resizing){this.plugins.resizing._module_setModifyInputSize.call(this,e,this.plugins.video);const i=e._videoRatio=this.plugins.resizing._module_getSizeY.call(this,e);this.plugins.video.setVideoRatioSelect.call(this,i)||(e.inputY.value=e._onlyPercentage?this.util.getNumber(i,2):i)}t||this.plugins.dialog.open.call(this,"video",!0)},setVideoRatioSelect:function(t){let e=!1;const i=this.context.video,n=i.videoRatioOption.options;/%$/.test(t)||i._onlyPercentage?t=this.util.getNumber(t,2)/100+"":(!this.util.isNumber(t)||t*1>=1)&&(t=""),i.inputY.placeholder="";for(let s=0,o=n.length;s<o;s++)n[s].value===t?(e=n[s].selected=!0,i.inputY.placeholder=t?t*100+"%":""):n[s].selected=!1;return e},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"video",["iframe","video"],this.functions.onVideoUpload,this.plugins.video._update_videoCover.bind(this),!0)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"video",this.functions.onVideoUpload)},applySize:function(t,e){const i=this.context.video;return t||(t=i.inputX.value||this.options.videoWidth),e||(e=i.inputY.value||this.options.videoHeight),i._onlyPercentage||/%$/.test(t)||!t?(this.plugins.video.setPercentSize.call(this,t||"100%",e||(/%$/.test(i._videoRatio)?i._videoRatio:i._defaultRatio)),!0):((!t||t==="auto")&&(!e||e==="auto")?this.plugins.video.setAutoSize.call(this):this.plugins.video.setSize.call(this,t,e||i._videoRatio||i._defaultRatio,!1),!1)},sizeRevert:function(){this.plugins.resizing._module_sizeRevert.call(this,this.context.video)},setSize:function(t,e,i,n){const s=this.context.video,o=/^(rw|lw)$/.test(n),a=/^(th|bh)$/.test(n);a||(t=this.util.getNumber(t,0)),o||(e=this.util.isNumber(e)?e+s.sizeUnit:e||""),t=t?t+s.sizeUnit:"",a||(s._element.style.width=t),o||(s._cover.style.paddingBottom=s._cover.style.height=e),!a&&!/%$/.test(t)&&(s._cover.style.width=t,s._container.style.width=""),!o&&!/%$/.test(e)?s._element.style.height=e:s._element.style.height="",i||s._element.removeAttribute("data-percentage"),this.plugins.resizing._module_saveCurrentSize.call(this,s)},setAutoSize:function(){this.plugins.video.setPercentSize.call(this,100,this.context.video._defaultRatio)},setOriginSize:function(t){const e=this.context.video;e._element.removeAttribute("data-percentage"),this.plugins.resizing.resetTransform.call(this,e._element),this.plugins.video.cancelPercentAttr.call(this);const i=((t?e._element.getAttribute("data-size"):"")||e._element.getAttribute("data-origin")||"").split(",");if(i){const n=i[0],s=i[1];e._onlyPercentage||/%$/.test(n)&&(/%$/.test(s)||!/\d/.test(s))?this.plugins.video.setPercentSize.call(this,n,s):this.plugins.video.setSize.call(this,n,s),this.plugins.resizing._module_saveCurrentSize.call(this,e)}},setPercentSize:function(t,e){const i=this.context.video;e=e&&!/%$/.test(e)&&!this.util.getNumber(e,0)?this.util.isNumber(e)?e+"%":e:this.util.isNumber(e)?e+i.sizeUnit:e||i._defaultRatio,i._container.style.width=this.util.isNumber(t)?t+"%":t,i._container.style.height="",i._cover.style.width="100%",i._cover.style.height=e,i._cover.style.paddingBottom=e,i._element.style.width="100%",i._element.style.height="100%",i._element.style.maxWidth="",i._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null),i._element.setAttribute("data-percentage",t+","+e),this.plugins.resizing._module_saveCurrentSize.call(this,i)},cancelPercentAttr:function(){const t=this.context.video;t._cover.style.width="",t._cover.style.height="",t._cover.style.paddingBottom="",t._container.style.width="",t._container.style.height="",this.util.removeClass(t._container,this.context.video._floatClassRegExp),this.util.addClass(t._container,"__se__float-"+t._align),t._align==="center"&&this.plugins.video.setAlign.call(this,null,null,null,null)},setAlign:function(t,e,i,n){const s=this.context.video;t||(t=s._align),e||(e=s._element),i||(i=s._cover),n||(n=s._container),/%$/.test(e.style.width)&&t==="center"?(n.style.minWidth="100%",i.style.width=n.style.width,i.style.height=i.style.height,i.style.paddingBottom=/%$/.test(i.style.height)?this.util.getNumber(this.util.getNumber(i.style.height,2)/100*this.util.getNumber(i.style.width,2),2)+"%":i.style.height):(n.style.minWidth="",i.style.width=this.context.resizing._rotateVertical?e.style.height||e.offsetHeight:e.style.width||"100%",i.style.paddingBottom=i.style.height),this.util.hasClass(n,"__se__float-"+t)||(this.util.removeClass(n,s._floatClassRegExp),this.util.addClass(n,"__se__float-"+t)),e.setAttribute("data-align",t)},init:function(){const t=this.context.video;t.videoInputFile&&(t.videoInputFile.value=""),t.videoUrlFile&&(t._linkValue=t.preview.textContent=t.videoUrlFile.value=""),t.videoInputFile&&t.videoUrlFile&&(t.videoUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._origin_w=this.options.videoWidth,t._origin_h=this.options.videoHeight,t.modal.querySelector('input[name="suneditor_video_radio"][value="none"]').checked=!0,t._resizing&&(t.inputX.value=this.options.videoWidth===t._defaultSizeX?"":this.options.videoWidth,t.inputY.value=this.options.videoHeight===t._defaultSizeY?"":this.options.videoHeight,t.proportion.checked=!0,t.proportion.disabled=!0,this.plugins.video.setVideoRatioSelect.call(this,t._defaultRatio))}},up={name:"audio",display:"dialog",add:function(t){t.addModule([Zn,Ur,qr]);const e=t.context,i=e.audio={_infoList:[],_infoIndex:0,_uploadFileLength:0,focusElement:null,targetSelect:null,_origin_w:t.options.audioWidth,_origin_h:t.options.audioHeight,_linkValue:"",_element:null,_cover:null,_container:null};let n=this.setDialog(t);i.modal=n,i.audioInputFile=n.querySelector("._se_audio_files"),i.audioUrlFile=n.querySelector(".se-input-url"),i.focusElement=i.audioInputFile||i.audioUrlFile,i.preview=n.querySelector(".se-link-preview");let s=this.setController(t);i.controller=s,n.querySelector("form").addEventListener("submit",this.submit.bind(t)),i.audioInputFile&&n.querySelector(".se-dialog-files-edge-button").addEventListener("click",this._removeSelectedFiles.bind(i.audioInputFile,i.audioUrlFile,i.preview)),i.audioInputFile&&i.audioUrlFile&&i.audioInputFile.addEventListener("change",this._fileInputChange.bind(i)),s.addEventListener("click",this.onClick_controller.bind(t)),i.audioUrlFile&&i.audioUrlFile.addEventListener("input",this._onLinkPreview.bind(i.preview,i,t.options.linkProtocol)),e.dialog.modal.appendChild(n),e.element.relative.appendChild(s),n=null,s=null},setDialog:function(t){const e=t.options,i=t.lang,n=t.util.createElement("DIV");n.className="se-dialog-content",n.style.display="none";let s='<form method="post" enctype="multipart/form-data"><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+i.dialogBox.close+'" aria-label="'+i.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+i.dialogBox.audioBox.title+'</span></div><div class="se-dialog-body">';return e.audioFileInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.file+'</label><div class="se-dialog-form-files"><input class="se-input-form _se_audio_files" type="file" accept="'+e.audioAccept+'"'+(e.audioMultipleFile?' multiple="multiple"':"")+'/><button type="button" data-command="filesRemove" class="se-btn se-dialog-files-edge-button se-file-remove" title="'+i.controller.remove+'" aria-label="'+i.controller.remove+'">'+t.icons.cancel+"</button></div></div>"),e.audioUrlInput&&(s+='<div class="se-dialog-form"><label>'+i.dialogBox.audioBox.url+'</label><input class="se-input-form se-input-url" type="text" /><pre class="se-link-preview"></pre></div>'),s+='</div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+i.dialogBox.submitButton+'" aria-label="'+i.dialogBox.submitButton+'"><span>'+i.dialogBox.submitButton+"</span></button></div></form>",n.innerHTML=s,n},setController:function(t){const e=t.lang,i=t.icons,n=t.util.createElement("DIV");return n.className="se-controller se-controller-link",n.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-tooltip">'+i.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-tooltip">'+i.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",n},_fileInputChange:function(){this.audioInputFile.value?(this.audioUrlFile.setAttribute("disabled",!0),this.preview.style.textDecoration="line-through"):(this.audioUrlFile.removeAttribute("disabled"),this.preview.style.textDecoration="")},_removeSelectedFiles:function(t,e){this.value="",t&&(t.removeAttribute("disabled"),e.style.textDecoration="")},_createAudioTag:function(){const t=this.util.createElement("AUDIO");this.plugins.audio._setTagAttrs.call(this,t);const e=this.context.audio._origin_w,i=this.context.audio._origin_h;return t.setAttribute("origin-size",e+","+i),t.style.cssText=(e?"width:"+e+"; ":"")+(i?"height:"+i+";":""),t},_setTagAttrs:function(t){t.setAttribute("controls",!0);const e=this.options.audioTagAttrs;if(e)for(let i in e)this.util.hasOwn(e,i)&&t.setAttribute(i,e[i])},_onLinkPreview:function(t,e,i){const n=i.target.value.trim();t._linkValue=this.textContent=n?e&&n.indexOf("://")===-1&&n.indexOf("#")!==0?e+n:n.indexOf("://")===-1?"/"+n:n:""},fileTags:["audio"],select:function(t){this.plugins.audio.onModifyMode.call(this,t)},destroy:function(t){t=t||this.context.audio._element;const e=this.util.getParentElement(t,this.util.isComponent)||t,i=t.getAttribute("data-index")*1;if(typeof this.functions.onAudioDeleteBefore=="function"&&this.functions.onAudioDeleteBefore(t,e,i,this)===!1)return;const n=e.previousElementSibling||e.nextElementSibling,s=e.parentNode;this.util.removeItem(e),this.plugins.audio.init.call(this),this.controllersOff(),s!==this.context.element.wysiwyg&&this.util.removeItemAllParents(s,function(o){return o.childNodes.length===0},null),this.focusEdge(n),this.plugins.fileManager.deleteInfo.call(this,"audio",i,this.functions.onAudioUpload),this.history.push(!1)},checkFileInfo:function(){this.plugins.fileManager.checkInfo.call(this,"audio",["audio"],this.functions.onAudioUpload,this.plugins.audio.updateCover.bind(this),!1)},resetFileInfo:function(){this.plugins.fileManager.resetInfo.call(this,"audio",this.functions.onAudioUpload)},on:function(t){const e=this.context.audio;t?e._element?(this.context.dialog.updateModal=!0,e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src,e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple")):e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.removeAttribute("multiple"):(this.plugins.audio.init.call(this),e.audioInputFile&&this.options.audioMultipleFile&&e.audioInputFile.setAttribute("multiple","multiple"))},open:function(){this.plugins.dialog.open.call(this,"audio",this.currentControllerName==="audio")},submit:function(t){const e=this.context.audio;t.preventDefault(),t.stopPropagation();try{e.audioInputFile&&e.audioInputFile.files.length>0?(this.showLoading(),this.plugins.audio.submitAction.call(this,e.audioInputFile.files)):e.audioUrlFile&&e._linkValue.length>0&&(this.showLoading(),this.plugins.audio.setupUrl.call(this,e._linkValue))}catch(i){throw this.closeLoading(),Error('[SUNEDITOR.audio.submit.fail] cause : "'+i.message+'"')}finally{this.plugins.dialog.close.call(this)}return!1},submitAction:function(t){if(t.length===0)return;let e=0,i=[];for(let a=0,d=t.length;a<d;a++)/audio/i.test(t[a].type)&&(i.push(t[a]),e+=t[a].size);const n=this.options.audioUploadSizeLimit;if(n>0){let a=0;const d=this.context.audio._infoList;for(let l=0,f=d.length;l<f;l++)a+=d[l].size*1;if(e+a>n){this.closeLoading();const l="[SUNEDITOR.audioUpload.fail] Size of uploadable total audios: "+n/1e3+"KB";(typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(l,{limitSize:n,currentSize:a,uploadSize:e},this))&&this.functions.noticeOpen(l);return}}const s=this.context.audio;s._uploadFileLength=i.length;const o={isUpdate:this.context.dialog.updateModal,element:s._element};if(typeof this.functions.onAudioUploadBefore=="function"){const a=this.functions.onAudioUploadBefore(i,o,this,(function(d){d&&this._w.Array.isArray(d.result)?this.plugins.audio.register.call(this,o,d):this.plugins.audio.upload.call(this,o,d)}).bind(this));if(typeof a>"u")return;if(!a){this.closeLoading();return}typeof a=="object"&&a.length>0&&(i=a)}this.plugins.audio.upload.call(this,o,i)},error:function(t,e){if(this.closeLoading(),typeof this.functions.onAudioUploadError!="function"||this.functions.onAudioUploadError(t,e,this))throw this.functions.noticeOpen(t),Error("[SUNEDITOR.plugin.audio.exception] response: "+t)},upload:function(t,e){if(!e){this.closeLoading();return}if(typeof e=="string"){this.plugins.audio.error.call(this,e,null);return}const i=this.options.audioUploadUrl,n=this.context.dialog.updateModal?1:e.length,s=new FormData;for(let o=0;o<n;o++)s.append("file-"+o,e[o]);this.plugins.fileManager.upload.call(this,i,this.options.audioUploadHeader,s,this.plugins.audio.callBack_upload.bind(this,t),this.functions.onAudioUploadError)},callBack_upload:function(t,e){if(typeof this.functions.audioUploadHandler=="function")this.functions.audioUploadHandler(e,t,this);else{const i=JSON.parse(e.responseText);i.errorMessage?this.plugins.audio.error.call(this,i.errorMessage,i):this.plugins.audio.register.call(this,t,i)}},register:function(t,e){const i=e.result;for(let n=0,s=i.length,o,a;n<s;n++)t.isUpdate?a=t.element:a=this.plugins.audio._createAudioTag.call(this),o={name:i[n].name,size:i[n].size},this.plugins.audio.create_audio.call(this,a,i[n].url,o,t.isUpdate);this.closeLoading()},setupUrl:function(t){try{if(t.length===0)return!1;this.plugins.audio.create_audio.call(this,this.plugins.audio._createAudioTag.call(this),t,null,this.context.dialog.updateModal)}catch(e){throw Error('[SUNEDITOR.audio.audio.fail] cause : "'+e.message+'"')}finally{this.closeLoading()}},create_audio:function(t,e,i,n){const s=this.context.audio;if(n)if(s._element&&(t=s._element),t&&t.src!==e)t.src=e,this.selectComponent(t,"audio");else{this.selectComponent(t,"audio");return}else{t.src=e;const o=this.plugins.component.set_cover.call(this,t),a=this.plugins.component.set_container.call(this,o,"");if(!this.insertComponent(a,!1,!0,!this.options.mediaAutoSelect)){this.focus();return}if(!this.options.mediaAutoSelect){const d=this.appendFormatTag(a,null);d&&this.setRange(d,0,d,0)}}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,i,!1),n&&this.history.push(!1)},updateCover:function(t){const e=this.context.audio;this.plugins.audio._setTagAttrs.call(this,t);const i=t.parentNode;let n=this.util.isRangeFormatElement(i)||this.util.isWysiwygDiv(i)?t:i||t;const s=t;e._element=t=t.cloneNode(!1);const o=this.plugins.component.set_cover.call(this,t),a=this.plugins.component.set_container.call(this,o,"se-audio-container");try{if(this.util.getParentElement(s,this.util.isNotCheckingNode))s.parentNode.replaceChild(a,s);else if(this.util.isListCell(n)){const d=this.util.getParentElement(s,function(l){return l.parentNode===n});n.insertBefore(a,d),this.util.removeItem(s),this.util.removeEmptyNode(d,null,!0)}else if(this.util.isFormatElement(n)){const d=this.util.getParentElement(s,function(l){return l.parentNode===n});n=this.util.splitElement(n,d),n.parentNode.insertBefore(a,n),this.util.removeItem(s),this.util.removeEmptyNode(n,null,!0),n.children.length===0&&(n.innerHTML=this.util.htmlRemoveWhiteSpace(n.innerHTML))}else n.parentNode.replaceChild(a,n)}catch(d){console.warn("[SUNEDITOR.audio.error] Maybe the audio tag is nested.",d)}this.plugins.fileManager.setInfo.call(this,"audio",t,this.functions.onAudioUpload,null,!1),this.plugins.audio.init.call(this)},onModifyMode:function(t){const e=this.context.audio;this.setControllerPosition(e.controller,t,"bottom",{left:0,top:0}),this.controllersOn(e.controller,t,this.plugins.audio.onControllerOff.bind(this,t),"audio"),this.util.addClass(t,"active"),e._element=t,e._cover=this.util.getParentElement(t,"FIGURE"),e._container=this.util.getParentElement(t,this.util.isComponent)},openModify:function(t){if(this.context.audio.audioUrlFile){const e=this.context.audio;e._linkValue=e.preview.textContent=e.audioUrlFile.value=e._element.src}t||this.plugins.dialog.open.call(this,"audio",!0)},onClick_controller:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?this.plugins.audio.openModify.call(this,!1):this.plugins.audio.destroy.call(this,this.context.audio._element),this.controllersOff())},onControllerOff:function(t){this.util.removeClass(t,"active"),this.context.audio.controller.style.display="none"},init:function(){if(this.context.dialog.updateModal)return;const t=this.context.audio;t.audioInputFile&&(t.audioInputFile.value=""),t.audioUrlFile&&(t._linkValue=t.preview.textContent=t.audioUrlFile.value=""),t.audioInputFile&&t.audioUrlFile&&(t.audioUrlFile.removeAttribute("disabled"),t.preview.style.textDecoration=""),t._element=null}},sc="https://katex.org/docs/supported.html",dp={name:"math",display:"dialog",add:function(t){t.addModule([Zn]);const e=t.context;e.math={focusElement:null,previewElement:null,fontSizeElement:null,defaultFontSize:"",_mathExp:null};let i=this.setDialog(t);e.math.modal=i,e.math.focusElement=i.querySelector(".se-math-exp"),e.math.previewElement=i.querySelector(".se-math-preview"),e.math.fontSizeElement=i.querySelector(".se-math-size"),e.math.focusElement.addEventListener("paste",function(s){typeof t.functions.onPasteMath=="function"&&t.functions.onPasteMath(s,t)},!1),e.math.focusElement.addEventListener(t.util.isIE?"textinput":"input",this._renderMathExp.bind(t,e.math),!1),e.math.fontSizeElement.addEventListener("change",(function(s){this.fontSize=s.target.value}).bind(e.math.previewElement.style),!1);let n=this.setController_MathButton(t);e.math.mathController=n,e.math._mathExp=null,i.querySelector("form").addEventListener("submit",this.submit.bind(t),!1),n.addEventListener("click",this.onClick_mathController.bind(t)),e.math.previewElement.style.fontSize=e.math.defaultFontSize,e.dialog.modal.appendChild(i),e.element.relative.appendChild(n),i=null,n=null},setDialog:function(t){const e=t.lang,i=t.util.createElement("DIV"),n=t.options.mathFontSize;let s=n[0].value;i.className="se-dialog-content",i.style.display="none";let o='<form><div class="se-dialog-header"><button type="button" data-command="close" class="se-btn se-dialog-close" title="'+e.dialogBox.close+'" aria-label="'+e.dialogBox.close+'">'+t.icons.cancel+'</button><span class="se-modal-title">'+e.dialogBox.mathBox.title+'</span></div><div class="se-dialog-body"><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.inputLabel+' (<a href="'+sc+'" target="_blank">KaTeX</a>)</label><textarea class="se-input-form se-math-exp" type="text"></textarea></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.fontSizeLabel+'</label><select class="se-input-select se-math-size">';for(let a=0,d=n.length,l;a<d;a++)l=n[a],l.default&&(s=l.value),o+='<option value="'+l.value+'"'+(l.default?" selected":"")+">"+l.text+"</option>";return o+='</select></div><div class="se-dialog-form"><label>'+e.dialogBox.mathBox.previewLabel+'</label><p class="se-math-preview"></p></div></div><div class="se-dialog-footer"><button type="submit" class="se-btn-primary" title="'+e.dialogBox.submitButton+'" aria-label="'+e.dialogBox.submitButton+'"><span>'+e.dialogBox.submitButton+"</span></button></div></form>",t.context.math.defaultFontSize=s,i.innerHTML=o,i},setController_MathButton:function(t){const e=t.lang,i=t.util.createElement("DIV");return i.className="se-controller se-controller-link",i.innerHTML='<div class="se-arrow se-arrow-up"></div><div class="link-content"><div class="se-btn-group"><button type="button" data-command="update" tabindex="-1" class="se-btn se-tooltip">'+t.icons.edit+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.edit+'</span></span></button><button type="button" data-command="delete" tabindex="-1" class="se-btn se-tooltip">'+t.icons.delete+'<span class="se-tooltip-inner"><span class="se-tooltip-text">'+e.controller.remove+"</span></span></button></div></div>",i},open:function(){this.plugins.dialog.open.call(this,"math",this.currentControllerName==="math")},managedTags:function(){return{className:"katex",method:function(t){if(!t.getAttribute("data-exp")||!this.options.katex)return;const e=this._d.createRange().createContextualFragment(this.plugins.math._renderer.call(this,this.util.HTMLDecoder(t.getAttribute("data-exp"))));t.innerHTML=e.querySelector(".katex").innerHTML,t.setAttribute("contenteditable",!1)}}},_renderer:function(t){let e="";try{this.util.removeClass(this.context.math.focusElement,"se-error"),e=this.options.katex.src.renderToString(t,{throwOnError:!0,displayMode:!0})}catch(i){this.util.addClass(this.context.math.focusElement,"se-error"),e='<span class="se-math-katex-error">Katex syntax error. (Refer <a href="'+sc+'" target="_blank">KaTeX</a>)</span>',console.warn("[SUNEDITOR.math.Katex.error] ",i)}return e},_renderMathExp:function(t,e){t.previewElement.innerHTML=this.plugins.math._renderer.call(this,e.target.value)},submit:function(t){this.showLoading(),t.preventDefault(),t.stopPropagation();const e=(function(){if(this.context.math.focusElement.value.trim().length===0)return!1;const i=this.context.math,n=i.focusElement.value,s=i.previewElement.querySelector(".katex");if(!s)return!1;if(s.className="__se__katex "+s.className,s.setAttribute("contenteditable",!1),s.setAttribute("data-exp",this.util.HTMLEncoder(n)),s.setAttribute("data-font-size",i.fontSizeElement.value),s.style.fontSize=i.fontSizeElement.value,this.context.dialog.updateModal){const o=this.util.getParentElement(i._mathExp,".katex");o.parentNode.replaceChild(s,o),this.setRange(s,0,s,1)}else{const o=this.getSelectedElements();if(o.length>1){const d=this.util.createElement(o[0].nodeName);if(d.appendChild(s),!this.insertNode(d,null,!0))return!1}else if(!this.insertNode(s,null,!0))return!1;const a=this.util.createTextNode(this.util.zeroWidthSpace);s.parentNode.insertBefore(a,s.nextSibling),this.setRange(s,0,s,1)}return i.focusElement.value="",i.fontSizeElement.value="1em",i.previewElement.style.fontSize="1em",i.previewElement.innerHTML="",!0}).bind(this);try{e()&&(this.plugins.dialog.close.call(this),this.history.push(!1))}catch{this.plugins.dialog.close.call(this)}finally{this.closeLoading()}return!1},active:function(t){if(!t)this.controllerArray.indexOf(this.context.math.mathController)>-1&&this.controllersOff();else if(t.getAttribute("data-exp"))return this.controllerArray.indexOf(this.context.math.mathController)<0&&(this.setRange(t,0,t,1),this.plugins.math.call_controller.call(this,t)),!0;return!1},on:function(t){if(!t)this.plugins.math.init.call(this);else{const e=this.context.math;if(e._mathExp){const i=this.util.HTMLDecoder(e._mathExp.getAttribute("data-exp")),n=e._mathExp.getAttribute("data-font-size")||"1em";this.context.dialog.updateModal=!0,e.focusElement.value=i,e.fontSizeElement.value=n,e.previewElement.innerHTML=this.plugins.math._renderer.call(this,i),e.previewElement.style.fontSize=n}}},call_controller:function(t){this.context.math._mathExp=t;const e=this.context.math.mathController;this.setControllerPosition(e,t,"bottom",{left:0,top:0}),this.controllersOn(e,t,"math")},onClick_mathController:function(t){t.stopPropagation();const e=t.target.getAttribute("data-command")||t.target.parentNode.getAttribute("data-command");e&&(t.preventDefault(),/update/.test(e)?(this.context.math.focusElement.value=this.util.HTMLDecoder(this.context.math._mathExp.getAttribute("data-exp")),this.plugins.dialog.open.call(this,"math",!0)):(this.util.removeItem(this.context.math._mathExp),this.context.math._mathExp=null,this.focus(),this.history.push(!1)),this.controllersOff())},init:function(){const t=this.context.math;t.mathController.style.display="none",t._mathExp=null,t.focusElement.value="",t.previewElement.innerHTML=""}};var Ls={exports:{}},hp=Ls.exports,lc;function fp(){return lc||(lc=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_MODULES a window with a document");return i(n)}})(typeof window<"u"?window:hp,function(e,i){const n={name:"fileBrowser",_xmlHttp:null,_loading:null,add:function(s){const o=s.context;o.fileBrowser={_closeSignal:!1,area:null,header:null,tagArea:null,body:null,list:null,tagElements:null,items:[],selectedTags:[],selectorHandler:null,contextPlugin:"",columnSize:4};let a=s.util.createElement("DIV");a.className="se-file-browser sun-editor-common";let d=s.util.createElement("DIV");d.className="se-file-browser-back";let l=s.util.createElement("DIV");l.className="se-file-browser-inner",l.innerHTML=this.set_browser(s),a.appendChild(d),a.appendChild(l),this._loading=a.querySelector(".se-loading-box"),o.fileBrowser.area=a,o.fileBrowser.header=l.querySelector(".se-file-browser-header"),o.fileBrowser.titleArea=l.querySelector(".se-file-browser-title"),o.fileBrowser.tagArea=l.querySelector(".se-file-browser-tags"),o.fileBrowser.body=l.querySelector(".se-file-browser-body"),o.fileBrowser.list=l.querySelector(".se-file-browser-list"),o.fileBrowser.tagArea.addEventListener("click",this.onClickTag.bind(s)),o.fileBrowser.list.addEventListener("click",this.onClickFile.bind(s)),l.addEventListener("mousedown",this._onMouseDown_browser.bind(s)),l.addEventListener("click",this._onClick_browser.bind(s)),o.element.relative.appendChild(a),a=null,d=null,l=null},set_browser:function(s){const o=s.lang;return'<div class="se-file-browser-content"><div class="se-file-browser-header"><button type="button" data-command="close" class="se-btn se-file-browser-close" class="close" title="'+o.dialogBox.close+'" aria-label="'+o.dialogBox.close+'">'+s.icons.cancel+'</button><span class="se-file-browser-title"></span><div class="se-file-browser-tags"></div></div><div class="se-file-browser-body"><div class="se-loading-box sun-editor-common"><div class="se-loading-effect"></div></div><div class="se-file-browser-list"></div></div></div>'},_onMouseDown_browser:function(s){/se-file-browser-inner/.test(s.target.className)?this.context.fileBrowser._closeSignal=!0:this.context.fileBrowser._closeSignal=!1},_onClick_browser:function(s){s.stopPropagation(),(/close/.test(s.target.getAttribute("data-command"))||this.context.fileBrowser._closeSignal)&&this.plugins.fileBrowser.close.call(this)},open:function(s,o){this.plugins.fileBrowser._bindClose&&(this._d.removeEventListener("keydown",this.plugins.fileBrowser._bindClose),this.plugins.fileBrowser._bindClose=null),this.plugins.fileBrowser._bindClose=(function(f){/27/.test(f.keyCode)&&this.plugins.fileBrowser.close.call(this)}).bind(this),this._d.addEventListener("keydown",this.plugins.fileBrowser._bindClose);const a=this.context.fileBrowser;a.contextPlugin=s,a.selectorHandler=o;const d=this.context[s],l=d.listClass;this.util.hasClass(a.list,l)||(a.list.className="se-file-browser-list "+l),this.options.popupDisplay==="full"?a.area.style.position="fixed":a.area.style.position="absolute",a.titleArea.textContent=d.title,a.area.style.display="block",this.context[s].directData?this.plugins.fileBrowser._drawListItem.call(this,this.context[s].directData,!0):this.plugins.fileBrowser._drawFileList.call(this,this.context[s].url,this.context[s].header)},_bindClose:null,close:function(){const s=this.plugins.fileBrowser;s._xmlHttp&&s._xmlHttp.abort(),s._bindClose&&(this._d.removeEventListener("keydown",s._bindClose),s._bindClose=null);const o=this.context.fileBrowser;o.area.style.display="none",o.selectorHandler=null,o.selectedTags=[],o.items=[],o.list.innerHTML=o.tagArea.innerHTML=o.titleArea.textContent="",typeof this.plugins[o.contextPlugin].init=="function"&&this.plugins[o.contextPlugin].init.call(this),o.contextPlugin=""},showBrowserLoading:function(){this._loading.style.display="block"},closeBrowserLoading:function(){this._loading.style.display="none"},_drawFileList:function(s,o){const a=this.plugins.fileBrowser,d=a._xmlHttp=this.util.getXMLHttpRequest();if(d.onreadystatechange=a._callBackGet.bind(this,d),d.open("get",s,!0),o!==null&&typeof o=="object"&&this._w.Object.keys(o).length>0)for(let l in o)d.setRequestHeader(l,o[l]);d.send(null),this.plugins.fileBrowser.showBrowserLoading()},_callBackGet:function(s){if(s.readyState===4){if(this.plugins.fileBrowser._xmlHttp=null,s.status===200)try{const o=JSON.parse(s.responseText);o.result.length>0?this.plugins.fileBrowser._drawListItem.call(this,o.result,!0):o.nullMessage&&(this.context.fileBrowser.list.innerHTML=o.nullMessage)}catch(o){throw Error('[SUNEDITOR.fileBrowser.drawList.fail] cause : "'+o.message+'"')}finally{this.plugins.fileBrowser.closeBrowserLoading(),this.context.fileBrowser.body.style.maxHeight=this._w.innerHeight-this.context.fileBrowser.header.offsetHeight-50+"px"}else if(this.plugins.fileBrowser.closeBrowserLoading(),s.status!==0){const o=s.responseText?JSON.parse(s.responseText):s,a="[SUNEDITOR.fileBrowser.get.serverException] status: "+s.status+", response: "+(o.errorMessage||s.responseText);throw Error(a)}}},_drawListItem:function(s,o){const a=this.context.fileBrowser,d=this.context[a.contextPlugin],l=[],f=s.length,u=d.columnSize||a.columnSize,p=u<=1?1:Math.round(f/u)||1,C=d.itemTemplateHandler;let w="",E='<div class="se-file-item-column">',T=1;for(let r=0,c,h;r<f;r++)if(c=s[r],h=c.tag?typeof c.tag=="string"?c.tag.split(","):c.tag:[],h=c.tag=h.map(function(m){return m.trim()}),E+=C(c),(r+1)%p===0&&T<u&&r+1<f&&(T++,E+='</div><div class="se-file-item-column">'),o&&h.length>0)for(let m=0,g=h.length,b;m<g;m++)b=h[m],b&&l.indexOf(b)===-1&&(l.push(b),w+='<a title="'+b+'" aria-label="'+b+'">'+b+"</a>");E+="</div>",a.list.innerHTML=E,o&&(a.items=s,a.tagArea.innerHTML=w,a.tagElements=a.tagArea.querySelectorAll("A"))},onClickTag:function(s){const o=s.target;if(!this.util.isAnchor(o))return;const a=o.textContent,d=this.plugins.fileBrowser,l=this.context.fileBrowser,f=l.tagArea.querySelector('a[title="'+a+'"]'),u=l.selectedTags,p=u.indexOf(a);p>-1?(u.splice(p,1),this.util.removeClass(f,"on")):(u.push(a),this.util.addClass(f,"on")),d._drawListItem.call(this,u.length===0?l.items:l.items.filter(function(C){return C.tag.some(function(w){return u.indexOf(w)>-1})}),!1)},onClickFile:function(s){s.preventDefault(),s.stopPropagation();const o=this.context.fileBrowser,a=o.list;let d=s.target,l=null;if(d===a)return;for(;a!==d.parentNode&&(l=d.getAttribute("data-command"),!l);)d=d.parentNode;if(!l)return;(o.selectorHandler||this.context[o.contextPlugin].selectorHandler)(d,d.parentNode.querySelector(".__se__img_name").textContent),this.plugins.fileBrowser.close.call(this)}};return typeof i>"u"&&(e.SUNEDITOR_MODULES||Object.defineProperty(e,"SUNEDITOR_MODULES",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_MODULES,"fileBrowser",{enumerable:!0,writable:!1,configurable:!1,value:n})),n})})(Ls)),Ls.exports}var pp=fp();const gp=ci(pp),mp={name:"imageGallery",add:function(t){t.addModule([gp]);const e=t.context;e.imageGallery={title:t.lang.toolbar.imageGallery,directData:t.options.imageGalleryData,url:t.options.imageGalleryUrl,header:t.options.imageGalleryHeader,listClass:"se-image-list",itemTemplateHandler:this.drawItems,selectorHandler:this.setImage.bind(t),columnSize:4}},open:function(t){this.plugins.fileBrowser.open.call(this,"imageGallery",t)},drawItems:function(t){const e=t.src.split("/").pop();return'<div class="se-file-item-img"><img src="'+(t.thumbnail||t.src)+'" alt="'+(t.alt||e)+'" data-command="pick" data-value="'+(t.src||t.thumbnail)+'"><div class="se-file-img-name se-file-name-back"></div><div class="se-file-img-name __se__img_name">'+(t.name||e)+"</div></div>"},setImage:function(t,e){this.callPlugin("image",(function(){const i={name:e,size:0};this.plugins.image.create_image.call(this,t.getAttribute("data-value"),null,this.context.image._origin_w,this.context.image._origin_h,"none",i,t.alt)}).bind(this),null)}},vp={blockquote:B0,align:I0,font:R0,fontSize:z0,fontColor:H0,hiliteColor:P0,horizontalRule:F0,list:V0,table:$0,formatBlock:W0,lineHeight:U0,template:q0,paragraphStyle:Z0,textStyle:Y0,link:Q0,image:ap,video:cp,audio:up,math:dp,imageGallery:mp};var As={exports:{}},bp=As.exports,oc;function yp(){return oc||(oc=1,(function(t){(function(e,i){t.exports=e.document?i(e,!0):function(n){if(!n.document)throw new Error("SUNEDITOR_LANG a window with a document");return i(n)}})(typeof window<"u"?window:bp,function(e,i){const n={code:"de",toolbar:{default:"Standard",save:"Speichern",font:"Schriftart",formats:"Format",fontSize:"Schriftgre",bold:"Fett",underline:"Unterstrichen",italic:"Kursiv",strike:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",removeFormat:"Format entfernen",fontColor:"Schriftfarbe",hiliteColor:"Farbe fr Hervorhebungen",indent:"Einzug vergrern",outdent:"Einzug verkleinern",align:"Ausrichtung",alignLeft:"Links ausrichten",alignRight:"Rechts ausrichten",alignCenter:"Zentriert ausrichten",alignJustify:"Blocksatz",list:"Liste",orderList:"Nummerierte Liste",unorderList:"Aufzhlung",horizontalRule:"Horizontale Linie",hr_solid:"Strich",hr_dotted:"Gepunktet",hr_dashed:"Gestrichelt",table:"Tabelle",link:"Link",math:"Mathematik",image:"Bild",video:"Video",audio:"Audio",fullScreen:"Vollbild",showBlocks:"Blockformatierungen anzeigen",codeView:"Quelltext anzeigen",undo:"Rckgngig",redo:"Wiederholen",preview:"Vorschau",print:"Drucken",tag_p:"Absatz",tag_div:"Normal (DIV)",tag_h:"Header",tag_blockquote:"Zitat",tag_pre:"Quellcode",template:"Vorlage",lineHeight:"Zeilenhhe",paragraphStyle:"Absatzstil",textStyle:"Textstil",imageGallery:"Bildergalerie",dir_ltr:"Links nach rechts",dir_rtl:"Rechts nach links",mention:"Erwhnen"},dialogBox:{linkBox:{title:"Link einfgen",url:"Link-URL",text:"Link-Text",newWindowCheck:"In neuem Fenster anzeigen",downloadLinkCheck:"Download-Link",bookmark:"Lesezeichen"},mathBox:{title:"Mathematik",inputLabel:"Mathematische Notation",fontSizeLabel:"Schriftgre",previewLabel:"Vorschau"},imageBox:{title:"Bild einfgen",file:"Datei auswhlen",url:"Bild-URL",altText:"Alternativer Text"},videoBox:{title:"Video einfgen",file:"Datei auswhlen",url:"Video-URL, YouTube/Vimeo"},audioBox:{title:"Audio einfgen",file:"Datei auswhlen",url:"Audio-URL"},browser:{tags:"Stichworte",search:"Suche"},caption:"Beschreibung eingeben",close:"Schlieen",submitButton:"bernehmen",revertButton:"Rckgngig",proportion:"Seitenverhltnis beibehalten",basic:"Standard",left:"Links",right:"Rechts",center:"Zentriert",width:"Breite",height:"Hhe",size:"Gre",ratio:"Verhltnis"},controller:{edit:"Bearbeiten",unlink:"Link entfernen",remove:"Lschen",insertRowAbove:"Zeile oberhalb einfgen",insertRowBelow:"Zeile unterhalb einfgen",deleteRow:"Zeile lschen",insertColumnBefore:"Spalte links einfgen",insertColumnAfter:"Spalte rechts einfgen",deleteColumn:"Spalte lschen",fixedColumnWidth:"Feste Spaltenbreite",resize100:"Zoom 100%",resize75:"Zoom 75%",resize50:"Zoom 50%",resize25:"Zoom 25%",autoSize:"Automatische Grenanpassung",mirrorHorizontal:"Horizontal spiegeln",mirrorVertical:"Vertikal spiegeln",rotateLeft:"Nach links drehen",rotateRight:"Nach rechts drehen",maxSize:"Maximale Gre",minSize:"Mindestgre",tableHeader:"Tabellenberschrift",mergeCells:"Zellen verbinden",splitCells:"Zellen teilen",HorizontalSplit:"Horizontal teilen",VerticalSplit:"Vertikal teilen"},menu:{spaced:"Buchstabenabstand",bordered:"Umrandet",neon:"Neon",translucent:"Durchscheinend",shadow:"Schatten",code:"Quellcode"}};return typeof i>"u"&&(e.SUNEDITOR_LANG||Object.defineProperty(e,"SUNEDITOR_LANG",{enumerable:!0,writable:!1,configurable:!1,value:{}}),Object.defineProperty(e.SUNEDITOR_LANG,"de",{enumerable:!0,writable:!0,configurable:!0,value:n})),n})})(As)),As.exports}var _p=yp();const wp=ci(_p),fr=document.documentElement;function Zr(){document.querySelectorAll("[data-wysiwyg]").forEach(e=>{if(e.wysiwygInited)return;const i=e.nextElementSibling;i?.classList?.contains("sun-editor")&&i.remove(),Cp(e)})}function Cp(t){const e=t.closest("[data-overlayscrollbars-viewport]"),i=t.closest("form"),n=t.closest("[data-wysiwyg-wrapper]"),s={de:wp},o=fr.lang;i&&i.addEventListener("submit",p=>{if(i.waitWysiwygEditotSaving){p.preventDefault(),console.error("wait for the wysiwyg editor to process and save the data");return}});const a=t.dataset.buttonList,d=+t.dataset.charLimit||null;let l=[["undo","redo"],["formatBlock"],["bold","underline","italic","strike","subscript","superscript"],["align","list"],["link","image"],["fullScreen","showBlocks","codeView"],["removeFormat"]];a&&(l=[],a.split("|").forEach(C=>{l.push(C.split(","))}));const f={plugins:vp,buttonList:l,formats:["p","h2","h3","h4","h5","h6"],maxCharCount:d,width:"auto",height:"auto",minHeight:t.dataset.height||"200px",tagsBlacklist:"span",attributesBlacklist:{all:"style"},attributesWhitelist:{img:"src|srcset|alt|style|width|height|data-.+"},icons:Sp(),placeholder:t.getAttribute("placeholder")||null,linkProtocol:"",lang:s[o]},u=M0.create(t,f);if(t.wysiwygInited=!0,u.onImageUploadBefore=function(p,C,w,E){const T=new FormData;T.append("image",p[0]),axios.post("/admin/upload-image",T,{headers:{"X-CSRF-TOKEN":document.querySelector("meta[name=csrf-token]").content}}).then(r=>{E({result:r.data.result})}).catch(r=>{E({errorMessage:r})})},u.toggleFullScreen=function(p,C){fr.classList.toggle("wysiwyg-full-screen",p),p?Md(u):e&&(xn(e,u,n),ls(e,u,n))},u.onPaste=function(p,C,w,E){return C=C.replace(/&nbsp;/g," "),C},u.onImageUpload=function(p,C,w,E,T,r){r.context.element.wysiwyg.dispatchEvent(new Event("input",{bubbles:!0}))},u.onChange=function(p,C){i&&(i.waitWysiwygEditotSaving=!0,i.classList.add("waiting"));const E=new DOMParser().parseFromString(p,"text/html");E.querySelectorAll(".se-image-container").forEach(r=>{const c=r.querySelector("img"),h=r.querySelector("figure");if(!c||!h){console.warn("Missing <img> or <figure> in a container. Skipping.");return}const m=E.createElement("picture"),g=r.classList.contains("__se__float-left")?"left":r.classList.contains("__se__float-right")?"right":null;g&&h.classList.add(`float-${g}`),h.insertBefore(m,c),m.appendChild(c),E.body.insertBefore(h,r),r.remove()}),t.value=Ep(E.getElementsByTagName("body")[0].innerHTML),i&&(i.waitWysiwygEditotSaving=!1,i.classList.remove("waiting"))},e){let p=null;xn(e,u,n),e.addEventListener("scroll",()=>{ls(e,u,n)}),window.addEventListener("resize",()=>{clearTimeout(p),p=setTimeout(()=>{xn(e,u,n),ls(e,u,n)},150)})}document.addEventListener("togglesidebar",()=>{xn(e,u,n),ls(e,u,n)})}function Ep(t){let e=t.trim();const i=/(?:<p\s*>\s*(?:<br\s*>)?\s*<\/p>\s*)+$/i;return e=e.replace(i,""),e.trim()}function ls(t,e,i){if(!t)return;const n=e.scrollProps||xn(t,e,i),s=t.scrollTop,o=n.toolbar,a=e.core.context.element.relative;if(n.editor.height>n.scrWrap.height)if(s>=n.editor.top&&!fr.classList.contains("wysiwyg-full-screen")){const d=s>n.maxFixedScroll?n.maxFixedScroll+n.scrWrap.top-s+"px":n.scrWrap.top+"px";o.classList.add("se-toolbar-sticky"),o.style.top=d,o.style.width=n.editor.width-2+"px",a.style.setProperty("--toolbar-height",o.offsetHeight+"px")}else Md(e)}function Md(t){const e=t.core.context.element.toolbar;e.classList.remove("se-toolbar-sticky"),e.style=null}function xn(t,e,i){if(!t)return;const n=t.getBoundingClientRect(),s=e.core.context.element.topArea,o=e.core.context.element.toolbar,a=n.top,d=t.offsetHeight,l=i.offsetTop,f=s.offsetWidth,u=s.offsetHeight,p=l+u-300;return e.scrollProps={area:s,toolbar:o,maxFixedScroll:p,scrWrap:{top:a,height:d},editor:{top:l,width:f,height:u}},e.scrollProps}function Sp(){return{undo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466"/></svg>',redo:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z"/><path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"/></svg>',bold:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"/></svg>',underline:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57s-2.687-1.08-2.687-2.57zM12.5 15h-9v-1h9z"/></svg>',italic:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"/></svg>',strike:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.333 5.686c0 .31.083.581.27.814H5.166a2.8 2.8 0 0 1-.099-.76c0-1.627 1.436-2.768 3.48-2.768 1.969 0 3.39 1.175 3.445 2.85h-1.23c-.11-1.08-.964-1.743-2.25-1.743-1.23 0-2.18.602-2.18 1.607zm2.194 7.478c-2.153 0-3.589-1.107-3.705-2.81h1.23c.144 1.06 1.129 1.703 2.544 1.703 1.34 0 2.31-.705 2.31-1.675 0-.827-.547-1.374-1.914-1.675L8.046 8.5H1v-1h14v1h-3.504c.468.437.675.994.675 1.697 0 1.826-1.436 2.967-3.644 2.967"/></svg>',subscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m3.266 12.496.96-2.853H7.76l.96 2.853H10L6.62 3H5.38L2 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm6.132 7.203v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V15h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41-1.23 0-1.795.8-1.795 1.576v.06z"/></svg>',superscript:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="m4.266 12.496.96-2.853H8.76l.96 2.853H11L7.62 3H6.38L3 12.496zm2.748-8.063 1.419 4.23h-2.88l1.426-4.23zm5.132-1.797v-.075c0-.332.234-.618.619-.618.354 0 .618.256.618.58 0 .362-.271.649-.52.898l-1.788 1.832V6h3.59v-.958h-1.923v-.045l.973-1.04c.415-.438.867-.845.867-1.547 0-.8-.701-1.41-1.787-1.41C11.565 1 11 1.8 11 2.576v.06z"/></svg>',align_left:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_right:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m4-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-4-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_center:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 12.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',align_justify:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M2 12.5a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5m0-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"/></svg>',list_bullets:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2m0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/></svg>',list_number:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5"/><path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635z"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1 1 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4 4 0 0 1-.128-1.287z"/><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243z"/></svg>',image:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0"/><path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1z"/></svg>',expansion:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M5.828 10.172a.5.5 0 0 0-.707 0l-4.096 4.096V11.5a.5.5 0 0 0-1 0v3.975a.5.5 0 0 0 .5.5H4.5a.5.5 0 0 0 0-1H1.732l4.096-4.096a.5.5 0 0 0 0-.707m4.344-4.344a.5.5 0 0 0 .707 0l4.096-4.096V4.5a.5.5 0 1 0 1 0V.525a.5.5 0 0 0-.5-.5H11.5a.5.5 0 0 0 0 1h2.768l-4.096 4.096a.5.5 0 0 0 0 .707"/></svg>',reduction:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M.172 15.828a.5.5 0 0 0 .707 0l4.096-4.096V14.5a.5.5 0 1 0 1 0v-3.975a.5.5 0 0 0-.5-.5H1.5a.5.5 0 0 0 0 1h2.768L.172 15.121a.5.5 0 0 0 0 .707M15.828.172a.5.5 0 0 0-.707 0l-4.096 4.096V1.5a.5.5 0 1 0-1 0v3.975a.5.5 0 0 0 .5.5H14.5a.5.5 0 0 0 0-1h-2.768L15.828.879a.5.5 0 0 0 0-.707"/></svg>',show_blocks:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M6 1v3H1V1zM1 0a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1zm14 12v3h-5v-3zm-5-1a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-3a1 1 0 0 0-1-1zM6 8v7H1V8zM1 7a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1zm14-6v7h-5V1zm-5-1a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>',code_view:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0m6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0"/></svg>',erase:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828zm2.121.707a1 1 0 0 0-1.414 0L4.16 7.547l5.293 5.293 4.633-4.633a1 1 0 0 0 0-1.414zM8.746 13.547 3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293z"/></svg>',cancel:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8z"/></svg>',revert:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1 11.5a.5.5 0 0 0 .5.5h11.793l-3.147 3.146a.5.5 0 0 0 .708.708l4-4a.5.5 0 0 0 0-.708l-4-4a.5.5 0 0 0-.708.708L13.293 11H1.5a.5.5 0 0 0-.5.5m14-7a.5.5 0 0 1-.5.5H2.707l3.147 3.146a.5.5 0 1 1-.708.708l-4-4a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 4H14.5a.5.5 0 0 1 .5.5"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1z"/></svg>',download:'<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 16 16"><path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/><path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/></svg>'}}/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function rc(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function It(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?rc(Object(i),!0).forEach(function(n){xp(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):rc(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function ks(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ks=function(e){return typeof e}:ks=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ks(t)}function xp(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Zt(){return Zt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Zt.apply(this,arguments)}function Tp(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function Lp(t,e){if(t==null)return{};var i=Tp(t,e),n,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)n=o[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var Ap="1.15.6";function $t(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Kt=$t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Yn=$t(/Edge/i),ac=$t(/firefox/i),Nn=$t(/safari/i)&&!$t(/chrome/i)&&!$t(/android/i),Yr=$t(/iP(ad|od|hone)/i),Bd=$t(/chrome/i)&&$t(/android/i),Id={capture:!1,passive:!1};function we(t,e,i){t.addEventListener(e,i,!Kt&&Id)}function ye(t,e,i){t.removeEventListener(e,i,!Kt&&Id)}function Vs(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Rd(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Et(t,e,i,n){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Vs(t,e):Vs(t,e))||n&&t===i)return t;if(t===i)break}while(t=Rd(t))}return null}var cc=/\s+/g;function nt(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var n=(" "+t.className+" ").replace(cc," ").replace(" "+e+" "," ");t.className=(n+(i?" "+e:"")).replace(cc," ")}}function ue(t,e,i){var n=t&&t.style;if(n){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in n)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),n[e]=i+(typeof i=="string"?"":"px")}}function Xi(t,e){var i="";if(typeof t=="string")i=t;else do{var n=ue(t,"transform");n&&n!=="none"&&(i=n+" "+i)}while(!e&&(t=t.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(i)}function zd(t,e,i){if(t){var n=t.getElementsByTagName(e),s=0,o=n.length;if(i)for(;s<o;s++)i(n[s],s);return n}return[]}function Ot(){var t=document.scrollingElement;return t||document.documentElement}function Re(t,e,i,n,s){if(!(!t.getBoundingClientRect&&t!==window)){var o,a,d,l,f,u,p;if(t!==window&&t.parentNode&&t!==Ot()?(o=t.getBoundingClientRect(),a=o.top,d=o.left,l=o.bottom,f=o.right,u=o.height,p=o.width):(a=0,d=0,l=window.innerHeight,f=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(e||i)&&t!==window&&(s=s||t.parentNode,!Kt))do if(s&&s.getBoundingClientRect&&(ue(s,"transform")!=="none"||i&&ue(s,"position")!=="static")){var C=s.getBoundingClientRect();a-=C.top+parseInt(ue(s,"border-top-width")),d-=C.left+parseInt(ue(s,"border-left-width")),l=a+o.height,f=d+o.width;break}while(s=s.parentNode);if(n&&t!==window){var w=Xi(s||t),E=w&&w.a,T=w&&w.d;w&&(a/=T,d/=E,p/=E,u/=T,l=a+u,f=d+p)}return{top:a,left:d,bottom:l,right:f,width:p,height:u}}}function uc(t,e,i){for(var n=ii(t,!0),s=Re(t)[e];n;){var o=Re(n)[i],a=void 0;if(a=s>=o,!a)return n;if(n===Ot())break;n=ii(n,!1)}return!1}function en(t,e,i,n){for(var s=0,o=0,a=t.children;o<a.length;){if(a[o].style.display!=="none"&&a[o]!==de.ghost&&(n||a[o]!==de.dragged)&&Et(a[o],i.draggable,t,!1)){if(s===e)return a[o];s++}o++}return null}function jr(t,e){for(var i=t.lastElementChild;i&&(i===de.ghost||ue(i,"display")==="none"||e&&!Vs(i,e));)i=i.previousElementSibling;return i||null}function gt(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==de.clone&&(!e||Vs(t,e))&&i++;return i}function dc(t){var e=0,i=0,n=Ot();if(t)do{var s=Xi(t),o=s.a,a=s.d;e+=t.scrollLeft*o,i+=t.scrollTop*a}while(t!==n&&(t=t.parentNode));return[e,i]}function kp(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t[i][n])return Number(i)}return-1}function ii(t,e){if(!t||!t.getBoundingClientRect)return Ot();var i=t,n=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var s=ue(i);if(i.clientWidth<i.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Ot();if(n||e)return i;n=!0}}while(i=i.parentNode);return Ot()}function Np(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Il(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Dn;function Hd(t,e){return function(){if(!Dn){var i=arguments,n=this;i.length===1?t.call(n,i[0]):t.apply(n,i),Dn=setTimeout(function(){Dn=void 0},e)}}}function Dp(){clearTimeout(Dn),Dn=void 0}function Pd(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Fd(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function Vd(t,e,i){var n={};return Array.from(t.children).forEach(function(s){var o,a,d,l;if(!(!Et(s,e.draggable,t,!1)||s.animated||s===i)){var f=Re(s);n.left=Math.min((o=n.left)!==null&&o!==void 0?o:1/0,f.left),n.top=Math.min((a=n.top)!==null&&a!==void 0?a:1/0,f.top),n.right=Math.max((d=n.right)!==null&&d!==void 0?d:-1/0,f.right),n.bottom=Math.max((l=n.bottom)!==null&&l!==void 0?l:-1/0,f.bottom)}}),n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}var je="Sortable"+new Date().getTime();function Op(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(s){if(!(ue(s,"display")==="none"||s===de.ghost)){t.push({target:s,rect:Re(s)});var o=It({},t[t.length-1].rect);if(s.thisAnimationDuration){var a=Xi(s,!0);a&&(o.top-=a.f,o.left-=a.e)}s.fromRect=o}})}},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice(kp(t,{target:n}),1)},animateAll:function(n){var s=this;if(!this.options.animation){clearTimeout(e),typeof n=="function"&&n();return}var o=!1,a=0;t.forEach(function(d){var l=0,f=d.target,u=f.fromRect,p=Re(f),C=f.prevFromRect,w=f.prevToRect,E=d.rect,T=Xi(f,!0);T&&(p.top-=T.f,p.left-=T.e),f.toRect=p,f.thisAnimationDuration&&Il(C,p)&&!Il(u,p)&&(E.top-p.top)/(E.left-p.left)===(u.top-p.top)/(u.left-p.left)&&(l=Bp(E,C,w,s.options)),Il(p,u)||(f.prevFromRect=u,f.prevToRect=p,l||(l=s.options.animation),s.animate(f,E,p,l)),l&&(o=!0,a=Math.max(a,l),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},l),f.thisAnimationDuration=l)}),clearTimeout(e),o?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,s,o,a){if(a){ue(n,"transition",""),ue(n,"transform","");var d=Xi(this.el),l=d&&d.a,f=d&&d.d,u=(s.left-o.left)/(l||1),p=(s.top-o.top)/(f||1);n.animatingX=!!u,n.animatingY=!!p,ue(n,"transform","translate3d("+u+"px,"+p+"px,0)"),this.forRepaintDummy=Mp(n),ue(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),ue(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){ue(n,"transition",""),ue(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}function Mp(t){return t.offsetWidth}function Bp(t,e,i,n){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*n.animation}var Ii=[],Rl={initializeByDefault:!0},jn={mount:function(e){for(var i in Rl)Rl.hasOwnProperty(i)&&!(i in e)&&(e[i]=Rl[i]);Ii.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ii.push(e)},pluginEvent:function(e,i,n){var s=this;this.eventCanceled=!1,n.cancel=function(){s.eventCanceled=!0};var o=e+"Global";Ii.forEach(function(a){i[a.pluginName]&&(i[a.pluginName][o]&&i[a.pluginName][o](It({sortable:i},n)),i.options[a.pluginName]&&i[a.pluginName][e]&&i[a.pluginName][e](It({sortable:i},n)))})},initializePlugins:function(e,i,n,s){Ii.forEach(function(d){var l=d.pluginName;if(!(!e.options[l]&&!d.initializeByDefault)){var f=new d(e,i,e.options);f.sortable=e,f.options=e.options,e[l]=f,Zt(n,f.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var a=this.modifyOption(e,o,e.options[o]);typeof a<"u"&&(e.options[o]=a)}},getEventProperties:function(e,i){var n={};return Ii.forEach(function(s){typeof s.eventProperties=="function"&&Zt(n,s.eventProperties.call(i[s.pluginName],e))}),n},modifyOption:function(e,i,n){var s;return Ii.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[i]=="function"&&(s=o.optionListeners[i].call(e[o.pluginName],n))}),s}};function Ip(t){var e=t.sortable,i=t.rootEl,n=t.name,s=t.targetEl,o=t.cloneEl,a=t.toEl,d=t.fromEl,l=t.oldIndex,f=t.newIndex,u=t.oldDraggableIndex,p=t.newDraggableIndex,C=t.originalEvent,w=t.putSortable,E=t.extraEventProperties;if(e=e||i&&i[je],!!e){var T,r=e.options,c="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Kt&&!Yn?T=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(n,!0,!0)),T.to=a||i,T.from=d||i,T.item=s||i,T.clone=o,T.oldIndex=l,T.newIndex=f,T.oldDraggableIndex=u,T.newDraggableIndex=p,T.originalEvent=C,T.pullMode=w?w.lastPutMode:void 0;var h=It(It({},E),jn.getEventProperties(n,e));for(var m in h)T[m]=h[m];i&&i.dispatchEvent(T),r[c]&&r[c].call(e,T)}}var Rp=["evt"],Ye=function(e,i){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.evt,o=Lp(n,Rp);jn.pluginEvent.bind(de)(e,i,It({dragEl:ee,parentEl:Be,ghostEl:pe,rootEl:ke,nextEl:yi,lastDownEl:Ns,cloneEl:Ne,cloneHidden:ti,dragStarted:Tn,putSortable:Fe,activeSortable:de.active,originalEvent:s,oldIndex:qi,oldDraggableIndex:On,newIndex:st,newDraggableIndex:ei,hideGhostForTarget:qd,unhideGhostForTarget:Zd,cloneNowHidden:function(){ti=!0},cloneNowShown:function(){ti=!1},dispatchSortableEvent:function(d){Ue({sortable:i,name:d,originalEvent:s})}},o))};function Ue(t){Ip(It({putSortable:Fe,cloneEl:Ne,targetEl:ee,rootEl:ke,oldIndex:qi,oldDraggableIndex:On,newIndex:st,newDraggableIndex:ei},t))}var ee,Be,pe,ke,yi,Ns,Ne,ti,qi,st,On,ei,os,Fe,Fi=!1,$s=!1,Ws=[],mi,wt,zl,Hl,hc,fc,Tn,Ri,Mn,Bn=!1,rs=!1,Ds,$e,Pl=[],pr=!1,Us=[],ul=typeof document<"u",as=Yr,pc=Yn||Kt?"cssFloat":"float",zp=ul&&!Bd&&!Yr&&"draggable"in document.createElement("div"),$d=(function(){if(ul){if(Kt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Wd=function(e,i){var n=ue(e),s=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=en(e,0,i),a=en(e,1,i),d=o&&ue(o),l=a&&ue(a),f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Re(o).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Re(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&d.float&&d.float!=="none"){var p=d.float==="left"?"left":"right";return a&&(l.clear==="both"||l.clear===p)?"vertical":"horizontal"}return o&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||f>=s&&n[pc]==="none"||a&&n[pc]==="none"&&f+u>s)?"vertical":"horizontal"},Hp=function(e,i,n){var s=n?e.left:e.top,o=n?e.right:e.bottom,a=n?e.width:e.height,d=n?i.left:i.top,l=n?i.right:i.bottom,f=n?i.width:i.height;return s===d||o===l||s+a/2===d+f/2},Pp=function(e,i){var n;return Ws.some(function(s){var o=s[je].options.emptyInsertThreshold;if(!(!o||jr(s))){var a=Re(s),d=e>=a.left-o&&e<=a.right+o,l=i>=a.top-o&&i<=a.bottom+o;if(d&&l)return n=s}}),n},Ud=function(e){function i(o,a){return function(d,l,f,u){var p=d.options.group.name&&l.options.group.name&&d.options.group.name===l.options.group.name;if(o==null&&(a||p))return!0;if(o==null||o===!1)return!1;if(a&&o==="clone")return o;if(typeof o=="function")return i(o(d,l,f,u),a)(d,l,f,u);var C=(a?d:l).options.group.name;return o===!0||typeof o=="string"&&o===C||o.join&&o.indexOf(C)>-1}}var n={},s=e.group;(!s||ks(s)!="object")&&(s={name:s}),n.name=s.name,n.checkPull=i(s.pull,!0),n.checkPut=i(s.put),n.revertClone=s.revertClone,e.group=n},qd=function(){!$d&&pe&&ue(pe,"display","none")},Zd=function(){!$d&&pe&&ue(pe,"display","")};ul&&!Bd&&document.addEventListener("click",function(t){if($s)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),$s=!1,!1},!0);var vi=function(e){if(ee){e=e.touches?e.touches[0]:e;var i=Pp(e.clientX,e.clientY);if(i){var n={};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);n.target=n.rootEl=i,n.preventDefault=void 0,n.stopPropagation=void 0,i[je]._onDragOver(n)}}},Fp=function(e){ee&&ee.parentNode[je]._isOutsideThisEl(e.target)};function de(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Zt({},e),t[je]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Wd(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,d){a.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:de.supportPointer!==!1&&"PointerEvent"in window&&(!Nn||Yr),emptyInsertThreshold:5};jn.initializePlugins(this,t,i);for(var n in i)!(n in e)&&(e[n]=i[n]);Ud(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:zp,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?we(t,"pointerdown",this._onTapStart):(we(t,"mousedown",this._onTapStart),we(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(we(t,"dragover",this),we(t,"dragenter",this)),Ws.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Zt(this,Op())}de.prototype={constructor:de,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ri=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,ee):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,n=this.el,s=this.options,o=s.preventOnFilter,a=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(d||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,u=s.filter;if(jp(n),!ee&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Nn&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Et(l,s.draggable,n,!1),!(l&&l.animated)&&Ns!==l)){if(qi=gt(l),On=gt(l,s.draggable),typeof u=="function"){if(u.call(this,e,l,this)){Ue({sortable:i,rootEl:f,name:"filter",targetEl:l,toEl:n,fromEl:n}),Ye("filter",i,{evt:e}),o&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(p){if(p=Et(f,p.trim(),n,!1),p)return Ue({sortable:i,rootEl:p,name:"filter",targetEl:l,fromEl:n,toEl:n}),Ye("filter",i,{evt:e}),!0}),u)){o&&e.preventDefault();return}s.handle&&!Et(f,s.handle,n,!1)||this._prepareDragStart(e,d,l)}}},_prepareDragStart:function(e,i,n){var s=this,o=s.el,a=s.options,d=o.ownerDocument,l;if(n&&!ee&&n.parentNode===o){var f=Re(n);if(ke=o,ee=n,Be=ee.parentNode,yi=ee.nextSibling,Ns=n,os=a.group,de.dragged=ee,mi={target:ee,clientX:(i||e).clientX,clientY:(i||e).clientY},hc=mi.clientX-f.left,fc=mi.clientY-f.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,ee.style["will-change"]="all",l=function(){if(Ye("delayEnded",s,{evt:e}),de.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!ac&&s.nativeDraggable&&(ee.draggable=!0),s._triggerDragStart(e,i),Ue({sortable:s,name:"choose",originalEvent:e}),nt(ee,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){zd(ee,u.trim(),Fl)}),we(d,"dragover",vi),we(d,"mousemove",vi),we(d,"touchmove",vi),a.supportPointer?(we(d,"pointerup",s._onDrop),!this.nativeDraggable&&we(d,"pointercancel",s._onDrop)):(we(d,"mouseup",s._onDrop),we(d,"touchend",s._onDrop),we(d,"touchcancel",s._onDrop)),ac&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),Ye("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(Yn||Kt))){if(de.eventCanceled){this._onDrop();return}a.supportPointer?(we(d,"pointerup",s._disableDelayedDrag),we(d,"pointercancel",s._disableDelayedDrag)):(we(d,"mouseup",s._disableDelayedDrag),we(d,"touchend",s._disableDelayedDrag),we(d,"touchcancel",s._disableDelayedDrag)),we(d,"mousemove",s._delayedDragTouchMoveHandler),we(d,"touchmove",s._delayedDragTouchMoveHandler),a.supportPointer&&we(d,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(l,a.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&Fl(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._disableDelayedDrag),ye(e,"touchend",this._disableDelayedDrag),ye(e,"touchcancel",this._disableDelayedDrag),ye(e,"pointerup",this._disableDelayedDrag),ye(e,"pointercancel",this._disableDelayedDrag),ye(e,"mousemove",this._delayedDragTouchMoveHandler),ye(e,"touchmove",this._delayedDragTouchMoveHandler),ye(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?we(document,"pointermove",this._onTouchMove):i?we(document,"touchmove",this._onTouchMove):we(document,"mousemove",this._onTouchMove):(we(ee,"dragend",this),we(ke,"dragstart",this._onDragStart));try{document.selection?Os(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Fi=!1,ke&&ee){Ye("dragStarted",this,{evt:i}),this.nativeDraggable&&we(document,"dragover",Fp);var n=this.options;!e&&nt(ee,n.dragClass,!1),nt(ee,n.ghostClass,!0),de.active=this,e&&this._appendGhost(),Ue({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(wt){this._lastX=wt.clientX,this._lastY=wt.clientY,qd();for(var e=document.elementFromPoint(wt.clientX,wt.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(wt.clientX,wt.clientY),e!==i);)i=e;if(ee.parentNode[je]._isOutsideThisEl(e),i)do{if(i[je]){var n=void 0;if(n=i[je]._onDragOver({clientX:wt.clientX,clientY:wt.clientY,target:e,rootEl:i}),n&&!this.options.dragoverBubble)break}e=i}while(i=Rd(i));Zd()}},_onTouchMove:function(e){if(mi){var i=this.options,n=i.fallbackTolerance,s=i.fallbackOffset,o=e.touches?e.touches[0]:e,a=pe&&Xi(pe,!0),d=pe&&a&&a.a,l=pe&&a&&a.d,f=as&&$e&&dc($e),u=(o.clientX-mi.clientX+s.x)/(d||1)+(f?f[0]-Pl[0]:0)/(d||1),p=(o.clientY-mi.clientY+s.y)/(l||1)+(f?f[1]-Pl[1]:0)/(l||1);if(!de.active&&!Fi){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(pe){a?(a.e+=u-(zl||0),a.f+=p-(Hl||0)):a={a:1,b:0,c:0,d:1,e:u,f:p};var C="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");ue(pe,"webkitTransform",C),ue(pe,"mozTransform",C),ue(pe,"msTransform",C),ue(pe,"transform",C),zl=u,Hl=p,wt=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!pe){var e=this.options.fallbackOnBody?document.body:ke,i=Re(ee,!0,as,!0,e),n=this.options;if(as){for($e=e;ue($e,"position")==="static"&&ue($e,"transform")==="none"&&$e!==document;)$e=$e.parentNode;$e!==document.body&&$e!==document.documentElement?($e===document&&($e=Ot()),i.top+=$e.scrollTop,i.left+=$e.scrollLeft):$e=Ot(),Pl=dc($e)}pe=ee.cloneNode(!0),nt(pe,n.ghostClass,!1),nt(pe,n.fallbackClass,!0),nt(pe,n.dragClass,!0),ue(pe,"transition",""),ue(pe,"transform",""),ue(pe,"box-sizing","border-box"),ue(pe,"margin",0),ue(pe,"top",i.top),ue(pe,"left",i.left),ue(pe,"width",i.width),ue(pe,"height",i.height),ue(pe,"opacity","0.8"),ue(pe,"position",as?"absolute":"fixed"),ue(pe,"zIndex","100000"),ue(pe,"pointerEvents","none"),de.ghost=pe,e.appendChild(pe),ue(pe,"transform-origin",hc/parseInt(pe.style.width)*100+"% "+fc/parseInt(pe.style.height)*100+"%")}},_onDragStart:function(e,i){var n=this,s=e.dataTransfer,o=n.options;if(Ye("dragStart",this,{evt:e}),de.eventCanceled){this._onDrop();return}Ye("setupClone",this),de.eventCanceled||(Ne=Fd(ee),Ne.removeAttribute("id"),Ne.draggable=!1,Ne.style["will-change"]="",this._hideClone(),nt(Ne,this.options.chosenClass,!1),de.clone=Ne),n.cloneId=Os(function(){Ye("clone",n),!de.eventCanceled&&(n.options.removeCloneOnHide||ke.insertBefore(Ne,ee),n._hideClone(),Ue({sortable:n,name:"clone"}))}),!i&&nt(ee,o.dragClass,!0),i?($s=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ye(document,"mouseup",n._onDrop),ye(document,"touchend",n._onDrop),ye(document,"touchcancel",n._onDrop),s&&(s.effectAllowed="move",o.setData&&o.setData.call(n,s,ee)),we(document,"drop",n),ue(ee,"transform","translateZ(0)")),Fi=!0,n._dragStartId=Os(n._dragStarted.bind(n,i,e)),we(document,"selectstart",n),Tn=!0,window.getSelection().removeAllRanges(),Nn&&ue(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,n=e.target,s,o,a,d=this.options,l=d.group,f=de.active,u=os===l,p=d.sort,C=Fe||f,w,E=this,T=!1;if(pr)return;function r(R,P){Ye(R,E,It({evt:e,isOwner:u,axis:w?"vertical":"horizontal",revert:a,dragRect:s,targetRect:o,canSort:p,fromSortable:C,target:n,completed:h,onMove:function(z,O){return cs(ke,i,ee,s,z,Re(z),e,O)},changed:m},P))}function c(){r("dragOverAnimationCapture"),E.captureAnimationState(),E!==C&&C.captureAnimationState()}function h(R){return r("dragOverCompleted",{insertion:R}),R&&(u?f._hideClone():f._showClone(E),E!==C&&(nt(ee,Fe?Fe.options.ghostClass:f.options.ghostClass,!1),nt(ee,d.ghostClass,!0)),Fe!==E&&E!==de.active?Fe=E:E===de.active&&Fe&&(Fe=null),C===E&&(E._ignoreWhileAnimating=n),E.animateAll(function(){r("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(n===ee&&!ee.animated||n===i&&!n.animated)&&(Ri=null),!d.dragoverBubble&&!e.rootEl&&n!==document&&(ee.parentNode[je]._isOutsideThisEl(e.target),!R&&vi(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function m(){st=gt(ee),ei=gt(ee,d.draggable),Ue({sortable:E,name:"change",toEl:i,newIndex:st,newDraggableIndex:ei,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=Et(n,d.draggable,i,!0),r("dragOver"),de.eventCanceled)return T;if(ee.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||E._ignoreWhileAnimating===n)return h(!1);if($s=!1,f&&!d.disabled&&(u?p||(a=Be!==ke):Fe===this||(this.lastPutMode=os.checkPull(this,f,ee,e))&&l.checkPut(this,f,ee,e))){if(w=this._getDirection(e,n)==="vertical",s=Re(ee),r("dragOverValid"),de.eventCanceled)return T;if(a)return Be=ke,c(),this._hideClone(),r("revert"),de.eventCanceled||(yi?ke.insertBefore(ee,yi):ke.appendChild(ee)),h(!0);var g=jr(i,d.draggable);if(!g||Up(e,w,this)&&!g.animated){if(g===ee)return h(!1);if(g&&i===e.target&&(n=g),n&&(o=Re(n)),cs(ke,i,ee,s,n,o,e,!!n)!==!1)return c(),g&&g.nextSibling?i.insertBefore(ee,g.nextSibling):i.appendChild(ee),Be=i,m(),h(!0)}else if(g&&Wp(e,w,this)){var b=en(i,0,d,!0);if(b===ee)return h(!1);if(n=b,o=Re(n),cs(ke,i,ee,s,n,o,e,!1)!==!1)return c(),i.insertBefore(ee,b),Be=i,m(),h(!0)}else if(n.parentNode===i){o=Re(n);var v=0,y,S=ee.parentNode!==i,_=!Hp(ee.animated&&ee.toRect||s,n.animated&&n.toRect||o,w),x=w?"top":"left",N=uc(n,"top","top")||uc(ee,"top","top"),L=N?N.scrollTop:void 0;Ri!==n&&(y=o[x],Bn=!1,rs=!_&&d.invertSwap||S),v=qp(e,n,o,w,_?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,rs,Ri===n);var A;if(v!==0){var D=gt(ee);do D-=v,A=Be.children[D];while(A&&(ue(A,"display")==="none"||A===pe))}if(v===0||A===n)return h(!1);Ri=n,Mn=v;var V=n.nextElementSibling,F=!1;F=v===1;var H=cs(ke,i,ee,s,n,o,e,F);if(H!==!1)return(H===1||H===-1)&&(F=H===1),pr=!0,setTimeout($p,30),c(),F&&!V?i.appendChild(ee):n.parentNode.insertBefore(ee,F?V:n),N&&Pd(N,0,L-N.scrollTop),Be=ee.parentNode,y!==void 0&&!rs&&(Ds=Math.abs(y-Re(n)[x])),m(),h(!0)}if(i.contains(ee))return h(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ye(document,"mousemove",this._onTouchMove),ye(document,"touchmove",this._onTouchMove),ye(document,"pointermove",this._onTouchMove),ye(document,"dragover",vi),ye(document,"mousemove",vi),ye(document,"touchmove",vi)},_offUpEvents:function(){var e=this.el.ownerDocument;ye(e,"mouseup",this._onDrop),ye(e,"touchend",this._onDrop),ye(e,"pointerup",this._onDrop),ye(e,"pointercancel",this._onDrop),ye(e,"touchcancel",this._onDrop),ye(document,"selectstart",this)},_onDrop:function(e){var i=this.el,n=this.options;if(st=gt(ee),ei=gt(ee,n.draggable),Ye("drop",this,{evt:e}),Be=ee&&ee.parentNode,st=gt(ee),ei=gt(ee,n.draggable),de.eventCanceled){this._nulling();return}Fi=!1,rs=!1,Bn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),gr(this.cloneId),gr(this._dragStartId),this.nativeDraggable&&(ye(document,"drop",this),ye(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Nn&&ue(document.body,"user-select",""),ue(ee,"transform",""),e&&(Tn&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),pe&&pe.parentNode&&pe.parentNode.removeChild(pe),(ke===Be||Fe&&Fe.lastPutMode!=="clone")&&Ne&&Ne.parentNode&&Ne.parentNode.removeChild(Ne),ee&&(this.nativeDraggable&&ye(ee,"dragend",this),Fl(ee),ee.style["will-change"]="",Tn&&!Fi&&nt(ee,Fe?Fe.options.ghostClass:this.options.ghostClass,!1),nt(ee,this.options.chosenClass,!1),Ue({sortable:this,name:"unchoose",toEl:Be,newIndex:null,newDraggableIndex:null,originalEvent:e}),ke!==Be?(st>=0&&(Ue({rootEl:Be,name:"add",toEl:Be,fromEl:ke,originalEvent:e}),Ue({sortable:this,name:"remove",toEl:Be,originalEvent:e}),Ue({rootEl:Be,name:"sort",toEl:Be,fromEl:ke,originalEvent:e}),Ue({sortable:this,name:"sort",toEl:Be,originalEvent:e})),Fe&&Fe.save()):st!==qi&&st>=0&&(Ue({sortable:this,name:"update",toEl:Be,originalEvent:e}),Ue({sortable:this,name:"sort",toEl:Be,originalEvent:e})),de.active&&((st==null||st===-1)&&(st=qi,ei=On),Ue({sortable:this,name:"end",toEl:Be,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Ye("nulling",this),ke=ee=Be=pe=yi=Ne=Ns=ti=mi=wt=Tn=st=ei=qi=On=Ri=Mn=Fe=os=de.dragged=de.ghost=de.clone=de.active=null,Us.forEach(function(e){e.checked=!0}),Us.length=zl=Hl=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ee&&(this._onDragOver(e),Vp(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,n=this.el.children,s=0,o=n.length,a=this.options;s<o;s++)i=n[s],Et(i,a.draggable,this.el,!1)&&e.push(i.getAttribute(a.dataIdAttr)||Yp(i));return e},sort:function(e,i){var n={},s=this.el;this.toArray().forEach(function(o,a){var d=s.children[a];Et(d,this.options.draggable,s,!1)&&(n[o]=d)},this),i&&this.captureAnimationState(),e.forEach(function(o){n[o]&&(s.removeChild(n[o]),s.appendChild(n[o]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return Et(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var n=this.options;if(i===void 0)return n[e];var s=jn.modifyOption(this,e,i);typeof s<"u"?n[e]=s:n[e]=i,e==="group"&&Ud(n)},destroy:function(){Ye("destroy",this);var e=this.el;e[je]=null,ye(e,"mousedown",this._onTapStart),ye(e,"touchstart",this._onTapStart),ye(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ye(e,"dragover",this),ye(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ws.splice(Ws.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ti){if(Ye("hideClone",this),de.eventCanceled)return;ue(Ne,"display","none"),this.options.removeCloneOnHide&&Ne.parentNode&&Ne.parentNode.removeChild(Ne),ti=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ti){if(Ye("showClone",this),de.eventCanceled)return;ee.parentNode==ke&&!this.options.group.revertClone?ke.insertBefore(Ne,ee):yi?ke.insertBefore(Ne,yi):ke.appendChild(Ne),this.options.group.revertClone&&this.animate(ee,Ne),ue(Ne,"display",""),ti=!1}}};function Vp(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function cs(t,e,i,n,s,o,a,d){var l,f=t[je],u=f.options.onMove,p;return window.CustomEvent&&!Kt&&!Yn?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=n,l.related=s||e,l.relatedRect=o||Re(e),l.willInsertAfter=d,l.originalEvent=a,t.dispatchEvent(l),u&&(p=u.call(f,l,a)),p}function Fl(t){t.draggable=!1}function $p(){pr=!1}function Wp(t,e,i){var n=Re(en(i.el,0,i.options,!0)),s=Vd(i.el,i.options,pe),o=10;return e?t.clientX<s.left-o||t.clientY<n.top&&t.clientX<n.right:t.clientY<s.top-o||t.clientY<n.bottom&&t.clientX<n.left}function Up(t,e,i){var n=Re(jr(i.el,i.options.draggable)),s=Vd(i.el,i.options,pe),o=10;return e?t.clientX>s.right+o||t.clientY>n.bottom&&t.clientX>n.left:t.clientY>s.bottom+o||t.clientX>n.right&&t.clientY>n.top}function qp(t,e,i,n,s,o,a,d){var l=n?t.clientY:t.clientX,f=n?i.height:i.width,u=n?i.top:i.left,p=n?i.bottom:i.right,C=!1;if(!a){if(d&&Ds<f*s){if(!Bn&&(Mn===1?l>u+f*o/2:l<p-f*o/2)&&(Bn=!0),Bn)C=!0;else if(Mn===1?l<u+Ds:l>p-Ds)return-Mn}else if(l>u+f*(1-s)/2&&l<p-f*(1-s)/2)return Zp(e)}return C=C||a,C&&(l<u+f*o/2||l>p-f*o/2)?l>u+f/2?1:-1:0}function Zp(t){return gt(ee)<gt(t)?1:-1}function Yp(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,n=0;i--;)n+=e.charCodeAt(i);return n.toString(36)}function jp(t){Us.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var n=e[i];n.checked&&Us.push(n)}}function Os(t){return setTimeout(t,0)}function gr(t){return clearTimeout(t)}ul&&we(document,"touchmove",function(t){(de.active||Fi)&&t.cancelable&&t.preventDefault()});de.utils={on:we,off:ye,css:ue,find:zd,is:function(e,i){return!!Et(e,i,e,!1)},extend:Np,throttle:Hd,closest:Et,toggleClass:nt,clone:Fd,index:gt,nextTick:Os,cancelNextTick:gr,detectDirection:Wd,getChild:en,expando:je};de.get=function(t){return t[je]};de.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(de.utils=It(It({},de.utils),n.utils)),jn.mount(n)})};de.create=function(t,e){return new de(t,e)};de.version=Ap;var Ie=[],Ln,mr,vr=!1,Vl,$l,qs,An;function Kp(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var n=i.originalEvent;this.sortable.nativeDraggable?we(document,"dragover",this._handleAutoScroll):this.options.supportPointer?we(document,"pointermove",this._handleFallbackAutoScroll):n.touches?we(document,"touchmove",this._handleFallbackAutoScroll):we(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var n=i.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ye(document,"dragover",this._handleAutoScroll):(ye(document,"pointermove",this._handleFallbackAutoScroll),ye(document,"touchmove",this._handleFallbackAutoScroll),ye(document,"mousemove",this._handleFallbackAutoScroll)),gc(),Ms(),Dp()},nulling:function(){qs=mr=Ln=vr=An=Vl=$l=null,Ie.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,n){var s=this,o=(i.touches?i.touches[0]:i).clientX,a=(i.touches?i.touches[0]:i).clientY,d=document.elementFromPoint(o,a);if(qs=i,n||this.options.forceAutoScrollFallback||Yn||Kt||Nn){Wl(i,this.options,d,n);var l=ii(d,!0);vr&&(!An||o!==Vl||a!==$l)&&(An&&gc(),An=setInterval(function(){var f=ii(document.elementFromPoint(o,a),!0);f!==l&&(l=f,Ms()),Wl(i,s.options,f,n)},10),Vl=o,$l=a)}else{if(!this.options.bubbleScroll||ii(d,!0)===Ot()){Ms();return}Wl(i,this.options,ii(d,!1),!1)}}},Zt(t,{pluginName:"scroll",initializeByDefault:!0})}function Ms(){Ie.forEach(function(t){clearInterval(t.pid)}),Ie=[]}function gc(){clearInterval(An)}var Wl=Hd(function(t,e,i,n){if(e.scroll){var s=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,d=e.scrollSpeed,l=Ot(),f=!1,u;mr!==i&&(mr=i,Ms(),Ln=e.scroll,u=e.scrollFn,Ln===!0&&(Ln=ii(i,!0)));var p=0,C=Ln;do{var w=C,E=Re(w),T=E.top,r=E.bottom,c=E.left,h=E.right,m=E.width,g=E.height,b=void 0,v=void 0,y=w.scrollWidth,S=w.scrollHeight,_=ue(w),x=w.scrollLeft,N=w.scrollTop;w===l?(b=m<y&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),v=g<S&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(b=m<y&&(_.overflowX==="auto"||_.overflowX==="scroll"),v=g<S&&(_.overflowY==="auto"||_.overflowY==="scroll"));var L=b&&(Math.abs(h-s)<=a&&x+m<y)-(Math.abs(c-s)<=a&&!!x),A=v&&(Math.abs(r-o)<=a&&N+g<S)-(Math.abs(T-o)<=a&&!!N);if(!Ie[p])for(var D=0;D<=p;D++)Ie[D]||(Ie[D]={});(Ie[p].vx!=L||Ie[p].vy!=A||Ie[p].el!==w)&&(Ie[p].el=w,Ie[p].vx=L,Ie[p].vy=A,clearInterval(Ie[p].pid),(L!=0||A!=0)&&(f=!0,Ie[p].pid=setInterval((function(){n&&this.layer===0&&de.active._onTouchMove(qs);var V=Ie[this.layer].vy?Ie[this.layer].vy*d:0,F=Ie[this.layer].vx?Ie[this.layer].vx*d:0;typeof u=="function"&&u.call(de.dragged.parentNode[je],F,V,t,qs,Ie[this.layer].el)!=="continue"||Pd(Ie[this.layer].el,F,V)}).bind({layer:p}),24))),p++}while(e.bubbleScroll&&C!==l&&(C=ii(C,!1)));vr=f}},30),Yd=function(e){var i=e.originalEvent,n=e.putSortable,s=e.dragEl,o=e.activeSortable,a=e.dispatchSortableEvent,d=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var f=n||o;d();var u=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,p=document.elementFromPoint(u.clientX,u.clientY);l(),f&&!f.el.contains(p)&&(a("spill"),this.onSpill({dragEl:s,putSortable:n}))}};function Kr(){}Kr.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var s=en(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(i,s):this.sortable.el.appendChild(i),this.sortable.animateAll(),n&&n.animateAll()},drop:Yd};Zt(Kr,{pluginName:"revertOnSpill"});function Gr(){}Gr.prototype={onSpill:function(e){var i=e.dragEl,n=e.putSortable,s=n||this.sortable;s.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),s.animateAll()},drop:Yd};Zt(Gr,{pluginName:"removeOnSpill"});de.mount(new Kp);de.mount(Gr,Kr);const jd="[data-addetible-fields-wrapper]",br="[data-addetible-fields-column]",Gp="[data-addetible-fields-btn-move]",Xp="[data-addetible-fields-btn-plus]",Qp="[data-addetible-fields-btn-minus]";function Jp(){document.querySelectorAll(`${jd}[data-sortable-wrapper]`).forEach(e=>{new de(e,{draggable:br,handle:Gp,onEnd:function(){vc(e)}})}),document.addEventListener("click",e=>{const i=e?.target?.closest(Xp),n=e?.target?.closest(Qp);if(!i&&!n)return;const s=eg.call(i||n),o=tg.call(i||n);if(i){const a=mc.call(o.cloneNode(!0));o.after(a),s.hasAttribute("data-index-trigger")&&ig(s),Vr(),Wr(),Zr()}else if(n){if((s?.querySelectorAll(br)?.length||0)<2){mc.call(o);return}o.remove()}vc(s)})}function eg(){return this.closest(jd)}function tg(){return this.closest(br)}function mc(){const t=this.hasAttribute("data-clear-hidden-fields")?"input, textarea":'input:not([type="hidden"]), textarea, select';return this.querySelectorAll(t).forEach(i=>{i.nodeName==="SELECT"?i.selectedIndex="-1":i.value="",i.isFieldClearable=!0,i.nodeName==="SELECT"&&i.dispatchEvent(new Event("change",{bubbles:!0})),i.nodeName==="INPUT"&&i.dispatchEvent(new Event("input",{bubbles:!0}))}),this}function ig(t){const e=t.querySelectorAll("[data-addetible-fields-column]"),i=t.getAttribute("data-index-trigger"),n=new RegExp(`${i}\\[\\d+\\]`);e.forEach((s,o)=>{s.querySelectorAll(`[name^="${i}"]`).forEach(d=>{const l=d.getAttribute("name");if(l){const f=l.replace(n,`${i}[${o}]`);d.setAttribute("name",f)}})})}function vc(t){t.querySelectorAll('input[type="file"]').forEach((i,n)=>{let o=i.name.replace(/\[\d+\]/,"");i.name=`${o}[${n}]`})}var qe="top",at="bottom",ct="right",Ze="left",dl="auto",dn=[qe,at,ct,Ze],xi="start",tn="end",Kd="clippingParents",Xr="viewport",Vi="popper",Gd="reference",yr=dn.reduce(function(t,e){return t.concat([e+"-"+xi,e+"-"+tn])},[]),Qr=[].concat(dn,[dl]).reduce(function(t,e){return t.concat([e,e+"-"+xi,e+"-"+tn])},[]),Xd="beforeRead",Qd="read",Jd="afterRead",eh="beforeMain",th="main",ih="afterMain",nh="beforeWrite",sh="write",lh="afterWrite",oh=[Xd,Qd,Jd,eh,th,ih,nh,sh,lh];function Rt(t){return t?(t.nodeName||"").toLowerCase():null}function ut(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Ti(t){var e=ut(t).Element;return t instanceof e||t instanceof Element}function mt(t){var e=ut(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Jr(t){if(typeof ShadowRoot>"u")return!1;var e=ut(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ng(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var n=e.styles[i]||{},s=e.attributes[i]||{},o=e.elements[i];!mt(o)||!Rt(o)||(Object.assign(o.style,n),Object.keys(s).forEach(function(a){var d=s[a];d===!1?o.removeAttribute(a):o.setAttribute(a,d===!0?"":d)}))})}function sg(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(n){var s=e.elements[n],o=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:i[n]),d=a.reduce(function(l,f){return l[f]="",l},{});!mt(s)||!Rt(s)||(Object.assign(s.style,d),Object.keys(o).forEach(function(l){s.removeAttribute(l)}))})}}const ea={name:"applyStyles",enabled:!0,phase:"write",fn:ng,effect:sg,requires:["computeStyles"]};function Mt(t){return t.split("-")[0]}var Ci=Math.max,Zs=Math.min,nn=Math.round;function _r(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function rh(){return!/^((?!chrome|android).)*safari/i.test(_r())}function sn(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var n=t.getBoundingClientRect(),s=1,o=1;e&&mt(t)&&(s=t.offsetWidth>0&&nn(n.width)/t.offsetWidth||1,o=t.offsetHeight>0&&nn(n.height)/t.offsetHeight||1);var a=Ti(t)?ut(t):window,d=a.visualViewport,l=!rh()&&i,f=(n.left+(l&&d?d.offsetLeft:0))/s,u=(n.top+(l&&d?d.offsetTop:0))/o,p=n.width/s,C=n.height/o;return{width:p,height:C,top:u,right:f+p,bottom:u+C,left:f,x:f,y:u}}function ta(t){var e=sn(t),i=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:n}}function ah(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Jr(i)){var n=e;do{if(n&&t.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Yt(t){return ut(t).getComputedStyle(t)}function lg(t){return["table","td","th"].indexOf(Rt(t))>=0}function ui(t){return((Ti(t)?t.ownerDocument:t.document)||window.document).documentElement}function hl(t){return Rt(t)==="html"?t:t.assignedSlot||t.parentNode||(Jr(t)?t.host:null)||ui(t)}function bc(t){return!mt(t)||Yt(t).position==="fixed"?null:t.offsetParent}function og(t){var e=/firefox/i.test(_r()),i=/Trident/i.test(_r());if(i&&mt(t)){var n=Yt(t);if(n.position==="fixed")return null}var s=hl(t);for(Jr(s)&&(s=s.host);mt(s)&&["html","body"].indexOf(Rt(s))<0;){var o=Yt(s);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return s;s=s.parentNode}return null}function Kn(t){for(var e=ut(t),i=bc(t);i&&lg(i)&&Yt(i).position==="static";)i=bc(i);return i&&(Rt(i)==="html"||Rt(i)==="body"&&Yt(i).position==="static")?e:i||og(t)||e}function ia(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function In(t,e,i){return Ci(t,Zs(e,i))}function rg(t,e,i){var n=In(t,e,i);return n>i?i:n}function ch(){return{top:0,right:0,bottom:0,left:0}}function uh(t){return Object.assign({},ch(),t)}function dh(t,e){return e.reduce(function(i,n){return i[n]=t,i},{})}var ag=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,uh(typeof e!="number"?e:dh(e,dn))};function cg(t){var e,i=t.state,n=t.name,s=t.options,o=i.elements.arrow,a=i.modifiersData.popperOffsets,d=Mt(i.placement),l=ia(d),f=[Ze,ct].indexOf(d)>=0,u=f?"height":"width";if(!(!o||!a)){var p=ag(s.padding,i),C=ta(o),w=l==="y"?qe:Ze,E=l==="y"?at:ct,T=i.rects.reference[u]+i.rects.reference[l]-a[l]-i.rects.popper[u],r=a[l]-i.rects.reference[l],c=Kn(o),h=c?l==="y"?c.clientHeight||0:c.clientWidth||0:0,m=T/2-r/2,g=p[w],b=h-C[u]-p[E],v=h/2-C[u]/2+m,y=In(g,v,b),S=l;i.modifiersData[n]=(e={},e[S]=y,e.centerOffset=y-v,e)}}function ug(t){var e=t.state,i=t.options,n=i.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||ah(e.elements.popper,s)&&(e.elements.arrow=s))}const hh={name:"arrow",enabled:!0,phase:"main",fn:cg,effect:ug,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ln(t){return t.split("-")[1]}var dg={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hg(t,e){var i=t.x,n=t.y,s=e.devicePixelRatio||1;return{x:nn(i*s)/s||0,y:nn(n*s)/s||0}}function yc(t){var e,i=t.popper,n=t.popperRect,s=t.placement,o=t.variation,a=t.offsets,d=t.position,l=t.gpuAcceleration,f=t.adaptive,u=t.roundOffsets,p=t.isFixed,C=a.x,w=C===void 0?0:C,E=a.y,T=E===void 0?0:E,r=typeof u=="function"?u({x:w,y:T}):{x:w,y:T};w=r.x,T=r.y;var c=a.hasOwnProperty("x"),h=a.hasOwnProperty("y"),m=Ze,g=qe,b=window;if(f){var v=Kn(i),y="clientHeight",S="clientWidth";if(v===ut(i)&&(v=ui(i),Yt(v).position!=="static"&&d==="absolute"&&(y="scrollHeight",S="scrollWidth")),v=v,s===qe||(s===Ze||s===ct)&&o===tn){g=at;var _=p&&v===b&&b.visualViewport?b.visualViewport.height:v[y];T-=_-n.height,T*=l?1:-1}if(s===Ze||(s===qe||s===at)&&o===tn){m=ct;var x=p&&v===b&&b.visualViewport?b.visualViewport.width:v[S];w-=x-n.width,w*=l?1:-1}}var N=Object.assign({position:d},f&&dg),L=u===!0?hg({x:w,y:T},ut(i)):{x:w,y:T};if(w=L.x,T=L.y,l){var A;return Object.assign({},N,(A={},A[g]=h?"0":"",A[m]=c?"0":"",A.transform=(b.devicePixelRatio||1)<=1?"translate("+w+"px, "+T+"px)":"translate3d("+w+"px, "+T+"px, 0)",A))}return Object.assign({},N,(e={},e[g]=h?T+"px":"",e[m]=c?w+"px":"",e.transform="",e))}function fg(t){var e=t.state,i=t.options,n=i.gpuAcceleration,s=n===void 0?!0:n,o=i.adaptive,a=o===void 0?!0:o,d=i.roundOffsets,l=d===void 0?!0:d,f={placement:Mt(e.placement),variation:ln(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,yc(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,yc(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const na={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:fg,data:{}};var us={passive:!0};function pg(t){var e=t.state,i=t.instance,n=t.options,s=n.scroll,o=s===void 0?!0:s,a=n.resize,d=a===void 0?!0:a,l=ut(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(u){u.addEventListener("scroll",i.update,us)}),d&&l.addEventListener("resize",i.update,us),function(){o&&f.forEach(function(u){u.removeEventListener("scroll",i.update,us)}),d&&l.removeEventListener("resize",i.update,us)}}const sa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:pg,data:{}};var gg={left:"right",right:"left",bottom:"top",top:"bottom"};function Bs(t){return t.replace(/left|right|bottom|top/g,function(e){return gg[e]})}var mg={start:"end",end:"start"};function _c(t){return t.replace(/start|end/g,function(e){return mg[e]})}function la(t){var e=ut(t),i=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:i,scrollTop:n}}function oa(t){return sn(ui(t)).left+la(t).scrollLeft}function vg(t,e){var i=ut(t),n=ui(t),s=i.visualViewport,o=n.clientWidth,a=n.clientHeight,d=0,l=0;if(s){o=s.width,a=s.height;var f=rh();(f||!f&&e==="fixed")&&(d=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:d+oa(t),y:l}}function bg(t){var e,i=ui(t),n=la(t),s=(e=t.ownerDocument)==null?void 0:e.body,o=Ci(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=Ci(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),d=-n.scrollLeft+oa(t),l=-n.scrollTop;return Yt(s||i).direction==="rtl"&&(d+=Ci(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:a,x:d,y:l}}function ra(t){var e=Yt(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+n)}function fh(t){return["html","body","#document"].indexOf(Rt(t))>=0?t.ownerDocument.body:mt(t)&&ra(t)?t:fh(hl(t))}function Rn(t,e){var i;e===void 0&&(e=[]);var n=fh(t),s=n===((i=t.ownerDocument)==null?void 0:i.body),o=ut(n),a=s?[o].concat(o.visualViewport||[],ra(n)?n:[]):n,d=e.concat(a);return s?d:d.concat(Rn(hl(a)))}function wr(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yg(t,e){var i=sn(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function wc(t,e,i){return e===Xr?wr(vg(t,i)):Ti(e)?yg(e,i):wr(bg(ui(t)))}function _g(t){var e=Rn(hl(t)),i=["absolute","fixed"].indexOf(Yt(t).position)>=0,n=i&&mt(t)?Kn(t):t;return Ti(n)?e.filter(function(s){return Ti(s)&&ah(s,n)&&Rt(s)!=="body"}):[]}function wg(t,e,i,n){var s=e==="clippingParents"?_g(t):[].concat(e),o=[].concat(s,[i]),a=o[0],d=o.reduce(function(l,f){var u=wc(t,f,n);return l.top=Ci(u.top,l.top),l.right=Zs(u.right,l.right),l.bottom=Zs(u.bottom,l.bottom),l.left=Ci(u.left,l.left),l},wc(t,a,n));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function ph(t){var e=t.reference,i=t.element,n=t.placement,s=n?Mt(n):null,o=n?ln(n):null,a=e.x+e.width/2-i.width/2,d=e.y+e.height/2-i.height/2,l;switch(s){case qe:l={x:a,y:e.y-i.height};break;case at:l={x:a,y:e.y+e.height};break;case ct:l={x:e.x+e.width,y:d};break;case Ze:l={x:e.x-i.width,y:d};break;default:l={x:e.x,y:e.y}}var f=s?ia(s):null;if(f!=null){var u=f==="y"?"height":"width";switch(o){case xi:l[f]=l[f]-(e[u]/2-i[u]/2);break;case tn:l[f]=l[f]+(e[u]/2-i[u]/2);break}}return l}function on(t,e){e===void 0&&(e={});var i=e,n=i.placement,s=n===void 0?t.placement:n,o=i.strategy,a=o===void 0?t.strategy:o,d=i.boundary,l=d===void 0?Kd:d,f=i.rootBoundary,u=f===void 0?Xr:f,p=i.elementContext,C=p===void 0?Vi:p,w=i.altBoundary,E=w===void 0?!1:w,T=i.padding,r=T===void 0?0:T,c=uh(typeof r!="number"?r:dh(r,dn)),h=C===Vi?Gd:Vi,m=t.rects.popper,g=t.elements[E?h:C],b=wg(Ti(g)?g:g.contextElement||ui(t.elements.popper),l,u,a),v=sn(t.elements.reference),y=ph({reference:v,element:m,placement:s}),S=wr(Object.assign({},m,y)),_=C===Vi?S:v,x={top:b.top-_.top+c.top,bottom:_.bottom-b.bottom+c.bottom,left:b.left-_.left+c.left,right:_.right-b.right+c.right},N=t.modifiersData.offset;if(C===Vi&&N){var L=N[s];Object.keys(x).forEach(function(A){var D=[ct,at].indexOf(A)>=0?1:-1,V=[qe,at].indexOf(A)>=0?"y":"x";x[A]+=L[V]*D})}return x}function Cg(t,e){e===void 0&&(e={});var i=e,n=i.placement,s=i.boundary,o=i.rootBoundary,a=i.padding,d=i.flipVariations,l=i.allowedAutoPlacements,f=l===void 0?Qr:l,u=ln(n),p=u?d?yr:yr.filter(function(E){return ln(E)===u}):dn,C=p.filter(function(E){return f.indexOf(E)>=0});C.length===0&&(C=p);var w=C.reduce(function(E,T){return E[T]=on(t,{placement:T,boundary:s,rootBoundary:o,padding:a})[Mt(T)],E},{});return Object.keys(w).sort(function(E,T){return w[E]-w[T]})}function Eg(t){if(Mt(t)===dl)return[];var e=Bs(t);return[_c(t),e,_c(e)]}function Sg(t){var e=t.state,i=t.options,n=t.name;if(!e.modifiersData[n]._skip){for(var s=i.mainAxis,o=s===void 0?!0:s,a=i.altAxis,d=a===void 0?!0:a,l=i.fallbackPlacements,f=i.padding,u=i.boundary,p=i.rootBoundary,C=i.altBoundary,w=i.flipVariations,E=w===void 0?!0:w,T=i.allowedAutoPlacements,r=e.options.placement,c=Mt(r),h=c===r,m=l||(h||!E?[Bs(r)]:Eg(r)),g=[r].concat(m).reduce(function(k,M){return k.concat(Mt(M)===dl?Cg(e,{placement:M,boundary:u,rootBoundary:p,padding:f,flipVariations:E,allowedAutoPlacements:T}):M)},[]),b=e.rects.reference,v=e.rects.popper,y=new Map,S=!0,_=g[0],x=0;x<g.length;x++){var N=g[x],L=Mt(N),A=ln(N)===xi,D=[qe,at].indexOf(L)>=0,V=D?"width":"height",F=on(e,{placement:N,boundary:u,rootBoundary:p,altBoundary:C,padding:f}),H=D?A?ct:Ze:A?at:qe;b[V]>v[V]&&(H=Bs(H));var R=Bs(H),P=[];if(o&&P.push(F[L]<=0),d&&P.push(F[H]<=0,F[R]<=0),P.every(function(k){return k})){_=N,S=!1;break}y.set(N,P)}if(S)for(var I=E?3:1,z=function(M){var $=g.find(function(W){var j=y.get(W);if(j)return j.slice(0,M).every(function(q){return q})});if($)return _=$,"break"},O=I;O>0;O--){var B=z(O);if(B==="break")break}e.placement!==_&&(e.modifiersData[n]._skip=!0,e.placement=_,e.reset=!0)}}const gh={name:"flip",enabled:!0,phase:"main",fn:Sg,requiresIfExists:["offset"],data:{_skip:!1}};function Cc(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function Ec(t){return[qe,ct,at,Ze].some(function(e){return t[e]>=0})}function xg(t){var e=t.state,i=t.name,n=e.rects.reference,s=e.rects.popper,o=e.modifiersData.preventOverflow,a=on(e,{elementContext:"reference"}),d=on(e,{altBoundary:!0}),l=Cc(a,n),f=Cc(d,s,o),u=Ec(l),p=Ec(f);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}const mh={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:xg};function Tg(t,e,i){var n=Mt(t),s=[Ze,qe].indexOf(n)>=0?-1:1,o=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=o[0],d=o[1];return a=a||0,d=(d||0)*s,[Ze,ct].indexOf(n)>=0?{x:d,y:a}:{x:a,y:d}}function Lg(t){var e=t.state,i=t.options,n=t.name,s=i.offset,o=s===void 0?[0,0]:s,a=Qr.reduce(function(u,p){return u[p]=Tg(p,e.rects,o),u},{}),d=a[e.placement],l=d.x,f=d.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=f),e.modifiersData[n]=a}const vh={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Lg};function Ag(t){var e=t.state,i=t.name;e.modifiersData[i]=ph({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const aa={name:"popperOffsets",enabled:!0,phase:"read",fn:Ag,data:{}};function kg(t){return t==="x"?"y":"x"}function Ng(t){var e=t.state,i=t.options,n=t.name,s=i.mainAxis,o=s===void 0?!0:s,a=i.altAxis,d=a===void 0?!1:a,l=i.boundary,f=i.rootBoundary,u=i.altBoundary,p=i.padding,C=i.tether,w=C===void 0?!0:C,E=i.tetherOffset,T=E===void 0?0:E,r=on(e,{boundary:l,rootBoundary:f,padding:p,altBoundary:u}),c=Mt(e.placement),h=ln(e.placement),m=!h,g=ia(c),b=kg(g),v=e.modifiersData.popperOffsets,y=e.rects.reference,S=e.rects.popper,_=typeof T=="function"?T(Object.assign({},e.rects,{placement:e.placement})):T,x=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(v){if(o){var A,D=g==="y"?qe:Ze,V=g==="y"?at:ct,F=g==="y"?"height":"width",H=v[g],R=H+r[D],P=H-r[V],I=w?-S[F]/2:0,z=h===xi?y[F]:S[F],O=h===xi?-S[F]:-y[F],B=e.elements.arrow,k=w&&B?ta(B):{width:0,height:0},M=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ch(),$=M[D],W=M[V],j=In(0,y[F],k[F]),q=m?y[F]/2-I-j-$-x.mainAxis:z-j-$-x.mainAxis,U=m?-y[F]/2+I+j+W+x.mainAxis:O+j+W+x.mainAxis,K=e.elements.arrow&&Kn(e.elements.arrow),G=K?g==="y"?K.clientTop||0:K.clientLeft||0:0,J=(A=N?.[g])!=null?A:0,Q=H+q-J-G,te=H+U-J,se=In(w?Zs(R,Q):R,H,w?Ci(P,te):P);v[g]=se,L[g]=se-H}if(d){var oe,ne=g==="x"?qe:Ze,re=g==="x"?at:ct,ie=v[b],he=b==="y"?"height":"width",ae=ie+r[ne],be=ie-r[re],me=[qe,Ze].indexOf(c)!==-1,ve=(oe=N?.[b])!=null?oe:0,Qe=me?ae:ie-y[he]-S[he]-ve+x.altAxis,He=me?ie+y[he]+S[he]-ve-x.altAxis:be,Oe=w&&me?rg(Qe,ie,He):In(w?Qe:ae,ie,w?He:be);v[b]=Oe,L[b]=Oe-ie}e.modifiersData[n]=L}}const bh={name:"preventOverflow",enabled:!0,phase:"main",fn:Ng,requiresIfExists:["offset"]};function Dg(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Og(t){return t===ut(t)||!mt(t)?la(t):Dg(t)}function Mg(t){var e=t.getBoundingClientRect(),i=nn(e.width)/t.offsetWidth||1,n=nn(e.height)/t.offsetHeight||1;return i!==1||n!==1}function Bg(t,e,i){i===void 0&&(i=!1);var n=mt(e),s=mt(e)&&Mg(e),o=ui(e),a=sn(t,s,i),d={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!i)&&((Rt(e)!=="body"||ra(o))&&(d=Og(e)),mt(e)?(l=sn(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=oa(o))),{x:a.left+d.scrollLeft-l.x,y:a.top+d.scrollTop-l.y,width:a.width,height:a.height}}function Ig(t){var e=new Map,i=new Set,n=[];t.forEach(function(o){e.set(o.name,o)});function s(o){i.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(d){if(!i.has(d)){var l=e.get(d);l&&s(l)}}),n.push(o)}return t.forEach(function(o){i.has(o.name)||s(o)}),n}function Rg(t){var e=Ig(t);return oh.reduce(function(i,n){return i.concat(e.filter(function(s){return s.phase===n}))},[])}function zg(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function Hg(t){var e=t.reduce(function(i,n){var s=i[n.name];return i[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,i},{});return Object.keys(e).map(function(i){return e[i]})}var Sc={placement:"bottom",modifiers:[],strategy:"absolute"};function xc(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function fl(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,n=i===void 0?[]:i,s=e.defaultOptions,o=s===void 0?Sc:s;return function(d,l,f){f===void 0&&(f=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sc,o),modifiersData:{},elements:{reference:d,popper:l},attributes:{},styles:{}},p=[],C=!1,w={state:u,setOptions:function(c){var h=typeof c=="function"?c(u.options):c;T(),u.options=Object.assign({},o,u.options,h),u.scrollParents={reference:Ti(d)?Rn(d):d.contextElement?Rn(d.contextElement):[],popper:Rn(l)};var m=Rg(Hg([].concat(n,u.options.modifiers)));return u.orderedModifiers=m.filter(function(g){return g.enabled}),E(),w.update()},forceUpdate:function(){if(!C){var c=u.elements,h=c.reference,m=c.popper;if(xc(h,m)){u.rects={reference:Bg(h,Kn(m),u.options.strategy==="fixed"),popper:ta(m)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(x){return u.modifiersData[x.name]=Object.assign({},x.data)});for(var g=0;g<u.orderedModifiers.length;g++){if(u.reset===!0){u.reset=!1,g=-1;continue}var b=u.orderedModifiers[g],v=b.fn,y=b.options,S=y===void 0?{}:y,_=b.name;typeof v=="function"&&(u=v({state:u,options:S,name:_,instance:w})||u)}}}},update:zg(function(){return new Promise(function(r){w.forceUpdate(),r(u)})}),destroy:function(){T(),C=!0}};if(!xc(d,l))return w;w.setOptions(f).then(function(r){!C&&f.onFirstUpdate&&f.onFirstUpdate(r)});function E(){u.orderedModifiers.forEach(function(r){var c=r.name,h=r.options,m=h===void 0?{}:h,g=r.effect;if(typeof g=="function"){var b=g({state:u,name:c,instance:w,options:m}),v=function(){};p.push(b||v)}})}function T(){p.forEach(function(r){return r()}),p=[]}return w}}var Pg=fl(),Fg=[sa,aa,na,ea],Vg=fl({defaultModifiers:Fg}),$g=[sa,aa,na,ea,vh,gh,bh,hh,mh],ca=fl({defaultModifiers:$g});const yh=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ih,afterRead:Jd,afterWrite:lh,applyStyles:ea,arrow:hh,auto:dl,basePlacements:dn,beforeMain:eh,beforeRead:Xd,beforeWrite:nh,bottom:at,clippingParents:Kd,computeStyles:na,createPopper:ca,createPopperBase:Pg,createPopperLite:Vg,detectOverflow:on,end:tn,eventListeners:sa,flip:gh,hide:mh,left:Ze,main:th,modifierPhases:oh,offset:vh,placements:Qr,popper:Vi,popperGenerator:fl,popperOffsets:aa,preventOverflow:bh,read:Qd,reference:Gd,right:ct,start:xi,top:qe,variationPlacements:yr,viewport:Xr,write:sh},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Jt=new Map,Ul={set(t,e,i){Jt.has(t)||Jt.set(t,new Map);const n=Jt.get(t);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,i)},get(t,e){return Jt.has(t)&&Jt.get(t).get(e)||null},remove(t,e){if(!Jt.has(t))return;const i=Jt.get(t);i.delete(e),i.size===0&&Jt.delete(t)}},Wg=1e6,Ug=1e3,Cr="transitionend",_h=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(e,i)=>`#${CSS.escape(i)}`)),t),qg=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),Zg=t=>{do t+=Math.floor(Math.random()*Wg);while(document.getElementById(t));return t},Yg=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:i}=window.getComputedStyle(t);const n=Number.parseFloat(e),s=Number.parseFloat(i);return!n&&!s?0:(e=e.split(",")[0],i=i.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(i))*Ug)},wh=t=>{t.dispatchEvent(new Event(Cr))},Wt=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),li=t=>Wt(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(_h(t)):null,hn=t=>{if(!Wt(t)||t.getClientRects().length===0)return!1;const e=getComputedStyle(t).getPropertyValue("visibility")==="visible",i=t.closest("details:not([open])");if(!i)return e;if(i!==t){const n=t.closest("summary");if(n&&n.parentNode!==i||n===null)return!1}return e},oi=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",Ch=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Ch(t.parentNode):null},Ys=()=>{},Gn=t=>{t.offsetHeight},Eh=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,ql=[],jg=t=>{document.readyState==="loading"?(ql.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of ql)e()}),ql.push(t)):t()},vt=()=>document.documentElement.dir==="rtl",yt=t=>{jg(()=>{const e=Eh();if(e){const i=t.NAME,n=e.fn[i];e.fn[i]=t.jQueryInterface,e.fn[i].Constructor=t,e.fn[i].noConflict=()=>(e.fn[i]=n,t.jQueryInterface)}})},Ke=(t,e=[],i=t)=>typeof t=="function"?t.call(...e):i,Sh=(t,e,i=!0)=>{if(!i){Ke(t);return}const s=Yg(e)+5;let o=!1;const a=({target:d})=>{d===e&&(o=!0,e.removeEventListener(Cr,a),Ke(t))};e.addEventListener(Cr,a),setTimeout(()=>{o||wh(e)},s)},ua=(t,e,i,n)=>{const s=t.length;let o=t.indexOf(e);return o===-1?!i&&n?t[s-1]:t[0]:(o+=i?1:-1,n&&(o=(o+s)%s),t[Math.max(0,Math.min(o,s-1))])},Kg=/[^.]*(?=\..*)\.|.*/,Gg=/\..*/,Xg=/::\d+$/,Zl={};let Tc=1;const xh={mouseenter:"mouseover",mouseleave:"mouseout"},Qg=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Th(t,e){return e&&`${e}::${Tc++}`||t.uidEvent||Tc++}function Lh(t){const e=Th(t);return t.uidEvent=e,Zl[e]=Zl[e]||{},Zl[e]}function Jg(t,e){return function i(n){return da(n,{delegateTarget:t}),i.oneOff&&X.off(t,n.type,e),e.apply(t,[n])}}function em(t,e,i){return function n(s){const o=t.querySelectorAll(e);for(let{target:a}=s;a&&a!==this;a=a.parentNode)for(const d of o)if(d===a)return da(s,{delegateTarget:a}),n.oneOff&&X.off(t,s.type,e,i),i.apply(a,[s])}}function Ah(t,e,i=null){return Object.values(t).find(n=>n.callable===e&&n.delegationSelector===i)}function kh(t,e,i){const n=typeof e=="string",s=n?i:e||i;let o=Nh(t);return Qg.has(o)||(o=t),[n,s,o]}function Lc(t,e,i,n,s){if(typeof e!="string"||!t)return;let[o,a,d]=kh(e,i,n);e in xh&&(a=(E=>function(T){if(!T.relatedTarget||T.relatedTarget!==T.delegateTarget&&!T.delegateTarget.contains(T.relatedTarget))return E.call(this,T)})(a));const l=Lh(t),f=l[d]||(l[d]={}),u=Ah(f,a,o?i:null);if(u){u.oneOff=u.oneOff&&s;return}const p=Th(a,e.replace(Kg,"")),C=o?em(t,i,a):Jg(t,a);C.delegationSelector=o?i:null,C.callable=a,C.oneOff=s,C.uidEvent=p,f[p]=C,t.addEventListener(d,C,o)}function Er(t,e,i,n,s){const o=Ah(e[i],n,s);o&&(t.removeEventListener(i,o,!!s),delete e[i][o.uidEvent])}function tm(t,e,i,n){const s=e[i]||{};for(const[o,a]of Object.entries(s))o.includes(n)&&Er(t,e,i,a.callable,a.delegationSelector)}function Nh(t){return t=t.replace(Gg,""),xh[t]||t}const X={on(t,e,i,n){Lc(t,e,i,n,!1)},one(t,e,i,n){Lc(t,e,i,n,!0)},off(t,e,i,n){if(typeof e!="string"||!t)return;const[s,o,a]=kh(e,i,n),d=a!==e,l=Lh(t),f=l[a]||{},u=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;Er(t,l,a,o,s?i:null);return}if(u)for(const p of Object.keys(l))tm(t,l,p,e.slice(1));for(const[p,C]of Object.entries(f)){const w=p.replace(Xg,"");(!d||e.includes(w))&&Er(t,l,a,C.callable,C.delegationSelector)}},trigger(t,e,i){if(typeof e!="string"||!t)return null;const n=Eh(),s=Nh(e),o=e!==s;let a=null,d=!0,l=!0,f=!1;o&&n&&(a=n.Event(e,i),n(t).trigger(a),d=!a.isPropagationStopped(),l=!a.isImmediatePropagationStopped(),f=a.isDefaultPrevented());const u=da(new Event(e,{bubbles:d,cancelable:!0}),i);return f&&u.preventDefault(),l&&t.dispatchEvent(u),u.defaultPrevented&&a&&a.preventDefault(),u}};function da(t,e={}){for(const[i,n]of Object.entries(e))try{t[i]=n}catch{Object.defineProperty(t,i,{configurable:!0,get(){return n}})}return t}function Ac(t){if(t==="true")return!0;if(t==="false")return!1;if(t===Number(t).toString())return Number(t);if(t===""||t==="null")return null;if(typeof t!="string")return t;try{return JSON.parse(decodeURIComponent(t))}catch{return t}}function Yl(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Ut={setDataAttribute(t,e,i){t.setAttribute(`data-bs-${Yl(e)}`,i)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${Yl(e)}`)},getDataAttributes(t){if(!t)return{};const e={},i=Object.keys(t.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of i){let s=n.replace(/^bs/,"");s=s.charAt(0).toLowerCase()+s.slice(1),e[s]=Ac(t.dataset[n])}return e},getDataAttribute(t,e){return Ac(t.getAttribute(`data-bs-${Yl(e)}`))}};class Xn{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,i){const n=Wt(i)?Ut.getDataAttribute(i,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...Wt(i)?Ut.getDataAttributes(i):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,i=this.constructor.DefaultType){for(const[n,s]of Object.entries(i)){const o=e[n],a=Wt(o)?"element":qg(o);if(!new RegExp(s).test(a))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${a}" but expected type "${s}".`)}}}const im="5.3.8";class Lt extends Xn{constructor(e,i){super(),e=li(e),e&&(this._element=e,this._config=this._getConfig(i),Ul.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Ul.remove(this._element,this.constructor.DATA_KEY),X.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,i,n=!0){Sh(e,i,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Ul.get(li(e),this.DATA_KEY)}static getOrCreateInstance(e,i={}){return this.getInstance(e)||new this(e,typeof i=="object"?i:null)}static get VERSION(){return im}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const jl=t=>{let e=t.getAttribute("data-bs-target");if(!e||e==="#"){let i=t.getAttribute("href");if(!i||!i.includes("#")&&!i.startsWith("."))return null;i.includes("#")&&!i.startsWith("#")&&(i=`#${i.split("#")[1]}`),e=i&&i!=="#"?i.trim():null}return e?e.split(",").map(i=>_h(i)).join(","):null},le={find(t,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,t))},findOne(t,e=document.documentElement){return Element.prototype.querySelector.call(e,t)},children(t,e){return[].concat(...t.children).filter(i=>i.matches(e))},parents(t,e){const i=[];let n=t.parentNode.closest(e);for(;n;)i.push(n),n=n.parentNode.closest(e);return i},prev(t,e){let i=t.previousElementSibling;for(;i;){if(i.matches(e))return[i];i=i.previousElementSibling}return[]},next(t,e){let i=t.nextElementSibling;for(;i;){if(i.matches(e))return[i];i=i.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(i=>`${i}:not([tabindex^="-"])`).join(",");return this.find(e,t).filter(i=>!oi(i)&&hn(i))},getSelectorFromElement(t){const e=jl(t);return e&&le.findOne(e)?e:null},getElementFromSelector(t){const e=jl(t);return e?le.findOne(e):null},getMultipleElementsFromSelector(t){const e=jl(t);return e?le.find(e):[]}},pl=(t,e="hide")=>{const i=`click.dismiss${t.EVENT_KEY}`,n=t.NAME;X.on(document,i,`[data-bs-dismiss="${n}"]`,function(s){if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),oi(this))return;const o=le.getElementFromSelector(this)||this.closest(`.${n}`);t.getOrCreateInstance(o)[e]()})},nm="alert",sm="bs.alert",Dh=`.${sm}`,lm=`close${Dh}`,om=`closed${Dh}`,rm="fade",am="show";class gl extends Lt{static get NAME(){return nm}close(){if(X.trigger(this._element,lm).defaultPrevented)return;this._element.classList.remove(am);const i=this._element.classList.contains(rm);this._queueCallback(()=>this._destroyElement(),this._element,i)}_destroyElement(){this._element.remove(),X.trigger(this._element,om),this.dispose()}static jQueryInterface(e){return this.each(function(){const i=gl.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}pl(gl,"close");yt(gl);const cm="button",um="bs.button",dm=`.${um}`,hm=".data-api",fm="active",kc='[data-bs-toggle="button"]',pm=`click${dm}${hm}`;class ml extends Lt{static get NAME(){return cm}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(fm))}static jQueryInterface(e){return this.each(function(){const i=ml.getOrCreateInstance(this);e==="toggle"&&i[e]()})}}X.on(document,pm,kc,t=>{t.preventDefault();const e=t.target.closest(kc);ml.getOrCreateInstance(e).toggle()});yt(ml);const gm="swipe",fn=".bs.swipe",mm=`touchstart${fn}`,vm=`touchmove${fn}`,bm=`touchend${fn}`,ym=`pointerdown${fn}`,_m=`pointerup${fn}`,wm="touch",Cm="pen",Em="pointer-event",Sm=40,xm={endCallback:null,leftCallback:null,rightCallback:null},Tm={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class js extends Xn{constructor(e,i){super(),this._element=e,!(!e||!js.isSupported())&&(this._config=this._getConfig(i),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return xm}static get DefaultType(){return Tm}static get NAME(){return gm}dispose(){X.off(this._element,fn)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ke(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=Sm)return;const i=e/this._deltaX;this._deltaX=0,i&&Ke(i>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(X.on(this._element,ym,e=>this._start(e)),X.on(this._element,_m,e=>this._end(e)),this._element.classList.add(Em)):(X.on(this._element,mm,e=>this._start(e)),X.on(this._element,vm,e=>this._move(e)),X.on(this._element,bm,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===Cm||e.pointerType===wm)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Lm="carousel",Am="bs.carousel",di=`.${Am}`,Oh=".data-api",km="ArrowLeft",Nm="ArrowRight",Dm=500,_n="next",zi="prev",$i="left",Is="right",Om=`slide${di}`,Kl=`slid${di}`,Mm=`keydown${di}`,Bm=`mouseenter${di}`,Im=`mouseleave${di}`,Rm=`dragstart${di}`,zm=`load${di}${Oh}`,Hm=`click${di}${Oh}`,Mh="carousel",ds="active",Pm="slide",Fm="carousel-item-end",Vm="carousel-item-start",$m="carousel-item-next",Wm="carousel-item-prev",Bh=".active",Ih=".carousel-item",Um=Bh+Ih,qm=".carousel-item img",Zm=".carousel-indicators",Ym="[data-bs-slide], [data-bs-slide-to]",jm='[data-bs-ride="carousel"]',Km={[km]:Is,[Nm]:$i},Gm={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Xm={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Qn extends Lt{constructor(e,i){super(e,i),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=le.findOne(Zm,this._element),this._addEventListeners(),this._config.ride===Mh&&this.cycle()}static get Default(){return Gm}static get DefaultType(){return Xm}static get NAME(){return Lm}next(){this._slide(_n)}nextWhenVisible(){!document.hidden&&hn(this._element)&&this.next()}prev(){this._slide(zi)}pause(){this._isSliding&&wh(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){X.one(this._element,Kl,()=>this.cycle());return}this.cycle()}}to(e){const i=this._getItems();if(e>i.length-1||e<0)return;if(this._isSliding){X.one(this._element,Kl,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const s=e>n?_n:zi;this._slide(s,i[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&X.on(this._element,Mm,e=>this._keydown(e)),this._config.pause==="hover"&&(X.on(this._element,Bm,()=>this.pause()),X.on(this._element,Im,()=>this._maybeEnableCycle())),this._config.touch&&js.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of le.find(qm,this._element))X.on(n,Rm,s=>s.preventDefault());const i={leftCallback:()=>this._slide(this._directionToOrder($i)),rightCallback:()=>this._slide(this._directionToOrder(Is)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Dm+this._config.interval))}};this._swipeHelper=new js(this._element,i)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const i=Km[e.key];i&&(e.preventDefault(),this._slide(this._directionToOrder(i)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const i=le.findOne(Bh,this._indicatorsElement);i.classList.remove(ds),i.removeAttribute("aria-current");const n=le.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(ds),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const i=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=i||this._config.defaultInterval}_slide(e,i=null){if(this._isSliding)return;const n=this._getActive(),s=e===_n,o=i||ua(this._getItems(),n,s,this._config.wrap);if(o===n)return;const a=this._getItemIndex(o),d=w=>X.trigger(this._element,w,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:a});if(d(Om).defaultPrevented||!n||!o)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(a),this._activeElement=o;const u=s?Vm:Fm,p=s?$m:Wm;o.classList.add(p),Gn(o),n.classList.add(u),o.classList.add(u);const C=()=>{o.classList.remove(u,p),o.classList.add(ds),n.classList.remove(ds,p,u),this._isSliding=!1,d(Kl)};this._queueCallback(C,n,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(Pm)}_getActive(){return le.findOne(Um,this._element)}_getItems(){return le.find(Ih,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return vt()?e===$i?zi:_n:e===$i?_n:zi}_orderToDirection(e){return vt()?e===zi?$i:Is:e===zi?Is:$i}static jQueryInterface(e){return this.each(function(){const i=Qn.getOrCreateInstance(this,e);if(typeof e=="number"){i.to(e);return}if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}X.on(document,Hm,Ym,function(t){const e=le.getElementFromSelector(this);if(!e||!e.classList.contains(Mh))return;t.preventDefault();const i=Qn.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){i.to(n),i._maybeEnableCycle();return}if(Ut.getDataAttribute(this,"slide")==="next"){i.next(),i._maybeEnableCycle();return}i.prev(),i._maybeEnableCycle()});X.on(window,zm,()=>{const t=le.find(jm);for(const e of t)Qn.getOrCreateInstance(e)});yt(Qn);const Qm="collapse",Jm="bs.collapse",Jn=`.${Jm}`,e1=".data-api",t1=`show${Jn}`,i1=`shown${Jn}`,n1=`hide${Jn}`,s1=`hidden${Jn}`,l1=`click${Jn}${e1}`,Gl="show",Zi="collapse",hs="collapsing",o1="collapsed",r1=`:scope .${Zi} .${Zi}`,a1="collapse-horizontal",c1="width",u1="height",d1=".collapse.show, .collapse.collapsing",Sr='[data-bs-toggle="collapse"]',h1={parent:null,toggle:!0},f1={parent:"(null|element)",toggle:"boolean"};class Pn extends Lt{constructor(e,i){super(e,i),this._isTransitioning=!1,this._triggerArray=[];const n=le.find(Sr);for(const s of n){const o=le.getSelectorFromElement(s),a=le.find(o).filter(d=>d===this._element);o!==null&&a.length&&this._triggerArray.push(s)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return h1}static get DefaultType(){return f1}static get NAME(){return Qm}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(d1).filter(d=>d!==this._element).map(d=>Pn.getOrCreateInstance(d,{toggle:!1}))),e.length&&e[0]._isTransitioning||X.trigger(this._element,t1).defaultPrevented)return;for(const d of e)d.hide();const n=this._getDimension();this._element.classList.remove(Zi),this._element.classList.add(hs),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add(Zi,Gl),this._element.style[n]="",X.trigger(this._element,i1)},a=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(s,this._element,!0),this._element.style[n]=`${this._element[a]}px`}hide(){if(this._isTransitioning||!this._isShown()||X.trigger(this._element,n1).defaultPrevented)return;const i=this._getDimension();this._element.style[i]=`${this._element.getBoundingClientRect()[i]}px`,Gn(this._element),this._element.classList.add(hs),this._element.classList.remove(Zi,Gl);for(const s of this._triggerArray){const o=le.getElementFromSelector(s);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([s],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(hs),this._element.classList.add(Zi),X.trigger(this._element,s1)};this._element.style[i]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Gl)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=li(e.parent),e}_getDimension(){return this._element.classList.contains(a1)?c1:u1}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Sr);for(const i of e){const n=le.getElementFromSelector(i);n&&this._addAriaAndCollapsedClass([i],this._isShown(n))}}_getFirstLevelChildren(e){const i=le.find(r1,this._config.parent);return le.find(e,this._config.parent).filter(n=>!i.includes(n))}_addAriaAndCollapsedClass(e,i){if(e.length)for(const n of e)n.classList.toggle(o1,!i),n.setAttribute("aria-expanded",i)}static jQueryInterface(e){const i={};return typeof e=="string"&&/show|hide/.test(e)&&(i.toggle=!1),this.each(function(){const n=Pn.getOrCreateInstance(this,i);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}X.on(document,l1,Sr,function(t){(t.target.tagName==="A"||t.delegateTarget&&t.delegateTarget.tagName==="A")&&t.preventDefault();for(const e of le.getMultipleElementsFromSelector(this))Pn.getOrCreateInstance(e,{toggle:!1}).toggle()});yt(Pn);const Nc="dropdown",p1="bs.dropdown",ki=`.${p1}`,ha=".data-api",g1="Escape",Dc="Tab",m1="ArrowUp",Oc="ArrowDown",v1=2,b1=`hide${ki}`,y1=`hidden${ki}`,_1=`show${ki}`,w1=`shown${ki}`,Rh=`click${ki}${ha}`,zh=`keydown${ki}${ha}`,C1=`keyup${ki}${ha}`,Wi="show",E1="dropup",S1="dropend",x1="dropstart",T1="dropup-center",L1="dropdown-center",_i='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',A1=`${_i}.${Wi}`,Rs=".dropdown-menu",k1=".navbar",N1=".navbar-nav",D1=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",O1=vt()?"top-end":"top-start",M1=vt()?"top-start":"top-end",B1=vt()?"bottom-end":"bottom-start",I1=vt()?"bottom-start":"bottom-end",R1=vt()?"left-start":"right-start",z1=vt()?"right-start":"left-start",H1="top",P1="bottom",F1={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},V1={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Bt extends Lt{constructor(e,i){super(e,i),this._popper=null,this._parent=this._element.parentNode,this._menu=le.next(this._element,Rs)[0]||le.prev(this._element,Rs)[0]||le.findOne(Rs,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return F1}static get DefaultType(){return V1}static get NAME(){return Nc}toggle(){return this._isShown()?this.hide():this.show()}show(){if(oi(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!X.trigger(this._element,_1,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(N1))for(const n of[].concat(...document.body.children))X.on(n,"mouseover",Ys);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Wi),this._element.classList.add(Wi),X.trigger(this._element,w1,e)}}hide(){if(oi(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!X.trigger(this._element,b1,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))X.off(n,"mouseover",Ys);this._popper&&this._popper.destroy(),this._menu.classList.remove(Wi),this._element.classList.remove(Wi),this._element.setAttribute("aria-expanded","false"),Ut.removeDataAttribute(this._menu,"popper"),X.trigger(this._element,y1,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Wt(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Nc.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof yh>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Wt(this._config.reference)?e=li(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const i=this._getPopperConfig();this._popper=ca(e,this._menu,i)}_isShown(){return this._menu.classList.contains(Wi)}_getPlacement(){const e=this._parent;if(e.classList.contains(S1))return R1;if(e.classList.contains(x1))return z1;if(e.classList.contains(T1))return H1;if(e.classList.contains(L1))return P1;const i=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(E1)?i?M1:O1:i?I1:B1}_detectNavbar(){return this._element.closest(k1)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ut.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ke(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:i}){const n=le.find(D1,this._menu).filter(s=>hn(s));n.length&&ua(n,i,e===Oc,!n.includes(i)).focus()}static jQueryInterface(e){return this.each(function(){const i=Bt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}static clearMenus(e){if(e.button===v1||e.type==="keyup"&&e.key!==Dc)return;const i=le.find(A1);for(const n of i){const s=Bt.getInstance(n);if(!s||s._config.autoClose===!1)continue;const o=e.composedPath(),a=o.includes(s._menu);if(o.includes(s._element)||s._config.autoClose==="inside"&&!a||s._config.autoClose==="outside"&&a||s._menu.contains(e.target)&&(e.type==="keyup"&&e.key===Dc||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const d={relatedTarget:s._element};e.type==="click"&&(d.clickEvent=e),s._completeHide(d)}}static dataApiKeydownHandler(e){const i=/input|textarea/i.test(e.target.tagName),n=e.key===g1,s=[m1,Oc].includes(e.key);if(!s&&!n||i&&!n)return;e.preventDefault();const o=this.matches(_i)?this:le.prev(this,_i)[0]||le.next(this,_i)[0]||le.findOne(_i,e.delegateTarget.parentNode),a=Bt.getOrCreateInstance(o);if(s){e.stopPropagation(),a.show(),a._selectMenuItem(e);return}a._isShown()&&(e.stopPropagation(),a.hide(),o.focus())}}X.on(document,zh,_i,Bt.dataApiKeydownHandler);X.on(document,zh,Rs,Bt.dataApiKeydownHandler);X.on(document,Rh,Bt.clearMenus);X.on(document,C1,Bt.clearMenus);X.on(document,Rh,_i,function(t){t.preventDefault(),Bt.getOrCreateInstance(this).toggle()});yt(Bt);const Hh="backdrop",$1="fade",Mc="show",Bc=`mousedown.bs.${Hh}`,W1={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},U1={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ph extends Xn{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return W1}static get DefaultType(){return U1}static get NAME(){return Hh}show(e){if(!this._config.isVisible){Ke(e);return}this._append();const i=this._getElement();this._config.isAnimated&&Gn(i),i.classList.add(Mc),this._emulateAnimation(()=>{Ke(e)})}hide(e){if(!this._config.isVisible){Ke(e);return}this._getElement().classList.remove(Mc),this._emulateAnimation(()=>{this.dispose(),Ke(e)})}dispose(){this._isAppended&&(X.off(this._element,Bc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add($1),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=li(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),X.on(e,Bc,()=>{Ke(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){Sh(e,this._getElement(),this._config.isAnimated)}}const q1="focustrap",Z1="bs.focustrap",Ks=`.${Z1}`,Y1=`focusin${Ks}`,j1=`keydown.tab${Ks}`,K1="Tab",G1="forward",Ic="backward",X1={autofocus:!0,trapElement:null},Q1={autofocus:"boolean",trapElement:"element"};class Fh extends Xn{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return X1}static get DefaultType(){return Q1}static get NAME(){return q1}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),X.off(document,Ks),X.on(document,Y1,e=>this._handleFocusin(e)),X.on(document,j1,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,X.off(document,Ks))}_handleFocusin(e){const{trapElement:i}=this._config;if(e.target===document||e.target===i||i.contains(e.target))return;const n=le.focusableChildren(i);n.length===0?i.focus():this._lastTabNavDirection===Ic?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===K1&&(this._lastTabNavDirection=e.shiftKey?Ic:G1)}}const Rc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",zc=".sticky-top",fs="padding-right",Hc="margin-right";class xr{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,fs,i=>i+e),this._setElementAttributes(Rc,fs,i=>i+e),this._setElementAttributes(zc,Hc,i=>i-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,fs),this._resetElementAttributes(Rc,fs),this._resetElementAttributes(zc,Hc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,i,n){const s=this.getWidth(),o=a=>{if(a!==this._element&&window.innerWidth>a.clientWidth+s)return;this._saveInitialAttribute(a,i);const d=window.getComputedStyle(a).getPropertyValue(i);a.style.setProperty(i,`${n(Number.parseFloat(d))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,i){const n=e.style.getPropertyValue(i);n&&Ut.setDataAttribute(e,i,n)}_resetElementAttributes(e,i){const n=s=>{const o=Ut.getDataAttribute(s,i);if(o===null){s.style.removeProperty(i);return}Ut.removeDataAttribute(s,i),s.style.setProperty(i,o)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,i){if(Wt(e)){i(e);return}for(const n of le.find(e,this._element))i(n)}}const J1="modal",ev="bs.modal",bt=`.${ev}`,tv=".data-api",iv="Escape",nv=`hide${bt}`,sv=`hidePrevented${bt}`,Vh=`hidden${bt}`,$h=`show${bt}`,lv=`shown${bt}`,ov=`resize${bt}`,rv=`click.dismiss${bt}`,av=`mousedown.dismiss${bt}`,cv=`keydown.dismiss${bt}`,uv=`click${bt}${tv}`,Pc="modal-open",dv="fade",Fc="show",Xl="modal-static",hv=".modal.show",fv=".modal-dialog",pv=".modal-body",gv='[data-bs-toggle="modal"]',mv={backdrop:!0,focus:!0,keyboard:!0},vv={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class We extends Lt{constructor(e,i){super(e,i),this._dialog=le.findOne(fv,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new xr,this._addEventListeners()}static get Default(){return mv}static get DefaultType(){return vv}static get NAME(){return J1}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||X.trigger(this._element,$h,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Pc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||X.trigger(this._element,nv).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Fc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){X.off(window,bt),X.off(this._dialog,bt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ph({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Fh({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const i=le.findOne(pv,this._dialog);i&&(i.scrollTop=0),Gn(this._element),this._element.classList.add(Fc);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,X.trigger(this._element,lv,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){X.on(this._element,cv,e=>{if(e.key===iv){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),X.on(window,ov,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),X.on(this._element,av,e=>{X.one(this._element,rv,i=>{if(!(this._element!==e.target||this._element!==i.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Pc),this._resetAdjustments(),this._scrollBar.reset(),X.trigger(this._element,Vh)})}_isAnimated(){return this._element.classList.contains(dv)}_triggerBackdropTransition(){if(X.trigger(this._element,sv).defaultPrevented)return;const i=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Xl)||(i||(this._element.style.overflowY="hidden"),this._element.classList.add(Xl),this._queueCallback(()=>{this._element.classList.remove(Xl),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._scrollBar.getWidth(),n=i>0;if(n&&!e){const s=vt()?"paddingLeft":"paddingRight";this._element.style[s]=`${i}px`}if(!n&&e){const s=vt()?"paddingRight":"paddingLeft";this._element.style[s]=`${i}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,i){return this.each(function(){const n=We.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](i)}})}}X.on(document,uv,gv,function(t){const e=le.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),X.one(e,$h,s=>{s.defaultPrevented||X.one(e,Vh,()=>{hn(this)&&this.focus()})});const i=le.findOne(hv);i&&We.getInstance(i).hide(),We.getOrCreateInstance(e).toggle(this)});pl(We);yt(We);const bv="offcanvas",yv="bs.offcanvas",Gt=`.${yv}`,Wh=".data-api",_v=`load${Gt}${Wh}`,wv="Escape",Vc="show",$c="showing",Wc="hiding",Cv="offcanvas-backdrop",Uh=".offcanvas.show",Ev=`show${Gt}`,Sv=`shown${Gt}`,xv=`hide${Gt}`,Uc=`hidePrevented${Gt}`,qh=`hidden${Gt}`,Tv=`resize${Gt}`,Lv=`click${Gt}${Wh}`,Av=`keydown.dismiss${Gt}`,kv='[data-bs-toggle="offcanvas"]',Nv={backdrop:!0,keyboard:!0,scroll:!1},Dv={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ri extends Lt{constructor(e,i){super(e,i),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Nv}static get DefaultType(){return Dv}static get NAME(){return bv}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||X.trigger(this._element,Ev,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new xr().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add($c);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Vc),this._element.classList.remove($c),X.trigger(this._element,Sv,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||X.trigger(this._element,xv).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Wc),this._backdrop.hide();const i=()=>{this._element.classList.remove(Vc,Wc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new xr().reset(),X.trigger(this._element,qh)};this._queueCallback(i,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){X.trigger(this._element,Uc);return}this.hide()},i=!!this._config.backdrop;return new Ph({className:Cv,isVisible:i,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:i?e:null})}_initializeFocusTrap(){return new Fh({trapElement:this._element})}_addEventListeners(){X.on(this._element,Av,e=>{if(e.key===wv){if(this._config.keyboard){this.hide();return}X.trigger(this._element,Uc)}})}static jQueryInterface(e){return this.each(function(){const i=ri.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}X.on(document,Lv,kv,function(t){const e=le.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),oi(this))return;X.one(e,qh,()=>{hn(this)&&this.focus()});const i=le.findOne(Uh);i&&i!==e&&ri.getInstance(i).hide(),ri.getOrCreateInstance(e).toggle(this)});X.on(window,_v,()=>{for(const t of le.find(Uh))ri.getOrCreateInstance(t).show()});X.on(window,Tv,()=>{for(const t of le.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(t).position!=="fixed"&&ri.getOrCreateInstance(t).hide()});pl(ri);yt(ri);const Ov=/^aria-[\w-]*$/i,Zh={"*":["class","dir","id","lang","role",Ov],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Mv=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Bv=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Iv=(t,e)=>{const i=t.nodeName.toLowerCase();return e.includes(i)?Mv.has(i)?!!Bv.test(t.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(i))};function Rv(t,e,i){if(!t.length)return t;if(i&&typeof i=="function")return i(t);const s=new window.DOMParser().parseFromString(t,"text/html"),o=[].concat(...s.body.querySelectorAll("*"));for(const a of o){const d=a.nodeName.toLowerCase();if(!Object.keys(e).includes(d)){a.remove();continue}const l=[].concat(...a.attributes),f=[].concat(e["*"]||[],e[d]||[]);for(const u of l)Iv(u,f)||a.removeAttribute(u.nodeName)}return s.body.innerHTML}const zv="TemplateFactory",Hv={allowList:Zh,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Pv={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Fv={entry:"(string|element|function|null)",selector:"(string|element)"};class Vv extends Xn{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Hv}static get DefaultType(){return Pv}static get NAME(){return zv}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[s,o]of Object.entries(this._config.content))this._setContent(e,o,s);const i=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&i.classList.add(...n.split(" ")),i}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[i,n]of Object.entries(e))super._typeCheckConfig({selector:i,entry:n},Fv)}_setContent(e,i,n){const s=le.findOne(n,e);if(s){if(i=this._resolvePossibleFunction(i),!i){s.remove();return}if(Wt(i)){this._putElementInTemplate(li(i),s);return}if(this._config.html){s.innerHTML=this._maybeSanitize(i);return}s.textContent=i}}_maybeSanitize(e){return this._config.sanitize?Rv(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ke(e,[void 0,this])}_putElementInTemplate(e,i){if(this._config.html){i.innerHTML="",i.append(e);return}i.textContent=e.textContent}}const $v="tooltip",Wv=new Set(["sanitize","allowList","sanitizeFn"]),Ql="fade",Uv="modal",ps="show",qv=".tooltip-inner",qc=`.${Uv}`,Zc="hide.bs.modal",wn="hover",Jl="focus",eo="click",Zv="manual",Yv="hide",jv="hidden",Kv="show",Gv="shown",Xv="inserted",Qv="click",Jv="focusin",eb="focusout",tb="mouseenter",ib="mouseleave",nb={AUTO:"auto",TOP:"top",RIGHT:vt()?"left":"right",BOTTOM:"bottom",LEFT:vt()?"right":"left"},sb={allowList:Zh,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lb={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class pn extends Lt{constructor(e,i){if(typeof yh>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,i),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return sb}static get DefaultType(){return lb}static get NAME(){return $v}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),X.off(this._element.closest(qc),Zc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=X.trigger(this._element,this.constructor.eventName(Kv)),n=(Ch(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const s=this._getTipElement();this._element.setAttribute("aria-describedby",s.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(s),X.trigger(this._element,this.constructor.eventName(Xv))),this._popper=this._createPopper(s),s.classList.add(ps),"ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))X.on(d,"mouseover",Ys);const a=()=>{X.trigger(this._element,this.constructor.eventName(Gv)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(a,this.tip,this._isAnimated())}hide(){if(!this._isShown()||X.trigger(this._element,this.constructor.eventName(Yv)).defaultPrevented)return;if(this._getTipElement().classList.remove(ps),"ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))X.off(s,"mouseover",Ys);this._activeTrigger[eo]=!1,this._activeTrigger[Jl]=!1,this._activeTrigger[wn]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),X.trigger(this._element,this.constructor.eventName(jv)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const i=this._getTemplateFactory(e).toHtml();if(!i)return null;i.classList.remove(Ql,ps),i.classList.add(`bs-${this.constructor.NAME}-auto`);const n=Zg(this.constructor.NAME).toString();return i.setAttribute("id",n),this._isAnimated()&&i.classList.add(Ql),i}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new Vv({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[qv]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Ql)}_isShown(){return this.tip&&this.tip.classList.contains(ps)}_createPopper(e){const i=Ke(this._config.placement,[this,e,this._element]),n=nb[i.toUpperCase()];return ca(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(i=>Number.parseInt(i,10)):typeof e=="function"?i=>e(i,this._element):e}_resolvePossibleFunction(e){return Ke(e,[this._element,this._element])}_getPopperConfig(e){const i={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...i,...Ke(this._config.popperConfig,[void 0,i])}}_setListeners(){const e=this._config.trigger.split(" ");for(const i of e)if(i==="click")X.on(this._element,this.constructor.eventName(Qv),this._config.selector,n=>{const s=this._initializeOnDelegatedTarget(n);s._activeTrigger[eo]=!(s._isShown()&&s._activeTrigger[eo]),s.toggle()});else if(i!==Zv){const n=i===wn?this.constructor.eventName(tb):this.constructor.eventName(Jv),s=i===wn?this.constructor.eventName(ib):this.constructor.eventName(eb);X.on(this._element,n,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusin"?Jl:wn]=!0,a._enter()}),X.on(this._element,s,this._config.selector,o=>{const a=this._initializeOnDelegatedTarget(o);a._activeTrigger[o.type==="focusout"?Jl:wn]=a._element.contains(o.relatedTarget),a._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},X.on(this._element.closest(qc),Zc,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,i){clearTimeout(this._timeout),this._timeout=setTimeout(e,i)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const i=Ut.getDataAttributes(this._element);for(const n of Object.keys(i))Wv.has(n)&&delete i[n];return e={...i,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:li(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[i,n]of Object.entries(this._config))this.constructor.Default[i]!==n&&(e[i]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const i=pn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}yt(pn);const ob="popover",rb=".popover-header",ab=".popover-body",cb={...pn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},ub={...pn.DefaultType,content:"(null|string|element|function)"};class fa extends pn{static get Default(){return cb}static get DefaultType(){return ub}static get NAME(){return ob}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[rb]:this._getTitle(),[ab]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const i=fa.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e]()}})}}yt(fa);const db="scrollspy",hb="bs.scrollspy",pa=`.${hb}`,fb=".data-api",pb=`activate${pa}`,Yc=`click${pa}`,gb=`load${pa}${fb}`,mb="dropdown-item",Hi="active",vb='[data-bs-spy="scroll"]',to="[href]",bb=".nav, .list-group",jc=".nav-link",yb=".nav-item",_b=".list-group-item",wb=`${jc}, ${yb} > ${jc}, ${_b}`,Cb=".dropdown",Eb=".dropdown-toggle",Sb={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},xb={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class vl extends Lt{constructor(e,i){super(e,i),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Sb}static get DefaultType(){return xb}static get NAME(){return db}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=li(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(i=>Number.parseFloat(i))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(X.off(this._config.target,Yc),X.on(this._config.target,Yc,to,e=>{const i=this._observableSections.get(e.target.hash);if(i){e.preventDefault();const n=this._rootElement||window,s=i.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:s,behavior:"smooth"});return}n.scrollTop=s}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(i=>this._observerCallback(i),e)}_observerCallback(e){const i=a=>this._targetLinks.get(`#${a.target.id}`),n=a=>{this._previousScrollData.visibleEntryTop=a.target.offsetTop,this._process(i(a))},s=(this._rootElement||document.documentElement).scrollTop,o=s>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=s;for(const a of e){if(!a.isIntersecting){this._activeTarget=null,this._clearActiveClass(i(a));continue}const d=a.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&d){if(n(a),!s)return;continue}!o&&!d&&n(a)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=le.find(to,this._config.target);for(const i of e){if(!i.hash||oi(i))continue;const n=le.findOne(decodeURI(i.hash),this._element);hn(n)&&(this._targetLinks.set(decodeURI(i.hash),i),this._observableSections.set(i.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Hi),this._activateParents(e),X.trigger(this._element,pb,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(mb)){le.findOne(Eb,e.closest(Cb)).classList.add(Hi);return}for(const i of le.parents(e,bb))for(const n of le.prev(i,wb))n.classList.add(Hi)}_clearActiveClass(e){e.classList.remove(Hi);const i=le.find(`${to}.${Hi}`,e);for(const n of i)n.classList.remove(Hi)}static jQueryInterface(e){return this.each(function(){const i=vl.getOrCreateInstance(this,e);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}X.on(window,gb,()=>{for(const t of le.find(vb))vl.getOrCreateInstance(t)});yt(vl);const Tb="tab",Lb="bs.tab",Ni=`.${Lb}`,Ab=`hide${Ni}`,kb=`hidden${Ni}`,Nb=`show${Ni}`,Db=`shown${Ni}`,Ob=`click${Ni}`,Mb=`keydown${Ni}`,Bb=`load${Ni}`,Ib="ArrowLeft",Kc="ArrowRight",Rb="ArrowUp",Gc="ArrowDown",io="Home",Xc="End",wi="active",Qc="fade",no="show",zb="dropdown",Yh=".dropdown-toggle",Hb=".dropdown-menu",so=`:not(${Yh})`,Pb='.list-group, .nav, [role="tablist"]',Fb=".nav-item, .list-group-item",Vb=`.nav-link${so}, .list-group-item${so}, [role="tab"]${so}`,jh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',lo=`${Vb}, ${jh}`,$b=`.${wi}[data-bs-toggle="tab"], .${wi}[data-bs-toggle="pill"], .${wi}[data-bs-toggle="list"]`;class Li extends Lt{constructor(e){super(e),this._parent=this._element.closest(Pb),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),X.on(this._element,Mb,i=>this._keydown(i)))}static get NAME(){return Tb}show(){const e=this._element;if(this._elemIsActive(e))return;const i=this._getActiveElem(),n=i?X.trigger(i,Ab,{relatedTarget:e}):null;X.trigger(e,Nb,{relatedTarget:i}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(i,e),this._activate(e,i))}_activate(e,i){if(!e)return;e.classList.add(wi),this._activate(le.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(no);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),X.trigger(e,Db,{relatedTarget:i})};this._queueCallback(n,e,e.classList.contains(Qc))}_deactivate(e,i){if(!e)return;e.classList.remove(wi),e.blur(),this._deactivate(le.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(no);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),X.trigger(e,kb,{relatedTarget:i})};this._queueCallback(n,e,e.classList.contains(Qc))}_keydown(e){if(![Ib,Kc,Rb,Gc,io,Xc].includes(e.key))return;e.stopPropagation(),e.preventDefault();const i=this._getChildren().filter(s=>!oi(s));let n;if([io,Xc].includes(e.key))n=i[e.key===io?0:i.length-1];else{const s=[Kc,Gc].includes(e.key);n=ua(i,e.target,s,!0)}n&&(n.focus({preventScroll:!0}),Li.getOrCreateInstance(n).show())}_getChildren(){return le.find(lo,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,i){this._setAttributeIfNotExists(e,"role","tablist");for(const n of i)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const i=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",i),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),i||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const i=le.getElementFromSelector(e);i&&(this._setAttributeIfNotExists(i,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(i,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,i){const n=this._getOuterElement(e);if(!n.classList.contains(zb))return;const s=(o,a)=>{const d=le.findOne(o,n);d&&d.classList.toggle(a,i)};s(Yh,wi),s(Hb,no),n.setAttribute("aria-expanded",i)}_setAttributeIfNotExists(e,i,n){e.hasAttribute(i)||e.setAttribute(i,n)}_elemIsActive(e){return e.classList.contains(wi)}_getInnerElement(e){return e.matches(lo)?e:le.findOne(lo,e)}_getOuterElement(e){return e.closest(Fb)||e}static jQueryInterface(e){return this.each(function(){const i=Li.getOrCreateInstance(this);if(typeof e=="string"){if(i[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);i[e]()}})}}X.on(document,Ob,jh,function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),!oi(this)&&Li.getOrCreateInstance(this).show()});X.on(window,Bb,()=>{for(const t of le.find($b))Li.getOrCreateInstance(t)});yt(Li);const Wb="toast",Ub="bs.toast",hi=`.${Ub}`,qb=`mouseover${hi}`,Zb=`mouseout${hi}`,Yb=`focusin${hi}`,jb=`focusout${hi}`,Kb=`hide${hi}`,Gb=`hidden${hi}`,Xb=`show${hi}`,Qb=`shown${hi}`,Jb="fade",Jc="hide",gs="show",ms="showing",ey={animation:"boolean",autohide:"boolean",delay:"number"},ty={animation:!0,autohide:!0,delay:5e3};class gn extends Lt{constructor(e,i){super(e,i),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return ty}static get DefaultType(){return ey}static get NAME(){return Wb}show(){if(X.trigger(this._element,Xb).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Jb);const i=()=>{this._element.classList.remove(ms),X.trigger(this._element,Qb),this._maybeScheduleHide()};this._element.classList.remove(Jc),Gn(this._element),this._element.classList.add(gs,ms),this._queueCallback(i,this._element,this._config.animation)}hide(){if(!this.isShown()||X.trigger(this._element,Kb).defaultPrevented)return;const i=()=>{this._element.classList.add(Jc),this._element.classList.remove(ms,gs),X.trigger(this._element,Gb)};this._element.classList.add(ms),this._queueCallback(i,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(gs),super.dispose()}isShown(){return this._element.classList.contains(gs)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,i){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=i;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=i;break}}if(i){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){X.on(this._element,qb,e=>this._onInteraction(e,!0)),X.on(this._element,Zb,e=>this._onInteraction(e,!1)),X.on(this._element,Yb,e=>this._onInteraction(e,!0)),X.on(this._element,jb,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const i=gn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof i[e]>"u")throw new TypeError(`No method named "${e}"`);i[e](this)}})}}pl(gn);yt(gn);var oo,eu;function mn(){return eu||(eu=1,oo=TypeError),oo}const iy={},ny=Object.freeze(Object.defineProperty({__proto__:null,default:iy},Symbol.toStringTag,{value:"Module"})),sy=T0(ny);var ro,tu;function bl(){if(tu)return ro;tu=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,a=s&&o&&typeof o.get=="function"?o.get:null,d=s&&Set.prototype.forEach,l=typeof WeakMap=="function"&&WeakMap.prototype,f=l?WeakMap.prototype.has:null,u=typeof WeakSet=="function"&&WeakSet.prototype,p=u?WeakSet.prototype.has:null,C=typeof WeakRef=="function"&&WeakRef.prototype,w=C?WeakRef.prototype.deref:null,E=Boolean.prototype.valueOf,T=Object.prototype.toString,r=Function.prototype.toString,c=String.prototype.match,h=String.prototype.slice,m=String.prototype.replace,g=String.prototype.toUpperCase,b=String.prototype.toLowerCase,v=RegExp.prototype.test,y=Array.prototype.concat,S=Array.prototype.join,_=Array.prototype.slice,x=Math.floor,N=typeof BigInt=="function"?BigInt.prototype.valueOf:null,L=Object.getOwnPropertySymbols,A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,D=typeof Symbol=="function"&&typeof Symbol.iterator=="object",V=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===D||!0)?Symbol.toStringTag:null,F=Object.prototype.propertyIsEnumerable,H=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Z){return Z.__proto__}:null);function R(Z,Y){if(Z===1/0||Z===-1/0||Z!==Z||Z&&Z>-1e3&&Z<1e3||v.call(/e/,Y))return Y;var _e=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Z=="number"){var Ee=Z<0?-x(-Z):x(Z);if(Ee!==Z){var xe=String(Ee),ge=h.call(Y,xe.length+1);return m.call(xe,_e,"$&_")+"."+m.call(m.call(ge,/([0-9]{3})/g,"$&_"),/_$/,"")}}return m.call(Y,_e,"$&_")}var P=sy,I=P.custom,z=Q(I)?I:null,O={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};ro=function Z(Y,_e,Ee,xe){var ge=_e||{};if(oe(ge,"quoteStyle")&&!oe(O,ge.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(oe(ge,"maxStringLength")&&(typeof ge.maxStringLength=="number"?ge.maxStringLength<0&&ge.maxStringLength!==1/0:ge.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Je=oe(ge,"customInspect")?ge.customInspect:!0;if(typeof Je!="boolean"&&Je!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(oe(ge,"indent")&&ge.indent!==null&&ge.indent!=="	"&&!(parseInt(ge.indent,10)===ge.indent&&ge.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(oe(ge,"numericSeparator")&&typeof ge.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var et=ge.numericSeparator;if(typeof Y>"u")return"undefined";if(Y===null)return"null";if(typeof Y=="boolean")return Y?"true":"false";if(typeof Y=="string")return He(Y,ge);if(typeof Y=="number"){if(Y===0)return 1/0/Y>0?"0":"-0";var ze=String(Y);return et?R(Y,ze):ze}if(typeof Y=="bigint"){var tt=String(Y)+"n";return et?R(Y,tt):tt}var pt=typeof ge.depth>"u"?5:ge.depth;if(typeof Ee>"u"&&(Ee=0),Ee>=pt&&pt>0&&typeof Y=="object")return W(Y)?"[Array]":"[Object]";var Xt=_t(ge,Ee);if(typeof xe>"u")xe=[];else if(ie(xe,Y)>=0)return"[Circular]";function it(Bi,ns,d0){if(ns&&(xe=_.call(xe),xe.push(ns)),d0){var Za={depth:ge.depth};return oe(ge,"quoteStyle")&&(Za.quoteStyle=ge.quoteStyle),Z(Bi,Za,Ee+1,xe)}return Z(Bi,ge,Ee+1,xe)}if(typeof Y=="function"&&!q(Y)){var yn=re(Y),pi=ft(Y,it);return"[Function"+(yn?": "+yn:" (anonymous)")+"]"+(pi.length>0?" { "+S.call(pi,", ")+" }":"")}if(Q(Y)){var gi=D?m.call(String(Y),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(Y);return typeof Y=="object"&&!D?Se(gi):gi}if(Qe(Y)){for(var kt="<"+b.call(String(Y.nodeName)),Qt=Y.attributes||[],Oi=0;Oi<Qt.length;Oi++)kt+=" "+Qt[Oi].name+"="+k(M(Qt[Oi].value),"double",ge);return kt+=">",Y.childNodes&&Y.childNodes.length&&(kt+="..."),kt+="</"+b.call(String(Y.nodeName))+">",kt}if(W(Y)){if(Y.length===0)return"[]";var Mi=ft(Y,it);return Xt&&!ht(Mi)?"["+Ve(Mi,Xt)+"]":"[ "+S.call(Mi,", ")+" ]"}if(U(Y)){var Nl=ft(Y,it);return!("cause"in Error.prototype)&&"cause"in Y&&!F.call(Y,"cause")?"{ ["+String(Y)+"] "+S.call(y.call("[cause]: "+it(Y.cause),Nl),", ")+" }":Nl.length===0?"["+String(Y)+"]":"{ ["+String(Y)+"] "+S.call(Nl,", ")+" }"}if(typeof Y=="object"&&Je){if(z&&typeof Y[z]=="function"&&P)return P(Y,{depth:pt-Ee});if(Je!=="symbol"&&typeof Y.inspect=="function")return Y.inspect()}if(he(Y)){var $a=[];return n&&n.call(Y,function(Bi,ns){$a.push(it(ns,Y,!0)+" => "+it(Bi,Y))}),Le("Map",i.call(Y),$a,Xt)}if(me(Y)){var Wa=[];return d&&d.call(Y,function(Bi){Wa.push(it(Bi,Y))}),Le("Set",a.call(Y),Wa,Xt)}if(ae(Y))return Me("WeakMap");if(ve(Y))return Me("WeakSet");if(be(Y))return Me("WeakRef");if(G(Y))return Se(it(Number(Y)));if(te(Y))return Se(it(N.call(Y)));if(J(Y))return Se(E.call(Y));if(K(Y))return Se(it(String(Y)));if(typeof window<"u"&&Y===window)return"{ [object Window] }";if(typeof globalThis<"u"&&Y===globalThis||typeof Xa<"u"&&Y===Xa)return"{ [object globalThis] }";if(!j(Y)&&!q(Y)){var Dl=ft(Y,it),Ua=H?H(Y)===Object.prototype:Y instanceof Object||Y.constructor===Object,Ol=Y instanceof Object?"":"null prototype",qa=!Ua&&V&&Object(Y)===Y&&V in Y?h.call(ne(Y),8,-1):Ol?"Object":"",u0=Ua||typeof Y.constructor!="function"?"":Y.constructor.name?Y.constructor.name+" ":"",Ml=u0+(qa||Ol?"["+S.call(y.call([],qa||[],Ol||[]),": ")+"] ":"");return Dl.length===0?Ml+"{}":Xt?Ml+"{"+Ve(Dl,Xt)+"}":Ml+"{ "+S.call(Dl,", ")+" }"}return String(Y)};function k(Z,Y,_e){var Ee=_e.quoteStyle||Y,xe=O[Ee];return xe+Z+xe}function M(Z){return m.call(String(Z),/"/g,"&quot;")}function $(Z){return!V||!(typeof Z=="object"&&(V in Z||typeof Z[V]<"u"))}function W(Z){return ne(Z)==="[object Array]"&&$(Z)}function j(Z){return ne(Z)==="[object Date]"&&$(Z)}function q(Z){return ne(Z)==="[object RegExp]"&&$(Z)}function U(Z){return ne(Z)==="[object Error]"&&$(Z)}function K(Z){return ne(Z)==="[object String]"&&$(Z)}function G(Z){return ne(Z)==="[object Number]"&&$(Z)}function J(Z){return ne(Z)==="[object Boolean]"&&$(Z)}function Q(Z){if(D)return Z&&typeof Z=="object"&&Z instanceof Symbol;if(typeof Z=="symbol")return!0;if(!Z||typeof Z!="object"||!A)return!1;try{return A.call(Z),!0}catch{}return!1}function te(Z){if(!Z||typeof Z!="object"||!N)return!1;try{return N.call(Z),!0}catch{}return!1}var se=Object.prototype.hasOwnProperty||function(Z){return Z in this};function oe(Z,Y){return se.call(Z,Y)}function ne(Z){return T.call(Z)}function re(Z){if(Z.name)return Z.name;var Y=c.call(r.call(Z),/^function\s*([\w$]+)/);return Y?Y[1]:null}function ie(Z,Y){if(Z.indexOf)return Z.indexOf(Y);for(var _e=0,Ee=Z.length;_e<Ee;_e++)if(Z[_e]===Y)return _e;return-1}function he(Z){if(!i||!Z||typeof Z!="object")return!1;try{i.call(Z);try{a.call(Z)}catch{return!0}return Z instanceof Map}catch{}return!1}function ae(Z){if(!f||!Z||typeof Z!="object")return!1;try{f.call(Z,f);try{p.call(Z,p)}catch{return!0}return Z instanceof WeakMap}catch{}return!1}function be(Z){if(!w||!Z||typeof Z!="object")return!1;try{return w.call(Z),!0}catch{}return!1}function me(Z){if(!a||!Z||typeof Z!="object")return!1;try{a.call(Z);try{i.call(Z)}catch{return!0}return Z instanceof Set}catch{}return!1}function ve(Z){if(!p||!Z||typeof Z!="object")return!1;try{p.call(Z,p);try{f.call(Z,f)}catch{return!0}return Z instanceof WeakSet}catch{}return!1}function Qe(Z){return!Z||typeof Z!="object"?!1:typeof HTMLElement<"u"&&Z instanceof HTMLElement?!0:typeof Z.nodeName=="string"&&typeof Z.getAttribute=="function"}function He(Z,Y){if(Z.length>Y.maxStringLength){var _e=Z.length-Y.maxStringLength,Ee="... "+_e+" more character"+(_e>1?"s":"");return He(h.call(Z,0,Y.maxStringLength),Y)+Ee}var xe=B[Y.quoteStyle||"single"];xe.lastIndex=0;var ge=m.call(m.call(Z,xe,"\\$1"),/[\x00-\x1f]/g,Oe);return k(ge,"single",Y)}function Oe(Z){var Y=Z.charCodeAt(0),_e={8:"b",9:"t",10:"n",12:"f",13:"r"}[Y];return _e?"\\"+_e:"\\x"+(Y<16?"0":"")+g.call(Y.toString(16))}function Se(Z){return"Object("+Z+")"}function Me(Z){return Z+" { ? }"}function Le(Z,Y,_e,Ee){var xe=Ee?Ve(_e,Ee):S.call(_e,", ");return Z+" ("+Y+") {"+xe+"}"}function ht(Z){for(var Y=0;Y<Z.length;Y++)if(ie(Z[Y],`
`)>=0)return!1;return!0}function _t(Z,Y){var _e;if(Z.indent==="	")_e="	";else if(typeof Z.indent=="number"&&Z.indent>0)_e=S.call(Array(Z.indent+1)," ");else return null;return{base:_e,prev:S.call(Array(Y+1),_e)}}function Ve(Z,Y){if(Z.length===0)return"";var _e=`
`+Y.prev+Y.base;return _e+S.call(Z,","+_e)+`
`+Y.prev}function ft(Z,Y){var _e=W(Z),Ee=[];if(_e){Ee.length=Z.length;for(var xe=0;xe<Z.length;xe++)Ee[xe]=oe(Z,xe)?Y(Z[xe],Z):""}var ge=typeof L=="function"?L(Z):[],Je;if(D){Je={};for(var et=0;et<ge.length;et++)Je["$"+ge[et]]=ge[et]}for(var ze in Z)oe(Z,ze)&&(_e&&String(Number(ze))===ze&&ze<Z.length||D&&Je["$"+ze]instanceof Symbol||(v.call(/[^\w$]/,ze)?Ee.push(Y(ze,Z)+": "+Y(Z[ze],Z)):Ee.push(ze+": "+Y(Z[ze],Z))));if(typeof L=="function")for(var tt=0;tt<ge.length;tt++)F.call(Z,ge[tt])&&Ee.push("["+Y(ge[tt])+"]: "+Y(Z[ge[tt]],Z));return Ee}return ro}var ao,iu;function ly(){if(iu)return ao;iu=1;var t=bl(),e=mn(),i=function(d,l,f){for(var u=d,p;(p=u.next)!=null;u=p)if(p.key===l)return u.next=p.next,f||(p.next=d.next,d.next=p),p},n=function(d,l){if(d){var f=i(d,l);return f&&f.value}},s=function(d,l,f){var u=i(d,l);u?u.value=f:d.next={key:l,next:d.next,value:f}},o=function(d,l){return d?!!i(d,l):!1},a=function(d,l){if(d)return i(d,l,!0)};return ao=function(){var l,f={assert:function(u){if(!f.has(u))throw new e("Side channel does not contain "+t(u))},delete:function(u){var p=l&&l.next,C=a(l,u);return C&&p&&p===C&&(l=void 0),!!C},get:function(u){return n(l,u)},has:function(u){return o(l,u)},set:function(u,p){l||(l={next:void 0}),s(l,u,p)}};return f},ao}var co,nu;function Kh(){return nu||(nu=1,co=Object),co}var uo,su;function oy(){return su||(su=1,uo=Error),uo}var ho,lu;function ry(){return lu||(lu=1,ho=EvalError),ho}var fo,ou;function ay(){return ou||(ou=1,fo=RangeError),fo}var po,ru;function cy(){return ru||(ru=1,po=ReferenceError),po}var go,au;function uy(){return au||(au=1,go=SyntaxError),go}var mo,cu;function dy(){return cu||(cu=1,mo=URIError),mo}var vo,uu;function hy(){return uu||(uu=1,vo=Math.abs),vo}var bo,du;function fy(){return du||(du=1,bo=Math.floor),bo}var yo,hu;function py(){return hu||(hu=1,yo=Math.max),yo}var _o,fu;function gy(){return fu||(fu=1,_o=Math.min),_o}var wo,pu;function my(){return pu||(pu=1,wo=Math.pow),wo}var Co,gu;function vy(){return gu||(gu=1,Co=Math.round),Co}var Eo,mu;function by(){return mu||(mu=1,Eo=Number.isNaN||function(e){return e!==e}),Eo}var So,vu;function yy(){if(vu)return So;vu=1;var t=by();return So=function(i){return t(i)||i===0?i:i<0?-1:1},So}var xo,bu;function _y(){return bu||(bu=1,xo=Object.getOwnPropertyDescriptor),xo}var To,yu;function Gh(){if(yu)return To;yu=1;var t=_y();if(t)try{t([],"length")}catch{t=null}return To=t,To}var Lo,_u;function wy(){if(_u)return Lo;_u=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Lo=t,Lo}var Ao,wu;function Cy(){return wu||(wu=1,Ao=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},i=Symbol("test"),n=Object(i);if(typeof i=="string"||Object.prototype.toString.call(i)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[i]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==i||!Object.prototype.propertyIsEnumerable.call(e,i))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,i);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Ao}var ko,Cu;function Ey(){if(Cu)return ko;Cu=1;var t=typeof Symbol<"u"&&Symbol,e=Cy();return ko=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ko}var No,Eu;function Xh(){return Eu||(Eu=1,No=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),No}var Do,Su;function Qh(){if(Su)return Do;Su=1;var t=Kh();return Do=t.getPrototypeOf||null,Do}var Oo,xu;function Sy(){if(xu)return Oo;xu=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,i=Math.max,n="[object Function]",s=function(l,f){for(var u=[],p=0;p<l.length;p+=1)u[p]=l[p];for(var C=0;C<f.length;C+=1)u[C+l.length]=f[C];return u},o=function(l,f){for(var u=[],p=f,C=0;p<l.length;p+=1,C+=1)u[C]=l[p];return u},a=function(d,l){for(var f="",u=0;u<d.length;u+=1)f+=d[u],u+1<d.length&&(f+=l);return f};return Oo=function(l){var f=this;if(typeof f!="function"||e.apply(f)!==n)throw new TypeError(t+f);for(var u=o(arguments,1),p,C=function(){if(this instanceof p){var c=f.apply(this,s(u,arguments));return Object(c)===c?c:this}return f.apply(l,s(u,arguments))},w=i(0,f.length-u.length),E=[],T=0;T<w;T++)E[T]="$"+T;if(p=Function("binder","return function ("+a(E,",")+"){ return binder.apply(this,arguments); }")(C),f.prototype){var r=function(){};r.prototype=f.prototype,p.prototype=new r,r.prototype=null}return p},Oo}var Mo,Tu;function yl(){if(Tu)return Mo;Tu=1;var t=Sy();return Mo=Function.prototype.bind||t,Mo}var Bo,Lu;function ga(){return Lu||(Lu=1,Bo=Function.prototype.call),Bo}var Io,Au;function Jh(){return Au||(Au=1,Io=Function.prototype.apply),Io}var Ro,ku;function xy(){return ku||(ku=1,Ro=typeof Reflect<"u"&&Reflect&&Reflect.apply),Ro}var zo,Nu;function Ty(){if(Nu)return zo;Nu=1;var t=yl(),e=Jh(),i=ga(),n=xy();return zo=n||t.call(i,e),zo}var Ho,Du;function ef(){if(Du)return Ho;Du=1;var t=yl(),e=mn(),i=ga(),n=Ty();return Ho=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return n(t,i,o)},Ho}var Po,Ou;function Ly(){if(Ou)return Po;Ou=1;var t=ef(),e=Gh(),i;try{i=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!i&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return Po=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(d){return o(d==null?d:s(d))}:!1,Po}var Fo,Mu;function Ay(){if(Mu)return Fo;Mu=1;var t=Xh(),e=Qh(),i=Ly();return Fo=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:i?function(s){return i(s)}:null,Fo}var Vo,Bu;function ky(){if(Bu)return Vo;Bu=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,i=yl();return Vo=i.call(t,e),Vo}var $o,Iu;function ma(){if(Iu)return $o;Iu=1;var t,e=Kh(),i=oy(),n=ry(),s=ay(),o=cy(),a=uy(),d=mn(),l=dy(),f=hy(),u=fy(),p=py(),C=gy(),w=my(),E=vy(),T=yy(),r=Function,c=function(q){try{return r('"use strict"; return ('+q+").constructor;")()}catch{}},h=Gh(),m=wy(),g=function(){throw new d},b=h?(function(){try{return arguments.callee,g}catch{try{return h(arguments,"callee").get}catch{return g}}})():g,v=Ey()(),y=Ay(),S=Qh(),_=Xh(),x=Jh(),N=ga(),L={},A=typeof Uint8Array>"u"||!y?t:y(Uint8Array),D={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":v&&y?y([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":i,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":r,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v&&y?y(y([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!v||!y?t:y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":h,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!v||!y?t:y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v&&y?y(""[Symbol.iterator]()):t,"%Symbol%":v?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":b,"%TypedArray%":A,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":l,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":N,"%Function.prototype.apply%":x,"%Object.defineProperty%":m,"%Object.getPrototypeOf%":S,"%Math.abs%":f,"%Math.floor%":u,"%Math.max%":p,"%Math.min%":C,"%Math.pow%":w,"%Math.round%":E,"%Math.sign%":T,"%Reflect.getPrototypeOf%":_};if(y)try{null.error}catch(q){var V=y(y(q));D["%Error.prototype%"]=V}var F=function q(U){var K;if(U==="%AsyncFunction%")K=c("async function () {}");else if(U==="%GeneratorFunction%")K=c("function* () {}");else if(U==="%AsyncGeneratorFunction%")K=c("async function* () {}");else if(U==="%AsyncGenerator%"){var G=q("%AsyncGeneratorFunction%");G&&(K=G.prototype)}else if(U==="%AsyncIteratorPrototype%"){var J=q("%AsyncGenerator%");J&&y&&(K=y(J.prototype))}return D[U]=K,K},H={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},R=yl(),P=ky(),I=R.call(N,Array.prototype.concat),z=R.call(x,Array.prototype.splice),O=R.call(N,String.prototype.replace),B=R.call(N,String.prototype.slice),k=R.call(N,RegExp.prototype.exec),M=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,W=function(U){var K=B(U,0,1),G=B(U,-1);if(K==="%"&&G!=="%")throw new a("invalid intrinsic syntax, expected closing `%`");if(G==="%"&&K!=="%")throw new a("invalid intrinsic syntax, expected opening `%`");var J=[];return O(U,M,function(Q,te,se,oe){J[J.length]=se?O(oe,$,"$1"):te||Q}),J},j=function(U,K){var G=U,J;if(P(H,G)&&(J=H[G],G="%"+J[0]+"%"),P(D,G)){var Q=D[G];if(Q===L&&(Q=F(G)),typeof Q>"u"&&!K)throw new d("intrinsic "+U+" exists, but is not available. Please file an issue!");return{alias:J,name:G,value:Q}}throw new a("intrinsic "+U+" does not exist!")};return $o=function(U,K){if(typeof U!="string"||U.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof K!="boolean")throw new d('"allowMissing" argument must be a boolean');if(k(/^%?[^%]*%?$/,U)===null)throw new a("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var G=W(U),J=G.length>0?G[0]:"",Q=j("%"+J+"%",K),te=Q.name,se=Q.value,oe=!1,ne=Q.alias;ne&&(J=ne[0],z(G,I([0,1],ne)));for(var re=1,ie=!0;re<G.length;re+=1){var he=G[re],ae=B(he,0,1),be=B(he,-1);if((ae==='"'||ae==="'"||ae==="`"||be==='"'||be==="'"||be==="`")&&ae!==be)throw new a("property names with quotes must have matching quotes");if((he==="constructor"||!ie)&&(oe=!0),J+="."+he,te="%"+J+"%",P(D,te))se=D[te];else if(se!=null){if(!(he in se)){if(!K)throw new d("base intrinsic for "+U+" exists, but the property is not available.");return}if(h&&re+1>=G.length){var me=h(se,he);ie=!!me,ie&&"get"in me&&!("originalValue"in me.get)?se=me.get:se=se[he]}else ie=P(se,he),se=se[he];ie&&!oe&&(D[te]=se)}}return se},$o}var Wo,Ru;function tf(){if(Ru)return Wo;Ru=1;var t=ma(),e=ef(),i=e([t("%String.prototype.indexOf%")]);return Wo=function(s,o){var a=t(s,!!o);return typeof a=="function"&&i(s,".prototype.")>-1?e([a]):a},Wo}var Uo,zu;function nf(){if(zu)return Uo;zu=1;var t=ma(),e=tf(),i=bl(),n=mn(),s=t("%Map%",!0),o=e("Map.prototype.get",!0),a=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),l=e("Map.prototype.delete",!0),f=e("Map.prototype.size",!0);return Uo=!!s&&function(){var p,C={assert:function(w){if(!C.has(w))throw new n("Side channel does not contain "+i(w))},delete:function(w){if(p){var E=l(p,w);return f(p)===0&&(p=void 0),E}return!1},get:function(w){if(p)return o(p,w)},has:function(w){return p?d(p,w):!1},set:function(w,E){p||(p=new s),a(p,w,E)}};return C},Uo}var qo,Hu;function Ny(){if(Hu)return qo;Hu=1;var t=ma(),e=tf(),i=bl(),n=nf(),s=mn(),o=t("%WeakMap%",!0),a=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),l=e("WeakMap.prototype.has",!0),f=e("WeakMap.prototype.delete",!0);return qo=o?function(){var p,C,w={assert:function(E){if(!w.has(E))throw new s("Side channel does not contain "+i(E))},delete:function(E){if(o&&E&&(typeof E=="object"||typeof E=="function")){if(p)return f(p,E)}else if(n&&C)return C.delete(E);return!1},get:function(E){return o&&E&&(typeof E=="object"||typeof E=="function")&&p?a(p,E):C&&C.get(E)},has:function(E){return o&&E&&(typeof E=="object"||typeof E=="function")&&p?l(p,E):!!C&&C.has(E)},set:function(E,T){o&&E&&(typeof E=="object"||typeof E=="function")?(p||(p=new o),d(p,E,T)):n&&(C||(C=n()),C.set(E,T))}};return w}:n,qo}var Zo,Pu;function Dy(){if(Pu)return Zo;Pu=1;var t=mn(),e=bl(),i=ly(),n=nf(),s=Ny(),o=s||n||i;return Zo=function(){var d,l={assert:function(f){if(!l.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){return!!d&&d.delete(f)},get:function(f){return d&&d.get(f)},has:function(f){return!!d&&d.has(f)},set:function(f,u){d||(d=o()),d.set(f,u)}};return l},Zo}var Yo,Fu;function va(){if(Fu)return Yo;Fu=1;var t=String.prototype.replace,e=/%20/g,i={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Yo={default:i.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:i.RFC1738,RFC3986:i.RFC3986},Yo}var jo,Vu;function sf(){if(Vu)return jo;Vu=1;var t=va(),e=Object.prototype.hasOwnProperty,i=Array.isArray,n=(function(){for(var r=[],c=0;c<256;++c)r.push("%"+((c<16?"0":"")+c.toString(16)).toUpperCase());return r})(),s=function(c){for(;c.length>1;){var h=c.pop(),m=h.obj[h.prop];if(i(m)){for(var g=[],b=0;b<m.length;++b)typeof m[b]<"u"&&g.push(m[b]);h.obj[h.prop]=g}}},o=function(c,h){for(var m=h&&h.plainObjects?{__proto__:null}:{},g=0;g<c.length;++g)typeof c[g]<"u"&&(m[g]=c[g]);return m},a=function r(c,h,m){if(!h)return c;if(typeof h!="object"&&typeof h!="function"){if(i(c))c.push(h);else if(c&&typeof c=="object")(m&&(m.plainObjects||m.allowPrototypes)||!e.call(Object.prototype,h))&&(c[h]=!0);else return[c,h];return c}if(!c||typeof c!="object")return[c].concat(h);var g=c;return i(c)&&!i(h)&&(g=o(c,m)),i(c)&&i(h)?(h.forEach(function(b,v){if(e.call(c,v)){var y=c[v];y&&typeof y=="object"&&b&&typeof b=="object"?c[v]=r(y,b,m):c.push(b)}else c[v]=b}),c):Object.keys(h).reduce(function(b,v){var y=h[v];return e.call(b,v)?b[v]=r(b[v],y,m):b[v]=y,b},g)},d=function(c,h){return Object.keys(h).reduce(function(m,g){return m[g]=h[g],m},c)},l=function(r,c,h){var m=r.replace(/\+/g," ");if(h==="iso-8859-1")return m.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(m)}catch{return m}},f=1024,u=function(c,h,m,g,b){if(c.length===0)return c;var v=c;if(typeof c=="symbol"?v=Symbol.prototype.toString.call(c):typeof c!="string"&&(v=String(c)),m==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(A){return"%26%23"+parseInt(A.slice(2),16)+"%3B"});for(var y="",S=0;S<v.length;S+=f){for(var _=v.length>=f?v.slice(S,S+f):v,x=[],N=0;N<_.length;++N){var L=_.charCodeAt(N);if(L===45||L===46||L===95||L===126||L>=48&&L<=57||L>=65&&L<=90||L>=97&&L<=122||b===t.RFC1738&&(L===40||L===41)){x[x.length]=_.charAt(N);continue}if(L<128){x[x.length]=n[L];continue}if(L<2048){x[x.length]=n[192|L>>6]+n[128|L&63];continue}if(L<55296||L>=57344){x[x.length]=n[224|L>>12]+n[128|L>>6&63]+n[128|L&63];continue}N+=1,L=65536+((L&1023)<<10|_.charCodeAt(N)&1023),x[x.length]=n[240|L>>18]+n[128|L>>12&63]+n[128|L>>6&63]+n[128|L&63]}y+=x.join("")}return y},p=function(c){for(var h=[{obj:{o:c},prop:"o"}],m=[],g=0;g<h.length;++g)for(var b=h[g],v=b.obj[b.prop],y=Object.keys(v),S=0;S<y.length;++S){var _=y[S],x=v[_];typeof x=="object"&&x!==null&&m.indexOf(x)===-1&&(h.push({obj:v,prop:_}),m.push(x))}return s(h),c},C=function(c){return Object.prototype.toString.call(c)==="[object RegExp]"},w=function(c){return!c||typeof c!="object"?!1:!!(c.constructor&&c.constructor.isBuffer&&c.constructor.isBuffer(c))},E=function(c,h){return[].concat(c,h)},T=function(c,h){if(i(c)){for(var m=[],g=0;g<c.length;g+=1)m.push(h(c[g]));return m}return h(c)};return jo={arrayToObject:o,assign:d,combine:E,compact:p,decode:l,encode:u,isBuffer:w,isRegExp:C,maybeMap:T,merge:a},jo}var Ko,$u;function Oy(){if($u)return Ko;$u=1;var t=Dy(),e=sf(),i=va(),n=Object.prototype.hasOwnProperty,s={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,c){return r+"["+c+"]"},repeat:function(r){return r}},o=Array.isArray,a=Array.prototype.push,d=function(T,r){a.apply(T,o(r)?r:[r])},l=Date.prototype.toISOString,f=i.default,u={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(r){return l.call(r)},skipNulls:!1,strictNullHandling:!1},p=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},C={},w=function T(r,c,h,m,g,b,v,y,S,_,x,N,L,A,D,V,F,H){for(var R=r,P=H,I=0,z=!1;(P=P.get(C))!==void 0&&!z;){var O=P.get(r);if(I+=1,typeof O<"u"){if(O===I)throw new RangeError("Cyclic object value");z=!0}typeof P.get(C)>"u"&&(I=0)}if(typeof _=="function"?R=_(c,R):R instanceof Date?R=L(R):h==="comma"&&o(R)&&(R=e.maybeMap(R,function(te){return te instanceof Date?L(te):te})),R===null){if(b)return S&&!V?S(c,u.encoder,F,"key",A):c;R=""}if(p(R)||e.isBuffer(R)){if(S){var B=V?c:S(c,u.encoder,F,"key",A);return[D(B)+"="+D(S(R,u.encoder,F,"value",A))]}return[D(c)+"="+D(String(R))]}var k=[];if(typeof R>"u")return k;var M;if(h==="comma"&&o(R))V&&S&&(R=e.maybeMap(R,S)),M=[{value:R.length>0?R.join(",")||null:void 0}];else if(o(_))M=_;else{var $=Object.keys(R);M=x?$.sort(x):$}var W=y?String(c).replace(/\./g,"%2E"):String(c),j=m&&o(R)&&R.length===1?W+"[]":W;if(g&&o(R)&&R.length===0)return j+"[]";for(var q=0;q<M.length;++q){var U=M[q],K=typeof U=="object"&&U&&typeof U.value<"u"?U.value:R[U];if(!(v&&K===null)){var G=N&&y?String(U).replace(/\./g,"%2E"):String(U),J=o(R)?typeof h=="function"?h(j,G):j:j+(N?"."+G:"["+G+"]");H.set(r,I);var Q=t();Q.set(C,H),d(k,T(K,J,h,m,g,b,v,y,h==="comma"&&V&&o(R)?null:S,_,x,N,L,A,D,V,F,Q))}}return k},E=function(r){if(!r)return u;if(typeof r.allowEmptyArrays<"u"&&typeof r.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof r.encodeDotInKeys<"u"&&typeof r.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(r.encoder!==null&&typeof r.encoder<"u"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var c=r.charset||u.charset;if(typeof r.charset<"u"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var h=i.default;if(typeof r.format<"u"){if(!n.call(i.formatters,r.format))throw new TypeError("Unknown format option provided.");h=r.format}var m=i.formatters[h],g=u.filter;(typeof r.filter=="function"||o(r.filter))&&(g=r.filter);var b;if(r.arrayFormat in s?b=r.arrayFormat:"indices"in r?b=r.indices?"indices":"repeat":b=u.arrayFormat,"commaRoundTrip"in r&&typeof r.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var v=typeof r.allowDots>"u"?r.encodeDotInKeys===!0?!0:u.allowDots:!!r.allowDots;return{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:u.addQueryPrefix,allowDots:v,allowEmptyArrays:typeof r.allowEmptyArrays=="boolean"?!!r.allowEmptyArrays:u.allowEmptyArrays,arrayFormat:b,charset:c,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:u.charsetSentinel,commaRoundTrip:!!r.commaRoundTrip,delimiter:typeof r.delimiter>"u"?u.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:u.encode,encodeDotInKeys:typeof r.encodeDotInKeys=="boolean"?r.encodeDotInKeys:u.encodeDotInKeys,encoder:typeof r.encoder=="function"?r.encoder:u.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:u.encodeValuesOnly,filter:g,format:h,formatter:m,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:u.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:u.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:u.strictNullHandling}};return Ko=function(T,r){var c=T,h=E(r),m,g;typeof h.filter=="function"?(g=h.filter,c=g("",c)):o(h.filter)&&(g=h.filter,m=g);var b=[];if(typeof c!="object"||c===null)return"";var v=s[h.arrayFormat],y=v==="comma"&&h.commaRoundTrip;m||(m=Object.keys(c)),h.sort&&m.sort(h.sort);for(var S=t(),_=0;_<m.length;++_){var x=m[_],N=c[x];h.skipNulls&&N===null||d(b,w(N,x,v,y,h.allowEmptyArrays,h.strictNullHandling,h.skipNulls,h.encodeDotInKeys,h.encode?h.encoder:null,h.filter,h.sort,h.allowDots,h.serializeDate,h.format,h.formatter,h.encodeValuesOnly,h.charset,S))}var L=b.join(h.delimiter),A=h.addQueryPrefix===!0?"?":"";return h.charsetSentinel&&(h.charset==="iso-8859-1"?A+="utf8=%26%2310003%3B&":A+="utf8=%E2%9C%93&"),L.length>0?A+L:""},Ko}var Go,Wu;function My(){if(Wu)return Go;Wu=1;var t=sf(),e=Object.prototype.hasOwnProperty,i=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(C){return C.replace(/&#(\d+);/g,function(w,E){return String.fromCharCode(parseInt(E,10))})},o=function(C,w,E){if(C&&typeof C=="string"&&w.comma&&C.indexOf(",")>-1)return C.split(",");if(w.throwOnLimitExceeded&&E>=w.arrayLimit)throw new RangeError("Array limit exceeded. Only "+w.arrayLimit+" element"+(w.arrayLimit===1?"":"s")+" allowed in an array.");return C},a="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",l=function(w,E){var T={__proto__:null},r=E.ignoreQueryPrefix?w.replace(/^\?/,""):w;r=r.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var c=E.parameterLimit===1/0?void 0:E.parameterLimit,h=r.split(E.delimiter,E.throwOnLimitExceeded?c+1:c);if(E.throwOnLimitExceeded&&h.length>c)throw new RangeError("Parameter limit exceeded. Only "+c+" parameter"+(c===1?"":"s")+" allowed.");var m=-1,g,b=E.charset;if(E.charsetSentinel)for(g=0;g<h.length;++g)h[g].indexOf("utf8=")===0&&(h[g]===d?b="utf-8":h[g]===a&&(b="iso-8859-1"),m=g,g=h.length);for(g=0;g<h.length;++g)if(g!==m){var v=h[g],y=v.indexOf("]="),S=y===-1?v.indexOf("="):y+1,_,x;S===-1?(_=E.decoder(v,n.decoder,b,"key"),x=E.strictNullHandling?null:""):(_=E.decoder(v.slice(0,S),n.decoder,b,"key"),x=t.maybeMap(o(v.slice(S+1),E,i(T[_])?T[_].length:0),function(L){return E.decoder(L,n.decoder,b,"value")})),x&&E.interpretNumericEntities&&b==="iso-8859-1"&&(x=s(String(x))),v.indexOf("[]=")>-1&&(x=i(x)?[x]:x);var N=e.call(T,_);N&&E.duplicates==="combine"?T[_]=t.combine(T[_],x):(!N||E.duplicates==="last")&&(T[_]=x)}return T},f=function(C,w,E,T){var r=0;if(C.length>0&&C[C.length-1]==="[]"){var c=C.slice(0,-1).join("");r=Array.isArray(w)&&w[c]?w[c].length:0}for(var h=T?w:o(w,E,r),m=C.length-1;m>=0;--m){var g,b=C[m];if(b==="[]"&&E.parseArrays)g=E.allowEmptyArrays&&(h===""||E.strictNullHandling&&h===null)?[]:t.combine([],h);else{g=E.plainObjects?{__proto__:null}:{};var v=b.charAt(0)==="["&&b.charAt(b.length-1)==="]"?b.slice(1,-1):b,y=E.decodeDotInKeys?v.replace(/%2E/g,"."):v,S=parseInt(y,10);!E.parseArrays&&y===""?g={0:h}:!isNaN(S)&&b!==y&&String(S)===y&&S>=0&&E.parseArrays&&S<=E.arrayLimit?(g=[],g[S]=h):y!=="__proto__"&&(g[y]=h)}h=g}return h},u=function(w,E,T,r){if(w){var c=T.allowDots?w.replace(/\.([^.[]+)/g,"[$1]"):w,h=/(\[[^[\]]*])/,m=/(\[[^[\]]*])/g,g=T.depth>0&&h.exec(c),b=g?c.slice(0,g.index):c,v=[];if(b){if(!T.plainObjects&&e.call(Object.prototype,b)&&!T.allowPrototypes)return;v.push(b)}for(var y=0;T.depth>0&&(g=m.exec(c))!==null&&y<T.depth;){if(y+=1,!T.plainObjects&&e.call(Object.prototype,g[1].slice(1,-1))&&!T.allowPrototypes)return;v.push(g[1])}if(g){if(T.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+T.depth+" and strictDepth is true");v.push("["+c.slice(g.index)+"]")}return f(v,E,T,r)}},p=function(w){if(!w)return n;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.decodeDotInKeys<"u"&&typeof w.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(w.decoder!==null&&typeof w.decoder<"u"&&typeof w.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof w.throwOnLimitExceeded<"u"&&typeof w.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var E=typeof w.charset>"u"?n.charset:w.charset,T=typeof w.duplicates>"u"?n.duplicates:w.duplicates;if(T!=="combine"&&T!=="first"&&T!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var r=typeof w.allowDots>"u"?w.decodeDotInKeys===!0?!0:n.allowDots:!!w.allowDots;return{allowDots:r,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof w.allowPrototypes=="boolean"?w.allowPrototypes:n.allowPrototypes,allowSparse:typeof w.allowSparse=="boolean"?w.allowSparse:n.allowSparse,arrayLimit:typeof w.arrayLimit=="number"?w.arrayLimit:n.arrayLimit,charset:E,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:n.charsetSentinel,comma:typeof w.comma=="boolean"?w.comma:n.comma,decodeDotInKeys:typeof w.decodeDotInKeys=="boolean"?w.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof w.decoder=="function"?w.decoder:n.decoder,delimiter:typeof w.delimiter=="string"||t.isRegExp(w.delimiter)?w.delimiter:n.delimiter,depth:typeof w.depth=="number"||w.depth===!1?+w.depth:n.depth,duplicates:T,ignoreQueryPrefix:w.ignoreQueryPrefix===!0,interpretNumericEntities:typeof w.interpretNumericEntities=="boolean"?w.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof w.parameterLimit=="number"?w.parameterLimit:n.parameterLimit,parseArrays:w.parseArrays!==!1,plainObjects:typeof w.plainObjects=="boolean"?w.plainObjects:n.plainObjects,strictDepth:typeof w.strictDepth=="boolean"?!!w.strictDepth:n.strictDepth,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof w.throwOnLimitExceeded=="boolean"?w.throwOnLimitExceeded:!1}};return Go=function(C,w){var E=p(w);if(C===""||C===null||typeof C>"u")return E.plainObjects?{__proto__:null}:{};for(var T=typeof C=="string"?l(C,E):C,r=E.plainObjects?{__proto__:null}:{},c=Object.keys(T),h=0;h<c.length;++h){var m=c[h],g=u(m,T[m],E,typeof C=="string");r=t.merge(r,g,E)}return E.allowSparse===!0?r:t.compact(r)},Go}var Xo,Uu;function By(){if(Uu)return Xo;Uu=1;var t=Oy(),e=My(),i=va();return Xo={formats:i,parse:e,stringify:t},Xo}var Iy=By();const Ry=ci(Iy),Cn="sending";function ba(t,{form:e,submitter:i,url:n=null,method:s=null,params:o=null,beforeHandler:a,successHandler:d,errorHandler:l,completeHandler:f}){if(!e&&(!n||!s)||(t?.preventDefault(),e&&e?.isFormSending)||i&&i?.isSubmitterSending)return;n=n||zy(t,e),s=(s||e?.method||"get").toLowerCase();const u=s==="get";if(!o&&e){const C=new FormData(e);if(u){const w=new URLSearchParams(C).toString();o=Ry.parse(w)}else o=C}if(!i){const C=e.id;i=C?document.querySelector(`[data-submit-loader][form="${C}"]`):null}e&&(e.isFormSending=!0,e.classList.add(Cn)),i&&(i.isSubmitterSending=!0,i.classList.add(Cn)),typeof a=="function"&&a();const p={headers:{}};u?p.params=o:p.headers["Content-Type"]="multipart/form-data",axios[s](n,u?p:o,u?void 0:p).then(function(C){typeof d=="function"&&d(C)}).catch(function(C){const w=C?.response?.data?.errors,E=C?.response?.data?.message;typeof l=="function"&&l(C),console.error(w||E)}).finally(()=>{if(e){const C=t?.submitter||document.querySelector(`button[type="submit"][form="${e.id}"]`);e.isFormSending=!1,e.classList.remove(Cn),C?.classList.remove(Cn)}i&&(i.isSubmitterSending=!1,i?.classList.remove(Cn)),typeof f=="function"&&f()})}function zy(t,e){const i=e?.getAttribute("action");return i&&i!=="#"?i:t?.submitter?.dataset?.formAction}function Hy(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-modal-button]");if(!e)return;const i=document.getElementById(e.dataset.modal);let n=e.dataset.action;ba(t,{submitter:e,url:n,method:"get",successHandler:s=>{Py(),Fy(i,s.data)},errorHandler:s=>{console.log(s)}})})}function Py(){document.querySelectorAll(".modal.show").forEach(e=>{const i=We.getInstance(e);i?i.hide():new We(e).hide()})}function Fy(t,e=null){if(!t||!e)return;t.innerHTML=e,Vy();let i=We.getInstance(t);if(i?.show){i.show();return}i=new We(t),i.show()}function Vy(){Wr(),Vr(),Zr()}function $y(){document.addEventListener("click",t=>{const e=t?.target?.closest("[data-ajax-view-delete-modal-button]");if(!e)return;const i=document.getElementById("confirm-delete-modal");let n=e.dataset.action;ba(t,{submitter:e,url:n,method:"get",params:{subtitle:e.dataset.subtitle,delete_action:e.dataset.deleteAction,update_id_section:e.dataset.updateIdSection},successHandler:s=>{Wy(),Uy(i,s.data)},errorHandler:s=>{console.log(s)}})})}function Wy(){document.querySelectorAll(".modal.show").forEach(e=>{const i=We.getInstance(e);i?i.hide():new We(e).hide()})}function Uy(t,e=null){if(!t||!e)return;t.innerHTML=e;let i=We.getInstance(t);if(i?.show){i.show();return}i=new We(t),i.show()}function qy(){document.addEventListener("submit",t=>{const e=t?.target?.closest("[data-ajax-with-update-from-view]");if(!e)return;const i=document.getElementById(e.dataset.updateIdSection);ba(t,{form:e,successHandler:n=>{Zy(),i.innerHTML=n.data},errorHandler:n=>{console.error(n)}})})}function Zy(){document.querySelectorAll(".modal.show").forEach(e=>{const i=We.getInstance(e);i?i.hide():new We(e).hide()})}/*!
 * OverlayScrollbars
 * Version: 2.12.0
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const lt=(t,e)=>{const{o:i,i:n,u:s}=t;let o=i,a;const d=(u,p)=>{const C=o,w=u,E=p||(n?!n(C,w):C!==w);return(E||s)&&(o=w,a=C),[o,E,a]};return[e?u=>d(e(o,a),u):d,u=>[o,!!u,a]]},Yy=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,Xe=Yy?window:{},lf=Math.max,jy=Math.min,Tr=Math.round,Gs=Math.abs,qu=Math.sign,of=Xe.cancelAnimationFrame,ya=Xe.requestAnimationFrame,_a=Xe.setTimeout,rf=Xe.clearTimeout,_l=t=>typeof Xe[t]<"u"?Xe[t]:void 0,Ky=_l("MutationObserver"),Zu=_l("IntersectionObserver"),Yi=_l("ResizeObserver"),kn=_l("ScrollTimeline"),wa=t=>t===void 0,wl=t=>t===null,qt=t=>typeof t=="number",es=t=>typeof t=="string",Cl=t=>typeof t=="boolean",At=t=>typeof t=="function",xt=t=>Array.isArray(t),Xs=t=>typeof t=="object"&&!xt(t)&&!wl(t),Ca=t=>{const e=!!t&&t.length,i=qt(e)&&e>-1&&e%1==0;return xt(t)||!At(t)&&i?e>0&&Xs(t)?e-1 in t:!0:!1},Qs=t=>!!t&&t.constructor===Object,Js=t=>t instanceof HTMLElement,El=t=>t instanceof Element;function Te(t,e){if(Ca(t))for(let i=0;i<t.length&&e(t[i],i,t)!==!1;i++);else t&&Te(Object.keys(t),(i=>e(t[i],i,t)));return t}const af=(t,e)=>t.indexOf(e)>=0,Fn=(t,e)=>t.concat(e),De=(t,e,i)=>(!es(e)&&Ca(e)?Array.prototype.push.apply(t,e):t.push(e),t),fi=t=>Array.from(t||[]),Ea=t=>xt(t)?t:!es(t)&&Ca(t)?fi(t):[t],el=t=>!!t&&!t.length,Lr=t=>fi(new Set(t)),rt=(t,e,i)=>{Te(t,s=>s?s.apply(void 0,e||[]):!0),i||(t.length=0)},cf="paddingTop",uf="paddingRight",df="paddingLeft",hf="paddingBottom",ff="marginLeft",pf="marginRight",gf="marginBottom",Sa="overflowX",xa="overflowY",Sl="width",xl="height",Vt="visible",St="hidden",rn="scroll",Gy=t=>{const e=String(t||"");return e?e[0].toUpperCase()+e.slice(1):""},Tl=(t,e,i,n)=>{if(t&&e){let s=!0;return Te(i,(o=>{const a=t[o],d=e[o];a!==d&&(s=!1)})),s}return!1},mf=(t,e)=>Tl(t,e,["w","h"]),zs=(t,e)=>Tl(t,e,["x","y"]),Xy=(t,e)=>Tl(t,e,["t","r","b","l"]),fe=(t,...e)=>t.bind(0,...e),ji=t=>{let e;const i=t?_a:ya,n=t?rf:of;return[s=>{n(e),e=i((()=>s()),At(t)?t():t)},()=>n(e)]},Yu=t=>{const e=At(t)?t():t;if(qt(e)){const i=e?_a:ya,n=e?rf:of;return s=>{const o=i((()=>s()),e);return()=>{n(o)}}}return e&&e._},tl=(t,e)=>{const{p:i,v:n,S:s,m:o}=e||{};let a,d,l,f;const u=function(T){d&&d(),a&&a(),f=d=a=l=void 0,t.apply(this,T)},p=E=>o&&l?o(l,E):E,C=()=>{d&&l&&u(p(l)||l)},w=function(){const T=fi(arguments),r=Yu(i);if(r){const c=Yu(n),m=p(T)||T,g=u.bind(0,m);d&&d(),s&&!f?(g(),f=!0,d=r((()=>f=void 0))):(d=r(g),c&&!a&&(a=c(C))),l=m}else u(T)};return w.O=C,w},vf=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Tt=t=>t?Object.keys(t):[],Ce=(t,e,i,n,s,o,a)=>{const d=[e,i,n,s,o,a];return(typeof t!="object"||wl(t))&&!At(t)&&(t={}),Te(d,(l=>{Te(l,((f,u)=>{const p=l[u];if(t===p)return!0;const C=xt(p);if(p&&Qs(p)){const w=t[u];let E=w;C&&!xt(w)?E=[]:!C&&!Qs(w)&&(E={}),t[u]=Ce(E,p)}else t[u]=C?p.slice():p}))})),t},bf=(t,e)=>Te(Ce({},t),((i,n,s)=>{i===void 0?delete s[n]:i&&Qs(i)&&(s[n]=bf(i))})),Ta=t=>!Tt(t).length,Vn=()=>{},yf=(t,e,i)=>lf(t,jy(e,i)),Ei=t=>Lr((xt(t)?t:(t||"").split(" ")).filter((e=>e))),La=(t,e)=>t&&t.getAttribute(e),ju=(t,e)=>t&&t.hasAttribute(e),Pt=(t,e,i)=>{Te(Ei(e),(n=>{t&&t.setAttribute(n,String(i||""))}))},Nt=(t,e)=>{Te(Ei(e),(i=>t&&t.removeAttribute(i)))},Ll=(t,e)=>{const i=Ei(La(t,e)),n=fe(Pt,t,e),s=(o,a)=>{const d=new Set(i);return Te(Ei(o),(l=>{d[a](l)})),fi(d).join(" ")};return{C:o=>n(s(o,"delete")),$:o=>n(s(o,"add")),H:o=>{const a=Ei(o);return a.reduce(((d,l)=>d&&i.includes(l)),a.length>0)}}},_f=(t,e,i)=>(Ll(t,e).C(i),fe(Aa,t,e,i)),Aa=(t,e,i)=>(Ll(t,e).$(i),fe(_f,t,e,i)),il=(t,e,i,n)=>(n?Aa:_f)(t,e,i),ka=(t,e,i)=>Ll(t,e).H(i),wf=t=>Ll(t,"class"),Cf=(t,e)=>{wf(t).C(e)},Na=(t,e)=>(wf(t).$(e),fe(Cf,t,e)),Ef=(t,e)=>{const i=e?El(e)&&e:document;return i?fi(i.querySelectorAll(t)):[]},Qy=(t,e)=>{const i=e?El(e)&&e:document;return i&&i.querySelector(t)},Ar=(t,e)=>El(t)&&t.matches(e),Sf=t=>Ar(t,"body"),kr=t=>t?fi(t.childNodes):[],$n=t=>t&&t.parentElement,Ki=(t,e)=>El(t)&&t.closest(e),Nr=t=>document.activeElement,Jy=(t,e,i)=>{const n=Ki(t,e),s=t&&Qy(i,n),o=Ki(s,e)===n;return n&&s?n===t||s===t||o&&Ki(Ki(t,i),e)!==n:!1},an=t=>{Te(Ea(t),(e=>{const i=$n(e);e&&i&&i.removeChild(e)}))},Ge=(t,e)=>fe(an,t&&e&&Te(Ea(e),(i=>{i&&t.appendChild(i)})));let xf;const e_=()=>xf,t_=t=>{xf=t},Qi=t=>{const e=document.createElement("div");return Pt(e,"class",t),e},Tf=t=>{const e=Qi(),i=e_(),n=t.trim();return e.innerHTML=i?i.createHTML(n):n,Te(kr(e),(s=>an(s)))},Ku=(t,e)=>t.getPropertyValue(e)||t[e]||"",Lf=t=>{const e=t||0;return isFinite(e)?e:0},vs=t=>Lf(parseFloat(t||"")),Dr=t=>Math.round(t*1e4)/1e4,Af=t=>`${Dr(Lf(t))}px`;function Wn(t,e){t&&e&&Te(e,((i,n)=>{try{const s=t.style,o=wl(i)||Cl(i)?"":qt(i)?Af(i):i;n.indexOf("--")===0?s.setProperty(n,o):s[n]=o}catch{}}))}function zt(t,e,i){const n=es(e);let s=n?"":{};if(t){const o=Xe.getComputedStyle(t,i)||t.style;s=n?Ku(o,e):fi(e).reduce(((a,d)=>(a[d]=Ku(o,d),a)),s)}return s}const Gu=(t,e,i)=>{const n=e?`${e}-`:"",s=i?`-${i}`:"",o=`${n}top${s}`,a=`${n}right${s}`,d=`${n}bottom${s}`,l=`${n}left${s}`,f=zt(t,[o,a,d,l]);return{t:vs(f[o]),r:vs(f[a]),b:vs(f[d]),l:vs(f[l])}},Qo=(t,e)=>`translate${Xs(t)?`(${t.x},${t.y})`:`${e?"X":"Y"}(${t})`}`,i_=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),n_={w:0,h:0},Al=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:n_,s_=t=>Al("inner",t||Xe),Ji=fe(Al,"offset"),kf=fe(Al,"client"),nl=fe(Al,"scroll"),Da=t=>{const e=parseFloat(zt(t,Sl))||0,i=parseFloat(zt(t,xl))||0;return{w:e-Tr(e),h:i-Tr(i)}},Jo=t=>t.getBoundingClientRect(),l_=t=>!!t&&i_(t),Or=t=>!!(t&&(t[xl]||t[Sl])),Nf=(t,e)=>{const i=Or(t);return!Or(e)&&i},Xu=(t,e,i,n)=>{Te(Ei(e),(s=>{t&&t.removeEventListener(s,i,n)}))},Ae=(t,e,i,n)=>{var s;const o=(s=n&&n.T)!=null?s:!0,a=n&&n.I||!1,d=n&&n.A||!1,l={passive:o,capture:a};return fe(rt,Ei(e).map((f=>{const u=d?p=>{Xu(t,f,u,a),i&&i(p)}:i;return t&&t.addEventListener(f,u,l),fe(Xu,t,f,u,a)})))},Df=t=>t.stopPropagation(),Mr=t=>t.preventDefault(),Of=t=>Df(t)||Mr(t),Dt=(t,e)=>{const{x:i,y:n}=qt(e)?{x:e,y:e}:e||{};qt(i)&&(t.scrollLeft=i),qt(n)&&(t.scrollTop=n)},ot=t=>({x:t.scrollLeft,y:t.scrollTop}),Mf=()=>({D:{x:0,y:0},M:{x:0,y:0}}),o_=(t,e)=>{const{D:i,M:n}=t,{w:s,h:o}=e,a=(p,C,w)=>{let E=qu(p)*w,T=qu(C)*w;if(E===T){const r=Gs(p),c=Gs(C);T=r>c?0:T,E=r<c?0:E}return E=E===T?0:E,[E+0,T+0]},[d,l]=a(i.x,n.x,s),[f,u]=a(i.y,n.y,o);return{D:{x:d,y:f},M:{x:l,y:u}}},er=({D:t,M:e})=>{const i=(n,s)=>n===0&&n<=s;return{x:i(t.x,e.x),y:i(t.y,e.y)}},Qu=({D:t,M:e},i)=>{const n=(s,o,a)=>yf(0,1,(s-a)/(s-o)||0);return{x:n(t.x,e.x,i.x),y:n(t.y,e.y,i.y)}},Br=t=>{t&&t.focus&&t.focus({preventScroll:!0})},Ju=(t,e)=>{Te(Ea(e),t)},Ir=t=>{const e=new Map,i=(o,a)=>{if(o){const d=e.get(o);Ju((l=>{d&&d[l?"delete":"clear"](l)}),a)}else e.forEach((d=>{d.clear()})),e.clear()},n=(o,a)=>{if(es(o)){const f=e.get(o)||new Set;return e.set(o,f),Ju((u=>{At(u)&&f.add(u)}),a),fe(i,o,a)}Cl(a)&&a&&i();const d=Tt(o),l=[];return Te(d,(f=>{const u=o[f];u&&De(l,n(f,u))})),fe(rt,l)},s=(o,a)=>{Te(fi(e.get(o)),(d=>{a&&!el(a)?d.apply(0,a):d()}))};return n(t||{}),[n,i,s]},Bf={},If={},r_=t=>{Te(t,(e=>Te(e,((i,n)=>{Bf[n]=e[n]}))))},Rf=(t,e,i)=>Tt(t).map((n=>{const{static:s,instance:o}=t[n],[a,d,l]=i||[],f=i?o:s;if(f){const u=i?f(a,d,e):f(e);return(l||If)[n]=u}})),vn=t=>If[t],a_="__osOptionsValidationPlugin",bn="data-overlayscrollbars",Hs="os-environment",bs=`${Hs}-scrollbar-hidden`,tr=`${bn}-initialize`,Ps="noClipping",ed=`${bn}-body`,ni=bn,c_="host",Ft=`${bn}-viewport`,u_=Sa,d_=xa,h_="arrange",zf="measuring",f_="scrolling",Hf="scrollbarHidden",p_="noContent",Rr=`${bn}-padding`,td=`${bn}-content`,Oa="os-size-observer",g_=`${Oa}-appear`,m_=`${Oa}-listener`,v_="os-trinsic-observer",b_="os-theme-none",dt="os-scrollbar",y_=`${dt}-rtl`,__=`${dt}-horizontal`,w_=`${dt}-vertical`,Pf=`${dt}-track`,Ma=`${dt}-handle`,C_=`${dt}-visible`,E_=`${dt}-cornerless`,id=`${dt}-interaction`,nd=`${dt}-unusable`,zr=`${dt}-auto-hide`,sd=`${zr}-hidden`,ld=`${dt}-wheel`,S_=`${Pf}-interactive`,x_=`${Ma}-interactive`,T_="__osSizeObserverPlugin",L_=(t,e)=>{const{k:i}=e,[n,s]=t("showNativeOverlaidScrollbars");return[n&&i.x&&i.y,s]},Gi=t=>t.indexOf(Vt)===0,A_=t=>t.replace(`${Vt}-`,""),Hr=(t,e)=>{if(t==="auto")return e?rn:St;const i=t||St;return[St,rn,Vt].includes(i)?i:St},k_=(t,e)=>{const{overflowX:i,overflowY:n}=zt(t,[Sa,xa]);return{x:Hr(i,e.x),y:Hr(n,e.y)}},Ba="__osScrollbarsHidingPlugin",N_="__osClickScrollPlugin",od=t=>JSON.stringify(t,((e,i)=>{if(At(i))throw 0;return i})),rd=(t,e)=>t?`${e}`.split(".").reduce(((i,n)=>i&&vf(i,n)?i[n]:void 0),t):void 0,D_={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Ff=(t,e)=>{const i={},n=Fn(Tt(e),Tt(t));return Te(n,(s=>{const o=t[s],a=e[s];if(Xs(o)&&Xs(a))Ce(i[s]={},Ff(o,a)),Ta(i[s])&&delete i[s];else if(vf(e,s)&&a!==o){let d=!0;if(xt(o)||xt(a))try{od(o)===od(a)&&(d=!1)}catch{}d&&(i[s]=a)}})),i},ad=(t,e,i)=>n=>[rd(t,n),i||rd(e,n)!==void 0];let Vf;const O_=()=>Vf,M_=t=>{Vf=t};let ir;const B_=()=>{const t=(g,b,v)=>{Ge(document.body,g),Ge(document.body,g);const y=kf(g),S=Ji(g),_=Da(b);return v&&an(g),{x:S.h-y.h+_.h,y:S.w-y.w+_.w}},e=g=>{let b=!1;const v=Na(g,bs);try{b=zt(g,"scrollbar-width")==="none"||zt(g,"display","::-webkit-scrollbar")==="none"}catch{}return v(),b},i=`.${Hs}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Hs} div{width:200%;height:200%;margin:10px 0}.${bs}{scrollbar-width:none!important}.${bs}::-webkit-scrollbar,.${bs}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,s=Tf(`<div class="${Hs}"><div></div><style>${i}</style></div>`)[0],o=s.firstChild,a=s.lastChild,d=O_();d&&(a.nonce=d);const[l,,f]=Ir(),[u,p]=lt({o:t(s,o),i:zs},fe(t,s,o,!0)),[C]=p(),w=e(s),E={x:C.x===0,y:C.y===0},T={elements:{host:null,padding:!w,viewport:g=>w&&Sf(g)&&g,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},r=Ce({},D_),c=fe(Ce,{},r),h=fe(Ce,{},T),m={P:C,k:E,U:w,J:!!kn,G:fe(l,"r"),K:h,Z:g=>Ce(T,g)&&h(),tt:c,nt:g=>Ce(r,g)&&c(),ot:Ce({},T),st:Ce({},r)};if(Nt(s,"style"),an(s),Ae(Xe,"resize",(()=>{f("r",[])})),At(Xe.matchMedia)&&!w&&(!E.x||!E.y)){const g=b=>{const v=Xe.matchMedia(`(resolution: ${Xe.devicePixelRatio}dppx)`);Ae(v,"change",(()=>{b(),g(b)}),{A:!0})};g((()=>{const[b,v]=u();Ce(m.P,b),f("r",[v])}))}return m},Ht=()=>(ir||(ir=B_()),ir),I_=(t,e,i)=>{let n=!1;const s=i?new WeakMap:!1,o=()=>{n=!0},a=d=>{if(s&&i){const l=i.map((f=>{const[u,p]=f||[];return[p&&u?(d||Ef)(u,t):[],p]}));Te(l,(f=>Te(f[0],(u=>{const p=f[1],C=s.get(u)||[];if(t.contains(u)&&p){const E=Ae(u,p,(T=>{n?(E(),s.delete(u)):e(T)}));s.set(u,De(C,E))}else rt(C),s.delete(u)}))))}};return a(),[o,a]},cd=(t,e,i,n)=>{let s=!1;const{et:o,ct:a,rt:d,it:l,lt:f,ut:u}=n||{},p=tl((()=>s&&i(!0)),{p:33,v:99}),[C,w]=I_(t,p,d),E=o||[],T=a||[],r=Fn(E,T),c=(m,g)=>{if(!el(g)){const b=f||Vn,v=u||Vn,y=[],S=[];let _=!1,x=!1;if(Te(g,(N=>{const{attributeName:L,target:A,type:D,oldValue:V,addedNodes:F,removedNodes:H}=N,R=D==="attributes",P=D==="childList",I=t===A,z=R&&L,O=z&&La(A,L||""),B=es(O)?O:null,k=z&&V!==B,M=af(T,L)&&k;if(e&&(P||!I)){const $=R&&k,W=$&&l&&Ar(A,l),q=(W?!b(A,L,V,B):!R||$)&&!v(N,!!W,t,n);Te(F,(U=>De(y,U))),Te(H,(U=>De(y,U))),x=x||q}!e&&I&&k&&!b(A,L,V,B)&&(De(S,L),_=_||M)})),w((N=>Lr(y).reduce(((L,A)=>(De(L,Ef(N,A)),Ar(A,N)?De(L,A):L)),[]))),e)return!m&&x&&i(!1),[!1];if(!el(S)||_){const N=[Lr(S),_];return m||i.apply(0,N),N}}},h=new Ky(fe(c,!1));return[()=>(h.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:r,subtree:e,childList:e,characterData:e}),s=!0,()=>{s&&(C(),h.disconnect(),s=!1)}),()=>{if(s)return p.O(),c(!0,h.takeRecords())}]};let bi=null;const $f=(t,e,i)=>{const{ft:n}=i||{},s=vn(T_),[o]=lt({o:!1,u:!0});return()=>{const a=[],l=Tf(`<div class="${Oa}"><div class="${m_}"></div></div>`)[0],f=l.firstChild,u=p=>{const C=xt(p)&&!el(p);let w=!1,E=!1;if(C){const T=p[0],[r,,c]=o(T.contentRect),h=Or(r);E=Nf(r,c),w=!E&&!h}else E=p===!0;w||e({_t:!0,ft:E})};if(Yi){if(!Cl(bi)){const E=new Yi(Vn);E.observe(t,{get box(){bi=!0}}),bi=bi||!1,E.disconnect()}const p=tl(u,{p:0,v:0}),C=E=>p(E),w=new Yi(C);if(w.observe(bi?t:f),De(a,[()=>{w.disconnect()},!bi&&Ge(t,l)]),bi){const E=new Yi(C);E.observe(t,{box:"border-box"}),De(a,(()=>E.disconnect()))}}else if(s){const[p,C]=s(f,u,n);De(a,Fn([Na(l,g_),Ae(l,"animationstart",p),Ge(t,l)],C))}else return Vn;return fe(rt,a)}},R_=(t,e)=>{let i;const n=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,s=Qi(v_),[o]=lt({o:!1}),a=(l,f)=>{if(l){const u=o(n(l)),[,p]=u;return p&&!f&&e(u)&&[u]}},d=(l,f)=>a(f.pop(),l);return[()=>{const l=[];if(Zu)i=new Zu(fe(d,!1),{root:t}),i.observe(s),De(l,(()=>{i.disconnect()}));else{const f=()=>{const u=Ji(s);a(u)};De(l,$f(s,f)()),f()}return fe(rt,De(l,Ge(t,s)))},()=>i&&d(!0,i.takeRecords())]},z_=(t,e,i,n)=>{let s,o,a,d,l,f;const u=`[${ni}]`,p=`[${Ft}]`,C=["id","class","style","open","wrap","cols","rows"],{dt:w,vt:E,L:T,gt:r,ht:c,V:h,bt:m,wt:g,yt:b,St:v}=t,y=M=>zt(M,"direction")==="rtl",S={Ot:!1,B:y(w)},_=Ht(),x=vn(Ba),[N]=lt({i:mf,o:{w:0,h:0}},(()=>{const M=x&&x.R(t,e,S,_,i).Y,W=!(m&&h)&&ka(E,ni,Ps),j=!h&&g(h_),q=j&&ot(r),U=q&&v(),K=b(zf,W),G=j&&M&&M(),J=nl(T),Q=Da(T);return G&&G(),Dt(r,q),U&&U(),W&&K(),{w:J.w+Q.w,h:J.h+Q.h}})),L=tl(n,{p:()=>s,v:()=>o,m(M,$){const[W]=M,[j]=$;return[Fn(Tt(W),Tt(j)).reduce(((q,U)=>(q[U]=W[U]||j[U],q)),{})]}}),A=M=>{const $=y(w);Ce(M,{Ct:f!==$}),Ce(S,{B:$}),f=$},D=(M,$)=>{const[W,j]=M,q={$t:j};return Ce(S,{Ot:W}),$||n(q),q},V=({_t:M,ft:$})=>{const j=!(M&&!$)&&_.U?L:n,q={_t:M||$,ft:$};A(q),j(q)},F=(M,$)=>{const[,W]=N(),j={xt:W};return A(j),W&&!$&&(M?n:L)(j),j},H=(M,$,W)=>{const j={Ht:$};return A(j),$&&!W&&L(j),j},[R,P]=c?R_(E,D):[],I=!h&&$f(E,V,{ft:!0}),[z,O]=cd(E,!1,H,{ct:C,et:C}),B=h&&Yi&&new Yi((M=>{const $=M[M.length-1].contentRect;V({_t:!0,ft:Nf($,l)}),l=$})),k=tl((()=>{const[,M]=N();n({xt:M,_t:m})}),{p:222,S:!0});return[()=>{B&&B.observe(E);const M=I&&I(),$=R&&R(),W=z(),j=_.G((q=>{q?L({Et:q}):k()}));return()=>{B&&B.disconnect(),M&&M(),$&&$(),d&&d(),W(),j()}},({zt:M,Tt:$,It:W})=>{const j={},[q]=M("update.ignoreMutation"),[U,K]=M("update.attributes"),[G,J]=M("update.elementEvents"),[Q,te]=M("update.debounce"),se=J||K,oe=$||W,ne=re=>At(q)&&q(re);if(se){a&&a(),d&&d();const[re,ie]=cd(c||T,!0,F,{et:Fn(C,U||[]),rt:G,it:u,ut:(he,ae)=>{const{target:be,attributeName:me}=he;return(!ae&&me&&!h?Jy(be,u,p):!1)||!!Ki(be,`.${dt}`)||!!ne(he)}});d=re(),a=ie}if(te)if(L.O(),xt(Q)){const re=Q[0],ie=Q[1];s=qt(re)&&re,o=qt(ie)&&ie}else qt(Q)?(s=Q,o=!1):(s=!1,o=!1);if(oe){const re=O(),ie=P&&P(),he=a&&a();re&&Ce(j,H(re[0],re[1],oe)),ie&&Ce(j,D(ie[0],oe)),he&&Ce(j,F(he[0],oe))}return A(j),j},S]},Wf=(t,e)=>At(e)?e.apply(0,t):e,H_=(t,e,i,n)=>{const s=wa(n)?i:n;return Wf(t,s)||e.apply(0,t)},Uf=(t,e,i,n)=>{const s=wa(n)?i:n,o=Wf(t,s);return!!o&&(Js(o)?o:e.apply(0,t))},P_=(t,e)=>{const{nativeScrollbarsOverlaid:i,body:n}=e||{},{k:s,U:o,K:a}=Ht(),{nativeScrollbarsOverlaid:d,body:l}=a().cancel,f=i??d,u=wa(n)?l:n,p=(s.x||s.y)&&f,C=t&&(wl(u)?!o:u);return!!p||!!C},F_=(t,e,i,n)=>{const s="--os-viewport-percent",o="--os-scroll-percent",a="--os-scroll-direction",{K:d}=Ht(),{scrollbars:l}=d(),{slot:f}=l,{dt:u,vt:p,L:C,At:w,gt:E,bt:T,V:r}=e,{scrollbars:c}=w?{}:t,{slot:h}=c||{},m=[],g=[],b=[],v=Uf([u,p,C],(()=>r&&T?u:p),f,h),y=z=>{if(kn){let O=null,B=[];const k=new kn({source:E,axis:z}),M=()=>{O&&O.cancel(),O=null};return{kt:W=>{const{Dt:j}=i,q=er(j)[z],U=z==="x",K=[Qo(0,U),Qo(`calc(100cq${U?"w":"h"} + -100%)`,U)],G=q?K:K.reverse();return B[0]===G[0]&&B[1]===G[1]||(M(),B=G,O=W.Mt.animate({clear:["left"],transform:G},{timeline:k})),M}}}},S={x:y("x"),y:y("y")},_=()=>{const{Rt:z,Vt:O}=i,B=(k,M)=>yf(0,1,k/(k+M)||0);return{x:B(O.x,z.x),y:B(O.y,z.y)}},x=(z,O,B)=>{const k=B?Na:Cf;Te(z,(M=>{k(M.Lt,O)}))},N=(z,O)=>{Te(z,(B=>{const[k,M]=O(B);Wn(k,M)}))},L=(z,O,B)=>{const k=Cl(B),M=k?B:!0,$=k?!B:!0;M&&x(g,z,O),$&&x(b,z,O)},A=()=>{const z=_(),O=B=>k=>[k.Lt,{[s]:Dr(B)+""}];N(g,O(z.x)),N(b,O(z.y))},D=()=>{if(!kn){const{Dt:z}=i,O=Qu(z,ot(E)),B=k=>M=>[M.Lt,{[o]:Dr(k)+""}];N(g,B(O.x)),N(b,B(O.y))}},V=()=>{const{Dt:z}=i,O=er(z),B=k=>M=>[M.Lt,{[a]:k?"0":"1"}];N(g,B(O.x)),N(b,B(O.y)),kn&&(g.forEach(S.x.kt),b.forEach(S.y.kt))},F=()=>{if(r&&!T){const{Rt:z,Dt:O}=i,B=er(O),k=Qu(O,ot(E)),M=$=>{const{Lt:W}=$,j=$n(W)===C&&W,q=(U,K,G)=>{const J=K*U;return Af(G?J:-J)};return[j,j&&{transform:Qo({x:q(k.x,z.x,B.x),y:q(k.y,z.y,B.y)})}]};N(g,M),N(b,M)}},H=z=>{const O=z?"x":"y",k=Qi(`${dt} ${z?__:w_}`),M=Qi(Pf),$=Qi(Ma),W={Lt:k,Ut:M,Mt:$},j=S[O];return De(z?g:b,W),De(m,[Ge(k,M),Ge(M,$),fe(an,k),j&&j.kt(W),n(W,L,z)]),W},R=fe(H,!0),P=fe(H,!1),I=()=>(Ge(v,g[0].Lt),Ge(v,b[0].Lt),fe(rt,m));return R(),P(),[{Pt:A,Nt:D,qt:V,Bt:F,Ft:L,jt:{Xt:g,Yt:R,Wt:fe(N,g)},Jt:{Xt:b,Yt:P,Wt:fe(N,b)}},I]},V_=(t,e,i,n)=>(s,o,a)=>{const{vt:d,L:l,V:f,gt:u,Gt:p,St:C}=e,{Lt:w,Ut:E,Mt:T}=s,[r,c]=ji(333),[h,m]=ji(444),g=y=>{At(u.scrollBy)&&u.scrollBy({behavior:"smooth",left:y.x,top:y.y})},b=()=>{const y="pointerup pointercancel lostpointercapture",S=`client${a?"X":"Y"}`,_=a?Sl:xl,x=a?"left":"top",N=a?"w":"h",L=a?"x":"y",A=(V,F)=>H=>{const{Rt:R}=i,P=Ji(E)[N]-Ji(T)[N],z=F*H/P*R[L];Dt(u,{[L]:V+z})},D=[];return Ae(E,"pointerdown",(V=>{const F=Ki(V.target,`.${Ma}`)===T,H=F?T:E,R=t.scrollbars,P=R[F?"dragScroll":"clickScroll"],{button:I,isPrimary:z,pointerType:O}=V,{pointers:B}=R;if(I===0&&z&&P&&(B||[]).includes(O)){rt(D),m();const M=!F&&(V.shiftKey||P==="instant"),$=fe(Jo,T),W=fe(Jo,E),j=(ae,be)=>(ae||$())[x]-(be||W())[x],q=Tr(Jo(u)[_])/Ji(u)[N]||1,U=A(ot(u)[L],1/q),K=V[S],G=$(),J=W(),Q=G[_],te=j(G,J)+Q/2,se=K-J[x],oe=F?0:se-te,ne=ae=>{rt(he),H.releasePointerCapture(ae.pointerId)},re=F||M,ie=C(),he=[Ae(p,y,ne),Ae(p,"selectstart",(ae=>Mr(ae)),{T:!1}),Ae(E,y,ne),re&&Ae(E,"pointermove",(ae=>U(oe+(ae[S]-K)))),re&&(()=>{const ae=ot(u);ie();const be=ot(u),me={x:be.x-ae.x,y:be.y-ae.y};(Gs(me.x)>3||Gs(me.y)>3)&&(C(),Dt(u,ae),g(me),h(ie))})];if(H.setPointerCapture(V.pointerId),M)U(oe);else if(!F){const ae=vn(N_);if(ae){const be=ae(U,oe,Q,(me=>{me?ie():De(he,ie)}));De(he,be),De(D,fe(be,!0))}}}}))};let v=!0;return fe(rt,[Ae(T,"pointermove pointerleave",n),Ae(w,"pointerenter",(()=>{o(id,!0)})),Ae(w,"pointerleave pointercancel",(()=>{o(id,!1)})),!f&&Ae(w,"mousedown",(()=>{const y=Nr();(ju(y,Ft)||ju(y,ni)||y===document.body)&&_a(fe(Br,l),25)})),Ae(w,"wheel",(y=>{const{deltaX:S,deltaY:_,deltaMode:x}=y;v&&x===0&&$n(w)===d&&g({x:S,y:_}),v=!1,o(ld,!0),r((()=>{v=!0,o(ld)})),Mr(y)}),{T:!1,I:!0}),Ae(w,"pointerdown",(()=>{const y=Ae(p,"click",(_=>{S(),Of(_)}),{A:!0,I:!0,T:!1}),S=Ae(p,"pointerup pointercancel",(()=>{S(),setTimeout(y,150)}),{I:!0,T:!0})}),{I:!0,T:!0}),b(),c,m])},$_=(t,e,i,n,s,o)=>{let a,d,l,f,u,p=Vn,C=0;const w=["mouse","pen"],E=B=>w.includes(B.pointerType),[T,r]=ji(),[c,h]=ji(100),[m,g]=ji(100),[b,v]=ji((()=>C)),[y,S]=F_(t,s,n,V_(e,s,n,(B=>E(B)&&R()))),{vt:_,Kt:x,bt:N}=s,{Ft:L,Pt:A,Nt:D,qt:V,Bt:F}=y,H=(B,k)=>{if(v(),B)L(sd);else{const M=fe(L,sd,!0);C>0&&!k?b(M):M()}},R=()=>{(l?!a:!f)&&(H(!0),c((()=>{H(!1)})))},P=B=>{L(zr,B,!0),L(zr,B,!1)},I=B=>{E(B)&&(a=l,l&&H(!0))},z=[v,h,g,r,()=>p(),Ae(_,"pointerover",I,{A:!0}),Ae(_,"pointerenter",I),Ae(_,"pointerleave",(B=>{E(B)&&(a=!1,l&&H(!1))})),Ae(_,"pointermove",(B=>{E(B)&&d&&R()})),Ae(x,"scroll",(B=>{T((()=>{D(),R()})),o(B),F()}))],O=vn(Ba);return[()=>fe(rt,De(z,S())),({zt:B,It:k,Qt:M,Zt:$})=>{const{tn:W,nn:j,sn:q,en:U}=$||{},{Ct:K,ft:G}=M||{},{B:J}=i,{k:Q,U:te}=Ht(),{cn:se,j:oe}=n,[ne,re]=B("showNativeOverlaidScrollbars"),[ie,he]=B("scrollbars.theme"),[ae,be]=B("scrollbars.visibility"),[me,ve]=B("scrollbars.autoHide"),[Qe,He]=B("scrollbars.autoHideSuspend"),[Oe]=B("scrollbars.autoHideDelay"),[Se,Me]=B("scrollbars.dragScroll"),[Le,ht]=B("scrollbars.clickScroll"),[_t,Ve]=B("overflow"),ft=G&&!k,Z=oe.x||oe.y,Y=W||j||U||K||k,_e=q||be||Ve,Ee=ne&&Q.x&&Q.y,xe=!te&&!O,ge=Ee||xe,Je=(et,ze,tt)=>{const pt=et.includes(rn)&&(ae===Vt||ae==="auto"&&ze===rn);return L(C_,pt,tt),pt};if(C=Oe,ft&&(Qe&&Z?(P(!1),p(),m((()=>{p=Ae(x,"scroll",fe(P,!0),{A:!0})}))):P(!0)),(re||xe)&&L(b_,ge),he&&(L(u),L(ie,!0),u=ie),He&&!Qe&&P(!0),ve&&(d=me==="move",l=me==="leave",f=me==="never",H(f,!0)),Me&&L(x_,Se),ht&&L(S_,!!Le),_e){const et=Je(_t.x,se.x,!0),ze=Je(_t.y,se.y,!1);L(E_,!(et&&ze))}Y&&(D(),A(),F(),U&&V(),L(nd,!oe.x,!0),L(nd,!oe.y,!1),L(y_,J&&!N))},{},y]},W_=t=>{const e=Ht(),{K:i,U:n}=e,{elements:s}=i(),{padding:o,viewport:a,content:d}=s,l=Js(t),f=l?{}:t,{elements:u}=f,{padding:p,viewport:C,content:w}=u||{},E=l?t:f.target,T=Sf(E),r=E.ownerDocument,c=r.documentElement,h=()=>r.defaultView||Xe,m=fe(H_,[E]),g=fe(Uf,[E]),b=fe(Qi,""),v=fe(m,b,a),y=fe(g,b,d),S=Q=>{const te=Ji(Q),se=nl(Q),oe=zt(Q,Sa),ne=zt(Q,xa);return se.w-te.w>0&&!Gi(oe)||se.h-te.h>0&&!Gi(ne)},_=v(C),x=_===E,N=x&&T,L=!x&&y(w),A=!x&&_===L,D=N?c:_,V=N?D:E,F=!x&&g(b,o,p),H=!A&&L,R=[H,D,F,V].map((Q=>Js(Q)&&!$n(Q)&&Q)),P=Q=>Q&&af(R,Q),I=!P(D)&&S(D)?D:E,z=N?c:D,B={dt:E,vt:V,L:D,rn:F,ht:H,gt:z,Kt:N?r:D,ln:T?c:I,Gt:r,bt:T,At:l,V:x,an:h,wt:Q=>ka(D,Ft,Q),yt:(Q,te)=>il(D,Ft,Q,te),St:()=>il(z,Ft,f_,!0)},{dt:k,vt:M,rn:$,L:W,ht:j}=B,q=[()=>{Nt(M,[ni,tr]),Nt(k,tr),T&&Nt(c,[tr,ni])}];let U=kr([j,W,$,M,k].find((Q=>Q&&!P(Q))));const K=N?k:j||W,G=fe(rt,q);return[B,()=>{const Q=h(),te=Nr(),se=he=>{Ge($n(he),kr(he)),an(he)},oe=he=>Ae(he,"focusin focusout focus blur",Of,{I:!0,T:!1}),ne="tabindex",re=La(W,ne),ie=oe(te);return Pt(M,ni,x?"":c_),Pt($,Rr,""),Pt(W,Ft,""),Pt(j,td,""),x||(Pt(W,ne,re||"-1"),T&&Pt(c,ed,"")),Ge(K,U),Ge(M,$),Ge($||M,!x&&W),Ge(W,j),De(q,[ie,()=>{const he=Nr(),ae=P(W),be=ae&&he===W?k:he,me=oe(be);Nt($,Rr),Nt(j,td),Nt(W,Ft),T&&Nt(c,ed),re?Pt(W,ne,re):Nt(W,ne),P(j)&&se(j),ae&&se(W),P($)&&se($),Br(be),me()}]),n&&!x&&(Aa(W,Ft,Hf),De(q,fe(Nt,W,Ft))),Br(!x&&T&&te===k&&Q.top===Q?W:te),ie(),U=0,G},G]},U_=({ht:t})=>({Qt:e,un:i,It:n})=>{const{$t:s}=e||{},{Ot:o}=i;t&&(s||n)&&Wn(t,{[xl]:o&&"100%"})},q_=({vt:t,rn:e,L:i,V:n},s)=>{const[o,a]=lt({i:Xy,o:Gu()},fe(Gu,t,"padding",""));return({zt:d,Qt:l,un:f,It:u})=>{let[p,C]=a(u);const{U:w}=Ht(),{_t:E,xt:T,Ct:r}=l||{},{B:c}=f,[h,m]=d("paddingAbsolute");(E||C||(u||T))&&([p,C]=o(u));const b=!n&&(m||r||C);if(b){const v=!h||!e&&!w,y=p.r+p.l,S=p.t+p.b,_={[pf]:v&&!c?-y:0,[gf]:v?-S:0,[ff]:v&&c?-y:0,top:v?-p.t:0,right:v?c?-p.r:"auto":0,left:v?c?"auto":-p.l:0,[Sl]:v&&`calc(100% + ${y}px)`},x={[cf]:v?p.t:0,[uf]:v?p.r:0,[hf]:v?p.b:0,[df]:v?p.l:0};Wn(e||i,_),Wn(i,x),Ce(s,{rn:p,fn:!v,F:e?x:Ce({},_,x)})}return{_n:b}}},Z_=(t,e)=>{const i=Ht(),{vt:n,rn:s,L:o,V:a,Kt:d,gt:l,bt:f,yt:u,an:p}=t,{U:C}=i,w=f&&a,E=fe(lf,0),T={display:()=>!1,direction:B=>B!=="ltr",flexDirection:B=>B.endsWith("-reverse"),writingMode:B=>B!=="horizontal-tb"},r=Tt(T),c={i:mf,o:{w:0,h:0}},h={i:zs,o:{}},m=B=>{u(zf,!w&&B)},g=B=>{if(!r.some((G=>{const J=B[G];return J&&T[G](J)})))return{D:{x:0,y:0},M:{x:1,y:1}};m(!0);const M=ot(l),$=u(p_,!0),W=Ae(d,rn,(G=>{const J=ot(l);G.isTrusted&&J.x===M.x&&J.y===M.y&&Df(G)}),{I:!0,A:!0});Dt(l,{x:0,y:0}),$();const j=ot(l),q=nl(l);Dt(l,{x:q.w,y:q.h});const U=ot(l);Dt(l,{x:U.x-j.x<1&&-q.w,y:U.y-j.y<1&&-q.h});const K=ot(l);return Dt(l,M),ya((()=>W())),{D:j,M:K}},b=(B,k)=>{const M=Xe.devicePixelRatio%1!==0?1:0,$={w:E(B.w-k.w),h:E(B.h-k.h)};return{w:$.w>M?$.w:0,h:$.h>M?$.h:0}},v=(B,k)=>{const M=($,W,j,q)=>{const U=$===Vt?St:A_($),K=Gi($),G=Gi(j);return!W&&!q?St:K&&G?Vt:K?W&&q?U:W?Vt:St:W?U:G&&q?Vt:St};return{x:M(k.x,B.x,k.y,B.y),y:M(k.y,B.y,k.x,B.x)}},y=B=>{const k=$=>[Vt,St,rn].map((W=>O(Hr(W),$))),M=k(!0).concat(k()).join(" ");u(M),u(Tt(B).map(($=>O(B[$],$==="x"))).join(" "),!0)},[S,_]=lt(c,fe(Da,o)),[x,N]=lt(c,fe(nl,o)),[L,A]=lt(c),[D]=lt(h),[V,F]=lt(c),[H]=lt(h),[R]=lt({i:(B,k)=>Tl(B,k,r),o:{}},(()=>l_(o)?zt(o,r):{})),[P,I]=lt({i:(B,k)=>zs(B.D,k.D)&&zs(B.M,k.M),o:Mf()}),z=vn(Ba),O=(B,k)=>`${k?u_:d_}${Gy(B)}`;return({zt:B,Qt:k,un:M,It:$},{_n:W})=>{const{_t:j,Ht:q,xt:U,Ct:K,ft:G,Et:J}=k||{},Q=z&&z.R(t,e,M,i,B),{X:te,Y:se,W:oe}=Q||{},[ne,re]=L_(B,i),[ie,he]=B("overflow"),ae=Gi(ie.x),be=Gi(ie.y),me=j||W||U||K||J||re;let ve=_($),Qe=N($),He=A($),Oe=F($);if(re&&C&&u(Hf,!ne),me){ka(n,ni,Ps)&&m(!0);const yn=se&&se(),[pi]=ve=S($),[gi]=Qe=x($),kt=kf(o),Qt=w&&s_(p()),Oi={w:E(gi.w+pi.w),h:E(gi.h+pi.h)},Mi={w:E((Qt?Qt.w:kt.w+E(kt.w-gi.w))+pi.w),h:E((Qt?Qt.h:kt.h+E(kt.h-gi.h))+pi.h)};yn&&yn(),Oe=V(Mi),He=L(b(Oi,Mi),$)}const[Se,Me]=Oe,[Le,ht]=He,[_t,Ve]=Qe,[ft,Z]=ve,[Y,_e]=D({x:Le.w>0,y:Le.h>0}),Ee=ae&&be&&(Y.x||Y.y)||ae&&Y.x&&!Y.y||be&&Y.y&&!Y.x,xe=W||K||J||Z||Ve||Me||ht||he||re||me||q&&w,[ge,Je]=R($),et=K||G||Je||_e||$,[ze,tt]=et?P(g(ge),$):I();let pt=v(Y,ie);m(!1),xe&&(y(pt),pt=k_(o,Y),oe&&te&&(te(pt,_t,ft),Wn(o,oe(pt))));const[Xt,it]=H(pt);return il(n,ni,Ps,Ee),il(s,Rr,Ps,Ee),Ce(e,{cn:Xt,Vt:{x:Se.w,y:Se.h},Rt:{x:Le.w,y:Le.h},j:Y,Dt:o_(ze,Le)}),{sn:it,tn:Me,nn:ht,en:tt||ht}}},Y_=t=>{const[e,i,n]=W_(t),s={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[pf]:0,[gf]:0,[ff]:0,[cf]:0,[uf]:0,[hf]:0,[df]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:St,y:St},j:{x:!1,y:!1},Dt:Mf()},{dt:o,gt:a,V:d,St:l}=e,{U:f,k:u}=Ht(),p=!f&&(u.x||u.y),C=[U_(e),q_(e,s),Z_(e,s)];return[i,w=>{const E={},r=p&&ot(a),c=r&&l();return Te(C,(h=>{Ce(E,h(w,E)||{})})),Dt(a,r),c&&c(),d||Dt(o,0),E},s,e,n]},j_=(t,e,i,n,s)=>{let o=!1;const a=ad(e,{}),[d,l,f,u,p]=Y_(t),[C,w,E]=z_(u,f,a,(g=>{m({},g)})),[T,r,,c]=$_(t,e,E,f,u,s),h=g=>Tt(g).some((b=>!!g[b])),m=(g,b)=>{if(i())return!1;const{dn:v,It:y,Tt:S,pn:_}=g,x=v||{},N=!!y||!o,L={zt:ad(e,x,N),dn:x,It:N};if(_)return r(L),!1;const A=b||w(Ce({},L,{Tt:S})),D=l(Ce({},L,{un:E,Qt:A}));r(Ce({},L,{Qt:A,Zt:D}));const V=h(A),F=h(D),H=V||F||!Ta(x)||N;return o=!0,H&&n(g,{Qt:A,Zt:D}),H};return[()=>{const{ln:g,gt:b,St:v}=u,y=ot(g),S=[C(),d(),T()],_=v();return Dt(b,y),_(),fe(rt,S)},m,()=>({vn:E,gn:f}),{hn:u,bn:c},p]},Ia=new WeakMap,K_=(t,e)=>{Ia.set(t,e)},G_=t=>{Ia.delete(t)},qf=t=>Ia.get(t),ai=(t,e,i)=>{const{tt:n}=Ht(),s=Js(t),o=s?t:t.target,a=qf(o);if(e&&!a){let d=!1;const l=[],f={},u=x=>{const N=bf(x),L=vn(a_);return L?L(N,!0):N},p=Ce({},n(),u(e)),[C,w,E]=Ir(),[T,r,c]=Ir(i),h=(x,N)=>{c(x,N),E(x,N)},[m,g,b,v,y]=j_(t,p,(()=>d),(({dn:x,It:N},{Qt:L,Zt:A})=>{const{_t:D,Ct:V,$t:F,xt:H,Ht:R,ft:P}=L,{tn:I,nn:z,sn:O,en:B}=A;h("updated",[_,{updateHints:{sizeChanged:!!D,directionChanged:!!V,heightIntrinsicChanged:!!F,overflowEdgeChanged:!!I,overflowAmountChanged:!!z,overflowStyleChanged:!!O,scrollCoordinatesChanged:!!B,contentMutation:!!H,hostMutation:!!R,appear:!!P},changedOptions:x||{},force:!!N}])}),(x=>h("scroll",[_,x]))),S=x=>{G_(o),rt(l),d=!0,h("destroyed",[_,x]),w(),r()},_={options(x,N){if(x){const L=N?n():{},A=Ff(p,Ce(L,u(x)));Ta(A)||(Ce(p,A),g({dn:A}))}return Ce({},p)},on:T,off:(x,N)=>{x&&N&&r(x,N)},state(){const{vn:x,gn:N}=b(),{B:L}=x,{Vt:A,Rt:D,cn:V,j:F,rn:H,fn:R,Dt:P}=N;return Ce({},{overflowEdge:A,overflowAmount:D,overflowStyle:V,hasOverflow:F,scrollCoordinates:{start:P.D,end:P.M},padding:H,paddingAbsolute:R,directionRTL:L,destroyed:d})},elements(){const{dt:x,vt:N,rn:L,L:A,ht:D,gt:V,Kt:F}=v.hn,{jt:H,Jt:R}=v.bn,P=z=>{const{Mt:O,Ut:B,Lt:k}=z;return{scrollbar:k,track:B,handle:O}},I=z=>{const{Xt:O,Yt:B}=z,k=P(O[0]);return Ce({},k,{clone:()=>{const M=P(B());return g({pn:!0}),M}})};return Ce({},{target:x,host:N,padding:L||A,viewport:A,content:D||A,scrollOffsetElement:V,scrollEventElement:F,scrollbarHorizontal:I(H),scrollbarVertical:I(R)})},update:x=>g({It:x,Tt:!0}),destroy:fe(S,!1),plugin:x=>f[Tt(x)[0]]};return De(l,[y]),K_(o,_),Rf(Bf,ai,[_,C,f]),P_(v.hn.bt,!s&&t.cancel)?(S(!0),_):(De(l,m()),h("initialized",[_]),_.update(),_)}return a};ai.plugin=t=>{const e=xt(t),i=e?t:[t],n=i.map((s=>Rf(s,ai)[0]));return r_(i),e?n:n[0]};ai.valid=t=>{const e=t&&t.elements,i=At(e)&&e();return Qs(i)&&!!qf(i.target)};ai.env=()=>{const{P:t,k:e,U:i,J:n,ot:s,st:o,K:a,Z:d,tt:l,nt:f}=Ht();return Ce({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:i,scrollTimeline:n,staticDefaultInitialization:s,staticDefaultOptions:o,getDefaultInitialization:a,setDefaultInitialization:d,getDefaultOptions:l,setDefaultOptions:f})};ai.nonce=M_;ai.trustedTypePolicy=t_;function X_(){document.querySelectorAll("[data-overlayscrollbars-initialize]").forEach(e=>{ai(e,{overflow:{x:"hidden"},scrollbars:{theme:"os-theme-admin",autoHide:"leave",autoHideDelay:500}})})}const Fs=document.getElementById("adminSidebar"),ud=document.getElementById("adminSidebarToggler"),Q_=1200;let dd=null;function J_(){!Fs||!ud||(ud.addEventListener("click",nr),window.addEventListener("resize",nr),nr())}function nr(t=null){clearTimeout(dd),dd=setTimeout(()=>{Fs.classList.toggle("active",!t||t?.type==="resize"?window.innerWidth>=Q_:void 0),setTimeout(()=>{Fs.dispatchEvent(new CustomEvent("togglesidebar",{detail:{active:Fs.classList.contains("active")},bubbles:!0,cancelable:!0}))},250)},t?.type==="resize"?150:0)}let sr=!1;function e2(){document.addEventListener("submit",t=>{const e=t?.target,i=e?.isFormSending;if(!e||e?.tagName!=="FORM"||i){i&&t.preventDefault();return}const n=e.id,s=n?document.querySelector(`[data-submit-loader][form="${n}"]`):null;e.isFormSending=!0,e.classList.add("sending"),s?.classList?.add("sending"),setTimeout(()=>{const o=document.getElementById("waitRequestProcessedMessage");if(!o)return;new gn(o).show()},3e3)}),document.addEventListener("invalid",t=>{if(sr)return;const e=t?.target;e&&(sr=!0);const i=e.closest("[data-overlayscrollbars-viewport]"),n=e.closest(".tab-pane"),s=document.querySelector(`[data-bs-target="#${n?.id}"]`),o=e.closest(".accordion-collapse"),a=document.querySelector(`[data-bs-target="#${o?.id}"]`);s?.click(),a?.classList?.contains("collapsed")&&a?.click(),setTimeout(()=>{sr=!1},50),i&&setTimeout(()=>{i.scroll({top:i.scrollTop+e.offsetHeight+16,behavior:"smooth"})},200)},!0)}function t2(){document.querySelectorAll("[data-toast-alert]").forEach(e=>{e.addEventListener("hidden.bs.toast",()=>{e.remove()})})}function i2(){const t=document.querySelectorAll("[data-toast-alert]");let e=0;t.forEach(i=>{const n=new gn(i);setTimeout(()=>{n.show()},e),e+=100})}function Ra(t){return t[t.length-1]}function ts(t,...e){return e.forEach(i=>{t.includes(i)||t.push(i)}),t}function hd(t,e){return t?t.split(e):[]}function za(t,e,i){const n=e===void 0||t>=e,s=i===void 0||t<=i;return n&&s}function Zf(t,e,i){return t<e?e:t>i?i:t}function cn(t,e,i={},n=0,s=""){const o=Object.keys(i).reduce((d,l)=>{let f=i[l];return typeof f=="function"&&(f=f(n)),`${d} ${l}="${f}"`},t);s+=`<${o}></${t}>`;const a=n+1;return a<e?cn(t,e,i,a,s):s}function Ha(t){return t.replace(/>\s+/g,">").replace(/\s+</,"<")}function Pr(t){return new Date(t).setHours(0,0,0,0)}function Di(){return new Date().setHours(0,0,0,0)}function un(...t){switch(t.length){case 0:return Di();case 1:return Pr(t[0])}const e=new Date(0);return e.setFullYear(...t),e.setHours(0,0,0,0)}function Un(t,e){const i=new Date(t);return i.setDate(i.getDate()+e)}function n2(t,e){return Un(t,e*7)}function sl(t,e){const i=new Date(t),n=i.getMonth()+e;let s=n%12;s<0&&(s+=12);const o=i.setMonth(n);return i.getMonth()!==s?i.setDate(0):o}function qn(t,e){const i=new Date(t),n=i.getMonth(),s=i.setFullYear(i.getFullYear()+e);return n===1&&i.getMonth()===2?i.setDate(0):s}function fd(t,e){return(t-e+7)%7}function Si(t,e,i=0){const n=new Date(t).getDay();return Un(t,fd(e,i)-fd(n,i))}function Yf(t,e){return Math.round((t-e)/6048e5)+1}function s2(t){const e=Si(t,4,1),i=Si(new Date(e).setMonth(0,4),4,1);return Yf(e,i)}function jf(t,e){const i=Si(new Date(t).setMonth(0,1),e,e),n=Si(t,e,e),s=Yf(n,i);if(s<53)return s;const o=Si(new Date(t).setDate(32),e,e);return n===o?1:s}function l2(t){return jf(t,0)}function o2(t){return jf(t,6)}function Pi(t,e){const i=new Date(t).getFullYear();return Math.floor(i/e)*e}function si(t,e,i){if(e!==1&&e!==2)return t;const n=new Date(t);return e===1?i?n.setMonth(n.getMonth()+1,0):n.setDate(1):i?n.setFullYear(n.getFullYear()+1,0,0):n.setMonth(0,1),n.setHours(0,0,0,0)}const Fr=/dd?|DD?|mm?|MM?|yy?(?:yy)?/,r2=/[\s!-/:-@[-`{-~]+/;let lr={};const pd={y(t,e){return new Date(t).setFullYear(parseInt(e,10))},m(t,e,i){const n=new Date(t);let s=parseInt(e,10)-1;if(isNaN(s)){if(!e)return NaN;const o=e.toLowerCase(),a=d=>d.toLowerCase().startsWith(o);if(s=i.monthsShort.findIndex(a),s<0&&(s=i.months.findIndex(a)),s<0)return NaN}return n.setMonth(s),n.getMonth()!==Kf(s)?n.setDate(0):n.getTime()},d(t,e){return new Date(t).setDate(parseInt(e,10))}},a2={d(t){return t.getDate()},dd(t){return ys(t.getDate(),2)},D(t,e){return e.daysShort[t.getDay()]},DD(t,e){return e.days[t.getDay()]},m(t){return t.getMonth()+1},mm(t){return ys(t.getMonth()+1,2)},M(t,e){return e.monthsShort[t.getMonth()]},MM(t,e){return e.months[t.getMonth()]},y(t){return t.getFullYear()},yy(t){return ys(t.getFullYear(),2).slice(-2)},yyyy(t){return ys(t.getFullYear(),4)}};function Kf(t){return t>-1?t%12:Kf(t+12)}function ys(t,e){return t.toString().padStart(e,"0")}function Gf(t){if(typeof t!="string")throw new Error("Invalid date format.");if(t in lr)return lr[t];const e=t.split(Fr),i=t.match(new RegExp(Fr,"g"));if(e.length===0||!i)throw new Error("Invalid date format.");const n=i.map(o=>a2[o]),s=Object.keys(pd).reduce((o,a)=>(i.find(l=>l[0]!=="D"&&l[0].toLowerCase()===a)&&o.push(a),o),[]);return lr[t]={parser(o,a){const d=o.split(r2).reduce((l,f,u)=>{if(f.length>0&&i[u]){const p=i[u][0];p==="M"?l.m=f:p!=="D"&&(l[p]=f)}return l},{});return s.reduce((l,f)=>{const u=pd[f](l,d[f],a);return isNaN(u)?l:u},Di())},formatter(o,a){let d=n.reduce((l,f,u)=>l+=`${e[u]}${f(o,a)}`,"");return d+=Ra(e)}}}function Ai(t,e,i){if(t instanceof Date||typeof t=="number"){const n=Pr(t);return isNaN(n)?void 0:n}if(t){if(t==="today")return Di();if(e&&e.toValue){const n=e.toValue(t,e,i);return isNaN(n)?void 0:Pr(n)}return Gf(e).parser(t,i)}}function is(t,e,i){if(isNaN(t)||!t&&t!==0)return"";const n=typeof t=="number"?new Date(t):t;return e.toDisplay?e.toDisplay(n,e,i):Gf(e).formatter(n,i)}const c2=document.createRange();function jt(t){return c2.createContextualFragment(t)}function Xf(t){return t.parentElement||(t.parentNode instanceof ShadowRoot?t.parentNode.host:void 0)}function kl(t){return t.getRootNode().activeElement===t}function zn(t){t.style.display!=="none"&&(t.style.display&&(t.dataset.styleDisplay=t.style.display),t.style.display="none")}function Hn(t){t.style.display==="none"&&(t.dataset.styleDisplay?(t.style.display=t.dataset.styleDisplay,delete t.dataset.styleDisplay):t.style.display="")}function ll(t){t.firstChild&&(t.removeChild(t.firstChild),ll(t))}function u2(t,e){ll(t),e instanceof DocumentFragment?t.appendChild(e):typeof e=="string"?t.appendChild(jt(e)):typeof e.forEach=="function"&&e.forEach(i=>{t.appendChild(i)})}const ol=new WeakMap,{addEventListener:d2,removeEventListener:h2}=EventTarget.prototype;function rl(t,e){let i=ol.get(t);i||(i=[],ol.set(t,i)),e.forEach(n=>{d2.call(...n),i.push(n)})}function Qf(t){let e=ol.get(t);e&&(e.forEach(i=>{h2.call(...i)}),ol.delete(t))}if(!Event.prototype.composedPath){const t=(e,i=[])=>{i.push(e);let n;return e.parentNode?n=e.parentNode:e.host?n=e.host:e.defaultView&&(n=e.defaultView),n?t(n,i):i};Event.prototype.composedPath=function(){return t(this.target)}}function Jf(t,e,i){const[n,...s]=t;if(e(n))return n;if(!(n===i||n.tagName==="HTML"||s.length===0))return Jf(s,e,i)}function e0(t,e){const i=typeof e=="function"?e:n=>n instanceof Element&&n.matches(e);return Jf(t.composedPath(),i,t.currentTarget)}const En={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM y"}},Pa={autohide:!1,beforeShowDay:null,beforeShowDecade:null,beforeShowMonth:null,beforeShowYear:null,clearButton:!1,dateDelimiter:",",datesDisabled:[],daysOfWeekDisabled:[],daysOfWeekHighlighted:[],defaultViewDate:void 0,disableTouchKeyboard:!1,enableOnReadonly:!0,format:"mm/dd/yyyy",language:"en",maxDate:null,maxNumberOfDates:1,maxView:3,minDate:null,nextArrow:"",orientation:"auto",pickLevel:0,prevArrow:"",showDaysOfWeek:!0,showOnClick:!0,showOnFocus:!0,startView:0,title:"",todayButton:!1,todayButtonMode:0,todayHighlight:!1,updateOnBlur:!0,weekNumbers:0,weekStart:0},{language:or,format:f2,weekStart:p2}=Pa;function gd(t,e){return t.length<6&&e>=0&&e<7?ts(t,e):t}function t0(t,e){switch(t===4?e===6?3:!e+1:t){case 1:return s2;case 2:return l2;case 3:return o2}}function md(t,e,i){return e.weekStart=t,e.weekEnd=(t+6)%7,i===4&&(e.getWeekNumber=t0(4,t)),t}function vd(t,e,i,n){const s=Ai(t,e,i);return s!==void 0?s:n}function rr(t,e,i=3){const n=parseInt(t,10);return n>=0&&n<=i?n:e}function _s(t,e,i,n=void 0){e in t&&(i in t||(t[i]=n?n(t[e]):t[e]),delete t[e])}function ar(t,e){const i=Object.assign({},t),n={},s=e.constructor.locales,o=!!e.rangeSideIndex;let{datesDisabled:a,format:d,language:l,locale:f,maxDate:u,maxView:p,minDate:C,pickLevel:w,startView:E,weekNumbers:T,weekStart:r}=e.config||{};if(_s(i,"calendarWeeks","weekNumbers",v=>v?1:0),_s(i,"clearBtn","clearButton"),_s(i,"todayBtn","todayButton"),_s(i,"todayBtnMode","todayButtonMode"),i.language){let v;if(i.language!==l&&(s[i.language]?v=i.language:(v=i.language.split("-")[0],s[v]||(v=!1))),delete i.language,v){l=n.language=v;const y=f||s[or];f=Object.assign({format:f2,weekStart:p2},s[or]),l!==or&&Object.assign(f,s[l]),n.locale=f,d===y.format&&(d=n.format=f.format),r===y.weekStart&&(r=md(f.weekStart,n,T))}}if(i.format){const v=typeof i.format.toDisplay=="function",y=typeof i.format.toValue=="function",S=Fr.test(i.format);(v&&y||S)&&(d=n.format=i.format),delete i.format}let c=w;"pickLevel"in i&&(c=rr(i.pickLevel,w,2),delete i.pickLevel),c!==w&&(c>w&&("minDate"in i||(i.minDate=C),"maxDate"in i||(i.maxDate=u)),a&&!i.datesDisabled&&(i.datesDisabled=[]),w=n.pickLevel=c);let h=C,m=u;if("minDate"in i){const v=un(0,0,1);h=i.minDate===null?v:vd(i.minDate,d,f,h),h!==v&&(h=si(h,w,!1)),delete i.minDate}if("maxDate"in i&&(m=i.maxDate===null?void 0:vd(i.maxDate,d,f,m),m!==void 0&&(m=si(m,w,!0)),delete i.maxDate),m<h?(C=n.minDate=m,u=n.maxDate=h):(C!==h&&(C=n.minDate=h),u!==m&&(u=n.maxDate=m)),i.datesDisabled){const v=i.datesDisabled;if(typeof v=="function")n.datesDisabled=null,n.checkDisabled=(y,S)=>v(new Date(y),S,o);else{const y=n.datesDisabled=v.reduce((S,_)=>{const x=Ai(_,d,f);return x!==void 0?ts(S,si(x,w,o)):S},[]);n.checkDisabled=S=>y.includes(S)}delete i.datesDisabled}if("defaultViewDate"in i){const v=Ai(i.defaultViewDate,d,f);v!==void 0&&(n.defaultViewDate=v),delete i.defaultViewDate}if("weekStart"in i){const v=Number(i.weekStart)%7;isNaN(v)||(r=md(v,n,T)),delete i.weekStart}if(i.daysOfWeekDisabled&&(n.daysOfWeekDisabled=i.daysOfWeekDisabled.reduce(gd,[]),delete i.daysOfWeekDisabled),i.daysOfWeekHighlighted&&(n.daysOfWeekHighlighted=i.daysOfWeekHighlighted.reduce(gd,[]),delete i.daysOfWeekHighlighted),"weekNumbers"in i){let v=i.weekNumbers;if(v){const y=typeof v=="function"?(S,_)=>v(new Date(S),_):t0(v=parseInt(v,10),r);y&&(T=n.weekNumbers=v,n.getWeekNumber=y)}else T=n.weekNumbers=0,n.getWeekNumber=null;delete i.weekNumbers}if("maxNumberOfDates"in i){const v=parseInt(i.maxNumberOfDates,10);v>=0&&(n.maxNumberOfDates=v,n.multidate=v!==1),delete i.maxNumberOfDates}i.dateDelimiter&&(n.dateDelimiter=String(i.dateDelimiter),delete i.dateDelimiter);let g=p;"maxView"in i&&(g=rr(i.maxView,p),delete i.maxView),g=w>g?w:g,g!==p&&(p=n.maxView=g);let b=E;if("startView"in i&&(b=rr(i.startView,b),delete i.startView),b<w?b=w:b>p&&(b=p),b!==E&&(n.startView=b),i.prevArrow){const v=jt(i.prevArrow);v.childNodes.length>0&&(n.prevArrow=v.childNodes),delete i.prevArrow}if(i.nextArrow){const v=jt(i.nextArrow);v.childNodes.length>0&&(n.nextArrow=v.childNodes),delete i.nextArrow}if("disableTouchKeyboard"in i&&(n.disableTouchKeyboard="ontouchstart"in document&&!!i.disableTouchKeyboard,delete i.disableTouchKeyboard),i.orientation){const v=i.orientation.toLowerCase().split(/\s+/g);n.orientation={x:v.find(y=>y==="left"||y==="right")||"auto",y:v.find(y=>y==="top"||y==="bottom")||"auto"},delete i.orientation}if("todayButtonMode"in i){switch(i.todayButtonMode){case 0:case 1:n.todayButtonMode=i.todayButtonMode}delete i.todayButtonMode}return Object.entries(i).forEach(([v,y])=>{y!==void 0&&v in Pa&&(n[v]=y)}),n}const bd={show:{key:"ArrowDown"},hide:null,toggle:{key:"Escape"},prevButton:{key:"ArrowLeft",ctrlOrMetaKey:!0},nextButton:{key:"ArrowRight",ctrlOrMetaKey:!0},viewSwitch:{key:"ArrowUp",ctrlOrMetaKey:!0},clearButton:{key:"Backspace",ctrlOrMetaKey:!0},todayButton:{key:".",ctrlOrMetaKey:!0},exitEditMode:{key:"ArrowDown",ctrlOrMetaKey:!0}};function g2(t){return Object.keys(bd).reduce((e,i)=>{const n=t[i]===void 0?bd[i]:t[i],s=n&&n.key;if(!s||typeof s!="string")return e;const o={key:s,ctrlOrMetaKey:!!(n.ctrlOrMetaKey||n.ctrlKey||n.metaKey)};return s.length>1&&(o.altKey=!!n.altKey,o.shiftKey=!!n.shiftKey),e[i]=o,e},{})}const yd=t=>t.map(e=>`<button type="button" class="%buttonClass% ${e}" tabindex="-1"></button>`).join(""),m2=Ha(`<div class="datepicker">
  <div class="datepicker-picker">
    <div class="datepicker-header">
      <div class="datepicker-title"></div>
      <div class="datepicker-controls">
        ${yd(["prev-button prev-btn","view-switch","next-button next-btn"])}
      </div>
    </div>
    <div class="datepicker-main"></div>
    <div class="datepicker-footer">
      <div class="datepicker-controls">
        ${yd(["today-button today-btn","clear-button clear-btn"])}
      </div>
    </div>
  </div>
</div>`),v2=Ha(`<div class="days">
  <div class="days-of-week">${cn("span",7,{class:"dow"})}</div>
  <div class="datepicker-grid">${cn("span",42)}</div>
</div>`),b2=Ha(`<div class="week-numbers calendar-weeks">
  <div class="days-of-week"><span class="dow"></span></div>
  <div class="weeks">${cn("span",6,{class:"week"})}</div>
</div>`);class Fa{constructor(e,i){Object.assign(this,i,{picker:e,element:jt('<div class="datepicker-view"></div>').firstChild,selected:[],isRangeEnd:!!e.datepicker.rangeSideIndex}),this.init(this.picker.datepicker.config)}init(e){"pickLevel"in e&&(this.isMinView=this.id===e.pickLevel),this.setOptions(e),this.updateFocus(),this.updateSelection()}prepareForRender(e,i,n){this.disabled=[];const s=this.picker;s.setViewSwitchLabel(e),s.setPrevButtonDisabled(i),s.setNextButtonDisabled(n)}setDisabled(e,i){i.add("disabled"),ts(this.disabled,e)}performBeforeHook(e,i){let n=this.beforeShow(new Date(i));switch(typeof n){case"boolean":n={enabled:n};break;case"string":n={classes:n}}if(n){const s=e.classList;if(n.enabled===!1&&this.setDisabled(i,s),n.classes){const o=n.classes.split(/\s+/);s.add(...o),o.includes("disabled")&&this.setDisabled(i,s)}n.content&&u2(e,n.content)}}renderCell(e,i,n,s,{selected:o,range:a},d,l=[]){e.textContent=i,this.isMinView&&(e.dataset.date=s);const f=e.classList;if(e.className=`datepicker-cell ${this.cellClass}`,n<this.first?f.add("prev"):n>this.last&&f.add("next"),f.add(...l),(d||this.checkDisabled(s,this.id))&&this.setDisabled(s,f),a){const[u,p]=a;n>u&&n<p&&f.add("range"),n===u&&f.add("range-start"),n===p&&f.add("range-end")}o.includes(n)&&f.add("selected"),n===this.focused&&f.add("focused"),this.beforeShow&&this.performBeforeHook(e,s)}refreshCell(e,i,n,[s,o]){const a=e.classList;a.remove("range","range-start","range-end","selected","focused"),i>s&&i<o&&a.add("range"),i===s&&a.add("range-start"),i===o&&a.add("range-end"),n.includes(i)&&a.add("selected"),i===this.focused&&a.add("focused")}changeFocusedCell(e){this.grid.querySelectorAll(".focused").forEach(i=>{i.classList.remove("focused")}),this.grid.children[e].classList.add("focused")}}class y2 extends Fa{constructor(e){super(e,{id:0,name:"days",cellClass:"day"})}init(e,i=!0){if(i){const n=jt(v2).firstChild;this.dow=n.firstChild,this.grid=n.lastChild,this.element.appendChild(n)}super.init(e)}setOptions(e){let i;if("minDate"in e&&(this.minDate=e.minDate),"maxDate"in e&&(this.maxDate=e.maxDate),e.checkDisabled&&(this.checkDisabled=e.checkDisabled),e.daysOfWeekDisabled&&(this.daysOfWeekDisabled=e.daysOfWeekDisabled,i=!0),e.daysOfWeekHighlighted&&(this.daysOfWeekHighlighted=e.daysOfWeekHighlighted),"todayHighlight"in e&&(this.todayHighlight=e.todayHighlight),"weekStart"in e&&(this.weekStart=e.weekStart,this.weekEnd=e.weekEnd,i=!0),e.locale){const n=this.locale=e.locale;this.dayNames=n.daysMin,this.switchLabelFormat=n.titleFormat,i=!0}if("beforeShowDay"in e&&(this.beforeShow=typeof e.beforeShowDay=="function"?e.beforeShowDay:void 0),"weekNumbers"in e)if(e.weekNumbers&&!this.weekNumbers){const n=jt(b2).firstChild;this.weekNumbers={element:n,dow:n.firstChild,weeks:n.lastChild},this.element.insertBefore(n,this.element.firstChild)}else this.weekNumbers&&!e.weekNumbers&&(this.element.removeChild(this.weekNumbers.element),this.weekNumbers=null);"getWeekNumber"in e&&(this.getWeekNumber=e.getWeekNumber),"showDaysOfWeek"in e&&(e.showDaysOfWeek?(Hn(this.dow),this.weekNumbers&&Hn(this.weekNumbers.dow)):(zn(this.dow),this.weekNumbers&&zn(this.weekNumbers.dow))),i&&Array.from(this.dow.children).forEach((n,s)=>{const o=(this.weekStart+s)%7;n.textContent=this.dayNames[o],n.className=this.daysOfWeekDisabled.includes(o)?"dow disabled":"dow"})}updateFocus(){const e=new Date(this.picker.viewDate),i=e.getFullYear(),n=e.getMonth(),s=un(i,n,1),o=Si(s,this.weekStart,this.weekStart);this.first=s,this.last=un(i,n+1,0),this.start=o,this.focused=this.picker.viewDate}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e,i&&(this.range=i.dates)}render(){if(this.today=this.todayHighlight?Di():void 0,this.prepareForRender(is(this.focused,this.switchLabelFormat,this.locale),this.first<=this.minDate,this.last>=this.maxDate),this.weekNumbers){const e=this.weekStart,i=Si(this.first,e,e);Array.from(this.weekNumbers.weeks.children).forEach((n,s)=>{const o=n2(i,s);n.textContent=this.getWeekNumber(o,e),s>3&&n.classList[o>this.last?"add":"remove"]("next")})}Array.from(this.grid.children).forEach((e,i)=>{const n=Un(this.start,i),s=new Date(n),o=s.getDay(),a=[];this.today===n&&a.push("today"),this.daysOfWeekHighlighted.includes(o)&&a.push("highlighted"),this.renderCell(e,s.getDate(),n,n,this,n<this.minDate||n>this.maxDate||this.daysOfWeekDisabled.includes(o),a)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.dataset.date),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/864e5))}}function _d(t,e){if(!t||!t[0]||!t[1])return;const[[i,n],[s,o]]=t;if(!(i>e||s<e))return[i===e?n:-1,s===e?o:12]}class _2 extends Fa{constructor(e){super(e,{id:1,name:"months",cellClass:"month"})}init(e,i=!0){i&&(this.grid=this.element,this.element.classList.add("months","datepicker-grid"),this.grid.appendChild(jt(cn("span",12,{"data-month":n=>n}))),this.first=0,this.last=11),super.init(e)}setOptions(e){if(e.locale&&(this.monthNames=e.locale.monthsShort),"minDate"in e)if(e.minDate===void 0)this.minYear=this.minMonth=this.minDate=void 0;else{const i=new Date(e.minDate);this.minYear=i.getFullYear(),this.minMonth=i.getMonth(),this.minDate=i.setDate(1)}if("maxDate"in e)if(e.maxDate===void 0)this.maxYear=this.maxMonth=this.maxDate=void 0;else{const i=new Date(e.maxDate);this.maxYear=i.getFullYear(),this.maxMonth=i.getMonth(),this.maxDate=un(this.maxYear,this.maxMonth+1,0)}e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),"beforeShowMonth"in e&&(this.beforeShow=typeof e.beforeShowMonth=="function"?e.beforeShowMonth:void 0)}updateFocus(){const e=new Date(this.picker.viewDate);this.year=e.getFullYear(),this.focused=e.getMonth()}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>{const o=new Date(s),a=o.getFullYear(),d=o.getMonth();return n[a]===void 0?n[a]=[d]:ts(n[a],d),n},{}),i&&i.dates&&(this.range=i.dates.map(n=>{const s=new Date(n);return isNaN(s)?void 0:[s.getFullYear(),s.getMonth()]}))}render(){this.prepareForRender(this.year,this.year<=this.minYear,this.year>=this.maxYear);const e=this.selected[this.year]||[],i=this.year<this.minYear||this.year>this.maxYear,n=this.year===this.minYear,s=this.year===this.maxYear,o=_d(this.range,this.year);Array.from(this.grid.children).forEach((a,d)=>{const l=si(new Date(this.year,d,1),1,this.isRangeEnd);this.renderCell(a,this.monthNames[d],d,l,{selected:e,range:o},i||n&&d<this.minMonth||s&&d>this.maxMonth)})}refresh(){const e=this.selected[this.year]||[],i=_d(this.range,this.year)||[];Array.from(this.grid.children).forEach((n,s)=>{this.refreshCell(n,s,e,i)})}refreshFocus(){this.changeFocusedCell(this.focused)}}function w2(t){return[...t].reduce((e,i,n)=>e+=n?i:i.toUpperCase(),"")}class wd extends Fa{constructor(e,i){super(e,i)}init(e,i=!0){i&&(this.navStep=this.step*10,this.beforeShowOption=`beforeShow${w2(this.cellClass)}`,this.grid=this.element,this.element.classList.add(this.name,"datepicker-grid"),this.grid.appendChild(jt(cn("span",12)))),super.init(e)}setOptions(e){if("minDate"in e&&(e.minDate===void 0?this.minYear=this.minDate=void 0:(this.minYear=Pi(e.minDate,this.step),this.minDate=un(this.minYear,0,1))),"maxDate"in e&&(e.maxDate===void 0?this.maxYear=this.maxDate=void 0:(this.maxYear=Pi(e.maxDate,this.step),this.maxDate=un(this.maxYear,11,31))),e.checkDisabled&&(this.checkDisabled=this.isMinView||e.datesDisabled===null?e.checkDisabled:()=>!1),this.beforeShowOption in e){const i=e[this.beforeShowOption];this.beforeShow=typeof i=="function"?i:void 0}}updateFocus(){const e=new Date(this.picker.viewDate),i=Pi(e,this.navStep),n=i+9*this.step;this.first=i,this.last=n,this.start=i-this.step,this.focused=Pi(e,this.step)}updateSelection(){const{dates:e,rangepicker:i}=this.picker.datepicker;this.selected=e.reduce((n,s)=>ts(n,Pi(s,this.step)),[]),i&&i.dates&&(this.range=i.dates.map(n=>{if(n!==void 0)return Pi(n,this.step)}))}render(){this.prepareForRender(`${this.first}-${this.last}`,this.first<=this.minYear,this.last>=this.maxYear),Array.from(this.grid.children).forEach((e,i)=>{const n=this.start+i*this.step,s=si(new Date(n,0,1),2,this.isRangeEnd);e.dataset.year=n,this.renderCell(e,n,n,s,this,n<this.minYear||n>this.maxYear)})}refresh(){const e=this.range||[];Array.from(this.grid.children).forEach(i=>{this.refreshCell(i,Number(i.textContent),this.selected,e)})}refreshFocus(){this.changeFocusedCell(Math.round((this.focused-this.start)/this.step))}}function Ui(t,e){const i={bubbles:!0,cancelable:!0,detail:{date:t.getDate(),viewDate:new Date(t.picker.viewDate),viewId:t.picker.currentView.id,datepicker:t}};t.element.dispatchEvent(new CustomEvent(e,i))}function al(t,e){const{config:i,picker:n}=t,{currentView:s,viewDate:o}=n;let a;switch(s.id){case 0:a=sl(o,e);break;case 1:a=qn(o,e);break;default:a=qn(o,e*s.navStep)}a=Zf(a,i.minDate,i.maxDate),n.changeFocus(a).render()}function i0(t){const e=t.picker.currentView.id;e!==t.config.maxView&&t.picker.changeView(e+1).render()}function n0(t){t.setDate({clear:!0})}function s0(t){const e=Di();t.config.todayButtonMode===1?t.setDate(e,{forceRefresh:!0,viewDate:e}):t.setFocusedDate(e,!0)}function l0(t){const e=()=>{t.config.updateOnBlur?t.update({revert:!0}):t.refresh("input"),t.hide()},i=t.element;kl(i)?i.addEventListener("blur",e,{once:!0}):e()}function Cd(t,e){const i=t.picker,n=new Date(i.viewDate),s=i.currentView.id,o=s===1?sl(n,e-n.getMonth()):qn(n,e-n.getFullYear());i.changeFocus(o).changeView(s-1).render()}function C2(t){i0(t)}function E2(t){al(t,-1)}function S2(t){al(t,1)}function x2(t,e){const i=e0(e,".datepicker-cell");if(!i||i.classList.contains("disabled"))return;const{id:n,isMinView:s}=t.picker.currentView,o=i.dataset;s?t.setDate(Number(o.date)):n===1?Cd(t,Number(o.month)):Cd(t,Number(o.year))}function T2(t){t.preventDefault()}const cr=["left","top","right","bottom"].reduce((t,e)=>(t[e]=`datepicker-orient-${e}`,t),{}),Ed=t=>t&&`${t}px`;function Sd(t,e){if("title"in e&&(e.title?(t.controls.title.textContent=e.title,Hn(t.controls.title)):(t.controls.title.textContent="",zn(t.controls.title))),e.prevArrow){const i=t.controls.prevButton;ll(i),e.prevArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.nextArrow){const i=t.controls.nextButton;ll(i),e.nextArrow.forEach(n=>{i.appendChild(n.cloneNode(!0))})}if(e.locale&&(t.controls.todayButton.textContent=e.locale.today,t.controls.clearButton.textContent=e.locale.clear),"todayButton"in e&&(e.todayButton?Hn(t.controls.todayButton):zn(t.controls.todayButton)),"minDate"in e||"maxDate"in e){const{minDate:i,maxDate:n}=t.datepicker.config;t.controls.todayButton.disabled=!za(Di(),i,n)}"clearButton"in e&&(e.clearButton?Hn(t.controls.clearButton):zn(t.controls.clearButton))}function xd(t){const{dates:e,config:i,rangeSideIndex:n}=t,s=e.length>0?Ra(e):si(i.defaultViewDate,i.pickLevel,n);return Zf(s,i.minDate,i.maxDate)}function Td(t,e){!("_oldViewDate"in t)&&e!==t.viewDate&&(t._oldViewDate=t.viewDate),t.viewDate=e;const{id:i,year:n,first:s,last:o}=t.currentView,a=new Date(e).getFullYear();switch(i){case 0:return e<s||e>o;case 1:return a!==n;default:return a<s||a>o}}function ur(t){return window.getComputedStyle(t).direction}function o0(t){const e=Xf(t);if(!(e===document.body||!e))return window.getComputedStyle(e).overflow!=="visible"?e:o0(e)}class L2{constructor(e){const{config:i,inputField:n}=this.datepicker=e,s=m2.replace(/%buttonClass%/g,i.buttonClass),o=this.element=jt(s).firstChild,[a,d,l]=o.firstChild.children,f=a.firstElementChild,[u,p,C]=a.lastElementChild.children,[w,E]=l.firstChild.children,T={title:f,prevButton:u,viewSwitch:p,nextButton:C,todayButton:w,clearButton:E};this.main=d,this.controls=T;const r=n?"dropdown":"inline";o.classList.add(`datepicker-${r}`),Sd(this,i),this.viewDate=xd(e),rl(e,[[o,"mousedown",T2],[d,"click",x2.bind(null,e)],[T.viewSwitch,"click",C2.bind(null,e)],[T.prevButton,"click",E2.bind(null,e)],[T.nextButton,"click",S2.bind(null,e)],[T.todayButton,"click",s0.bind(null,e)],[T.clearButton,"click",n0.bind(null,e)]]),this.views=[new y2(this),new _2(this),new wd(this,{id:2,name:"years",cellClass:"year",step:1}),new wd(this,{id:3,name:"decades",cellClass:"decade",step:10})],this.currentView=this.views[i.startView],this.currentView.render(),this.main.appendChild(this.currentView.element),i.container?i.container.appendChild(this.element):n.after(this.element)}setOptions(e){Sd(this,e),this.views.forEach(i=>{i.init(e,!1)}),this.currentView.render()}detach(){this.element.remove()}show(){if(this.active)return;const{datepicker:e,element:i}=this,n=e.inputField;if(n){const s=ur(n);s!==ur(Xf(i))?i.dir=s:i.dir&&i.removeAttribute("dir"),this.place(),i.classList.add("active"),e.config.disableTouchKeyboard&&n.blur()}else i.classList.add("active");this.active=!0,Ui(e,"show")}hide(){this.active&&(this.datepicker.exitEditMode(),this.element.classList.remove("active"),this.active=!1,Ui(this.datepicker,"hide"))}place(){const{classList:e,style:i}=this.element;i.display="block";const{width:n,height:s}=this.element.getBoundingClientRect(),o=this.element.offsetParent;i.display="";const{config:a,inputField:d}=this.datepicker,{left:l,top:f,right:u,bottom:p,width:C,height:w}=d.getBoundingClientRect();let{x:E,y:T}=a.orientation,r=l,c=f;if(o===document.body||!o)r+=window.scrollX,c+=window.scrollY;else{const S=o.getBoundingClientRect();r-=S.left-o.scrollLeft,c-=S.top-o.scrollTop}const h=o0(d);let m=0,g=0,{clientWidth:b,clientHeight:v}=document.documentElement;if(h){const S=h.getBoundingClientRect();S.top>0&&(g=S.top),S.left>0&&(m=S.left),S.right<b&&(b=S.right),S.bottom<v&&(v=S.bottom)}let y=0;E==="auto"&&(l<m?(E="left",y=m-l):l+n>b?(E="right",b<u&&(y=b-u)):ur(d)==="rtl"?E=u-n<m?"left":"right":E="left"),E==="right"&&(r+=C-n),r+=y,T==="auto"&&(f-s>g?T=p+s>v?"top":"bottom":T="bottom"),T==="top"?c-=s:c+=w,e.remove(...Object.values(cr)),e.add(cr[E],cr[T]),i.left=Ed(r),i.top=Ed(c)}setViewSwitchLabel(e){this.controls.viewSwitch.textContent=e}setPrevButtonDisabled(e){this.controls.prevButton.disabled=e}setNextButtonDisabled(e){this.controls.nextButton.disabled=e}changeView(e){const i=this.currentView;return e!==i.id&&(this._oldView||(this._oldView=i),this.currentView=this.views[e],this._renderMethod="render"),this}changeFocus(e){return this._renderMethod=Td(this,e)?"render":"refreshFocus",this.views.forEach(i=>{i.updateFocus()}),this}update(e=void 0){const i=e===void 0?xd(this.datepicker):e;return this._renderMethod=Td(this,i)?"render":"refresh",this.views.forEach(n=>{n.updateFocus(),n.updateSelection()}),this}render(e=!0){const{currentView:i,datepicker:n,_oldView:s}=this,o=new Date(this._oldViewDate),a=e&&this._renderMethod||"render";if(delete this._oldView,delete this._oldViewDate,delete this._renderMethod,i[a](),s&&(this.main.replaceChild(i.element,s.element),Ui(n,"changeView")),!isNaN(o)){const d=new Date(this.viewDate);d.getFullYear()!==o.getFullYear()&&Ui(n,"changeYear"),d.getMonth()!==o.getMonth()&&Ui(n,"changeMonth")}}}function r0(t,e,i,n,s,o){if(za(t,s,o)){if(n(t)){const a=e(t,i);return r0(a,e,i,n,s,o)}return t}}function A2(t,e,i){const n=t.picker,s=n.currentView,o=s.step||1;let a=n.viewDate,d;switch(s.id){case 0:a=Un(a,i?e*7:e),d=Un;break;case 1:a=sl(a,i?e*4:e),d=sl;break;default:a=qn(a,e*(i?4:1)*o),d=qn}a=r0(a,d,e<0?-o:o,l=>s.disabled.includes(l),s.minDate,s.maxDate),a!==void 0&&n.changeFocus(a).render()}function k2(t,e){const{config:i,picker:n,editMode:s}=t,o=n.active,{key:a,altKey:d,shiftKey:l}=e,f=e.ctrlKey||e.metaKey,u=()=>{e.preventDefault(),e.stopPropagation()};if(a==="Tab"){l0(t);return}if(a==="Enter"){if(!o)t.update();else if(s)t.exitEditMode({update:!0,autohide:i.autohide});else{const T=n.currentView;T.isMinView?t.setDate(n.viewDate):(n.changeView(T.id-1).render(),u())}return}const p=i.shortcutKeys,C={key:a,ctrlOrMetaKey:f,altKey:d,shiftKey:l},w=Object.keys(p).find(T=>{const r=p[T];return!Object.keys(r).find(c=>r[c]!==C[c])});if(w){let T;if(w==="toggle"?T=w:s?w==="exitEditMode"&&(T=w):o?w==="hide"?T=w:w==="prevButton"?T=[al,[t,-1]]:w==="nextButton"?T=[al,[t,1]]:w==="viewSwitch"?T=[i0,[t]]:i.clearButton&&w==="clearButton"?T=[n0,[t]]:i.todayButton&&w==="todayButton"&&(T=[s0,[t]]):w==="show"&&(T=w),T){Array.isArray(T)?T[0].apply(null,T[1]):t[T](),u();return}}if(!o||s)return;const E=(T,r)=>{l||f||d?t.enterEditMode():(A2(t,T,r),e.preventDefault())};a==="ArrowLeft"?E(-1,!1):a==="ArrowRight"?E(1,!1):a==="ArrowUp"?E(-1,!0):a==="ArrowDown"?E(1,!0):(a==="Backspace"||a==="Delete"||a&&a.length===1&&!f)&&t.enterEditMode()}function N2(t){t.config.showOnFocus&&!t._showing&&t.show()}function D2(t,e){const i=e.target;(t.picker.active||t.config.showOnClick)&&(i._active=kl(i),i._clicking=setTimeout(()=>{delete i._active,delete i._clicking},2e3))}function O2(t,e){const i=e.target;i._clicking&&(clearTimeout(i._clicking),delete i._clicking,i._active&&t.enterEditMode(),delete i._active,t.config.showOnClick&&t.show())}function M2(t,e){e.clipboardData.types.includes("text/plain")&&t.enterEditMode()}function B2(t,e){const{element:i,picker:n}=t;if(!n.active&&!kl(i))return;const s=n.element;e0(e,o=>o===i||o===s)||l0(t)}function a0(t,e){return t.map(i=>is(i,e.format,e.locale)).join(e.dateDelimiter)}function c0(t,e,i=!1){if(e.length===0)return i?[]:void 0;const{config:n,dates:s,rangeSideIndex:o}=t,{pickLevel:a,maxNumberOfDates:d}=n;let l=e.reduce((f,u)=>{let p=Ai(u,n.format,n.locale);return p===void 0||(p=si(p,a,o),za(p,n.minDate,n.maxDate)&&!f.includes(p)&&!n.checkDisabled(p,a)&&(a>0||!n.daysOfWeekDisabled.includes(new Date(p).getDay()))&&f.push(p)),f},[]);if(l.length!==0)return n.multidate&&!i&&(l=l.reduce((f,u)=>(s.includes(u)||f.push(u),f),s.filter(f=>!l.includes(f)))),d&&l.length>d?l.slice(d*-1):l}function cl(t,e=3,i=!0,n=void 0){const{config:s,picker:o,inputField:a}=t;if(e&2){const d=o.active?s.pickLevel:s.startView;o.update(n).changeView(d).render(i)}e&1&&a&&(a.value=a0(t.dates,s))}function Ld(t,e,i){const n=t.config;let{clear:s,render:o,autohide:a,revert:d,forceRefresh:l,viewDate:f}=i;o===void 0&&(o=!0),o?a===void 0&&(a=n.autohide):a=l=!1,f=Ai(f,n.format,n.locale);const u=c0(t,e,s);!u&&!d||(u&&u.toString()!==t.dates.toString()?(t.dates=u,cl(t,o?3:1,!0,f),Ui(t,"changeDate")):cl(t,l?3:1,!0,f),a&&t.hide())}function Ad(t,e){return e?i=>is(i,e,t.config.locale):i=>new Date(i)}class Va{constructor(e,i={},n=void 0){e.datepicker=this,this.element=e,this.dates=[];const s=this.config=Object.assign({buttonClass:i.buttonClass&&String(i.buttonClass)||"button",container:null,defaultViewDate:Di(),maxDate:void 0,minDate:void 0},ar(Pa,this));let o;if(e.tagName==="INPUT"?(o=this.inputField=e,o.classList.add("datepicker-input"),i.container&&(s.container=i.container instanceof HTMLElement?i.container:document.querySelector(i.container))):s.container=e,n){const u=n.inputs.indexOf(o),p=n.datepickers;if(u<0||u>1||!Array.isArray(p))throw Error("Invalid rangepicker object.");p[u]=this,this.rangepicker=n,this.rangeSideIndex=u}this._options=i,Object.assign(s,ar(i,this)),s.shortcutKeys=g2(i.shortcutKeys||{});const a=hd(e.value||e.dataset.date,s.dateDelimiter);delete e.dataset.date;const d=c0(this,a);d&&d.length>0&&(this.dates=d),o&&(o.value=a0(this.dates,s));const l=this.picker=new L2(this),f=[e,"keydown",k2.bind(null,this)];o?rl(this,[f,[o,"focus",N2.bind(null,this)],[o,"mousedown",D2.bind(null,this)],[o,"click",O2.bind(null,this)],[o,"paste",M2.bind(null,this)],[document,"mousedown",B2.bind(null,this)],[window,"resize",l.place.bind(l)]]):(rl(this,[f]),this.show())}static formatDate(e,i,n){return is(e,i,n&&En[n]||En.en)}static parseDate(e,i,n){return Ai(e,i,n&&En[n]||En.en)}static get locales(){return En}get active(){return!!(this.picker&&this.picker.active)}get pickerElement(){return this.picker?this.picker.element:void 0}setOptions(e){const i=ar(e,this);Object.assign(this._options,e),Object.assign(this.config,i),this.picker.setOptions(i),cl(this,3)}show(){if(this.inputField){const{config:e,inputField:i}=this;if(i.disabled||i.readOnly&&!e.enableOnReadonly)return;!kl(i)&&!e.disableTouchKeyboard&&(this._showing=!0,i.focus(),delete this._showing)}this.picker.show()}hide(){this.inputField&&(this.picker.hide(),this.picker.update().changeView(this.config.startView).render())}toggle(){this.picker.active?this.inputField&&this.picker.hide():this.show()}destroy(){this.hide(),Qf(this),this.picker.detach();const e=this.element;return e.classList.remove("datepicker-input"),delete e.datepicker,this}getDate(e=void 0){const i=Ad(this,e);if(this.config.multidate)return this.dates.map(i);if(this.dates.length>0)return i(this.dates[0])}setDate(...e){const i=[...e],n={},s=Ra(e);s&&typeof s=="object"&&!Array.isArray(s)&&!(s instanceof Date)&&Object.assign(n,i.pop());const o=Array.isArray(i[0])?i[0]:i;Ld(this,o,n)}update(e=void 0){if(!this.inputField)return;const i=Object.assign(e||{},{clear:!0,render:!0,viewDate:void 0}),n=hd(this.inputField.value,this.config.dateDelimiter);Ld(this,n,i)}getFocusedDate(e=void 0){return Ad(this,e)(this.picker.viewDate)}setFocusedDate(e,i=!1){const{config:n,picker:s,active:o,rangeSideIndex:a}=this,d=n.pickLevel,l=Ai(e,n.format,n.locale);l!==void 0&&(s.changeFocus(si(l,d,a)),o&&i&&s.changeView(d),s.render())}refresh(e=void 0,i=!1){e&&typeof e!="string"&&(i=e,e=void 0);let n;e==="picker"?n=2:e==="input"?n=1:n=3,cl(this,n,!i)}enterEditMode(){const e=this.inputField;!e||e.readOnly||!this.picker.active||this.editMode||(this.editMode=!0,e.classList.add("in-edit"))}exitEditMode(e=void 0){if(!this.inputField||!this.editMode)return;const i=Object.assign({update:!1},e);delete this.editMode,this.inputField.classList.remove("in-edit"),i.update&&this.update(i)}}function kd(t){const e=Object.assign({},t);return delete e.inputs,delete e.allowOneSidedRange,delete e.maxNumberOfDates,e}function I2(t,e,i,n){rl(t,[[i,"changeDate",e]]),new Va(i,n,t)}function Sn(t,e){if(t._updating)return;t._updating=!0;const i=e.target;if(i.datepicker===void 0)return;const n=t.datepickers,[s,o]=n,a={render:!1},d=t.inputs.indexOf(i),l=d===0?1:0,f=n[d].dates[0],u=n[l].dates[0];f!==void 0&&u!==void 0?d===0&&f>u?(s.setDate(u,a),o.setDate(f,a)):d===1&&f<u&&(s.setDate(f,a),o.setDate(u,a)):t.allowOneSidedRange||(f!==void 0||u!==void 0)&&(a.clear=!0,n[l].setDate(n[d].dates,a)),n.forEach(p=>{p.picker.update().render()}),delete t._updating}class R2{constructor(e,i={}){let n=Array.isArray(i.inputs)?i.inputs:Array.from(e.querySelectorAll("input"));if(n.length<2)return;e.rangepicker=this,this.element=e,this.inputs=n=n.slice(0,2),Object.freeze(n),this.allowOneSidedRange=!!i.allowOneSidedRange;const s=Sn.bind(null,this),o=kd(i),a=this.datepickers=[];n.forEach(d=>{I2(this,s,d,o)}),Object.freeze(a),Object.defineProperty(this,"dates",{get(){return a.map(d=>d.dates[0])}}),a[0].dates.length>0?Sn(this,{target:n[0]}):a[1].dates.length>0&&Sn(this,{target:n[1]})}setOptions(e){this.allowOneSidedRange=!!e.allowOneSidedRange;const i=kd(e);this.datepickers.forEach(n=>{n.setOptions(i)})}destroy(){this.datepickers.forEach(e=>{e.destroy()}),Qf(this),delete this.element.rangepicker}getDates(e=void 0){const i=e?n=>is(n,e,this.datepickers[0].config.locale):n=>new Date(n);return this.dates.map(n=>n===void 0?n:i(n))}setDates(e,i){const{datepickers:[n,s],inputs:[o,a],dates:[d,l]}=this;this._updating=!0,n.setDate(e),s.setDate(i),delete this._updating,s.dates[0]!==l?Sn(this,{target:a}):n.dates[0]!==d&&Sn(this,{target:o})}}const z2={uk:{days:["","","","","","'",""],daysShort:["","","","","","",""],daysMin:["","","","","","",""],months:["","","","","","","","","","","",""],monthsShort:["","","","","","","","","","","",""],today:"",clear:"",format:"dd.mm.yyyy",weekStart:1}},H2={de:{days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],daysShort:["So","Mo","Di","Mi","Do","Fr","Sa"],daysMin:["So","Mo","Di","Mi","Do","Fr","Sa"],months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthsShort:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],today:"Heute",monthsTitle:"Monate",clear:"Lschen",weekStart:1,format:"dd.mm.yyyy"}};Object.assign(Va.locales,z2,H2);function P2(){document.querySelectorAll("[data-datepicker]").forEach(e=>{F2(e)})}function F2(t){const e=t.dataset.type,i=t.dataset.format||"dd.mm.yyyy",n=t.dataset.minDate?t.dataset.minDate==="now"?new Date:t.dataset.minDate:null,s=t.dataset.maxDate?t.dataset.maxDate==="now"?new Date:t.dataset.maxDate:null,o=document.documentElement.lang,a={buttonClass:"btn",format:i,minDate:n,maxDate:s,clearButton:!0,todayButton:!0,allowOneSidedRange:!0,autohide:!0,prevArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"/></svg>',nextArrow:'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="d-block m-auto me-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"/></svg>',language:o};e!=="range"?new Va(t,a):new R2(t,a),t.addEventListener("changeDate",d=>{d?.target?.dispatchEvent(new Event("input",{bubbles:!0}))})}function V2(){document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector('input[type="hidden"][name="active_tab_param"]'),e=document.querySelector("[data-active-tab-param]");if(!t&&!e)return;const i=document.querySelectorAll('[data-bs-toggle="pill"]');if(!i.length)return;const n=window.location.hash;i.forEach(o=>{const a=o.getAttribute("data-bs-target");n===a&&(new Li(o).show(),s(a)),o.addEventListener("shown.bs.tab",function(d){s(a)})});function s(o){const a=o.replace("#","");t&&(t.value=a),$2(e,"active_tab_param",a)}})}function $2(t,e,i){if(!t)return;let n=new URL(t.href);n.searchParams.set(e,i),t.href=n.toString()}function W2(){const t=document.getElementById("preloader");t&&setTimeout(()=>{t.classList.remove("active"),setTimeout(()=>{t.remove(),i2()},300)},500)}Vr();Jp();Hy();$y();qy();X_();J_();e2();Zr();t2();P2();Wr();V2();W2();console.log("all js inited");
